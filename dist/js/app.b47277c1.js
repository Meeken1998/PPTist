(function(e){function t(t){for(var o,a,r=t[0],i=t[1],s=t[2],u=0,b=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&b.push(n[a][0]),n[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);d&&d(t);while(b.length)b.shift()();return c.push.apply(c,s||[]),l()}function l(){for(var e,t=0;t<c.length;t++){for(var l=c[t],o=!0,r=1;r<l.length;r++){var i=l[r];0!==n[i]&&(o=!1)}o&&(c.splice(t--,1),e=a(a.s=l[0]))}return e}var o={},n={app:0},c=[];function a(t){if(o[t])return o[t].exports;var l=o[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,a),l.l=!0,l.exports}a.m=e,a.c=o,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(l,o,function(t){return e[t]}.bind(null,o));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var s=0;s<r.length;s++)t(r[s]);var d=i;c.push([1,"chunk-vendors"]),l()})({0:function(e,t){},"0239":function(e,t,l){"use strict";l("9aa5")},"02bd":function(e,t,l){"use strict";l("ece8")},"02ca":function(e,t,l){"use strict";l("ac85")},"0491":function(e,t,l){"use strict";l("a6a7")},"04ce":function(e,t,l){},"0516":function(e,t,l){"use strict";l("1c80")},"058c":function(e,t,l){},"0634":function(e,t,l){},"07f0":function(e,t,l){"use strict";l("c35a")},"0882":function(e,t,l){},"0958":function(e,t,l){},"0be5":function(e,t,l){"use strict";l("def1")},"0dd9":function(e,t,l){},"0ed9":function(e,t,l){},"0f64":function(e,t,l){"use strict";l("427c")},"0f92":function(e,t,l){"use strict";l("96cc")},1:function(e,t,l){e.exports=l("cd49")},1126:function(e,t,l){"use strict";l("15d1")},"11d8":function(e,t,l){},1222:function(e,t,l){"use strict";l("1c4d")},"13f5":function(e,t,l){},"15c1":function(e,t,l){},"15d1":function(e,t,l){},"15da":function(e,t,l){},"16b1":function(e,t,l){"use strict";l("813c")},"179a":function(e,t,l){"use strict";l("abbd")},"17a5":function(e,t,l){},"180d":function(e,t,l){"use strict";l("a878")},"184e":function(e,t,l){},1855:function(e,t,l){"use strict";l("5ecc")},1873:function(e,t,l){},"18b5":function(e,t,l){},1930:function(e,t,l){},1933:function(e,t,l){"use strict";l("a180")},"197c":function(e,t,l){"use strict";l("3997")},"1c4d":function(e,t,l){},"1c65":function(e,t,l){"use strict";l("0958")},"1c80":function(e,t,l){},"1d3b":function(e,t,l){},"1dda":function(e,t,l){},"1ebd":function(e,t,l){"use strict";l("6f18")},"1edf":function(e,t,l){},"1f9a":function(e,t,l){},2:function(e,t){},"22b2":function(e,t,l){},2460:function(e,t,l){"use strict";l("48ab")},"24bc":function(e,t,l){"use strict";l("5967")},2803:function(e,t,l){"use strict";l("bbd3")},2807:function(e,t,l){},"28eb":function(e,t,l){"use strict";l("3117")},2971:function(e,t,l){},"2c20":function(e,t,l){},"2d86":function(e,t,l){"use strict";l("f705")},"2fbc":function(e,t,l){},"2fd9":function(e,t,l){},3010:function(e,t,l){"use strict";l("a1e2")},3062:function(e,t,l){},"307a":function(e,t,l){"use strict";l("edef")},3117:function(e,t,l){},3233:function(e,t,l){},3328:function(e,t,l){"use strict";l("a937")},"335c":function(e,t,l){"use strict";l("96ca")},"34f1":function(e,t,l){"use strict";l("359d")},3550:function(e,t,l){},3564:function(e,t,l){"use strict";l("cf72")},"359d":function(e,t,l){},3696:function(e,t,l){"use strict";l("689e")},3836:function(e,t,l){"use strict";l("d301")},"38ad":function(e,t,l){},3929:function(e,t,l){"use strict";l("7a1b")},3982:function(e,t,l){},3997:function(e,t,l){},"39b2":function(e,t,l){},"3b59":function(e,t,l){},"3c2d":function(e,t,l){"use strict";l("5ed9")},"3f3b":function(e,t,l){"use strict";l("04ce")},4156:function(e,t,l){},"427c":function(e,t,l){},"42d0":function(e,t,l){},"45c1":function(e,t,l){"use strict";l("a6bd")},4604:function(e,t,l){},4675:function(e,t,l){"use strict";l("ab98")},"46fe":function(e,t,l){"use strict";l("8cae")},4731:function(e,t,l){"use strict";l("2807")},"475c":function(e,t,l){"use strict";l("3b59")},4764:function(e,t,l){"use strict";l("87ad")},"48ab":function(e,t,l){},"4a2e":function(e,t,l){"use strict";l("685d")},"4a5d":function(e,t,l){},"4b9a":function(e,t,l){"use strict";l("dbc2")},"4c0e":function(e,t,l){"use strict";l("d7e4")},"4e8e":function(e,t,l){},"4f60":function(e,t,l){"use strict";l("c058")},"4f8b":function(e,t,l){"use strict";l("f087")},5634:function(e,t,l){"use strict";l("2fd9")},5688:function(e,t,l){"use strict";l("8c6f")},"56d8":function(e,t,l){"use strict";l("dc4c")},5711:function(e,t,l){},"573c":function(e,t,l){"use strict";l("970e")},"58de":function(e,t,l){"use strict";l("66cd")},"58eb":function(e,t,l){"use strict";l("786b")},5952:function(e,t,l){},5967:function(e,t,l){},5970:function(e,t,l){"use strict";l("4a5d")},5977:function(e,t,l){"use strict";l("1dda")},"59bb":function(e,t,l){"use strict";l("0882")},"5a58":function(e,t,l){"use strict";l("f9b2")},"5c72":function(e,t,l){},"5c8d":function(e,t,l){},"5d4b":function(e,t,l){"use strict";l("da34")},"5ea3":function(e,t,l){},"5ecc":function(e,t,l){},"5ed9":function(e,t,l){},"5fa4":function(e,t,l){"use strict";l("ebfd")},"601c":function(e,t,l){"use strict";l("63b2")},6095:function(e,t,l){},"614e":function(e,t,l){"use strict";l("18b5")},"61b2":function(e,t,l){},"63b2":function(e,t,l){},6416:function(e,t,l){},"66cd":function(e,t,l){},"679c":function(e,t,l){"use strict";l("7ea7")},"67e4":function(e,t,l){},"685d":function(e,t,l){},"689e":function(e,t,l){},"6d4b":function(e,t,l){},"6e11":function(e,t,l){"use strict";l("0634")},"6f18":function(e,t,l){},7239:function(e,t,l){"use strict";l("a252")},"747b":function(e,t,l){},"75e6":function(e,t,l){"use strict";l("e03e")},"76c1":function(e,t,l){"use strict";l("f766")},"76db":function(e,t,l){"use strict";l("1930")},7851:function(e,t,l){"use strict";l("2c20")},"786b":function(e,t,l){},"795e":function(e,t,l){"use strict";l("15c1")},"7a1b":function(e,t,l){},"7a60":function(e,t,l){"use strict";l("ec94")},"7a78":function(e,t,l){"use strict";l("6d4b")},"7b11":function(e,t,l){},"7b36":function(e,t,l){},"7d24":function(e,t,l){},"7dd2":function(e,t,l){},"7e20":function(e,t,l){"use strict";l("11d8")},"7ea7":function(e,t,l){},"80dc":function(e,t,l){"use strict";l("747b")},"813c":function(e,t,l){},8216:function(e,t,l){"use strict";l("a8f5")},8628:function(e,t,l){"use strict";l("13f5")},8683:function(e,t,l){"use strict";l("3550")},"86d5":function(e,t,l){},"87ad":function(e,t,l){},8903:function(e,t,l){},"89f7":function(e,t,l){},"8b85":function(e,t,l){},"8c56":function(e,t,l){},"8c6f":function(e,t,l){},"8cae":function(e,t,l){},"920e":function(e,t,l){},"921b":function(e,t,l){"use strict";l("97c5")},9300:function(e,t,l){"use strict";l("7b36")},9359:function(e,t,l){"use strict";l("5c72")},"93e0":function(e,t,l){},9557:function(e,t,l){"use strict";l("caab")},9670:function(e,t,l){"use strict";l("39b2")},"96ca":function(e,t,l){},"96cc":function(e,t,l){},"970e":function(e,t,l){},"97c5":function(e,t,l){},9854:function(e,t,l){"use strict";l("67e4")},"990c":function(e,t,l){"use strict";l("93e0")},"99aa":function(e,t,l){},"9aa5":function(e,t,l){},"9b4d":function(e,t,l){"use strict";l("61b2")},"9c2e":function(e,t,l){},"9ff2":function(e,t,l){"use strict";l("1d3b")},a060:function(e,t,l){"use strict";l("cbe2")},a180:function(e,t,l){},a1e2:function(e,t,l){},a252:function(e,t,l){},a3205:function(e,t,l){"use strict";l("22b2")},a330:function(e,t,l){"use strict";l("f8c2")},a405:function(e,t,l){},a511:function(e,t,l){"use strict";l("f20a")},a669:function(e,t,l){"use strict";l("1edf")},a6a7:function(e,t,l){},a6bd:function(e,t,l){},a81a:function(e,t,l){"use strict";l("3982")},a878:function(e,t,l){},a8d7:function(e,t,l){"use strict";l("7dd2")},a8f5:function(e,t,l){},a937:function(e,t,l){},a9b0:function(e,t,l){"use strict";l("6416")},ab98:function(e,t,l){},abbd:function(e,t,l){},ac85:function(e,t,l){},ae3f:function(e,t,l){},ae9f:function(e,t,l){"use strict";l("42d0")},b096:function(e,t,l){"use strict";l("0ed9")},b2b2:function(e,t,l){},b2f3:function(e,t,l){},b510:function(e,t,l){"use strict";l("e7e7")},b5cd:function(e,t,l){},b897:function(e,t,l){"use strict";l("9c2e")},b9d2:function(e,t,l){},bbd3:function(e,t,l){},bc8c:function(e,t,l){"use strict";l("3233")},bc9a:function(e,t,l){},bcf0:function(e,t,l){"use strict";l("2fbc")},bde5:function(e,t,l){"use strict";l("cffb")},be01:function(e,t,l){"use strict";l("38ad")},bf43:function(e,t,l){"use strict";l("dfc5")},c041:function(e,t,l){"use strict";l("f2c3")},c058:function(e,t,l){},c24c:function(e,t,l){"use strict";l("4e8e")},c35a:function(e,t,l){},c3f5:function(e,t,l){"use strict";l("1f9a")},c521:function(e,t,l){},c5f0:function(e,t,l){},c743:function(e,t,l){"use strict";l("7d24")},c860:function(e,t,l){},ca17:function(e,t,l){"use strict";l("86d5")},ca17e:function(e,t,l){"use strict";l("99aa")},ca3c:function(e,t,l){"use strict";l("fd6d")},caab:function(e,t,l){},caec:function(e,t,l){},cafd:function(e,t,l){},cb45:function(e,t,l){"use strict";l("7b11")},cbe2:function(e,t,l){},cc39:function(e,t,l){"use strict";l("bc9a")},cc76:function(e,t,l){"use strict";l("8903")},ccec:function(e,t,l){},cd49:function(e,t,l){"use strict";l.r(t);l("65ec");var o=l("4c4c"),n=(l("24e8"),l("3ff6")),c=(l("5d0a"),l("df72")),a=(l("5b31"),l("ab23")),r=(l("9db7"),l("2cdd")),i=(l("18ff"),l("ce76")),s=(l("b37c"),l("0a3c")),d=(l("743d"),l("e2fa")),u=(l("0f37"),l("e50e")),b=(l("fee4"),l("d37d")),m=(l("eaa2"),l("93d3")),p=(l("17c0"),l("7769")),O=(l("3b65"),l("71f1")),f=(l("f698"),l("4607")),j=(l("9d71"),l("2ced")),v=(l("e09d"),l("4e8c")),h=(l("53a6"),l("3218")),y=(l("b81f"),l("38c3")),g=(l("b022"),l("1339")),x=(l("b0e5"),l("b96d")),k=(l("d1f3"),l("e9b5")),C=l("7a8b"),N=l("28d5");function E(e,t){const l=Object(C["resolveComponent"])("router-view"),o=Object(C["resolveComponent"])("ConfigProvider");return Object(C["openBlock"])(),Object(C["createBlock"])(o,{autoInsertSpaceInButton:!1},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l)]),_:1})}l("0f92");var w=l("b3f2"),V=l.n(w);const I={},B=V()(I,[["render",E]]);var S=B,L=l("08e7");Object(L["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});l("107f"),l("4647"),l("a1c5"),l("5952"),l("c860"),l("ae3f"),l("8c56");var _=l("fd5f"),T=l("3375"),M=l("2875"),D=l("3aa5"),z=l("703d"),F=l("6ce1"),A=l("085f"),$=l("8e24"),R=l("b391"),P=l("dd79"),H=l("aa85"),q=l("d832"),U=l("9eea"),G=l("58f0"),X=l("2871"),Y=l("80c1"),Z=l("70a2"),W=l("a3f5"),J=l("bfe8"),K=l("14de"),Q=l("3d3b"),ee=l("8d67"),te=l("6a29"),le=l("ae01"),oe=l("7f1a"),ne=l("17c2"),ce=l("12fd"),ae=l("588a"),re=l("1529e"),ie=l("04d3a"),se=l("a3fb"),de=l("cc86"),ue=l("d9bf"),be=l("393a"),me=l("61a8"),pe=l("0751"),Oe=l("debc"),fe=l("0d3e"),je=l("e976"),ve=l("973b"),he=l("dc4a"),ye=l("0e5c"),ge=l("5ea2"),xe=l("7b9a"),ke=l("b7cb"),Ce=l("a750"),Ne=l("f6e5"),Ee=l("20e6"),we=l("a81f"),Ve=l("5473"),Ie=l("0e1f"),Be=l("a79f"),Se=l("b694"),Le=l("3ba8"),_e=l("0df6"),Te=l("0771"),Me=l("1e43"),De=l("2ab9"),ze=l("a5ad"),Fe=l("8055"),Ae=l("5740"),$e=l("6ea0"),Re=l("a9ca"),Pe=l("c60d"),He=l("dbe1"),qe=l("43c3"),Ue=l("3fd7"),Ge=l("365f"),Xe=l("4ee1"),Ye=l("81ac"),Ze=l("41aa"),We=l("f142"),Je=l("aaf6"),Ke=l("8212"),Qe=l("e4f0"),et=l("29b2"),tt=l("4379"),lt=l("258a"),ot=l("7f35"),nt=l("c6ca"),ct=l("9817"),at=l("1c8f"),rt=l("91cc"),it=l("6d19"),st=l("f3d2"),dt=l("301b"),ut=l("3fcc"),bt=l("8278"),mt=l("2378"),pt=l("69d6"),Ot=l("17f1f"),ft=l("d628"),jt=l("d439"),vt=l("d399"),ht=l("a305"),yt=l("a7a6"),gt=l("2711"),xt=l("6b94"),kt=l("7eca"),Ct=l("401e"),Nt=l("61bf"),Et=l("75e8"),wt=l("134a"),Vt=l("712d"),It=l("d05e");const Bt={IconPlayOne:It["a"],IconFullScreenPlay:Vt["a"],IconLock:wt["a"],IconUnlock:Et["a"],IconPpt:Nt["a"],IconFormat:Ct["a"],IconPicture:kt["a"],IconFullScreen:xt["a"],IconList:gt["a"],IconOrderedList:yt["a"],IconHelpcenter:ht["a"],IconFlipVertically:vt["a"],IconFlipHorizontally:jt["a"],IconFontSize:ft["a"],IconCode:Ot["a"],IconTextBold:pt["a"],IconTextItalic:mt["a"],IconTextUnderline:bt["a"],IconStrikethrough:ut["a"],IconEdit:dt["a"],IconQuote:st["a"],IconBackgroundColor:it["a"],IconGroup:rt["a"],IconUngroup:at["a"],IconBack:ct["a"],IconNext:nt["a"],IconFullwidth:ot["a"],IconAlignTop:lt["a"],IconAlignLeft:tt["a"],IconAlignRight:et["a"],IconAlignBottom:Qe["a"],IconAlignVertically:Ke["a"],IconAlignHorizontally:Je["a"],IconBringToFront:We["a"],IconSendToBack:Ze["a"],IconAlignTextLeft:Ye["a"],IconAlignTextRight:Xe["a"],IconAlignTextCenter:Ge["a"],IconRowHeight:Ue["a"],IconWrite:qe["a"],IconInsertTable:He["a"],IconAddText:Pe["a"],IconFill:Re["a"],IconTailoring:$e["a"],IconEffects:Ae["a"],IconColorFilter:Fe["a"],IconDown:ze["a"],IconPlus:De["a"],IconMinus:Me["a"],IconConnection:Te["a"],IconBringToFrontOne:_e["a"],IconSentToBack:Le["a"],IconGithub:Se["a"],IconChartProportion:Be["a"],IconChartHistogram:Ie["a"],IconChartHistogramOne:Ve["a"],IconChartLineArea:we["a"],IconChartRing:Ee["a"],IconChartScatter:Ne["a"],IconChartLine:Ce["a"],IconChartPie:ke["a"],IconText:xe["a"],IconRotate:ge["a"],IconLeftTwo:ye["a"],IconRightTwo:he["a"],IconPlatte:ve["a"],IconUpOne:je["a"],IconDownOne:fe["a"],IconClose:Oe["a"],IconCloseSmall:pe["a"],IconUndo:me["a"],IconTransform:be["a"],IconClick:ue["a"],IconTheme:de["a"],IconArrowCircleLeft:se["a"],IconGraphicDesign:ie["a"],IconLogout:re["a"],IconErase:ae["a"],IconClear:ce["a"],IconFolderClose:ne["a"],IconAlignTextTopOne:oe["a"],IconAlignTextBottomOne:le["a"],IconAlignTextMiddleOne:te["a"],IconPause:ee["a"],IconVolumeMute:Q["a"],IconVolumeNotice:K["a"],IconVolumeSmall:J["a"],IconVideoTwo:W["a"],IconFormula:Z["a"],IconLinkOne:Y["a"],IconFullScreenOne:X["a"],IconOffScreenOne:G["a"],IconPower:U["a"],IconListView:q["a"],IconMagic:H["a"],IconHighLight:P["a"],IconShare:R["a"],IconIndentLeft:$["a"],IconIndentRight:A["a"],IconVerticalSpacingBetweenItems:F["a"],IconCopy:z["a"],IconDelete:D["a"],IconSquare:M["a"],IconRound:T["a"],IconNeedle:_["a"]};var St={install(e){for(const t of Object.keys(Bt))e.component(t,Bt[t])}};const Lt=["accept"];var _t=Object(C["defineComponent"])({__name:"FileInput",props:{accept:{type:String,default:"image/*"}},emits:["change"],setup(e,{emit:t}){const l=Object(C["ref"])(),o=()=>{l.value&&(l.value.value="",l.value.click())},n=e=>{const l=e.target.files;l&&t("change",l)};return(t,c)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"file-input",onClick:c[1]||(c[1]=e=>o())},[Object(C["renderSlot"])(t.$slots,"default"),Object(C["createElementVNode"])("input",{class:"input",type:"file",name:"upload",ref_key:"inputRef",ref:l,accept:e.accept,onChange:c[0]||(c[0]=e=>n(e))},null,40,Lt)]))}});l("e25c");const Tt=V()(_t,[["__scopeId","data-v-4727b7ff"]]);var Mt=Tt,Dt=Object(C["defineComponent"])({__name:"CheckboxButton",props:{checked:{type:Boolean,default:!1}},setup(e){return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("button",{class:Object(C["normalizeClass"])(["checkbox-button",{checked:e.checked}])},[Object(C["renderSlot"])(t.$slots,"default")],2))}});l("573c");const zt=V()(Dt,[["__scopeId","data-v-699cf016"]]);var Ft=zt;const At={class:"checkbox-button-group"};function $t(e,t){return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",At,[Object(C["renderSlot"])(e.$slots,"default",{},void 0,!0)])}l("5634");const Rt={},Pt=V()(Rt,[["render",$t],["__scopeId","data-v-b8aa6eac"]]);var Ht=Pt,qt=(l("71a9"),l("a19e")),Ut=l("ab82"),Gt=l.n(Ut),Xt=l("7c98"),Yt=l("40a9"),Zt=Object(C["defineComponent"])({__name:"Checkboard",props:{size:{type:Number,default:8},white:{type:String,default:"#fff"},grey:{type:String,default:"#e6e6e6"}},setup(e){const t=e,l={},o=(e,t,l)=>{const o=document.createElement("canvas");o.width=o.height=2*l;const n=o.getContext("2d");return n?(n.fillStyle=e,n.fillRect(0,0,o.width,o.height),n.fillStyle=t,n.fillRect(0,0,l,l),n.translate(l,l),n.fillRect(0,0,l,l),o.toDataURL()):null},n=(e,t,n)=>{const c=e+","+t+","+n;if(l[c])return l[c];const a=o(e,t,n);return l[c]=a,a},c=Object(C["computed"])(()=>{const e=n(t.white,t.grey,t.size);return{backgroundImage:`url(${e})`}});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"checkerboard",style:Object(C["normalizeStyle"])(Object(C["unref"])(c))},null,4))}});l("a8d7");const Wt=V()(Zt,[["__scopeId","data-v-7494636c"]]);var Jt=Wt;const Kt=e=>(Object(C["pushScopeId"])("data-v-246b525c"),e=e(),Object(C["popScopeId"])(),e),Qt={class:"alpha"},el={class:"alpha-checkboard-wrap"},tl=Kt(()=>Object(C["createElementVNode"])("div",{class:"alpha-picker"},null,-1)),ll=[tl];var ol=Object(C["defineComponent"])({__name:"Alpha",props:{value:{type:Object,required:!0}},emits:["colorChange"],setup(e,{emit:t}){const l=e,o=Object(C["computed"])(()=>l.value),n=Object(C["computed"])(()=>{const e=[o.value.r,o.value.g,o.value.b].join(",");return`linear-gradient(to right, rgba(${e}, 0) 0%, rgba(${e}, 1) 100%)`}),c=Object(C["ref"])(),a=e=>{if(e.preventDefault(),!c.value)return;const l=c.value.clientWidth,n=c.value.getBoundingClientRect().left+window.pageXOffset,a=e.pageX-n;let r;r=a<0?0:a>l?1:Math.round(100*a/l)/100,o.value.a!==r&&t("colorChange",{r:o.value.r,g:o.value.g,b:o.value.b,a:r})},r=()=>{window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",r)},i=e=>{a(e),window.addEventListener("mousemove",a),window.addEventListener("mouseup",r)};return Object(C["onUnmounted"])(r),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Qt,[Object(C["createElementVNode"])("div",el,[Object(C["createVNode"])(Jt)]),Object(C["createElementVNode"])("div",{class:"alpha-gradient",style:Object(C["normalizeStyle"])({background:Object(C["unref"])(n)})},null,4),Object(C["createElementVNode"])("div",{class:"alpha-container",ref_key:"alphaRef",ref:c,onMousedown:t[0]||(t[0]=e=>i(e))},[Object(C["createElementVNode"])("div",{class:"alpha-pointer",style:Object(C["normalizeStyle"])({left:100*Object(C["unref"])(o).a+"%"})},ll,4)],544)]))}});l("e83e");const nl=V()(ol,[["__scopeId","data-v-246b525c"]]);var cl=nl;const al=e=>(Object(C["pushScopeId"])("data-v-60c3cca1"),e=e(),Object(C["popScopeId"])(),e),rl={class:"hue"},il=al(()=>Object(C["createElementVNode"])("div",{class:"hue-picker"},null,-1)),sl=[il];var dl=Object(C["defineComponent"])({__name:"Hue",props:{value:{type:Object,required:!0},hue:{type:Number,required:!0}},emits:["colorChange"],setup(e,{emit:t}){const l=e,o=Object(C["ref"])(0),n=Object(C["ref"])(""),c=Object(C["computed"])(()=>{const e=Gt()(l.value).toHsl();return-1!==l.hue&&(e.h=l.hue),e}),a=Object(C["computed"])(()=>0===c.value.h&&"right"===n.value?"100%":100*c.value.h/360+"%");Object(C["watch"])(()=>l.value,()=>{const e=Gt()(l.value).toHsl(),t=0===e.s?l.hue:e.h;0!==t&&t-o.value>0&&(n.value="right"),0!==t&&t-o.value<0&&(n.value="left"),o.value=t});const r=Object(C["ref"])(),i=e=>{if(e.preventDefault(),!r.value)return;const o=r.value.clientWidth,n=r.value.getBoundingClientRect().left+window.pageXOffset,a=e.pageX-n;let i,s;a<0?i=0:a>o?i=360:(s=100*a/o,i=360*s/100),-1!==l.hue&&c.value.h===i||t("colorChange",{h:i,l:c.value.l,s:c.value.s,a:c.value.a})},s=()=>{window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",s)},d=e=>{i(e),window.addEventListener("mousemove",i),window.addEventListener("mouseup",s)};return Object(C["onUnmounted"])(s),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",rl,[Object(C["createElementVNode"])("div",{class:"hue-container",ref_key:"hueRef",ref:r,onMousedown:t[0]||(t[0]=e=>d(e))},[Object(C["createElementVNode"])("div",{class:"hue-pointer",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(a)})},sl,4)],544)]))}});l("179a");const ul=V()(dl,[["__scopeId","data-v-60c3cca1"]]);var bl=ul;const ml=e=>(Object(C["pushScopeId"])("data-v-d230faf4"),e=e(),Object(C["popScopeId"])(),e),pl=ml(()=>Object(C["createElementVNode"])("div",{class:"saturation-white"},null,-1)),Ol=ml(()=>Object(C["createElementVNode"])("div",{class:"saturation-black"},null,-1)),fl=ml(()=>Object(C["createElementVNode"])("div",{class:"saturation-circle"},null,-1)),jl=[fl];var vl=Object(C["defineComponent"])({__name:"Saturation",props:{value:{type:Object,required:!0},hue:{type:Number,required:!0}},emits:["colorChange"],setup(e,{emit:t}){const l=e,o=Object(C["computed"])(()=>{const e=Gt()(l.value).toHsv();return-1!==l.hue&&(e.h=l.hue),e}),n=Object(C["computed"])(()=>`hsl(${o.value.h}, 100%, 50%)`),c=Object(C["computed"])(()=>-100*o.value.v+1+100+"%"),a=Object(C["computed"])(()=>100*o.value.s+"%"),r=Object(Xt["throttle"])((function(e){t("colorChange",e)}),20,{leading:!0,trailing:!1}),i=Object(C["ref"])(),s=e=>{if(e.preventDefault(),!i.value)return;const t=i.value.clientWidth,l=i.value.clientHeight,n=i.value.getBoundingClientRect().left+window.pageXOffset,c=i.value.getBoundingClientRect().top+window.pageYOffset,a=Object(Xt["clamp"])(e.pageX-n,0,t),s=Object(Xt["clamp"])(e.pageY-c,0,l),d=a/t,u=Object(Xt["clamp"])(-s/l+1,0,1);r({h:o.value.h,s:d,v:u,a:o.value.a})},d=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",d)},u=e=>{s(e),window.addEventListener("mousemove",s),window.addEventListener("mouseup",d)};return Object(C["onUnmounted"])(d),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"saturation",ref_key:"saturationRef",ref:i,style:Object(C["normalizeStyle"])({background:Object(C["unref"])(n)}),onMousedown:t[0]||(t[0]=e=>u(e))},[pl,Ol,Object(C["createElementVNode"])("div",{class:"saturation-pointer",style:Object(C["normalizeStyle"])({top:Object(C["unref"])(c),left:Object(C["unref"])(a)})},jl,4)],36))}});l("0516");const hl=V()(vl,[["__scopeId","data-v-d230faf4"]]);var yl=hl;const gl={class:"editable-input"},xl=["value"];var kl=Object(C["defineComponent"])({__name:"EditableInput",props:{value:{type:Object,required:!0}},emits:["colorChange"],setup(e,{emit:t}){const l=e,o=Object(C["computed"])(()=>{let e="";return e=l.value.a<1?Gt()(l.value).toHex8String().toUpperCase():Gt()(l.value).toHexString().toUpperCase(),e.replace("#","")}),n=e=>{const l=e.target.value;l.length>=6&&t("colorChange",Gt()(l).toRgb())};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",gl,[Object(C["createElementVNode"])("input",{class:"input-content",value:Object(C["unref"])(o),onInput:t[0]||(t[0]=e=>n(e))},null,40,xl)]))}});l("a9b0");const Cl=V()(kl,[["__scopeId","data-v-2f428dde"]]);var Nl=Cl;const El={class:"color-picker"},wl={class:"picker-saturation-wrap"},Vl={class:"picker-controls"},Il={class:"picker-color-wrap"},Bl={class:"picker-sliders"},Sl={class:"picker-hue-wrap"},Ll={class:"picker-alpha-wrap"},_l={class:"picker-field"},Tl={class:"picker-presets"},Ml=["onClick"],Dl={class:"picker-gradient-presets"},zl=["onClick"],Fl={class:"picker-presets"},Al=["onClick"],$l={key:0,class:"recent-colors-title"},Rl={class:"picker-presets"},Pl=["onClick"];var Hl=Object(C["defineComponent"])({__name:"index",props:{modelValue:{type:String,default:"#e86b99"}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,o="RECENT_COLORS",n=[["#7f7f7f","#f2f2f2"],["#0d0d0d","#808080"],["#1c1a10","#ddd8c3"],["#0e243d","#c6d9f0"],["#233f5e","#dae5f0"],["#632623","#f2dbdb"],["#4d602c","#eaf1de"],["#3f3150","#e6e0ec"],["#1e5867","#d9eef3"],["#99490f","#fee9da"]],c=(e,t,l)=>{const o=Gt()(e).toRgb(),n=Gt()(t).toRgb(),c=(n.r-o.r)/l,a=(n.g-o.g)/l,r=(n.b-o.b)/l,i=[];for(let s=0;s<l;s++){const e=Gt()({r:o.r+c*s,g:o.g+a*s,b:o.b+r*s}).toRgbString();i.push(e)}return i},a=()=>{const e=[];for(const t of n)e.push(c(t[1],t[0],5));return e},r=["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c"],i=["#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57","#00afee","#0071be","#00215f","#72349d"],s=Object(C["ref"])(-1),d=Object(C["ref"])([]),u=Object(C["computed"])({get(){return Gt()(l.modelValue).toRgb()},set(e){const l=`rgba(${[e.r,e.g,e.b,e.a].join(",")})`;t("update:modelValue",l)}}),b=a(),m=Object(C["computed"])(()=>`rgba(${[u.value.r,u.value.g,u.value.b,u.value.a].join(",")})`),p=e=>{s.value=Gt()(e).toHsl().h,t("update:modelValue",e)},O=Object(Xt["debounce"])((function(){const e=Gt()(u.value).toRgbString();if(!d.value.includes(e)){d.value=[e,...d.value];const t=10;d.value.length>t&&(d.value=d.value.slice(0,t))}}),300,{trailing:!0});Object(C["onMounted"])(()=>{const e=localStorage.getItem(o);e&&(d.value=JSON.parse(e))}),Object(C["watch"])(d,()=>{const e=JSON.stringify(d.value);localStorage.setItem(o,e)});const f=e=>{"h"in e?(s.value=e.h,u.value=Gt()(e).toRgb()):(s.value=Gt()(e).toHsl().h,u.value=e),O()},j=()=>{const e="EyeDropper"in window;e?v():h()},v=()=>{qt["a"].success("按 ESC 键关闭取色吸管");const e=new window.EyeDropper;e.open().then(e=>{const t=Gt()(e.sRGBHex);s.value=t.toHsl().h,u.value=t.toRgb(),O()}).catch(()=>{qt["a"].success("关闭取色吸管")})},h=()=>{const e=document.querySelector(".canvas");if(!e)return;const t=document.createElement("div");t.style.cssText="position: fixed; top: 0; left: 0; bottom: 0; right: 0; z-index: 9999; cursor: wait;",document.body.appendChild(t);const l=document.createElement("div");l.style.cssText="position: absolute; top: -100px; left: -100px; width: 16px; height: 16px; border: 1px solid #000; z-index: 999",t.appendChild(l);const{left:o,top:n,width:c,height:a}=e.getBoundingClientRect(),r=e=>(!e.tagName||"FOREIGNOBJECT"!==e.tagName.toUpperCase())&&(!e.classList||!e.classList.contains("operate"));Object(Yt["a"])(e,{filter:r,fontEmbedCSS:"",width:c,height:a,canvasWidth:c,canvasHeight:a,pixelRatio:1}).then(e=>{e.style.cssText=`position: absolute; top: ${n}px; left: ${o}px; cursor: crosshair;`,t.style.cursor="default",t.appendChild(e);const c=e.getContext("2d");if(!c)return;let a="";const r=e=>{const t=e.x,r=e.y,i=t-o,s=r-n,[d,u,b,m]=c.getImageData(i,s,1,1).data;a=`rgba(${d}, ${u}, ${b}, ${(m/255).toFixed(2)})`,l.style.left=t+10+"px",l.style.top=r+10+"px",l.style.backgroundColor=a},i=()=>{a="",l.style.left="-100px",l.style.top="-100px",l.style.backgroundColor=""},d=l=>{if(a&&0===l.button){const e=Gt()(a);s.value=e.toHsl().h,u.value=e.toRgb(),O()}document.body.removeChild(t),e.removeEventListener("mousemove",r),e.removeEventListener("mouseleave",i),window.removeEventListener("mousedown",d)};e.addEventListener("mousemove",r),e.addEventListener("mouseleave",i),window.addEventListener("mousedown",d)}).catch(()=>{qt["a"].error("取色吸管初始化失败"),document.body.removeChild(t)})};return(e,t)=>{const l=Object(C["resolveComponent"])("IconNeedle");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",El,[Object(C["createElementVNode"])("div",wl,[Object(C["createVNode"])(yl,{value:Object(C["unref"])(u),hue:s.value,onColorChange:t[0]||(t[0]=e=>f(e))},null,8,["value","hue"])]),Object(C["createElementVNode"])("div",Vl,[Object(C["createElementVNode"])("div",Il,[Object(C["createElementVNode"])("div",{class:"picker-current-color",style:Object(C["normalizeStyle"])({background:Object(C["unref"])(m)})},null,4),Object(C["createVNode"])(Jt)]),Object(C["createElementVNode"])("div",Bl,[Object(C["createElementVNode"])("div",Sl,[Object(C["createVNode"])(bl,{value:Object(C["unref"])(u),hue:s.value,onColorChange:t[1]||(t[1]=e=>f(e))},null,8,["value","hue"])]),Object(C["createElementVNode"])("div",Ll,[Object(C["createVNode"])(cl,{value:Object(C["unref"])(u),onColorChange:t[2]||(t[2]=e=>f(e))},null,8,["value"])])])]),Object(C["createElementVNode"])("div",_l,[Object(C["createVNode"])(Nl,{class:"input",value:Object(C["unref"])(u),onColorChange:t[3]||(t[3]=e=>f(e))},null,8,["value"]),Object(C["createElementVNode"])("div",{class:"straw",onClick:t[4]||(t[4]=e=>j())},[Object(C["createVNode"])(l)])]),Object(C["createElementVNode"])("div",Tl,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(r,e=>Object(C["createElementVNode"])("div",{class:"picker-presets-color",key:e,style:Object(C["normalizeStyle"])({background:e}),onClick:t=>p(e)},null,12,Ml)),64))]),Object(C["createElementVNode"])("div",Dl,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(b),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"picker-gradient-col",key:t},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"picker-gradient-color",key:e,style:Object(C["normalizeStyle"])({background:e}),onClick:t=>p(e)},null,12,zl))),128))]))),128))]),Object(C["createElementVNode"])("div",Fl,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(i,e=>Object(C["createElementVNode"])("div",{key:e,class:"picker-presets-color",style:Object(C["normalizeStyle"])({background:e}),onClick:t=>p(e)},null,12,Al)),64))]),d.value.length?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",$l,"最近使用：")):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",Rl,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(d.value,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:e,class:"picker-presets-color alpha",onClick:t=>p(e)},[Object(C["createElementVNode"])("div",{class:"picker-presets-color-content",style:Object(C["normalizeStyle"])({background:e})},null,4)],8,Pl))),128))])])}}});l("ecf8");const ql=V()(Hl,[["__scopeId","data-v-c46eb110"]]);var Ul=ql;const Gl={key:0,class:"fullscreen-spin"};var Xl=Object(C["defineComponent"])({__name:"FullscreenSpin",props:{loading:{type:Boolean,default:!1},tip:{type:String,default:""}},setup(e){return(t,l)=>{const o=Object(C["resolveComponent"])("Spin");return e.loading?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Gl,[Object(C["createVNode"])(o,{tip:e.tip,size:"large"},null,8,["tip"])])):Object(C["createCommentVNode"])("",!0)}}});l("5d4b");const Yl=V()(Xl,[["__scopeId","data-v-16ead44e"]]);var Zl=Yl;const Wl={FileInput:Mt,CheckboxButton:Ft,CheckboxButtonGroup:Ht,ColorPicker:Ul,FullscreenSpin:Zl};var Jl={install(e){for(const t of Object.keys(Wl))e.component(t,Wl[t])}};const Kl={class:"menu-content"},Ql=["onClick"],eo={class:"text"},to={key:0,class:"sub-text"};var lo=Object(C["defineComponent"])({__name:"MenuContent",props:{menus:{type:Array,required:!0},handleClickMenuItem:{type:Function,required:!0}},setup(e){return(t,l)=>{const o=Object(C["resolveComponent"])("menu-content",!0);return Object(C["openBlock"])(),Object(C["createElementBlock"])("ul",Kl,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.menus,(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:t.text||l},[t.hide?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createElementBlock"])("li",{key:0,class:Object(C["normalizeClass"])(["menu-item",{divider:t.divider,disable:t.disable}]),onClick:Object(C["withModifiers"])(l=>e.handleClickMenuItem(t),["stop"])},[t.divider?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:Object(C["normalizeClass"])(["menu-item-content",{"has-children":t.children,"has-handler":t.handler}])},[Object(C["createElementVNode"])("span",eo,Object(C["toDisplayString"])(t.text),1),t.subText&&!t.children?(Object(C["openBlock"])(),Object(C["createElementBlock"])("span",to,Object(C["toDisplayString"])(t.subText),1)):Object(C["createCommentVNode"])("",!0),t.children&&t.children.length?(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:1,class:"sub-menu",menus:t.children,handleClickMenuItem:e.handleClickMenuItem},null,8,["menus","handleClickMenuItem"])):Object(C["createCommentVNode"])("",!0)],2))],10,Ql))],64))),128))])}}});l("ca3c");const oo=V()(lo,[["__scopeId","data-v-e470e712"]]);var no=oo,co=Object(C["defineComponent"])({__name:"index",props:{axis:{type:Object,required:!0},el:{type:Object,required:!0},menus:{type:Array,required:!0},removeContextmenu:{type:Function,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e=170,l=30,o=11,n=5,{x:c,y:a}=t.axis,r=t.menus.filter(e=>!(e.divider||e.hide)).length,i=t.menus.filter(e=>e.divider).length,s=e,d=r*l+i*o+2*n,u=document.body.clientWidth,b=document.body.clientHeight;return{left:u<=c+s?c-s:c,top:b<=a+d?a-d:a}}),o=e=>{e.disable||e.children&&!e.handler||(e.handler&&e.handler(t.el),t.removeContextmenu())};return(t,n)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,[Object(C["createElementVNode"])("div",{class:"mask",onContextmenu:n[0]||(n[0]=Object(C["withModifiers"])(t=>e.removeContextmenu(),["prevent"])),onMousedown:n[1]||(n[1]=t=>e.removeContextmenu())},null,32),Object(C["createElementVNode"])("div",{class:"contextmenu",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(l).left+"px",top:Object(C["unref"])(l).top+"px"}),onContextmenu:n[2]||(n[2]=Object(C["withModifiers"])(()=>{},["prevent"]))},[Object(C["createVNode"])(no,{menus:e.menus,handleClickMenuItem:o},null,8,["menus"])],36)],64))}});l("b096");const ao=co;var ro=ao;const io="CTX_CONTEXTMENU_HANDLER",so=(e,t,l)=>{t.stopPropagation(),t.preventDefault();const o=l.value(e);if(!o)return;let n=null;const c=()=>{n&&(document.body.removeChild(n),n=null),e.classList.remove("contextmenu-active"),document.body.removeEventListener("scroll",c),window.removeEventListener("resize",c)},a={axis:{x:t.x,y:t.y},el:e,menus:o,removeContextmenu:c};n=document.createElement("div");const r=Object(C["createVNode"])(ro,a,null);Object(C["render"])(r,n),document.body.appendChild(n),e.classList.add("contextmenu-active"),document.body.addEventListener("scroll",c),window.addEventListener("resize",c)},uo={mounted(e,t){e[io]=l=>so(e,l,t),e.addEventListener("contextmenu",e[io])},unmounted(e){e&&e[io]&&(e.removeEventListener("contextmenu",e[io]),delete e[io])}};var bo=uo;const mo="CTX_CLICK_OUTSIDE_HANDLER",po=(e,t,l)=>{const o=l.value,n=t.composedPath(),c=n?n.indexOf(e)<0:!e.contains(t.target);c&&o(t)},Oo={mounted(e,t){e[mo]=l=>po(e,l,t),setTimeout(()=>{document.addEventListener("click",e[mo])},0)},unmounted(e){e[mo]&&(document.removeEventListener("click",e[mo]),delete e[mo])}};var fo,jo=Oo,vo={install(e){e.directive("contextmenu",bo),e.directive("click-outside",jo)}},ho=l("74f9"),yo=l("bea5");(function(e){e["SYMBOL"]="symbol",e["EL_ANIMATION"]="elAnimation",e["EL_STYLE"]="elStyle",e["EL_POSITION"]="elPosition",e["SLIDE_DESIGN"]="slideDesign",e["SLIDE_ANIMATION"]="slideAnimation",e["MULTI_POSITION"]="multiPosition"})(fo||(fo={}));const go=[{label:"Arial",value:"Arial"},{label:"微软雅黑",value:"Microsoft Yahei"},{label:"宋体",value:"SimSun"},{label:"黑体",value:"SimHei"},{label:"楷体",value:"KaiTi"},{label:"新宋体",value:"NSimSun"},{label:"仿宋",value:"FangSong"},{label:"苹方",value:"PingFang SC"},{label:"华文黑体",value:"STHeiti"},{label:"华文楷体",value:"STKaiti"},{label:"华文宋体",value:"STSong"},{label:"华文仿宋",value:"STFangSong"},{label:"华文中宋",value:"STZhongSong"},{label:"华文琥珀",value:"STHupo"},{label:"华文新魏",value:"STXinwei"},{label:"华文隶书",value:"STLiti"},{label:"华文行楷",value:"STXingkai"},{label:"冬青黑体",value:"Hiragino Sans GB"},{label:"兰亭黑",value:"Lantinghei SC"},{label:"偏偏体",value:"Hanzipen SC"},{label:"手札体",value:"Hannotate SC"},{label:"宋体",value:"Songti SC"},{label:"娃娃体",value:"Wawati SC"},{label:"行楷",value:"Xingkai SC"},{label:"圆体",value:"Yuanti SC"},{label:"华文细黑",value:"STXihei"},{label:"幼圆",value:"YouYuan"},{label:"隶书",value:"LiSu"}],xo=[{label:"仓耳小丸子",value:"仓耳小丸子"},{label:"优设标题黑",value:"优设标题黑"},{label:"峰广明锐体",value:"峰广明锐体"},{label:"摄图摩登小方体",value:"摄图摩登小方体"},{label:"站酷快乐体",value:"站酷快乐体"},{label:"字制区喜脉体",value:"字制区喜脉体"},{label:"素材集市康康体",value:"素材集市康康体"},{label:"素材集市酷方体",value:"素材集市酷方体"},{label:"途牛类圆体",value:"途牛类圆体"},{label:"锐字真言体",value:"锐字真言体"}];var ko=l("63da");const Co=e=>{const{empty:t}=e.state.selection;t&&Object(ko["d"])(e.state,e.dispatch)},No=(e,t,l)=>{if(l)e.dispatch(e.state.tr.addMark(l.from,l.to,t));else{const{$from:l,$to:o}=e.state.selection;e.dispatch(e.state.tr.addMark(l.pos,o.pos,t))}},Eo=(e,t,l,o)=>{let n=t;const c=e=>e.type===o;let a=null,r=null,i=null;while(n<=l){const t=e.nodeAt(n);if(!t||!t.marks)return null;const l=t.marks.find(c);if(!l)return null;if(a&&l!==a)return null;r=r||t,a=a||l,i=t,n++}let s=t,d=l,u=0;n=t-1;while(n>u){const t=e.nodeAt(n),l=t&&t.marks.find(c);if(!l||l!==a)break;s=n,r=t,n--}n=l+1,u=e.nodeSize-2;while(n<u){const t=e.nodeAt(n),l=t&&t.marks.find(c);if(!l||l!==a)break;d=n,i=t,n++}return{mark:a,from:{node:r,pos:s},to:{node:i,pos:d}}},wo=(e,t)=>Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e,Vo=(e,t)=>{for(let l=e.depth;l>0;l--){const o=e.node(l);if(t(o))return{pos:l>0?e.before(l):0,start:e.start(l),depth:l,node:o}}},Io=e=>t=>Vo(t.$from,e),Bo=e=>t=>Io(t=>wo(e,t))(t),So=(e,t)=>{const l=t.schema.nodes[e];return!!Bo(l)(t.selection)},Lo=e=>{var t,l;const{selection:o,doc:n}=e.state,{from:c}=o;let a=n.nodeAt(c)||n.nodeAt(c-1);return null!==(t=a)&&void 0!==t&&t.lastChild&&(a=a.lastChild),(null===(l=a)||void 0===l?void 0:l.marks)||[]},_o=(e,t,l)=>{for(const o of e)if(o.type.name===t&&o.attrs[l])return o.attrs[l];return null},To=(e,t)=>{for(const l of e)if(l.type.name===t)return!0;return!1},Mo=(e,t)=>{const{from:l,$from:o,to:n,empty:c}=e.selection;return c?t.isInSet(e.storedMarks||o.marks()):e.doc.rangeHasMark(l,n,t)},Do=(e,t)=>{const{selection:l,doc:o}=e.state,{from:n,to:c}=l;let a=!0,r="";return o.nodesBetween(n,c,e=>(a&&e.attrs[t]&&(a=!1,r=e.attrs[t]),a)),r},zo={color:"#000",backcolor:"#000",fontsize:"20px",fontname:"微软雅黑",align:"left"},Fo=(e,t={})=>{t={...zo,...t};const l=Lo(e),o=To(l,"strong"),n=To(l,"em"),c=To(l,"underline"),a=To(l,"strikethrough"),r=To(l,"superscript"),i=To(l,"subscript"),s=To(l,"code"),d=_o(l,"forecolor","color")||t.color,u=_o(l,"backcolor","backcolor")||t.backcolor,b=_o(l,"fontsize","fontsize")||t.fontsize,m=_o(l,"fontname","fontname")||t.fontname,p=_o(l,"link","href")||"",O=Do(e,"align")||t.align,f=So("bullet_list",e.state),j=So("ordered_list",e.state),v=So("blockquote",e.state);return{bold:o,em:n,underline:c,strikethrough:a,superscript:r,subscript:i,code:s,color:d,backcolor:u,fontsize:b,fontname:m,link:p,align:O,bulletList:f,orderedList:j,blockquote:v}},Ao=e=>{const t=Lo(e),l=_o(t,"fontsize","fontsize")||zo.fontsize;return parseInt(l)},$o={bold:!1,em:!1,underline:!1,strikethrough:!1,superscript:!1,subscript:!1,code:!1,color:"#000",backcolor:"#000",fontsize:"20px",fontname:"微软雅黑",link:"",align:"left",bulletList:!1,orderedList:!1,blockquote:!1},Ro=e=>{if("string"!==typeof e)return!1;const t="Arial";if(e.toLowerCase()===t.toLowerCase())return!0;const l=100,o=100,n=100,c="a",a=document.createElement("canvas"),r=a.getContext("2d");if(!r)return!1;a.width=o,a.height=n,r.textAlign="center",r.fillStyle="black",r.textBaseline="middle";const i=e=>{r.clearRect(0,0,o,n),r.font=`${l}px ${e}, ${t}`,r.fillText(c,o/2,n/2);const a=r.getImageData(0,0,o,n).data;return[].slice.call(a).filter(e=>0!==e)};return i(t).join("")!==i(e).join("")};l("5a87");const Po=[{id:"test-slide-1",elements:[{type:"shape",id:"4cbRxp",left:0,top:200,width:546,height:362.5,viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z",fill:"#5b9bd5",fixedRatio:!1,opacity:.7,rotate:0},{type:"shape",id:"ookHrf",left:0,top:0,width:300,height:320,viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z",fill:"#5b9bd5",fixedRatio:!1,flipV:!0,rotate:0},{type:"text",id:"idn7Mx",left:355,top:65.25,width:585,height:188,lineHeight:1.2,content:"<p><strong><span style='font-size:  112px'>PPTIST</span></strong></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333"},{type:"text",id:"7stmVP",left:355,top:253.25,width:585,height:56,content:"<p><span style='font-size:  24px'>基于 Vue 3.x + TypeScript 的在线演示文稿应用</span></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333"},{type:"line",id:"FnpZs4",left:361,top:238,start:[0,0],end:[549,0],points:["",""],color:"#5b9bd5",style:"solid",width:2}],background:{type:"solid",color:"#ffffff"}},{id:"test-slide-2",elements:[{type:"text",id:"ptNnUJ",left:145,top:148,width:711,height:77,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333"},{type:"text",id:"mRHvQN",left:207.50000000000003,top:249.84259259259264,width:585,height:56,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处添加副标题</span></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333"},{type:"line",id:"7CQDwc",left:323.09259259259267,top:238.33333333333334,start:[0,0],end:[354.8148148148148,0],points:["",""],color:"#5b9bd5",style:"solid",width:4},{type:"shape",id:"09wqWw",left:-27.648148148148138,top:432.73148148148147,width:1056.2962962962963,height:162.96296296296296,viewBox:[200,200],path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z",fill:"#5b9bd5",fixedRatio:!1,rotate:0}],background:{type:"solid",color:"#fff"}},{id:"test-slide-3",elements:[{type:"shape",id:"vSheCJ",left:183.5185185185185,top:175.5092592592593,width:605.1851851851851,height:185.18518518518516,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"#5b9bd5",fixedRatio:!1,rotate:0},{type:"shape",id:"Mpwv7x",left:211.29629629629628,top:201.80555555555557,width:605.1851851851851,height:185.18518518518516,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"#5b9bd5",fixedRatio:!1,rotate:0,opacity:.7},{type:"text",id:"WQOTAp",left:304.9074074074074,top:198.10185185185182,width:417.9629629629629,height:140,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 80px'>感谢观看</span></span></strong></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333",wordSpace:5}],background:{type:"solid",color:"#fff"}}],Ho={themeColor:"#5b9bd5",fontColor:"#333",fontName:"Microsoft Yahei",backgroundColor:"#fff"},qo=[{id:"template",elements:[{type:"shape",id:"4cbRxp",left:0,top:200,width:546,height:362.5,viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z",fill:"{{themeColor}}",fixedRatio:!1,opacity:.7,rotate:0},{type:"shape",id:"ookHrf",left:0,top:0,width:300,height:320,viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z",fill:"{{themeColor}}",fixedRatio:!1,flipV:!0,rotate:0},{type:"text",id:"AkIh3E",left:355,top:95.11111111111111,width:585,height:116,lineHeight:1.2,content:"<p style=''><strong><span style='font-size: 80px'>输入标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:6},{type:"text",id:"7stmVP",left:355,top:253.25,width:585,height:56,content:"<p><span style='font-size:  24px'>请在此处输入副标题</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"line",id:"FnpZs4",left:361,top:238,start:[0,0],end:[549,0],points:["",""],color:"{{themeColor}}",style:"solid",width:2}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"ptNnUJ",left:145,top:148,width:711,height:77,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"mRHvQN",left:207.50000000000003,top:249.84259259259264,width:585,height:56,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处添加副标题</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"line",id:"7CQDwc",left:323.09259259259267,top:238.33333333333334,start:[0,0],end:[354.8148148148148,0],points:["",""],color:"{{themeColor}}",style:"solid",width:4},{type:"shape",id:"09wqWw",left:-27.648148148148138,top:432.73148148148147,width:1056.2962962962963,height:162.96296296296296,viewBox:[200,200],path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"vSheCJ",left:183.5185185185185,top:175.5092592592593,width:605.1851851851851,height:185.18518518518516,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0},{type:"shape",id:"Mpwv7x",left:211.29629629629628,top:201.80555555555557,width:605.1851851851851,height:185.18518518518516,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,opacity:.7},{type:"text",id:"WQOTAp",left:304.9074074074074,top:198.10185185185182,width:417.9629629629629,height:140,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 80px'>感谢观看</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:5}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"MZVO1kkj",elements:[{type:"shape",id:"cql0h8",left:0,top:0,width:352.59259259259255,height:562.5,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0},{type:"shape",id:"_RTaF4",left:171.4814814814814,top:100.13888888888887,width:362.22222222222223,height:362.22222222222223,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"rgba(255,255,255,0)",fixedRatio:!1,rotate:0,outline:{width:10,color:"{{backgroundColor}}",style:"solid"}},{type:"shape",id:"UZfo8N",left:216.66666666666663,top:145.32407407407408,width:271.85185185185185,height:271.85185185185185,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='font-size: 80px'>01</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"ysqtBg",left:561.4814814814814,top:100.1388888888889,width:359.25925925925924,height:80,content:"<p style=''><strong><span style='font-size: 40px'>在此处输入标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"lXsoHa",left:572.5925925925925,top:202.3611111111111,width:257.77777777777777,height:260,content:"<ol><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li></ol>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",lineHeight:2,fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"EBBnTr",left:360.5996472663139,top:141.8496472663139,width:278.80070546737215,height:278.80070546737215,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:0,color:"{{backgroundColor}}",style:"solid"}},{type:"shape",id:"gDIWDH",left:456.4373897707231,top:98.287037037037,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"DUWT7E",left:317.037037037037,top:237.68738977072314,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"pbhn38",left:456.43738977072303,top:377.08774250440916,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"CvMKrO",left:595.8377425044091,top:237.6873897707231,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"adudHB",left:402.962962962963,top:39.39814814814815,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"9UpDwg",left:402.962962962963,top:473.1018518518518,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"GERdpB",left:111.48148148148151,top:256.25,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"G5qoho",left:691.1111111111111,top:256.25,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"shape",id:"vdZcI6",left:415.18518518518516,top:196.4351851851852,width:169.62962962962962,height:169.62962962962962,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"tYUmrx",left:156.66666666666683,top:149.02777777777771,width:264.4444444444445,height:264.4444444444445,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'><span style='font-size: 60px'>01</span></span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"0GVHf8",left:342.2222222222223,top:217.17592592592587,width:128.14814814814812,height:128.14814814814812,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0},{type:"text",id:"BO33Sv",left:378.8888888888889,top:235.24999999999994,width:464.4444444444444,height:92,content:"<p style=''><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"Hj7ttp",left:69.35185185185185,top:49.21759259259262,width:420,height:63,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>1.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"FmKMNB",left:69.35185185185185,top:129.28240740740745,width:420,height:384,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"rI7ZeO",left:510.64814814814815,top:49.21759259259262,width:420,height:63,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>2.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"KspwGc",left:510.64814814814815,top:129.28240740740745,width:420,height:384,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"Rx63Jo",left:69.35185185185179,top:51.71759259259262,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>1.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"ulyuzE",left:69.35185185185179,top:131.78240740740745,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"kr35Ca",left:510.6481481481481,top:51.71759259259262,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>2.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"BNQSpC",left:510.6481481481481,top:131.78240740740745,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"Vr38Nu",left:69.35185185185185,top:301.71759259259255,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>3.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"IwKRSu",left:69.35185185185185,top:381.7824074074074,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"0Opr1v",left:510.64814814814815,top:301.71759259259255,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>4.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"4L9Uzz",left:510.64814814814815,top:381.7824074074074,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"GdEGxg",left:134.53703703703704,top:127.25,width:152.77777777777777,height:308,lineHeight:1.8,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 40px'>请在此处输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:8,fill:"{{themeColor}}"},{type:"text",id:"y5sAfw",left:332.8703703703704,top:127.25,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容1</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"VeuocM",left:332.8703703703704,top:212.0648148148148,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容2</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"RyFWQe",left:332.8703703703704,top:296.8796296296296,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容3</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"Q56viI",left:332.8703703703704,top:381.69444444444446,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容4</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"SUWirT",left:73.8888888888889,top:64.21296296296302,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"YjzN1M",left:148.70370370370372,top:64.21296296296302,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"fS09I7",left:527.5925925925926,top:64.21296296296302,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"qCnfB1",left:602.4074074074074,top:64.21296296296302,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"difAAT",left:73.8888888888889,top:221.25000000000003,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"EUlvMo",left:148.70370370370372,top:221.25000000000003,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"US_9jB",left:527.5925925925926,top:221.25000000000003,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"243MnQ",left:602.4074074074074,top:221.25000000000003,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"Y_KUj0",left:73.8888888888889,top:378.287037037037,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>5</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"9GglMe",left:148.70370370370372,top:378.287037037037,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"eSInje",left:527.5925925925926,top:378.287037037037,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>6</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"0S3yUg",left:602.4074074074074,top:378.287037037037,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}}],Uo=Object(N["b"])("slides",{state:()=>({theme:Ho,slides:Po,slideIndex:0,viewportRatio:.5625}),getters:{currentSlide(e){return e.slides[e.slideIndex]},currentSlideAnimations(e){const t=e.slides[e.slideIndex];if(null===t||void 0===t||!t.animations)return[];const l=t.elements,o=l.map(e=>e.id);return t.animations.filter(e=>o.includes(e.elId))},formatedAnimations(e){const t=e.slides[e.slideIndex];if(null===t||void 0===t||!t.animations)return[];const l=t.elements,o=l.map(e=>e.id),n=t.animations.filter(e=>o.includes(e.elId)),c=[];for(const a of n)if("click"!==a.trigger&&c.length){if("meantime"===a.trigger){const e=c[c.length-1];e.animations=e.animations.filter(e=>e.elId!==a.elId),e.animations.push(a),c[c.length-1]=e}else if("auto"===a.trigger){const e=c[c.length-1];e.autoNext=!0,c[c.length-1]=e,c.push({animations:[a],autoNext:!1})}}else c.push({animations:[a],autoNext:!1});return c},layouts(e){const{themeColor:t,fontColor:l,fontName:o,backgroundColor:n}=e.theme,c=Gt()(l).isDark()?"rgba(230, 230, 230, 0.5)":"rgba(180, 180, 180, 0.5)",a=JSON.stringify(qo).replaceAll("{{themeColor}}",t).replaceAll("{{fontColor}}",l).replaceAll("{{fontName}}",o).replaceAll("{{backgroundColor}}",n).replaceAll("{{subColor}}",c);return JSON.parse(a)}},actions:{setTheme(e){this.theme={...this.theme,...e}},setViewportRatio(e){this.viewportRatio=e},setSlides(e){this.slides=e},addSlide(e){const t=Array.isArray(e)?e:[e],l=this.slideIndex+1;this.slides.splice(l,0,...t),this.slideIndex=l},updateSlide(e){const t=this.slideIndex;this.slides[t]={...this.slides[t],...e}},deleteSlide(e){const t=Array.isArray(e)?e:[e],l=[];for(let c=0;c<t.length;c++){const e=this.slides.findIndex(e=>e.id===t[c]);l.push(e)}let o=Math.min(...l);const n=this.slides.length-t.length-1;o>n&&(o=n),this.slideIndex=o,this.slides=this.slides.filter(e=>!t.includes(e.id))},updateSlideIndex(e){this.slideIndex=e},addElement(e){const t=Array.isArray(e)?e:[e],l=this.slides[this.slideIndex].elements,o=[...l,...t];this.slides[this.slideIndex].elements=o},deleteElement(e){const t=Array.isArray(e)?e:[e],l=this.slides[this.slideIndex].elements,o=l.filter(e=>!t.includes(e.id));this.slides[this.slideIndex].elements=o},updateElement(e){const{id:t,props:l}=e,o="string"===typeof t?[t]:t,n=this.slideIndex,c=this.slides[n],a=c.elements.map(e=>o.includes(e.id)?{...e,...l}:e);this.slides[n].elements=a},removeElementProps(e){const{id:t,propName:l}=e,o="string"===typeof l?[l]:l,n=this.slideIndex,c=this.slides[n],a=c.elements.map(e=>e.id===t?Object(Xt["omit"])(e,o):e);this.slides[n].elements=a}}}),Go=Object(yo["a"])("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),Xo=Go(10),Yo=Object(N["b"])("main",{state:()=>({activeElementIdList:[],handleElementId:"",activeGroupElementId:"",canvasPercentage:90,canvasScale:1,canvasDragged:!1,thumbnailsFocus:!1,editorAreaFocus:!1,disableHotkeys:!1,gridLineSize:0,showRuler:!1,creatingElement:null,availableFonts:go,toolbarState:fo.SLIDE_DESIGN,clipingImageElementId:"",richTextAttrs:$o,selectedTableCells:[],isScaling:!1,selectedSlidesIndex:[],dialogForExport:"",databaseId:Xo}),getters:{activeElementList(e){const t=Uo(),l=t.currentSlide;return l&&l.elements?l.elements.filter(t=>e.activeElementIdList.includes(t.id)):[]},handleElement(e){const t=Uo(),l=t.currentSlide;return l&&l.elements&&l.elements.find(t=>e.handleElementId===t.id)||null}},actions:{setActiveElementIdList(e){1===e.length?this.handleElementId=e[0]:this.handleElementId="",this.activeElementIdList=e},setHandleElementId(e){this.handleElementId=e},setActiveGroupElementId(e){this.activeGroupElementId=e},setCanvasPercentage(e){this.canvasPercentage=e},setCanvasScale(e){this.canvasScale=e},setCanvasDragged(e){this.canvasDragged=e},setThumbnailsFocus(e){this.thumbnailsFocus=e},setEditorareaFocus(e){this.editorAreaFocus=e},setDisableHotkeysState(e){this.disableHotkeys=e},setGridLineSize(e){this.gridLineSize=e},setRulerState(e){this.showRuler=e},setCreatingElement(e){this.creatingElement=e},setAvailableFonts(){this.availableFonts=go.filter(e=>Ro(e.value))},setToolbarState(e){this.toolbarState=e},setClipingImageElementId(e){this.clipingImageElementId=e},setRichtextAttrs(e){this.richTextAttrs=e},setSelectedTableCells(e){this.selectedTableCells=e},setScalingState(e){this.isScaling=e},updateSelectedSlidesIndex(e){this.selectedSlidesIndex=e},setDialogForExport(e){this.dialogForExport=e}}});var Zo=l("916c"),Wo=l("1eb6");const Jo="PPTIST_DISCARDED_DB",Ko="PPTist",Qo=async()=>{const e=(new Date).getTime(),t=localStorage.getItem(Jo),l=t?JSON.parse(t):[],o=await Wo["a"].getDatabaseNames(),n=o.filter(t=>{if(-1===t.indexOf(Ko))return!1;const[o,n,c]=t.split("_");return o!==Ko||!n||!c||(!!l.includes(n)||e-+c>=432e5)});for(const c of n)Wo["a"].delete(c);localStorage.removeItem(Jo)};class en extends Wo["a"]{constructor(){super(`${Ko}_${Xo}_${(new Date).getTime()}`),Object(Zo["a"])(this,"snapshots",void 0),this.version(1).stores({snapshots:"++id"}),this.snapshots=this.table("snapshots")}}const tn=new en,ln=Object(N["b"])("snapshot",{state:()=>({snapshotCursor:-1,snapshotLength:0}),getters:{canUndo(e){return e.snapshotCursor>0},canRedo(e){return e.snapshotCursor<e.snapshotLength-1}},actions:{setSnapshotCursor(e){this.snapshotCursor=e},setSnapshotLength(e){this.snapshotLength=e},async initSnapshotDatabase(){const e=Uo();await Qo();const t={index:e.slideIndex,slides:e.slides};await tn.snapshots.add(t),this.setSnapshotCursor(0),this.setSnapshotLength(1)},async addSnapshot(){const e=Uo(),t=await tn.snapshots.orderBy("id").keys();let l=[];this.snapshotCursor>=0&&this.snapshotCursor<t.length-1&&(l=t.slice(this.snapshotCursor+1));const o={index:e.slideIndex,slides:e.slides};await tn.snapshots.add(o);let n=t.length-l.length+1;const c=20;n>c&&(l.push(t[0]),n--),n>=2&&tn.snapshots.update(t[n-2],{index:e.slideIndex}),await tn.snapshots.bulkDelete(l),this.setSnapshotCursor(n-1),this.setSnapshotLength(n)},async unDo(){if(this.snapshotCursor<=0)return;const e=Uo(),t=Yo(),l=this.snapshotCursor-1,o=await tn.snapshots.orderBy("id").toArray(),n=o[l],{index:c,slides:a}=n,r=c>a.length-1?a.length-1:c;e.setSlides(a),e.updateSlideIndex(r),this.setSnapshotCursor(l),t.setActiveElementIdList([])},async reDo(){if(this.snapshotCursor>=this.snapshotLength-1)return;const e=Uo(),t=Yo(),l=this.snapshotCursor+1,o=await tn.snapshots.orderBy("id").toArray(),n=o[l],{index:c,slides:a}=n,r=c>a.length-1?a.length-1:c;e.setSlides(a),e.updateSlideIndex(r),this.setSnapshotCursor(l),t.setActiveElementIdList([])}}}),on=Object(N["b"])("keyboard",{state:()=>({ctrlKeyState:!1,shiftKeyState:!1,spaceKeyState:!1}),getters:{ctrlOrShiftKeyActive(e){return e.ctrlKeyState||e.shiftKeyState}},actions:{setCtrlKeyState(e){this.ctrlKeyState=e},setShiftKeyState(e){this.shiftKeyState=e},setSpaceKeyState(e){this.spaceKeyState=e}}}),nn=Object(N["b"])("screen",{state:()=>({screening:!1}),actions:{setScreening(e){this.screening=e}}});function cn(e,t){return Object.values(t).flat().find(t=>t.key===e)}const an=Object(N["b"])("dashboard",{state:()=>({sidebarKey:"home",menuItems:{},user:null,loginState:null,activeMenuItem:null}),actions:{setSidebarKey(e){this.sidebarKey=e},setUser(e){this.user=e},setLoginState(e){this.loginState=e}}}),rn=(e,t)=>Object(Xt["padStart"])(""+e,t,"0"),sn=()=>!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|Mobile|BlackBerry|Symbian|Windows Phone)/i);var dn,un,bn,mn,pn,On;(function(e){e["UP"]="up",e["DOWN"]="down",e["TOP"]="top",e["BOTTOM"]="bottom"})(dn||(dn={})),function(e){e["TOP"]="top",e["BOTTOM"]="bottom",e["LEFT"]="left",e["RIGHT"]="right",e["VERTICAL"]="vertical",e["HORIZONTAL"]="horizontal",e["CENTER"]="center"}(un||(un={})),function(e){e["T"]="top",e["B"]="bottom",e["L"]="left",e["R"]="right"}(bn||(bn={})),function(e){e["LEFT_TOP"]="left-top",e["TOP"]="top",e["RIGHT_TOP"]="right-top",e["LEFT"]="left",e["RIGHT"]="right",e["LEFT_BOTTOM"]="left-bottom",e["BOTTOM"]="bottom",e["RIGHT_BOTTOM"]="right-bottom"}(mn||(mn={})),function(e){e["START"]="start",e["END"]="end",e["C"]="ctrl",e["C1"]="ctrl1",e["C2"]="ctrl2"}(pn||(pn={})),function(e){e["C"]="C",e["X"]="X",e["Z"]="Z",e["Y"]="Y",e["A"]="A",e["G"]="G",e["L"]="L",e["F"]="F",e["D"]="D",e["B"]="B",e["P"]="P",e["MINUS"]="-",e["EQUAL"]="=",e["DIGIT_0"]="0",e["DELETE"]="DELETE",e["UP"]="ARROWUP",e["DOWN"]="ARROWDOWN",e["LEFT"]="ARROWLEFT",e["RIGHT"]="ARROWRIGHT",e["ENTER"]="ENTER",e["SPACE"]=" ",e["TAB"]="TAB",e["BACKSPACE"]="BACKSPACE",e["ESC"]="ESCAPE",e["PAGEUP"]="PAGEUP",e["PAGEDOWN"]="PAGEDOWN",e["F5"]="F5"}(On||(On={}));const fn=[{type:"通用",children:[{label:"剪切",value:"Ctrl + X"},{label:"复制",value:"Ctrl + C"},{label:"粘贴",value:"Ctrl + V"},{label:"快速复制粘贴",value:"Ctrl + D"},{label:"全选",value:"Ctrl + A"},{label:"撤销",value:"Ctrl + Z"},{label:"恢复",value:"Ctrl + Y"},{label:"删除",value:"Delete / Backspace"},{label:"多选",value:"按住 Ctrl 或 Shift"},{label:"打印",value:"Ctrl + P"},{label:"关闭弹窗",value:"ESC"}]},{type:"幻灯片放映",children:[{label:"从头开始放映幻灯片",value:"F5"},{label:"从当前开始放映幻灯片",value:"Shift + F5"},{label:"切换上一页",value:"↑ / ← / PgUp"},{label:"切换下一页",value:"↓ / → / PgDown"},{label:"切换下一页",value:"Enter / Space"},{label:"退出放映",value:"ESC"},{label:"调整画笔笔触大小",value:"鼠标滚轮"}]},{type:"幻灯片编辑",children:[{label:"新建幻灯片",value:"Enter"},{label:"移动画布",value:"Space + 鼠标拖拽"},{label:"缩放画布",value:"Ctrl + 鼠标滚轮"},{label:"放大画布",value:"Ctrl + ="},{label:"缩小画布",value:"Ctrl + -"},{label:"使画布适应当前屏幕",value:"Ctrl + 0"},{label:"上一页（未选中元素）",value:"↑ / ←"},{label:"下一页（未选中元素）",value:"↓ / →"},{label:"上一页",value:"鼠标上滚 / PgUp"},{label:"下一页",value:"鼠标下滚 / PgDown"}]},{type:"元素操作",children:[{label:"移动",value:"↑ / ← / ↓ / →"},{label:"锁定",value:"Ctrl + L"},{label:"组合",value:"Ctrl + G"},{label:"取消组合",value:"Ctrl + Shift + G"},{label:"置顶层",value:"Alt + F"},{label:"置底层",value:"Alt + B"},{label:"锁定宽高比例",value:"按住 Ctrl 或 Shift"},{label:"创建水平 / 垂直线条",value:"按住 Ctrl 或 Shift"},{label:"切换焦点元素",value:"Tab"},{label:"确认图片裁剪",value:"Enter"}]},{type:"表格编辑",children:[{label:"聚焦到下一个单元格",value:"Tab"},{label:"在上方插入一行",value:"Ctrl + ↑"},{label:"在下方插入一行",value:"Ctrl + ↓"},{label:"在左侧插入一列",value:"Ctrl + ←"},{label:"在右侧插入一列",value:"Ctrl + →"}]},{type:"图表数据编辑",children:[{label:"聚焦到下一行",value:"Enter"}]},{type:"文本编辑",children:[{label:"加粗",value:"Ctrl + B"},{label:"斜体",value:"Ctrl + I"},{label:"下划线",value:"Ctrl + U"},{label:"删除线",value:"Ctrl + D"}]}];var jn=l("84e5"),vn=l.n(jn);const hn=e=>e,yn=e=>e,gn=e=>new Promise((t,l)=>{const o=document.createElement("button"),n=new vn.a(o,{text:()=>e,action:()=>"copy",container:document.body});n.on("success",e=>{n.destroy(),t(e)}),n.on("error",e=>{n.destroy(),l(e)}),document.body.appendChild(o),o.click(),document.body.removeChild(o)}),xn=()=>new Promise((e,t)=>{var l;null!==(l=navigator.clipboard)&&void 0!==l&&l.readText?navigator.clipboard.readText().then(l=>(l||t("剪贴板为空或者不包含文本"),e(l))):t("浏览器不支持或禁止访问剪贴板，请使用快捷键 Ctrl + V")}),kn=e=>{let t;try{t=JSON.parse(yn(e))}catch{t=e}return t},Cn=e=>{const t=e.split("\r\n");""===t[t.length-1]&&t.pop();let l=-1;const o=[];for(const n in t){if(o[n]=t[n].split("\t"),1===o[n].length)return null;if(-1===l)l=o[n].length;else if(l!==o[n].length)return null}return o},Nn=e=>{const{left:t,top:l,width:o,height:n,rotate:c=0}=e,a=Math.sqrt(Math.pow(o,2)+Math.pow(n,2))/2,r=180*Math.atan(n/o)/Math.PI,i=(180-c-r)*Math.PI/180,s=(r-c)*Math.PI/180,d=t+o/2,u=l+n/2,b=[d+a*Math.cos(i),d+a*Math.cos(s),d-a*Math.cos(i),d-a*Math.cos(s)],m=[u-a*Math.sin(i),u-a*Math.sin(s),u+a*Math.sin(i),u+a*Math.sin(s)];return{xRange:[Math.min(...b),Math.max(...b)],yRange:[Math.min(...m),Math.max(...m)]}},En=e=>{const{xRange:t,yRange:l}=Nn({left:e.left,top:e.top,width:e.width,height:e.height,rotate:0}),{xRange:o,yRange:n}=Nn({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});return{offsetX:o[0]-t[0],offsetY:n[0]-l[0]}},wn=e=>{let t,l,o,n;if("line"===e.type)t=e.left,l=e.left+Math.max(e.start[0],e.end[0]),o=e.top,n=e.top+Math.max(e.start[1],e.end[1]);else if("rotate"in e&&e.rotate){const{left:c,top:a,width:r,height:i,rotate:s}=e,{xRange:d,yRange:u}=Nn({left:c,top:a,width:r,height:i,rotate:s});t=d[0],l=d[1],o=u[0],n=u[1]}else t=e.left,l=e.left+e.width,o=e.top,n=e.top+e.height;return{minX:t,maxX:l,minY:o,maxY:n}},Vn=e=>{const t=[],l=[],o=[],n=[];e.forEach(e=>{const{minX:c,maxX:a,minY:r,maxY:i}=wn(e);t.push(c),l.push(r),o.push(a),n.push(i)});const c=Math.min(...t),a=Math.max(...o),r=Math.min(...l),i=Math.max(...n);return{minX:c,maxX:a,minY:r,maxY:i}},In=e=>{const t=[];return e.forEach(e=>{const l=t.findIndex(t=>t.value===e.value);if(-1===l)t.push(e);else{const o=t[l],n=Math.min(o.range[0],e.range[0]),c=Math.max(o.range[1],e.range[1]),a=[n,c],r={value:e.value,range:a};t[l]=r}}),t},Bn=e=>{const t={},l={};for(const o of e){const e=o.groupId;e&&!t[e]&&(t[e]=Object(yo["b"])(10)),l[o.id]=Object(yo["b"])(10)}return{groupIdMap:t,elIdMap:l}},Sn=e=>{const t=Gt()(e);return[t.setAlpha(.3).toRgbString(),t.setAlpha(.1).toRgbString()]},Ln=e=>{const t=e.start.join(","),l=e.end.join(",");if(e.broken){const o=e.broken.join(",");return`M${t} L${o} L${l}`}if(e.curve){const o=e.curve.join(",");return`M${t} Q${o} ${l}`}if(e.cubic){const[o,n]=e.cubic,c=o.join(","),a=n.join(",");return`M${t} C${c} ${a} ${l}`}return`M${t} L${l}`},_n=e=>{const t=e.replace(/[\n\r]+/g,"<br>"),l=t.split("<br>");let o="";for(const n of l)n&&(o+=`<div>${n}</div>`);return o},Tn=e=>new Promise(t=>{const l=document.createElement("img");l.src=e,l.style.opacity="0",document.body.appendChild(l),l.onload=()=>{const e=l.clientWidth,o=l.clientHeight;l.onload=null,l.onerror=null,document.body.removeChild(l),t({width:e,height:o})},l.onerror=()=>{l.onload=null,l.onerror=null}}),Mn=e=>new Promise(t=>{const l=new FileReader;l.addEventListener("load",()=>{t(l.result)}),l.readAsDataURL(e)}),Dn=1e3;var zn,Fn;(function(e){e["ROUND_RECT"]="roundRect",e["ROUND_RECT_DIAGONAL"]="roundRectDiagonal",e["ROUND_RECT_SINGLE"]="roundRectSingle",e["ROUND_RECT_SAMESIDE"]="roundRectSameSide",e["CUT_RECT_DIAGONAL"]="cutRectDiagonal",e["CUT_RECT_SINGLE"]="cutRectSingle",e["CUT_RECT_SAMESIDE"]="cutRectSameSide",e["MESSAGE"]="message",e["ROUND_MESSAGE"]="roundMessage",e["L"]="L",e["RING_RECT"]="ringRect",e["PLUS"]="plus",e["TRIANGLE"]="triangle",e["PARALLELOGRAM_LEFT"]="parallelogramLeft",e["PARALLELOGRAM_RIGHT"]="parallelogramRight",e["TRAPEZOID"]="trapezoid",e["BULLET"]="bullet",e["INDICATOR"]="indicator"})(zn||(zn={})),function(e){e["TEXT"]="text",e["IMAGE"]="image",e["SHAPE"]="shape",e["LINE"]="line",e["CHART"]="chart",e["TABLE"]="table",e["LATEX"]="latex",e["VIDEO"]="video",e["AUDIO"]="audio"}(Fn||(Fn={}));const An={[zn.ROUND_RECT]:{editable:!0,defaultValue:.125,range:[0,.5],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M ${o} 0 L ${e-o} 0 Q ${e} 0 ${e} ${o} L ${e} ${t-o} Q ${e} ${t} ${e-o} ${t} L ${o} ${t} Q 0 ${t} 0 ${t-o} L 0 ${o} Q 0 0 ${o} 0 Z`}},[zn.CUT_RECT_DIAGONAL]:{editable:!0,defaultValue:.2,range:[0,.9],relative:"right",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 ${t-o} L 0 0 L ${e-o} 0 L ${e} ${o} L ${e} ${t} L ${o} ${t} Z`}},[zn.CUT_RECT_SINGLE]:{editable:!0,defaultValue:.2,range:[0,.9],relative:"right",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 ${t} L 0 0 L ${e-o} 0 L ${e} ${o} L ${e} ${t} Z`}},[zn.CUT_RECT_SAMESIDE]:{editable:!0,defaultValue:.2,range:[0,.5],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 ${o} L ${o} 0 L ${e-o} 0 L ${e} ${o} L ${e} ${t} L 0 ${t} Z`}},[zn.ROUND_RECT_DIAGONAL]:{editable:!0,defaultValue:.125,range:[0,1],relative:"right",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 0 L ${e-o} 0 Q ${e} 0 ${e} ${o} L ${e} ${t} L ${o} ${t} Q 0 ${t} 0 ${t-o} L 0 0 Z`}},[zn.ROUND_RECT_SINGLE]:{editable:!0,defaultValue:.125,range:[0,1],relative:"right",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 0 L ${e-o} 0 Q ${e} 0 ${e} ${o} L ${e} ${t} L 0 ${t} L 0 0 Z`}},[zn.ROUND_RECT_SAMESIDE]:{editable:!0,defaultValue:.125,range:[0,.5],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 ${o} Q 0 0 ${o} 0 L ${e-o} 0 Q ${e} 0 ${e} ${o} L ${e} ${t} L 0 ${t} Z`}},[zn.MESSAGE]:{formula:(e,t)=>{const l=.2*e,o=.2*t;return`M 0 0 L ${e} 0 L ${e} ${t-o} L ${e/2} ${t-o} L ${e/2-l} ${t} L ${e/2-l} ${t-o} L 0 ${t-o} Z`}},[zn.ROUND_MESSAGE]:{formula:(e,t)=>{const l=.125*Math.min(e,t),o=.2*e,n=.2*t;return`M 0 ${l} Q 0 0 ${l} 0 L ${e-l} 0 Q ${e} 0 ${e} ${l} L ${e} ${t-l-n} Q ${e} ${t-n} ${e-l} ${t-n} L ${e/2} ${t-n} L ${e/2-o} ${t} L ${e/2-o} ${t-n} L ${l} ${t-n} Q 0 ${t-n} 0 ${t-l-n} L 0 ${l} Z`}},[zn.L]:{editable:!0,defaultValue:.25,range:[.1,.9],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 0 L 0 ${t} L ${e} ${t} L ${e} ${t-o} L ${o} ${t-o} L ${o} 0 Z`}},[zn.RING_RECT]:{editable:!0,defaultValue:.25,range:[.1,.45],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 0 ${e} 0 ${e} ${t} L 0 ${t} L 0 0 Z M ${o} ${o} L ${o} ${t-o} L ${e-o} ${t-o} L ${e-o} ${o} Z`}},[zn.PLUS]:{editable:!0,defaultValue:.25,range:[.1,.9],relative:"center",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M ${e/2-o/2} 0 L ${e/2-o/2} ${t/2-o/2} L 0 ${t/2-o/2} L 0 ${t/2+o/2} L ${e/2-o/2} ${t/2+o/2} L ${e/2-o/2} ${t} L ${e/2+o/2} ${t} L ${e/2+o/2} ${t/2+o/2} L ${e} ${t/2+o/2} L ${e} ${t/2-o/2} L ${e/2+o/2} ${t/2-o/2} L ${e/2+o/2} 0 Z`}},[zn.TRIANGLE]:{editable:!0,defaultValue:.5,range:[0,1],relative:"left",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M ${o} 0 L 0 ${t} L ${e} ${t} Z`}},[zn.PARALLELOGRAM_LEFT]:{editable:!0,defaultValue:.25,range:[0,.9],relative:"left",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M ${o} 0 L ${e} 0 L ${e-o} ${t} L 0 ${t} Z`}},[zn.PARALLELOGRAM_RIGHT]:{editable:!0,defaultValue:.25,range:[0,.9],relative:"right",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M 0 0 L ${e-o} 0 L ${e} ${t} L ${o} ${t} Z`}},[zn.TRAPEZOID]:{editable:!0,defaultValue:.25,range:[0,.5],relative:"left",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M ${o} 0 L ${e-o} 0 L ${e} ${t} L 0 ${t} Z`}},[zn.BULLET]:{editable:!0,defaultValue:.2,range:[0,1],relative:"top",getBaseSize:(e,t)=>t,formula:(e,t,l)=>{const o=t*l;return`M ${e/2} 0 L 0 ${o} L 0 ${t} L ${e} ${t} L ${e} ${o} Z`}},[zn.INDICATOR]:{editable:!0,defaultValue:.2,range:[0,.9],relative:"right",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M ${e} ${t/2} L ${e-o} 0 L 0 0 L ${o} ${t/2} L 0 ${t} L ${e-o} ${t} Z`}}},$n=[{type:"矩形",children:[{viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z"},{viewBox:[200,200],path:"M 50 0 L 150 0 Q 200 0 200 50 L 200 150 Q 200 200 150 200 L 50 200 Q 0 200 0 150 L 0 50 Q 0 0 50 0 Z",pathFormula:zn.ROUND_RECT},{viewBox:[200,200],path:"M 0 150 L 0 0 L 150 0 L 200 50 L 200 200 L 50 200 Z",pathFormula:zn.CUT_RECT_DIAGONAL},{viewBox:[200,200],path:"M 0 200 L 0 0 L 150 0 L 200 50 L 200 200 Z",pathFormula:zn.CUT_RECT_SINGLE},{viewBox:[200,200],path:"M 0 50 L 50 0 L 150 0 L 200 50 L 200 200 L 0 200 Z",pathFormula:zn.CUT_RECT_SAMESIDE},{viewBox:[200,200],path:"M 0 0 L 150 0 Q 200 0 200 50 L 200 200 L 50 200 Q 0 200 0 150 L 0 0 Z",pathFormula:zn.ROUND_RECT_DIAGONAL},{viewBox:[200,200],path:"M 0 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 L 0 0 Z",pathFormula:zn.ROUND_RECT_SINGLE},{viewBox:[200,200],path:"M 0 50 Q 0 0 50 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 Z",pathFormula:zn.ROUND_RECT_SAMESIDE}]},{type:"常用形状",children:[{viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 200 L 200 200 L 100 0 Z",pathFormula:zn.TRIANGLE},{viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z"},{viewBox:[200,200],path:"M 50 0 L 200 0 L 150 200 L 0 200 L 50 0 Z",pathFormula:zn.PARALLELOGRAM_LEFT},{viewBox:[200,200],path:"M 0 0 L 150 0 L 200 200 L 50 200 L 0 0 Z",pathFormula:zn.PARALLELOGRAM_RIGHT},{viewBox:[200,200],path:"M 50 0 L 150 0 L 200 200 L 0 200 L 50 0 Z",pathFormula:zn.TRAPEZOID},{viewBox:[200,200],path:"M 100 0 L 0 100 L 100 200 L 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 50 L 0 200 L 200 200 L 200 50 L 100 0 Z",pathFormula:zn.BULLET},{viewBox:[200,200],path:"M 200 100 L 150 0 L 0 0 L 50 100 L 0 200 L 150 200 L 200 100 Z",pathFormula:zn.INDICATOR},{viewBox:[200,200],path:"M 0 200 A 50 100 0 1 1 200 200 L 0 200 Z"},{viewBox:[200,200],path:"M 40 20 A 100 100 0 1 0 200 100 L 100 100 L 40 20 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 100 100 L 100 0 Z"},{viewBox:[200,200],path:"M 160 20 A 100 100 0 1 0 200 100 L 100 100 L 160 20 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 200 0 L 100 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 0 Q 200 200 0 200 L 0 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 90 L 50 200 L 150 200 L 200 90 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 60 L 0 140 L 100 200 L 200 140 L 200 60 L 100 0 Z"},{viewBox:[200,200],path:"M 60 0 L 140 0 L 200 60 L 200 140 L 140 200 L 60 200 L 0 140 L 0 60 L 60 0 Z"},{viewBox:[200,200],path:"M 75 0 L 125 0 L 175 25 L 200 75 L 200 125 L 175 175 L 125 200 L 75 200 L 25 175 L 0 125 L 0 75 L 25 25 L 75 0 Z"},{viewBox:[200,200],path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 L 0 0 L 150 0 Z"},{viewBox:[200,200],path:"M 50 0 A 25 50 0 1 0 50 200 L 150 200 A 25 50 0 1 0 150 0 L 50 0 Z"},{viewBox:[200,200],path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 A 50 100 0 0 0 0 0 L 150 0 Z"},{viewBox:[200,200],path:"M 200 0 L 200 200 L 0 200 L 0 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 100 L 200 200 L 0 200 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 100 0 L 0 100 L 0 200 L 200 0 Z"},{viewBox:[200,200],path:"M 50 0 L 150 0 L 150 50 L 200 50 L 200 150 L 150 150 L 150 200 L 50 200 L 50 150 L 0 150 L 0 50 L 50 50 L 50 0 Z"},{viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 L 200 140 L 60 140 L 60 0 L 0 0 Z",pathFormula:zn.L},{viewBox:[200,200],path:"M0 0 L200 0 L200 200 L0 200 L0 0 Z M50 50 L50 150 L150 150 L150 50 Z",pathFormula:zn.RING_RECT},{viewBox:[200,200],path:"M0 100 A100 100 0 1 1 0 101 Z M150 100 A50 50 0 1 0 150 101 Z"},{viewBox:[200,200],path:"M 70 0 L 70 70 L 0 70 L 0 130 L 70 130 L 70 200 L 130 200 L 130 130 L 200 130 L 200 70 L 130 70 L 130 0 L 70 0 Z",pathFormula:zn.PLUS},{viewBox:[200,200],path:"M 40 0 L 0 40 L 60 100 L 0 160 L 40 200 L 100 140 L 160 200 L 200 160 L 140 100 L 200 40 L 160 0 L 100 60 L 40 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 0 L 200 160 L 100 160 L 60 200 L 60 160 L 0 160 Z",pathFormula:zn.MESSAGE},{viewBox:[200,200],path:"M 0 40 Q 0 0 40 0 L 160 0 Q 200 0 200 40 L 200 120 Q 200 160 160 160 L 100 160 L 60 200 L 60 160 L 40 160 Q 0 160 0 120 L 0 40 Z",pathFormula:zn.ROUND_MESSAGE},{viewBox:[200,200],path:"M 180 160 A 100 100 0 1 0 100 200 L 200 200 L 200 160 L 180 160 Z"},{viewBox:[200,200],path:"M 200 0 L 0 0 L 200 200 L 0 200 L 200 0 Z"},{viewBox:[200,200],path:"M 0 20 C 60 60 140 -40 200 20 L 200 180 C 140 140 60 240 0 180 L 0 20 Z"},{viewBox:[200,200],path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z"},{viewBox:[200,200],path:"M 100 0 Q 0 50 0 175 Q 100 225 200 175 Q 200 50 100 0 Z"},{viewBox:[200,200],path:"M 0 100 A 50 50 0 1 1 200 100 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 100 0 L 60 60 L 0 100 L 60 140 L 100 200 L 140 140 L 200 100 L 140 60 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 80 40 L 20 20 L 40 80 L 0 100 L 40 120 L 20 180 L 80 160 L 100 200 L 120 160 L 180 180 L 160 120 L 200 100 L 160 80 L 180 20 L 120 40 L 100 0 Z"}]},{type:"箭头",children:[{viewBox:[200,200],path:"M 100 0 L 0 100 L 50 100 L 50 200 L 150 200 L 150 100 L 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 200 L 200 100 L 150 100 L 150 0 L 50 0 L 50 100 L 0 100 L 100 200 Z"},{viewBox:[200,200],path:"M 0 100 L 100 0 L 100 50 L 200 50 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 100 0 L 100 50 L 0 50 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:[200,200],path:"M 100 0 L 0 60 L 60 60 L 60 140 L 0 140 L 100 200 L 200 140 L 140 140 L 140 60 L 200 60 L 100 0 Z"},{viewBox:[200,200],path:"M 0 100 L 60 0 L 60 60 L 140 60 L 140 0 L 200 100 L 140 200 L 140 140 L 60 140 L 60 200 L 0 100 Z"},{viewBox:[200,200],path:"M 100 0 L 60 40 L 80 40 L 80 80 L 40 80 L 40 60 L 0 100 L 40 140 L 40 120 L 80 120 L 80 160 L 60 160 L 100 200 L 140 160 L 120 160 L 120 120 L 160 120 L 160 140 L 200 100 L 160 60 L 160 80 L 120 80 L 120 40 L 140 40 L 100 0 Z"},{viewBox:[200,200],path:"M 0 100 L 100 0 L 100 50 L 200 50 L 150 100 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 100 0 L 100 50 L 0 50 L 50 100 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:[200,200],path:"M 0 100 L 80 20 L 80 80 L 120 80 L 120 0 L 200 0 L 200 200 L 120 200 L 120 120 L 80 120 L 80 180 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 120 20 L 120 80 L 80 80 L 80 0 L 0 0 L 0 200 L 80 200 L 80 120 L 120 120 L 120 180 L 200 100 Z"},{viewBox:[200,200],path:"M 0 0 L 120 0 L 200 100 L 120 200 L 0 200 L 80 100 L 0 0 Z"},{viewBox:[200,200],path:"M 80 0 L 200 0 L 120 100 L 200 200 L 80 200 L 0 100 L 80 0 Z"},{viewBox:[200,200],path:"M 0 0 L 140 0 L 200 100 L 140 200 L 0 200 L 0 100 L 0 0 Z"},{viewBox:[200,200],path:"M 60 0 L 200 0 L 200 100 L 200 200 L 60 200 L 0 100 L 60 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 100 L 0 200 L 60 100 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 0 100 L 200 200 L 140 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 0 L 80 0 L 200 100 L 80 200 L 0 200 L 120 100 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 120 0 L 0 100 L 120 200 L 200 200 L 80 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 200 L 180 200 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 160 L 0 160 L 0 200 Z"},{viewBox:[200,200],path:"M 0 200 L 0 20 L 160 20 L 160 0 L 200 40 L 160 80 L 160 60 L 40 60 L 40 200 L 0 200 Z"},{viewBox:[200,200],path:"M 40 180 L 180 180 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 140 L 40 140 L 40 120 L 0 160 L 40 200 L 40 180 Z"},{viewBox:[1024,1024],path:"M398.208 302.912V64L0 482.112l398.208 418.176V655.36c284.48 0 483.584 95.552 625.792 304.64-56.896-298.688-227.584-597.312-625.792-657.088z",special:!0},{viewBox:[1024,1024],path:"M625.792 302.912V64L1024 482.112l-398.208 418.176V655.36C341.312 655.36 142.208 750.912 0 960c56.896-298.688 227.584-597.312 625.792-657.088z",special:!0}]},{type:"其他形状",children:[{viewBox:[1024,1024],path:"M995.336 243.4016c-15.7584-36.5736-38.3376-69.26639999-66.91440001-97.37280001-28.5768-27.98879999-61.73999999-49.8624-98.78399999-65.26799998-38.22-15.876-78.6744-23.8728-120.4224-23.87280001-57.97680001 0-114.5424 15.876-163.69919999 45.864-11.76 7.17360001-22.932 15.05279999-33.51600001 23.63760001-10.584-8.5848-21.75600001-16.46400001-33.51600001-23.63760001-49.1568-29.98799999-105.7224-45.86399999-163.69919999-45.864-41.74799999 0-82.2024 7.9968-120.4224 23.87280001-36.9264 15.28799999-70.2072 37.27919999-98.78399999 65.26799998-28.6944 28.10640001-51.156 60.79919999-66.91440001 97.37280001-16.34639999 37.9848-24.696 78.3216-24.696 119.83439999 0 39.1608 7.9968 79.96800001 23.8728 121.48080001 13.28880001 34.692 32.34000001 70.67760001 56.6832 107.016 38.57279999 57.5064 91.61040001 117.4824 157.4664 178.28160001 109.1328 100.78319999 217.2072 170.4024 221.79359999 173.22479998l27.87120001 17.8752c12.348 7.8792 28.224 7.8792 40.572 0l27.87119999-17.8752c4.58639999-2.94 112.54319999-72.44159999 221.79360001-173.22479998 65.85599999-60.79919999 118.89359999-120.7752 157.4664-178.28160001 24.3432-36.33839999 43.512-72.324 56.68319999-107.016 15.876-41.5128 23.8728-82.32 23.87280001-121.48080001 0.1176-41.5128-8.232-81.8496-24.5784-119.83439999z",special:!0},{viewBox:[1024,1024],path:"M985.20746667 343.50079998l-303.32586667-44.08319999L546.28693333 24.5248c-3.70346666-7.5264-9.79626667-13.6192-17.32266665-17.32266668-18.87573334-9.3184-41.81333333-1.55306667-51.25120001 17.32266668L342.1184 299.41759999l-303.32586667 44.08319999c-8.36266667 1.19466667-16.00853333 5.13706667-21.8624 11.11040001-14.69440001 15.17226667-14.45546667 39.30453334 0.71679999 54.1184l219.46026668 213.9648-51.84853333 302.1312c-1.43359999 8.24320001-0.11946667 16.8448 3.82293333 24.25173333 9.79626667 18.6368 32.9728 25.92426667 51.6096 16.00853334L512 822.44266665l271.3088 142.64320001c7.40693333 3.9424 16.00853333 5.25653333 24.25173333 3.82293333 20.78719999-3.584 34.7648-23.296 31.1808-44.0832l-51.84853333-302.1312 219.46026668-213.9648c5.97333334-5.85386666 9.91573333-13.49973334 11.11039999-21.8624 3.2256-20.90666667-11.34933333-40.26026667-32.256-43.36640001z",special:!0},{viewBox:[1024,1024],path:"M852.65066667 405.84533333C800.54044445 268.40177778 667.76177778 170.66666667 512.22755555 170.66666667S223.91466667 268.288 171.80444445 405.73155555C74.29688889 431.33155555 2.27555555 520.07822222 2.27555555 625.77777778c0 125.72444445 101.83111111 227.55555555 227.44177778 227.55555555h564.56533334C919.89333333 853.33333333 1021.72444445 751.50222222 1021.72444445 625.77777778c0-105.472-71.79377778-194.21866667-169.07377778-219.93244445z",special:!0},{viewBox:[1024,1024],path:"M926.25224691 323.7371485H654.6457886L898.88200917 15.14388241c5.05486373-6.53433603 0.49315743-16.02761669-7.76722963-16.02761668H418.30008701c-3.45210206 0-6.78091476 1.84934039-8.50696579 4.93157436L90.35039154 555.76772251c-3.82197013 6.53433603 0.86302552 14.7947231 8.50696578 14.79472311h215.01664245l-110.22068713 440.88274851c-2.34249783 9.61657002 9.24670194 16.39748478 16.39748477 9.49328065L933.03316167 340.62779071c6.41104668-6.0411786 2.09591911-16.8906422-6.78091476-16.89064221z",special:!0},{viewBox:[1024,1024],path:"M878.47822222 463.30311111c-22.18666667-49.83466667-53.93066667-93.98044445-94.32177777-131.072l-33.10933334-30.37866666c-4.89244445-4.32355555-12.62933333-2.38933333-14.79111111 3.75466666l-14.79111111 42.43911111c-9.216 26.624-26.16888889 53.81688889-50.176 80.55466667-1.59288889 1.70666667-3.41333333 2.16177778-4.66488889 2.27555556-1.25155555 0.11377778-3.18577778-0.11377778-4.89244445-1.70666667-1.59288889-1.36533333-2.38933333-3.41333333-2.27555555-5.46133333 4.20977778-68.49422222-16.27022222-145.74933333-61.09866667-229.83111112C561.26577778 124.01777778 509.72444445 69.51822222 445.32622222 31.51644445l-46.99022222-27.648c-6.144-3.64088889-13.99466667 1.13777778-13.65333333 8.30577777l2.50311111 54.61333333c1.70666667 37.31911111-2.61688889 70.31466667-12.85688889 97.73511112-12.51555555 33.56444445-30.49244445 64.73955555-53.47555556 92.72888888-16.15644445 19.56977778-34.24711111 37.20533333-54.04444444 52.45155556-47.90044445 36.75022222-87.38133333 84.65066667-114.11911111 138.24C125.72444445 502.10133333 111.50222222 562.74488889 111.50222222 623.50222222c0 53.70311111 10.58133333 105.69955555 31.51644445 154.73777778 20.25244445 47.21777778 49.152 89.77066667 85.90222222 126.17955555 36.864 36.40888889 79.64444445 65.08088889 127.31733333 84.992C405.61777778 1010.11911111 457.95555555 1020.58666667 512 1020.58666667s106.38222222-10.46755555 155.76177778-31.06133334c47.67288889-19.91111111 90.56711111-48.46933333 127.31733333-84.992 36.864-36.40888889 65.76355555-78.96177778 85.90222222-126.17955555 20.93511111-49.03822222 31.51644445-101.03466667 31.51644445-154.73777778 0-55.52355555-11.37777778-109.45422222-34.01955556-160.31288889z",special:!0},{viewBox:[1024,1024],path:"M968.20337778 20.11591112H705.44042667c-22.17301333 0-41.92483556 15.16430222-47.14951111 37.33731555C642.36202666 124.73685332 582.08711111 173.03324444 512 173.03324444s-130.36202666-48.29639112-146.29091556-115.58001777c-5.22467555-22.17301333-24.84906667-37.33731556-47.14951111-37.33731555H55.79662222c-30.96576 0-56.06968889 25.10392889-56.06968888 56.06968888v321.12639999c0 30.96576 25.10392889 56.06968889 56.06968888 56.06968889h95.57333334v494.43271112c0 30.96576 25.10392889 56.06968889 56.06968889 56.06968888h609.1207111c30.96576 0 56.06968889-25.10392889 56.06968889-56.06968888V453.38168888h95.57333334c30.96576 0 56.06968889-25.10392889 56.06968888-56.06968889V76.1856c0-30.96576-25.10392889-56.06968889-56.06968888-56.06968888z",special:!0},{viewBox:[1024,1024],path:"M980.94648889 239.80714666H523.46880001L373.99210666 96.82944c-1.91146667-1.78403556-4.46008889-2.80348444-7.00871111-2.80348445H43.05351111c-22.55530667 0-40.77795555 18.22264888-40.77795555 40.77795557v754.39217776c0 22.55530667 18.22264888 40.77795555 40.77795555 40.77795557h937.89297778c22.55530667 0 40.77795555-18.22264888 40.77795555-40.77795557V280.58510222c0-22.55530667-18.22264888-40.77795555-40.77795555-40.77795556z",special:!0},{viewBox:[1024,1024],path:"M972.60904597 164.57058577L841.30587843 33.39070759c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480282-29.3428675-26.75379095 0-51.90482023 10.47959553-70.76809219 29.3428675L558.60337778 174.68031322c-18.86327195 18.86327195-29.34286748 44.1375906-29.34286749 70.64480283 0 26.75379095 10.47959553 51.90482023 29.34286749 70.76809218l103.31648301 103.31648302c-24.28800376 53.50758189-57.69942011 101.59043198-99.24793416 143.13894603-41.42522469 41.67180341-89.63136414 75.08321976-143.13894603 99.61780223L316.21649759 558.84995649c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480283-29.34286747-26.75379095 0-51.90482023 10.47959553-70.76809217 29.34286747L33.39070759 700.01627278c-18.86327195 18.86327195-29.34286748 44.1375906-29.3428675 70.76809217 0 26.75379095 10.47959553 51.90482023 29.3428675 70.76809219l131.05658883 131.05658883c30.08260365 30.205893 71.63111769 47.34311394 114.28923598 47.34311394 9.00012323 0 17.63037836-0.73973616 26.13734414-2.21920846 166.19405621-27.37023774 331.03192945-115.76870829 464.06114804-248.67463751C901.84095379 636.27567408 990.11613498 471.56109018 1017.85624079 304.87387654c8.38367642-50.91850535-8.50696579-103.31648302-45.24719482-140.30329077z",special:!0},{viewBox:[1024,1024],path:"M910.60451556 640.96028445c-20.38897778-65.49959112-43.83630221-120.54983112-79.89930667-210.64362666C836.31217778 193.67708444 737.93535999 2.27555556 511.36284444 2.27555556 282.24170667 2.27555556 186.03121778 197.50001778 192.14791111 430.31665779c-36.19043555 90.22122667-59.51032888 144.88917333-79.89930667 210.64362666-43.32657778 139.53706668-29.30915556 197.26336001-18.60494222 198.53767111 22.9376 2.80348444 89.32920888-105.00323556 89.32920889-105.00323556 0 62.44124445 32.11264001 143.86972444 101.69002667 202.61546667-33.64181333 10.32192-109.20846222 38.10190221-91.24067556 68.55793777 14.52714667 24.59420444 250.01984 15.67402668 317.94062222 8.02816 67.92078222 7.64586667 303.41347556 16.56604444 317.94062223-8.02816 17.96778667-30.32860444-57.72629333-58.23601779-91.24067555-68.55793777 69.57738667-58.87317334 101.69002667-140.30165333 101.69002667-202.61546667 0 0 66.39160889 107.80672 89.32920888 105.00323556 10.83164445-1.40174222 24.84906667-59.12803556-18.47751111-198.53767111z",special:!0},{viewBox:[1024,1024],path:"M1016.86992592 199.24764445c-37.13706667 16.01991111-77.55093333 27.54939259-119.17842962 32.03982222 42.96248889-25.60758518 75.60912592-66.02145185 91.02222222-114.08118519-39.68568889 23.66577778-84.58998518 41.02068148-131.31472593 50.00154074C819.53374815 126.79395555 765.76995555 101.79318518 706.18074075 101.79318518c-114.688 0-206.92385185 92.96402963-206.92385186 207.04521482 0 16.01991111 1.94180741 32.03982222 5.09724444 47.45291852-171.72859259-8.98085925-324.88865185-91.02222222-426.71217778-216.63288889-17.96171852 30.82619259-28.15620741 66.02145185-28.1562074 104.49351112 0 71.84687408 36.53025185 135.19834075 92.23585185 172.45677036-33.98162963-1.33499259-66.02145185-10.92266667-93.57084445-26.33576296v2.54862222c0 100.6098963 71.1186963 183.98625185 165.90317037 203.1616-17.3549037 4.49042963-35.92343703 7.03905185-54.49197037 7.03905185-13.47128889 0-26.2144-1.33499259-39.07887407-3.15543704C146.69748148 681.90814815 223.03478518 741.49736297 313.93564445 743.43917037c-71.1186963 55.7056-160.19911111 88.4736-256.9253926 88.4736-17.3549037 0-33.37481482-0.60681482-50.00154074-2.54862222C98.75911111 888.22518518 207.62168889 922.20681482 324.85831111 922.20681482 705.45256297 922.20681482 913.71140741 606.90583703 913.71140741 333.23235555c0-8.98085925 0-17.96171852-0.60681482-26.94257777 40.2925037-29.4912 75.60912592-66.02145185 103.76533333-107.04213333z",special:!0},{viewBox:[1024,1024],path:"M917.96720197 1.08889505H106.03279803C53.56084718 1.08889505 9.37393998 45.27580225 9.37393998 97.74775309v5.52336372c0 19.33177108 8.28504494 41.42522469 22.0934536 55.23363205l331.40179753 392.15879462v325.87843379c0 16.57008987 8.28504494 30.37849854 22.09345359 35.90186098l209.88780469 104.94390299 2.76168121 2.76168121c27.61681602 11.04672615 55.23363335-8.28504494 55.23363335-38.66354218V550.66354348l331.40179753-392.15879462c35.90186097-41.42522469 30.37849854-102.18222047-11.04672616-135.32240022-11.04672615-13.80840865-33.14017975-22.0934536-55.23363335-22.09345359z",special:!0},{viewBox:[1024,1024],path:"M491.70164031 97.48884502a25.89076502 25.89076502 0 0 1 40.59671938 0L745.66415762 367.01171317a25.89076502 25.89076502 0 0 0 30.49932208 7.72839349l208.00640948-89.14190458a25.89076502 25.89076502 0 0 1 35.56096592 29.06238339l-115.18801541 554.96855704A103.56306132 103.56306132 0 0 1 803.14165689 952.14301275H220.85834311a103.56306132 103.56306132 0 0 1-101.4011828-82.51387024l-115.18801541-554.96855704a25.89076502 25.89076502 0 0 1 35.54802012-29.06238339l208.01935528 89.14190458a25.89076502 25.89076502 0 0 0 30.49932208-7.72839349l213.36579793-269.52286815z",special:!0},{viewBox:[1024,1024],path:"M643.02466884 387.7801525c19.85376751-88.69205333 33.718272-152.84087467 41.61900049-192.57389433C704.52292267 95.17283515 652.90057916 2.27555515 550.58614084 2.27555515c-92.26012484 0-138.59407685 45.84971417-165.91530666 137.49816969l-0.70087152 2.67605334c-16.40038399 74.13942085-41.47882668 131.61085116-74.6746315 172.73287031a189.06953915 189.06953915 0 0 1-143.04142182 70.44391902l-26.17434983 0.5606965C77.66380049 387.52529067 27.76177817 438.90551468 27.76177817 501.84374084V881.55022182c0 77.4144 62.25009818 140.17422182 139.05282766 140.17422303h492.82707951c101.23127467 0 191.59267516-63.995904 225.93535999-159.98976l102.37815468-286.22301868c26.04691951-72.82688-11.39234134-153.15945284-83.63303784-179.42300483a138.04612267 138.04612267 0 0 0-47.17499733-8.30850884H643.02466884z",special:!0},{viewBox:[1024,1024],path:"M512 512c140.82958222 0 254.86222222-114.03264 254.86222222-254.86222222S652.82958222 2.27555555 512 2.27555555a254.78940445 254.78940445 0 0 0-254.86222222 254.86222223C257.13777778 397.96736 371.17041778 512 512 512z m0 72.81777778c-170.10232889 0-509.72444445 97.57582222-509.72444445 291.27111111v145.63555556h1019.4488889v-145.63555556c0-193.69528889-339.62211555-291.27111111-509.72444445-291.27111111z",special:!0},{viewBox:[1024,1024],path:"M1019.81297778 564.50161779l-138.89991111-472.51456c-8.66531556-25.99594668-29.43658667-43.45400889-57.21656889-43.45400891s-50.33528889 15.67402668-59.00060446 41.66997334l-92.00526221 274.48661334H351.69166222L259.6864 90.33045333c-8.66531556-25.99594668-31.22062222-41.66997333-59.00060444-41.66997332s-50.33528889 17.33063112-57.2165689 43.45400887L4.69674667 564.50161779c-5.22467555 17.33063112 1.78403556 36.44529778 15.67402667 46.89464887l491.11950221 368.27591113 492.77610666-368.27591113c13.76256-10.32192 20.77127111-29.43658667 15.54659557-46.89464887z",special:!0},{viewBox:[1024,1024],path:"M927.78951111 340.39277037c-12.01493333-47.81700741 12.01493333-124.03294815 89.08041481-150.97552592l-82.40545184-4.36906667s-31.19028148-109.22666667-174.27721483-118.9357037c-143.08693333-9.8304-236.65777778-3.64088889-236.65777777-3.6408889s106.07122963 67.47780741 63.5941926 187.74850371c-31.06891852 63.71555555-79.85682963 116.02299259-132.04290371 175.61220741-1.57771852 1.57771852-3.03407408 3.15543703-4.2477037 4.49042962C278.25493333 624.86755555 7.13007408 934.34311111 7.13007408 934.34311111c298.43152592 78.15774815 498.43768889-7.64586667 616.76657777-110.56165926 24.87940741-0.24272592 43.5693037-0.36408889 56.19105185-0.36408888 164.8109037 0 304.13558518-142.72284445 298.43152593-301.4656-3.88361482-109.1053037-38.71478518-133.74198518-50.72971852-181.5589926z",special:!0},{viewBox:[1024,1024],path:"M997.8886764 504.17210418L537.2729208 43.89182982c-13.97838539-13.97838539-36.56745619-13.97838539-50.5458416 0L26.1113236 504.17210418c-13.41924998 13.41924998-21.02349164 31.64706454-21.02349163 50.65766867 0 39.47496036 32.09437288 71.56933323 71.56933324 71.56933323h48.53295408V954.83524937c0 19.79339373 15.99127289 35.78466661 35.78466663 35.78466662H440.43066677V740.12724968h125.24633315v250.49266631h297.34821416c19.79339373 0 35.78466661-15.99127289 35.78466663-35.78466662V626.39910608h48.53295408c19.01060414 0 37.23841869-7.49241457 50.65766869-21.02349163 27.84494371-27.95677079 27.84494371-73.24673948-0.11182708-101.20351027z",special:!0},{viewBox:[1024,1024],path:"M1009.13013121 349.27572283L674.72427717 14.86986879c-8.82158299-8.82158299-20.35749924-13.16451618-31.89341544-13.16451618s-23.07183245 4.34293316-31.89341547 13.16451618L392.29790453 233.6451272c-16.5574327-1.90003326-33.25058207-2.71433322-49.94373146-2.71433324-99.34459624 0-198.68919249 32.70771543-280.25490606 98.12314628-20.90036589 16.69314938-22.52896582 48.04369819-3.66434987 67.04403081l246.59717401 246.59717401-292.33368895 292.06225564c-3.52863319 3.52863319-5.83581644 8.27871636-6.24296642 13.30023282l-4.61436649 50.48659809c-1.22144996 12.75736619 8.95729967 23.6146991 21.57894918 23.6146991 0.6785833 0 1.35716662 0 2.03574992-0.13571666l50.48659809-4.61436649c5.02151649-0.40714999 9.77159962-2.71433322 13.30023282-6.24296643l292.33368896-292.33368896 246.59717402 246.59717401c8.82158299 8.82158299 20.35749924 13.16451618 31.89341544 13.16451618 13.16451618 0 26.19331567-5.70009979 35.15061536-16.82886604 76.40848044-95.40881307 108.16617924-214.83947521 95.27309638-330.33435417l218.63954175-218.63954173c17.50744934-17.37173267 17.50744934-45.8722316 0-63.51539759z",special:!0},{viewBox:[1024,1024],path:"M976.62005979 160.47737905c-0.39452595-0.39452595-80.35178503 78.64217259-239.47725131 237.50462156l-111.6508437-111.65084369 237.89914752-237.89914752c-125.19623464-75.35445635-286.03131335-56.02268482-390.31767264 48.26367449-81.92988882 81.92988882-112.57140424 200.15616502-83.37648398 310.09739626l2.36715569 8.81107954-372.82702222 372.69551356c-8.15353628 8.15353628-8.15353628 21.56741857 0 29.72095487l185.95323084 185.95323084c8.15353628 8.15353628 21.56741857 8.15353628 29.72095485 0l372.56400493-372.56400493 8.81107953 2.3671557c110.07273989 29.32642892 228.29901608-1.18357785 310.36041356-83.24497533 104.41786795-104.2863593 123.74963948-265.12143802 49.97328693-390.05465535z",special:!0}]},{type:"线性",children:[{viewBox:[1024,1024],path:"M953.5488 832.61667556c-24.08448-57.08913778-58.74574221-108.31644445-102.70947556-152.28017777-43.96373333-43.96373333-95.19104-78.49756444-152.28017777-102.70947558-0.50972445-0.25486222-1.01944888-0.38229333-1.52917334-0.63715555C776.41955556 519.64586667 828.02915556 426.23886221 828.02915556 320.85333332c0-174.58062221-141.44853334-316.02915556-316.02915556-316.02915554S195.97084444 146.27271111 195.97084444 320.85333332c0 105.38552889 51.6096 198.79253333 130.99918223 256.26396447-0.50972445 0.25486222-1.01944888 0.38229333-1.52917334 0.63715555-57.08913778 24.08448-108.31644445 58.61831112-152.28017777 102.70947554-43.96373333 43.96373333-78.49756444 95.19104-102.70947556 152.28017779C46.74901333 888.55893332 34.13333334 947.8144 32.85902222 1008.72647111c-0.12743111 5.7344 4.46008889 10.44935111 10.19448889 10.44935111h76.45866667c5.60696888 0 10.06705778-4.46008889 10.19448889-9.93962666 2.54862221-98.37681778 42.05226667-190.50951112 111.88451555-260.34176001 72.25344-72.25344 168.20906666-112.01194667 270.40881778-112.01194667s198.15537778 39.75850667 270.40881778 112.01194667C852.24106667 818.72668444 891.74471111 910.85937779 894.29333333 1009.23619556c0.12743111 5.60696888 4.58752 9.93962667 10.19448889 9.93962666h76.45866667c5.7344 0 10.32192-4.71495112 10.19448889-10.44935111-1.27431111-60.91207112-13.88999112-120.16753779-37.59217778-176.10979555zM512 540.03484444c-58.49088 0-113.54112-22.81016889-154.95623111-64.22527999S292.81848888 379.34421333 292.81848888 320.85333332c0-58.49088 22.81016889-113.54112 64.22528001-154.9562311S453.50912 101.67182221 512 101.67182221s113.54112 22.81016889 154.95623111 64.22528001S731.18151112 262.36245333 731.18151112 320.85333332c0 58.49088-22.81016889 113.54112-64.22528001 154.95623113S570.49088 540.03484444 512 540.03484444z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M985.31555555 111.50222222H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888889v728.17777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h946.6311111c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V147.91111111c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888889z m-45.5111111 126.06577778V830.57777778H84.19555555V237.568l-31.40266666-24.46222222 44.71466666-57.45777778 48.6968889 37.888h731.70488888l48.69688889-37.888 44.71466667 57.45777778-31.51644444 24.46222222z M877.90933333 193.42222222L512 477.86666667 146.09066667 193.42222222l-48.69688889-37.888-44.71466667 57.45777778 31.40266667 24.46222222 388.66488889 302.19377778c22.98311111 17.86311111 55.18222222 17.86311111 78.16533333 0L939.80444445 237.568l31.40266666-24.46222222-44.71466666-57.45777778-48.58311112 37.77422222z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M985.31555555 88.74666667H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888888v564.33777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h432.35555555v127.43111111H275.34222222c-10.01244445 0-18.20444445 8.192-18.20444444 18.20444445v54.61333333c0 5.00622222 4.096 9.10222222 9.10222222 9.10222222h491.52c5.00622222 0 9.10222222-4.096 9.10222222-9.10222222v-54.61333333c0-10.01244445-8.192-18.20444445-18.20444444-18.20444445H552.96V725.90222222h432.35555555c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V125.15555555c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888888z m-45.5111111 555.23555555H84.19555555V170.66666667h855.6088889v473.31555555z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m0 932.97777778c-233.69955555 0-423.25333333-189.55377778-423.25333333-423.25333333 0-101.26222222 35.61244445-194.33244445 95.00444444-267.15022222l595.39911111 595.39911111C706.33244445 899.64088889 613.26222222 935.25333333 512 935.25333333z m328.24888889-156.10311111L244.84977778 183.75111111C317.66755555 124.35911111 410.73777778 88.74666667 512 88.74666667c233.69955555 0 423.25333333 189.55377778 423.25333333 423.25333333 0 101.26222222-35.61244445 194.33244445-95.00444444 267.15022222z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M901.80266667 257.82044445L656.95288889 12.97066667c-6.82666667-6.82666667-16.04266667-10.69511111-25.71377778-10.69511112H147.91111111c-20.13866667 0-36.40888889 16.27022222-36.40888889 36.4088889v946.6311111c0 20.13866667 16.27022222 36.40888889 36.40888889 36.4088889h728.17777778c20.13866667 0 36.40888889-16.27022222 36.40888889-36.4088889V283.648c0-9.67111111-3.86844445-19.00088889-10.69511111-25.82755555zM828.52977778 300.37333333H614.4V86.24355555L828.52977778 300.37333333z m2.048 639.43111112H193.42222222V84.19555555h343.60888889v245.76c0 26.39644445 21.39022222 47.78666667 47.78666667 47.78666667h245.76v562.06222223z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M981.07392 55.79662222H42.92608c-31.22062222 0-50.71758221 34.02410666-35.04355556 61.16693334L304.28728889 620.82616888V927.42542221c0 22.55530667 18.09521779 40.77795555 40.52309333 40.77795557h334.37923556c22.42787556 0 40.52309333-18.22264888 40.52309333-40.77795557V620.82616888L1016.24490667 116.96355556c15.54659555-27.14282666-3.95036444-61.16693333-35.17098667-61.16693334zM628.47203556 876.45297779H395.52796444V677.66044445h233.07150222v198.79253334z m12.23338666-301.50200891l-12.10595556 21.15356445h-233.19893332l-12.10595556-21.15356445L130.59868445 147.54702221h762.8026311L640.70542222 574.95096888z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M980.62285431 4.54099753H654.39920987c-4.2719763 0-7.76722963 3.49525333-7.76722962 7.76722964v72.4941432c0 4.2719763 3.49525333 7.76722963 7.76722962 7.76722963h207.64393877L604.04167111 350.57107753c-64.72691358-49.83972347-143.69374815-76.7661195-226.67365136-76.7661195-99.54999309 0-193.27456395 38.83614815-263.5679921 109.25903012S4.54099753 547.08198717 4.54099753 646.63198025s38.83614815 193.27456395 109.25903012 263.5679921C184.09345581 980.62285431 277.81802667 1019.45900247 377.36801975 1019.45900247s193.27456395-38.83614815 263.5679921-109.25903012C711.35889383 839.90654419 750.19504197 746.18197333 750.19504197 646.63198025c0-82.9799032-26.92639605-161.68783013-76.63666567-226.41474372L931.4304 162.34521283V369.60079013c0 4.2719763 3.49525333 7.76722963 7.76722963 7.76722962h72.4941432c4.2719763 0 7.76722963-3.49525333 7.76722964-7.76722962V43.37714569c0-21.35988148-17.47626667-38.83614815-38.83614816-38.83614816zM377.36801975 921.07409383c-151.33152395 0-274.44211358-123.11058963-274.44211358-274.44211358s123.11058963-274.44211358 274.44211358-274.44211358 274.44211358 123.11058963 274.44211358 274.44211358-123.11058963 274.44211358-274.44211358 274.44211358z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M591.98717801 512l405.34042913-483.16579151c6.79427767-8.02960089 1.08090782-20.22841761-9.41933951-20.2284176h-123.22349044c-7.25752386 0-14.20621693 3.24272343-18.99309439 8.80167789L511.38233839 415.95362022 177.07299399 17.40746878c-4.63246205-5.55895447-11.58115512-8.80167789-18.99309439-8.80167789H34.85640916c-10.50024731 0-16.21361717 12.19881672-9.41933952 20.2284176L430.77749876 512 25.43706964 995.16579151c-6.79427767 8.02960089-1.08090782 20.22841761 9.41933952 20.2284176h123.22349044c7.25752386 0 14.20621693-3.24272343 18.99309439-8.80167789l334.3093444-398.54615144 334.30934441 398.54615144c4.63246205 5.55895447 11.58115512 8.80167789 18.99309439 8.80167789h123.22349044c10.50024731 0 16.21361717-12.19881672 9.41933951-20.2284176L591.98717801 512z",special:!0,outlined:!0}]}],Rn={bar:"bar",horizontalBar:"bar",line:"line",area:"line",scatter:"line",pie:"pie",ring:"pie"};var Pn=()=>{const e=ln(),t=Object(Xt["debounce"])((function(){e.addSnapshot()}),300,{trailing:!0}),l=Object(Xt["throttle"])((function(){e.reDo()}),100,{leading:!0,trailing:!1}),o=Object(Xt["throttle"])((function(){e.unDo()}),100,{leading:!0,trailing:!1});return{addHistorySnapshot:t,redo:l,undo:o}},Hn=()=>{const e=Yo(),t=Uo(),{creatingElement:l}=Object(N["c"])(e),{theme:o,viewportRatio:n}=Object(N["c"])(t),{addHistorySnapshot:c}=Pn(),a=(o,n)=>{t.addElement(o),e.setActiveElementIdList([o.id]),l.value&&e.setCreatingElement(null),setTimeout(()=>{e.setEditorareaFocus(!0)},0),n&&n(),c()},r=e=>{Tn(e).then(({width:t,height:l})=>{const o=l/t;o<n.value&&t>Dn?(t=Dn,l=t*o):l>Dn*n.value&&(l=Dn*n.value,t=l/o),a({type:"image",id:Object(yo["b"])(10),src:e,width:t,height:l,left:(Dn-t)/2,top:(Dn*n.value-l)/2,fixedRatio:!0,rotate:0})})},i=e=>{const t={type:"chart",id:Object(yo["b"])(10),chartType:Rn[e],left:300,top:81.25,width:400,height:400,rotate:0,themeColor:[o.value.themeColor],gridColor:o.value.fontColor,data:{labels:["类别1","类别2","类别3","类别4","类别5"],legends:["系列1"],series:[[12,19,5,2,18]]}};let l={};"horizontalBar"===e?l={horizontalBars:!0}:"area"===e?l={showArea:!0}:"scatter"===e?l={showLine:!1}:"ring"===e&&(l={donut:!0}),a({...t,options:l})},s=(e,t)=>{const l={fontname:o.value.fontName,color:o.value.fontColor},c=[];for(let o=0;o<e;o++){const e=[];for(let o=0;o<t;o++)e.push({id:Object(yo["b"])(10),colspan:1,rowspan:1,text:"",style:l});c.push(e)}const r=100,i=36,s=new Array(t).fill(1/t),d=t*r,u=e*i;a({type:"table",id:Object(yo["b"])(10),width:d,height:u,colWidths:s,rotate:0,data:c,left:(Dn-d)/2,top:(Dn*n.value-u)/2,outline:{width:2,style:"solid",color:"#eeece1"},theme:{color:o.value.themeColor,rowHeader:!0,rowFooter:!1,colHeader:!1,colFooter:!1}})},d=(e,t="")=>{const{left:l,top:n,width:c,height:r}=e,i=Object(yo["b"])(10);a({type:"text",id:i,left:l,top:n,width:c,height:r,content:t,rotate:0,defaultFontName:o.value.fontName,defaultColor:o.value.fontColor},()=>{setTimeout(()=>{const e=document.querySelector(`#editable-element-${i} .ProseMirror`);e&&e.focus()},0)})},u=(e,t)=>{const{left:l,top:n,width:c,height:r}=e,i={type:"shape",id:Object(yo["b"])(10),left:l,top:n,width:c,height:r,viewBox:t.viewBox,path:t.path,fill:o.value.themeColor,fixedRatio:!1,rotate:0};if(t.special&&(i.special=!0),t.pathFormula){i.pathFormula=t.pathFormula,i.viewBox=[c,r];const e=An[t.pathFormula];"editable"in e?(i.path=e.formula(c,r,e.defaultValue),i.keypoint=e.defaultValue):i.path=e.formula(c,r)}a(i)},b=(e,t)=>{const{left:l,top:n,start:c,end:r}=e,i={type:"line",id:Object(yo["b"])(10),left:l,top:n,start:c,end:r,points:t.points,color:o.value.themeColor,style:t.style,width:2};t.isBroken&&(i.broken=[(c[0]+r[0])/2,(c[1]+r[1])/2]),t.isCurve&&(i.curve=[(c[0]+r[0])/2,(c[1]+r[1])/2]),t.isCubic&&(i.cubic=[[(c[0]+r[0])/2,(c[1]+r[1])/2],[(c[0]+r[0])/2,(c[1]+r[1])/2]]),a(i)},m=e=>{a({type:"latex",id:Object(yo["b"])(10),width:e.w,height:e.h,rotate:0,left:(Dn-e.w)/2,top:(Dn*n.value-e.h)/2,path:e.path,latex:e.latex,color:o.value.fontColor,strokeWidth:2,viewBox:[e.w,e.h],fixedRatio:!0})},p=e=>{a({type:"video",id:Object(yo["b"])(10),width:500,height:300,rotate:0,left:(Dn-500)/2,top:(Dn*n.value-300)/2,src:e})},O=e=>{a({type:"audio",id:Object(yo["b"])(10),width:50,height:50,rotate:0,left:(Dn-50)/2,top:(Dn*n.value-50)/2,loop:!1,autoplay:!1,fixedRatio:!0,color:o.value.themeColor,src:e})};return{createImageElement:r,createChartElement:i,createTableElement:s,createTextElement:d,createShapeElement:u,createLineElement:b,createLatexElement:m,createVideoElement:p,createAudioElement:O}},qn=()=>{const e=Yo(),t=Uo(),{currentSlide:l}=Object(N["c"])(t),{addHistorySnapshot:o}=Pn(),n=n=>{const{groupIdMap:c,elIdMap:a}=Bn(n),r=l.value.elements.map(e=>e.id);for(const e of n){const t=r.includes(e.id);e.id=a[e.id],t&&(e.left=e.left+10,e.top=e.top+10),e.groupId&&(e.groupId=c[e.groupId])}t.addElement(n),e.setActiveElementIdList(Object.values(a)),o()},c=e=>{const l=e.map(e=>{const{groupIdMap:t,elIdMap:l}=Bn(e.elements);for(const o of e.elements)o.id=l[o.id],o.groupId&&(o.groupId=t[o.groupId]);if(e.animations)for(const o of e.animations)o.id=Object(yo["b"])(10),o.elId=l[o.elId];return{...e,id:Object(yo["b"])(10)}});t.addSlide(l),o()};return{addElementsFromData:n,addSlidesFromData:c}},Un=()=>{const{createTextElement:e}=Hn(),{addElementsFromData:t,addSlidesFromData:l}=qn(),o=t=>{e({left:0,top:0,width:600,height:50},t)},n=(e,n)=>{const c=(null===n||void 0===n?void 0:n.onlySlide)||!1,a=(null===n||void 0===n?void 0:n.onlyElements)||!1,r=kn(e);if("object"===typeof r){const{type:e,data:o}=r;"elements"!==e||c?"slides"!==e||a||l(o):t(o)}else if(!a&&!c){const e=_n(r);o(e)}};return{pasteTextClipboardData:n}},Gn=()=>{const e=Yo(),t=Uo(),{selectedSlidesIndex:l,activeElementIdList:o}=Object(N["c"])(e),{currentSlide:n,slides:c,theme:a,slideIndex:r}=Object(N["c"])(t),i=Object(C["computed"])(()=>[...l.value,r.value]),s=Object(C["computed"])(()=>c.value.filter((e,t)=>i.value.includes(t))),d=Object(C["computed"])(()=>s.value.map(e=>e.id)),{pasteTextClipboardData:u}=Un(),{addSlidesFromData:b}=qn(),{addHistorySnapshot:m}=Pn(),p=()=>{const l={id:Object(yo["b"])(10),elements:[],background:{type:"solid",color:a.value.backgroundColor}};t.updateSlideIndex(0),e.setActiveElementIdList([]),t.setSlides([l])},O=l=>{l===On.UP&&r.value>0?(o.value.length&&e.setActiveElementIdList([]),t.updateSlideIndex(r.value-1)):l===On.DOWN&&r.value<c.value.length-1&&(o.value.length&&e.setActiveElementIdList([]),t.updateSlideIndex(r.value+1))},f=()=>{const t=hn(JSON.stringify({type:"slides",data:s.value}));gn(t).then(()=>{e.setThumbnailsFocus(!0)})},j=()=>{xn().then(e=>{u(e,{onlySlide:!0})}).catch(e=>qt["a"].warning(e))},v=()=>{const l={id:Object(yo["b"])(10),elements:[],background:{type:"solid",color:a.value.backgroundColor}};e.setActiveElementIdList([]),t.addSlide(l),m()},h=l=>{const{groupIdMap:o,elIdMap:n}=Bn(l.elements);for(const e of l.elements)e.id=n[e.id],e.groupId&&(e.groupId=o[e.groupId]);const c={...l,id:Object(yo["b"])(10)};e.setActiveElementIdList([]),t.addSlide(c),m()},y=()=>{const e=JSON.parse(JSON.stringify(n.value));b([e])},g=(l=d.value)=>{c.value.length===l.length?p():t.deleteSlide(l),e.updateSelectedSlidesIndex([]),m()},x=()=>{const e=[...d.value];f(),g(e)},k=()=>{const t=Array.from(Array(c.value.length),(e,t)=>t);e.setActiveElementIdList([]),e.updateSelectedSlidesIndex(t)};return{resetSlides:p,updateSlideIndex:O,copySlide:f,pasteSlide:j,createSlide:v,createSlideByTemplate:h,copyAndPasteSlide:y,deleteSlide:g,cutSlide:x,selectAllSlide:k}},Xn=()=>{const e=Yo(),t=Uo(),{activeElementIdList:l}=Object(N["c"])(e),{currentSlide:o}=Object(N["c"])(t),{addHistorySnapshot:n}=Pn(),c=()=>{const c=JSON.parse(JSON.stringify(o.value.elements));for(const e of c)l.value.includes(e.id)&&(e.lock=!0);t.updateSlide({elements:c}),e.setActiveElementIdList([]),n()},a=l=>{const c=JSON.parse(JSON.stringify(o.value.elements));if(l.groupId){const o=[];for(const e of c)e.groupId===l.groupId&&(e.lock=!1,o.push(e.id));t.updateSlide({elements:c}),e.setActiveElementIdList(o)}else{for(const e of c)if(e.id===l.id){e.lock=!1;break}t.updateSlide({elements:c}),e.setActiveElementIdList([l.id])}n()};return{lockElement:c,unlockElement:a}},Yn=()=>{const e=Yo(),t=Uo(),{activeElementIdList:l,activeGroupElementId:o}=Object(N["c"])(e),{currentSlide:n}=Object(N["c"])(t),{addHistorySnapshot:c}=Pn(),a=()=>{if(!l.value.length)return;let a=[];a=o.value?n.value.elements.filter(e=>e.id!==o.value):n.value.elements.filter(e=>!l.value.includes(e.id)),e.setActiveElementIdList([]),t.updateSlide({elements:a}),c()},r=()=>{n.value.elements.length&&(e.setActiveElementIdList([]),t.updateSlide({elements:[]}),c())};return{deleteElement:a,deleteAllElements:r}},Zn=()=>{const e=Yo(),t=Uo(),{activeElementIdList:l,activeElementList:o,handleElementId:n}=Object(N["c"])(e),{currentSlide:c}=Object(N["c"])(t),{addHistorySnapshot:a}=Pn(),r=Object(C["computed"])(()=>{if(o.value.length<2)return!1;const e=o.value[0].groupId;if(!e)return!0;const t=o.value.every(t=>(t.groupId&&t.groupId)===e);return!t}),i=()=>{if(!o.value.length)return;let e=JSON.parse(JSON.stringify(c.value.elements));const n=Object(yo["b"])(10),r=[];for(const t of e)l.value.includes(t.id)&&(t.groupId=n,r.push(t));const i=e.findIndex(e=>e.id===r[r.length-1].id),s=r.map(e=>e.id);e=e.filter(e=>!s.includes(e.id));const d=i-r.length+1;e.splice(d,0,...r),t.updateSlide({elements:e}),a()},s=()=>{if(!o.value.length)return;const r=o.value.some(e=>e.groupId);if(!r)return;const i=JSON.parse(JSON.stringify(c.value.elements));for(const e of i)l.value.includes(e.id)&&e.groupId&&delete e.groupId;t.updateSlide({elements:i});const s=n.value?[n.value]:[];e.setActiveElementIdList(s),a()};return{canCombine:r,combineElements:i,uncombineElements:s}},Wn=()=>{const e=Yo(),{activeElementIdList:t,activeElementList:l}=Object(N["c"])(e),{pasteTextClipboardData:o}=Un(),{deleteElement:n}=Yn(),c=()=>{if(!t.value.length)return;const o=hn(JSON.stringify({type:"elements",data:l.value}));gn(o).then(()=>{e.setEditorareaFocus(!0)})},a=()=>{c(),n()},r=()=>{xn().then(e=>{o(e)}).catch(e=>qt["a"].warning(e))},i=()=>{c(),r()};return{copyElement:c,cutElement:a,pasteElement:r,quickCopyElement:i}},Jn=()=>{const e=Yo(),{currentSlide:t}=Object(N["c"])(Uo()),l=()=>{const l=t.value.elements.filter(e=>!e.lock),o=l.map(e=>e.id);e.setActiveElementIdList(o)};return{selectAllElement:l}},Kn=()=>{const e=Uo(),{activeElementIdList:t,activeGroupElementId:l}=Object(N["c"])(Yo()),{currentSlide:o}=Object(N["c"])(e),{addHistorySnapshot:n}=Pn(),c=(c,a=1)=>{let r=[];const i=e=>{let{left:t,top:l}=e;switch(c){case On.LEFT:t-=a;break;case On.RIGHT:t+=a;break;case On.UP:l-=a;break;case On.DOWN:l+=a;break;default:break}return{...e,left:t,top:l}};r=l.value?o.value.elements.map(e=>l.value===e.id?i(e):e):o.value.elements.map(e=>t.value.includes(e.id)?i(e):e),e.updateSlide({elements:r}),n()};return{moveElement:c}},Qn=()=>{const e=Uo(),{currentSlide:t}=Object(N["c"])(e),{addHistorySnapshot:l}=Pn(),o=(e,t)=>({minLevel:e.findIndex(e=>e.id===t[0].id),maxLevel:e.findIndex(e=>e.id===t[t.length-1].id)}),n=(e,t)=>{const l=JSON.parse(JSON.stringify(e));if(t.groupId){const n=l.filter(e=>e.groupId===t.groupId),{minLevel:c,maxLevel:a}=o(e,n);if(a===e.length-1)return;const r=l[a+1],i=l.splice(c,n.length);if(r.groupId){const e=l.filter(e=>e.groupId===r.groupId);l.splice(c+e.length,0,...i)}else l.splice(c+1,0,...i)}else{const o=e.findIndex(e=>e.id===t.id);if(o===e.length-1)return;const n=l[o+1],c=l.splice(o,1)[0];if(n.groupId){const e=l.filter(e=>e.groupId===n.groupId);l.splice(o+e.length,0,c)}else l.splice(o+1,0,c)}return l},c=(e,t)=>{const l=JSON.parse(JSON.stringify(e));if(t.groupId){const n=l.filter(e=>e.groupId===t.groupId),{minLevel:c}=o(e,n);if(0===c)return;const a=l[c-1],r=l.splice(c,n.length);if(a.groupId){const e=l.filter(e=>e.groupId===a.groupId);l.splice(c-e.length,0,...r)}else l.splice(c-1,0,...r)}else{const o=e.findIndex(e=>e.id===t.id);if(0===o)return;const n=l[o-1],c=l.splice(o,1)[0];if(n.groupId){const e=l.filter(e=>e.groupId===n.groupId);l.splice(o-e.length,0,c)}else l.splice(o-1,0,c)}return l},a=(e,t)=>{const l=JSON.parse(JSON.stringify(e));if(t.groupId){const n=l.filter(e=>e.groupId===t.groupId),{minLevel:c,maxLevel:a}=o(e,n);if(a===e.length-1)return null;const r=l.splice(c,n.length);l.push(...r)}else{const o=e.findIndex(e=>e.id===t.id);if(o===e.length-1)return null;l.splice(o,1),l.push(t)}return l},r=(e,t)=>{const l=JSON.parse(JSON.stringify(e));if(t.groupId){const n=l.filter(e=>e.groupId===t.groupId),{minLevel:c}=o(e,n);if(0===c)return;const a=l.splice(c,n.length);l.unshift(...a)}else{const o=e.findIndex(e=>e.id===t.id);if(0===o)return;l.splice(o,1),l.unshift(t)}return l},i=(o,i)=>{let s;i===dn.UP?s=n(t.value.elements,o):i===dn.DOWN?s=c(t.value.elements,o):i===dn.TOP?s=a(t.value.elements,o):i===dn.BOTTOM&&(s=r(t.value.elements,o)),s&&(e.updateSlide({elements:s}),l())};return{orderElement:i}};const ec=()=>{const e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},tc=()=>{document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},lc=()=>{const e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement;return!!e};var oc=()=>{const e=nn(),t=Uo(),l=()=>{ec(),e.setScreening(!0)},o=()=>{t.updateSlideIndex(0),l()},n=()=>{e.setScreening(!1),lc()&&tc()};return{enterScreening:l,enterScreeningFromStart:o,exitScreening:n}},nc=()=>{const e=Yo(),{canvasPercentage:t,canvasScale:l,canvasDragged:o}=Object(N["c"])(e),n=Object(C["computed"])(()=>Math.round(100*l.value)+"%"),c=l=>{let o=t.value;const n=5,c=200,a=30;"+"===l&&o<=c&&(o+=n),"-"===l&&o>=a&&(o-=n),e.setCanvasPercentage(o)},a=o=>{const n=Math.round(o/l.value*t.value)/100;e.setCanvasPercentage(n)},r=()=>{e.setCanvasPercentage(90),o&&e.setCanvasDragged(!1)};return{canvasScalePercentage:n,setCanvasScalePercentage:a,scaleCanvas:c,resetCanvas:r}},cc=()=>{const e=Yo(),t=on(),{activeElementIdList:l,disableHotkeys:o,handleElement:n,handleElementId:c,editorAreaFocus:a,thumbnailsFocus:r}=Object(N["c"])(e),{currentSlide:i}=Object(N["c"])(Uo()),{ctrlKeyState:s,shiftKeyState:d,spaceKeyState:u}=Object(N["c"])(t),{updateSlideIndex:b,copySlide:m,createSlide:p,deleteSlide:O,cutSlide:f,copyAndPasteSlide:j,selectAllSlide:v}=Gn(),{combineElements:h,uncombineElements:y}=Zn(),{deleteElement:g}=Yn(),{lockElement:x}=Xn(),{copyElement:k,cutElement:E,quickCopyElement:w}=Wn(),{selectAllElement:V}=Jn(),{moveElement:I}=Kn(),{orderElement:B}=Qn(),{redo:S,undo:L}=Pn(),{enterScreening:_,enterScreeningFromStart:T}=oc(),{scaleCanvas:M,resetCanvas:D}=nc(),z=()=>{l.value.length?k():r.value&&m()},F=()=>{l.value.length?E():r.value&&f()},A=()=>{l.value.length?w():r.value&&j()},$=()=>{a.value&&V(),r.value&&v()},R=()=>{a.value&&x()},P=()=>{a.value&&h()},H=()=>{a.value&&y()},q=()=>{l.value.length?g():r.value&&O()},U=e=>{l.value.length?I(e):e!==On.UP&&e!==On.DOWN||b(e)},G=e=>{e===On.PAGEUP?b(On.UP):e===On.PAGEDOWN&&b(On.DOWN)},X=e=>{n.value&&B(n.value,e)},Y=()=>{r.value&&p()},Z=()=>{if(!i.value.elements.length)return;if(!c.value){const t=i.value.elements[0];return void e.setActiveElementIdList([t.id])}const t=i.value.elements.findIndex(e=>e.id===c.value),l=t>=i.value.elements.length-1?0:t+1,o=i.value.elements[l].id;e.setActiveElementIdList([o])},W=l=>{const{ctrlKey:n,shiftKey:c,altKey:i,metaKey:u}=l,b=n||u,m=l.key.toUpperCase();if(b&&!s.value&&t.setCtrlKeyState(!0),c&&!d.value&&t.setShiftKeyState(!0),o.value||m!==On.SPACE||t.setSpaceKeyState(!0),b&&m===On.P)return l.preventDefault(),void e.setDialogForExport("pdf");if(c&&m===On.F5)return l.preventDefault(),_(),void t.setShiftKeyState(!1);if(m===On.F5)return l.preventDefault(),void T();if(a.value||r.value){if(b&&m===On.C){if(o.value)return;l.preventDefault(),z()}if(b&&m===On.X){if(o.value)return;l.preventDefault(),F()}if(b&&m===On.D){if(o.value)return;l.preventDefault(),A()}if(b&&m===On.Z){if(o.value)return;l.preventDefault(),L()}if(b&&m===On.Y){if(o.value)return;l.preventDefault(),S()}if(b&&m===On.A){if(o.value)return;l.preventDefault(),$()}if(b&&m===On.L){if(o.value)return;l.preventDefault(),R()}if(!c&&b&&m===On.G){if(o.value)return;l.preventDefault(),P()}if(c&&b&&m===On.G){if(o.value)return;l.preventDefault(),H()}if(i&&m===On.F){if(o.value)return;l.preventDefault(),X(dn.TOP)}if(i&&m===On.B){if(o.value)return;l.preventDefault(),X(dn.BOTTOM)}if(m===On.DELETE||m===On.BACKSPACE){if(o.value)return;l.preventDefault(),q()}if(m===On.UP){if(o.value)return;l.preventDefault(),U(On.UP)}if(m===On.DOWN){if(o.value)return;l.preventDefault(),U(On.DOWN)}if(m===On.LEFT){if(o.value)return;l.preventDefault(),U(On.LEFT)}if(m===On.RIGHT){if(o.value)return;l.preventDefault(),U(On.RIGHT)}if(m===On.PAGEUP){if(o.value)return;l.preventDefault(),G(On.PAGEUP)}if(m===On.PAGEDOWN){if(o.value)return;l.preventDefault(),G(On.PAGEDOWN)}if(m===On.ENTER){if(o.value)return;l.preventDefault(),Y()}if(m===On.MINUS){if(o.value)return;l.preventDefault(),M("-")}if(m===On.EQUAL){if(o.value)return;l.preventDefault(),M("+")}if(m===On.DIGIT_0){if(o.value)return;l.preventDefault(),D()}if(m===On.TAB){if(o.value)return;l.preventDefault(),Z()}}},J=()=>{s.value&&t.setCtrlKeyState(!1),d.value&&t.setShiftKeyState(!1),u.value&&t.setSpaceKeyState(!1)};Object(C["onMounted"])(()=>{document.addEventListener("keydown",W),document.addEventListener("keyup",J),window.addEventListener("blur",J)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("keydown",W),document.removeEventListener("keyup",J),window.removeEventListener("blur",J)})},ac=()=>{const{editorAreaFocus:e,thumbnailsFocus:t,disableHotkeys:l}=Object(N["c"])(Yo()),{pasteTextClipboardData:o}=Un(),{createImageElement:n}=Hn(),c=e=>{Mn(e).then(e=>n(e))},a=n=>{if(!e.value&&!t.value)return;if(l.value)return;if(!n.clipboardData)return;const a=n.clipboardData.items,r=a[0];if(r){for(const e of a)if("file"===e.kind&&-1!==e.type.indexOf("image")){const t=e.getAsFile();return void(t&&c(t))}"string"===r.kind&&"text/plain"===r.type&&r.getAsString(e=>o(e))}};Object(C["onMounted"])(()=>{document.addEventListener("paste",a)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("paste",a)})},rc=l("31bf"),ic=l("ecd0");const sc=["style","script","template"],dc=["html","head","body","p","dt","dd","li","option","thead","th","tbody","tr","td","tfoot","colgroup"],uc={li:["ul","ol","menu"],dt:["dl"],dd:["dl"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table"],td:["table"]},bc=["!doctype","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],mc=(e,t)=>{const l=t-e.position;pc(e,l)},pc=(e,t)=>{e.position=e.position+t},Oc=(e,t)=>{const l=!1;while(!l){const l=e.indexOf("<",t);if(-1===l)return l;const o=e.charAt(l+1);if("/"===o||"!"===o||/[A-Za-z0-9]/.test(o))return l;t=l+1}return-1},fc=e=>{const{str:t}=e;let l=Oc(t,e.position);if(l===e.position)return;-1===l&&(l=t.length);const o=t.slice(e.position,l);mc(e,l),e.tokens.push({type:"text",content:o})},jc=e=>{const{str:t}=e;pc(e,4);let l=t.indexOf("--\x3e",e.position),o=l+3;-1===l&&(l=o=t.length);const n=t.slice(e.position,l);mc(e,o),e.tokens.push({type:"comment",content:n})},vc=e=>{const{str:t}=e,l=t.length;let o=e.position;while(o<l){const e=t.charAt(o),l=!(/\s/.test(e)||"/"===e||">"===e);if(l)break;o++}let n=o+1;while(n<l){const e=t.charAt(n),l=!(/\s/.test(e)||"/"===e||">"===e);if(!l)break;n++}mc(e,n);const c=t.slice(o,n);return e.tokens.push({type:"tag",content:c}),c},hc=e=>{const{str:t,tokens:l}=e;let o=e.position,n=null,c=o;const a=[],r=t.length;while(o<r){const e=t.charAt(o);if(n){const t=e===n;t&&(n=null),o++;continue}const l="/"===e||">"===e;if(l){o!==c&&a.push(t.slice(c,o));break}const r=/\s/.test(e);if(r){o!==c&&a.push(t.slice(c,o)),c=o+1,o++;continue}const i="'"===e||'"'===e;i?(n=e,o++):o++}mc(e,o);const i="attribute";for(let s=0;s<a.length;s++){const e=a[s],t=-1===e.indexOf("=");if(t){const t=a[s+1];if(t&&Object(Xt["startsWith"])(t,"=")){if(t.length>1){const o=e+t;l.push({type:i,content:o}),s+=1;continue}const o=a[s+2];if(s+=1,o){const t=e+"="+o;l.push({type:i,content:t}),s+=1;continue}}}if(Object(Xt["endsWith"])(e,"=")){const t=a[s+1];if(t&&-1===t.indexOf("=")){const o=e+t;l.push({type:i,content:o}),s+=1;continue}const o=e.slice(0,-1);l.push({type:i,content:o})}else l.push({type:i,content:e})}},yc=(e,t)=>{const{str:l,tokens:o}=t,n=e.toLowerCase(),c=l.length;let a=t.position;while(a<c){const e=l.indexOf("</",a);if(-1===e){fc(t);break}const c={str:l,position:t.position,tokens:[]};mc(c,e);const r=gc(c);if(n===r.toLowerCase()){if(e!==t.position){const n=t.position;mc(t,e),o.push({type:"text",content:l.slice(n,e)})}o.push(...c.tokens),mc(t,c.position);break}a=c.position}},gc=e=>{const{str:t}=e,l=t.charAt(e.position+1),o="/"===l;pc(e,o?2:1),e.tokens.push({type:"tag-start",close:o});const n=vc(e);hc(e);const c=t.charAt(e.position),a="/"===c;return pc(e,a?2:1),e.tokens.push({type:"tag-end",close:a}),n},xc=e=>{const t=e.str,l=t.length;while(e.position<l){const l=e.position;if(fc(e),e.position===l){const o=Object(Xt["startsWith"])(t,"!--",l+1);if(o)jc(e);else{const t=gc(e),l=t.toLowerCase();sc.includes(l)&&yc(t,e)}}}},kc=e=>{const t={str:e,position:0,tokens:[]};return xc(t),t.tokens},Cc=e=>{const t={tagName:null,children:[]},l={tokens:e,cursor:0,stack:[t]};return wc(l),t.children},Nc=(e,t)=>{const l=uc[e];if(l){let o=t.length-1;while(o>=0){const n=t[o].tagName;if(n===e)break;if(l.includes(n))return!0;o--}}return!1},Ec=(e,t)=>{e.splice(t)},wc=e=>{const{stack:t,tokens:l}=e;let{cursor:o}=e,n=t[t.length-1].children;const c=l.length;while(o<c){const e=l[o];if("tag-start"!==e.type){n.push(e),o++;continue}const a=l[++o];o++;const r=a.content.toLowerCase();if(e.close){let e=t.length,n=!1;while(--e>-1)if(t[e].tagName===r){n=!0;break}while(o<c){if("tag-end"!==l[o].type)break;o++}if(n){Ec(t,e);break}continue}const i=dc.includes(r);let s=i;if(s&&(s=!Nc(r,t)),s){let e=t.length-1;while(e>0){if(r===t[e].tagName){Ec(t,e);const l=e-1;n=t[l].children;break}e-=1}}const d=[];let u;while(o<c){const e=l[o];if("tag-end"===e.type){u=e;break}d.push(e.content),o++}if(!u)break;o++;const b=[],m={type:"element",tagName:a.content,attributes:d,children:b};n.push(m);const p=!(u.close||bc.includes(r));if(p){t.push({tagName:r,children:b});const e={tokens:l,cursor:o,stack:t};wc(e),o=e.cursor}}e.cursor=o},Vc=(e,t)=>{const l=e.indexOf(t);return-1===l?[e]:[e.slice(0,l),e.slice(l+t.length)]},Ic=e=>{const t=e.charAt(0),l=e.length-1,o='"'===t||"'"===t;return o&&t===e.charAt(l)?e.slice(1,l):e},Bc=e=>e.map(e=>{const t=Vc(e.trim(),"="),l=t[0],o="string"===typeof t[1]?Ic(t[1]):null;return{key:l,value:o}}),Sc=e=>e.map(e=>{if("element"===e.type){const t=Sc(e.children),l={type:"element",tagName:e.tagName.toLowerCase(),attributes:Bc(e.attributes),children:t};return l}const t={type:e.type,content:e.content};return t});l("17f1");const Lc=e=>{const t=kc(e),l=Cc(t);return Sc(l)};var _c=l("6d03"),Tc=l("9958");const Mc={1:"Z",2:"M",4:"H",8:"V",16:"L",32:"C",64:"S",128:"Q",256:"T",512:"A"},Dc=e=>{const t=new _c["a"](e),l=[];for(const o of t.commands){const e=Mc[o.type];if(2!==o.type&&16!==o.type||l.push({x:o.x,y:o.y,relative:o.relative,type:e}),32===o.type)l.push({x:o.x,y:o.y,curve:{type:"cubic",x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},relative:o.relative,type:e});else if(128===o.type)l.push({x:o.x,y:o.y,curve:{type:"quadratic",x1:o.x1,y1:o.y1},relative:o.relative,type:e});else if(512===o.type){const e=l[l.length-1];if(!["M","L","Q","C"].includes(e.type))continue;const t=Object(Tc["a"])({px:e.x,py:e.y,cx:o.x,cy:o.y,rx:o.rX,ry:o.rY,xAxisRotation:o.xRot,largeArcFlag:o.lArcFlag,sweepFlag:o.sweepFlag});for(const o of t)l.push({x:o.x,y:o.y,curve:{type:"cubic",x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},relative:!1,type:"C"})}else{if(1!==o.type)continue;l.push({close:!0,type:e})}}return l},zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Fc="data:image/svg+xml;base64,",Ac=e=>{e=e.replace(/\r\n/g,"\n");let t="";for(let l=0;l<e.length;l++){const o=e.charCodeAt(l);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},$c=e=>{let t,l,o,n,c,a,r,i="",s=0;e=Ac(e);while(s<e.length)t=e.charCodeAt(s++),l=e.charCodeAt(s++),o=e.charCodeAt(s++),n=t>>2,c=(3&t)<<4|l>>4,a=(15&l)<<2|o>>6,r=63&o,isNaN(l)?a=r=64:isNaN(o)&&(r=64),i=i+zc.charAt(n)+zc.charAt(c)+zc.charAt(a)+zc.charAt(r);return i},Rc=e=>{const t=new XMLSerializer,l=t.serializeToString(e);return Fc+$c(l)};var Pc=()=>{const e=Uo(),{slides:t,theme:l,viewportRatio:o}=Object(N["c"])(e),{addSlidesFromData:n}=qn(),c=Object(C["ref"])(!1),a=(e,t,l,o=!0)=>{c.value=!0;const n="png"===t?Yt["c"]:Yt["b"],a=e.querySelectorAll("foreignObject [xmlns]");a.forEach(e=>e.removeAttribute("xmlns")),setTimeout(()=>{const a={quality:l,width:1600};o&&(a.fontEmbedCSS=""),n(e,a).then(e=>{c.value=!1,Object(rc["saveAs"])(e,"pptist_slides."+t)}).catch(()=>{c.value=!1,qt["a"].error("导出图片失败")})},200)},r=e=>{const t=new Blob([hn(JSON.stringify(e))],{type:""});Object(rc["saveAs"])(t,"pptist_slides.pptist")},i=(t,l=!1)=>{const o=t[0],c=new FileReader;c.addEventListener("load",()=>{try{const t=JSON.parse(yn(c.result));l?e.setSlides(t):n(t)}catch{qt["a"].error("无法正确读取 / 解析该文件")}}),c.readAsText(o)},s=()=>{const e=new Blob([JSON.stringify(t.value)],{type:""});Object(rc["saveAs"])(e,"pptist_slides.json")},d=e=>{const t=Gt()(e),l=t.getAlpha(),o=0===l?"#ffffff":t.setAlpha(1).toHexString();return{alpha:l,color:o}},u=e=>{const t=Lc(e);let l=!1,o=0;const n=[],c=(e,t={})=>{for(const a of e){const e="tagName"in a&&["div","li","p"].includes(a.tagName);if(e&&n.length){const e=n[n.length-1];e.options||(e.options={}),e.options.breakLine=!0}const r={...t},i="attributes"in a?a.attributes.find(e=>"style"===e.key):null;if(i&&i.value){const e=i.value.split(";");for(const t of e){const[e,l]=t.split(": "),[o,n]=[Object(Xt["trim"])(e),Object(Xt["trim"])(l)];o&&n&&(r[o]=n)}}if("tagName"in a){if("em"===a.tagName&&(r["font-style"]="italic"),"strong"===a.tagName&&(r["font-weight"]="bold"),"sup"===a.tagName&&(r["vertical-align"]="super"),"sub"===a.tagName&&(r["vertical-align"]="sub"),"a"===a.tagName){const e=a.attributes.find(e=>"href"===e.key);r["href"]=(null===e||void 0===e?void 0:e.value)||""}if("ul"===a.tagName&&(r["list-type"]="ul"),"ol"===a.tagName&&(r["list-type"]="ol"),"li"===a.tagName&&(l=!0),"p"===a.tagName&&"attributes"in a){const e=a.attributes.find(e=>"data-indent"===e.key);e&&e.value&&(o=+e.value)}}if("tagName"in a&&"br"===a.tagName)n.push({text:"",options:{breakLine:!0}});else if("content"in a){const e=a.content.replace(/&nbsp;/g," ").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/\n/g,""),t={};r["font-size"]&&(t.fontSize=.75*parseInt(r["font-size"])),r["color"]&&(t.color=d(r["color"]).color),r["background-color"]&&(t.highlight=d(r["background-color"]).color),r["text-decoration-line"]&&(-1!==r["text-decoration-line"].indexOf("underline")&&(t.underline={color:t.color||"#000000",style:"sng"}),-1!==r["text-decoration-line"].indexOf("line-through")&&(t.strike="sngStrike")),r["text-decoration"]&&(-1!==r["text-decoration"].indexOf("underline")&&(t.underline={color:t.color||"#000000",style:"sng"}),-1!==r["text-decoration"].indexOf("line-through")&&(t.strike="sngStrike")),r["vertical-align"]&&("super"===r["vertical-align"]&&(t.superscript=!0),"sub"===r["vertical-align"]&&(t.subscript=!0)),r["text-align"]&&(t.align=r["text-align"]),r["font-weight"]&&(t.bold="bold"===r["font-weight"]),r["font-style"]&&(t.italic="italic"===r["font-style"]),r["font-family"]&&(t.fontFace=r["font-family"]),r["href"]&&(t.hyperlink={url:r["href"]}),l&&"ol"===r["list-type"]&&(t.bullet={type:"number",indent:15},t.paraSpaceBefore=.1,l=!1),l&&"ul"===r["list-type"]&&(t.bullet={indent:15},t.paraSpaceBefore=.1,l=!1),o&&(t.indentLevel=o,o=0),n.push({text:e,options:t})}else"children"in a&&c(a.children,r)}};return c(t),n},b=(e,t={x:1,y:1})=>e.map(e=>{if(void 0!==e.close)return{close:!0};if("M"===e.type)return{x:e.x/100*t.x,y:e.y/100*t.y,moveTo:!0};if(e.curve){if("cubic"===e.curve.type)return{x:e.x/100*t.x,y:e.y/100*t.y,curve:{type:"cubic",x1:e.curve.x1/100*t.x,y1:e.curve.y1/100*t.y,x2:e.curve.x2/100*t.x,y2:e.curve.y2/100*t.y}};if("quadratic"===e.curve.type)return{x:e.x/100*t.x,y:e.y/100*t.y,curve:{type:"quadratic",x1:e.curve.x1/100*t.x,y1:e.curve.y1/100*t.y}}}return{x:e.x/100*t.x,y:e.y/100*t.y}}),m=e=>{const t=d(e.color),{h:l,v:o}=e;let n=4,c=45;return 0===l&&0===o?(n=4,c=45):0===l?o>0?(n=o,c=90):(n=-o,c=270):0===o?l>0?(n=l,c=1):(n=-l,c=180):l>0&&o>0?(n=Math.max(l,o),c=45):l>0&&o<0?(n=Math.max(l,-o),c=315):l<0&&o>0?(n=Math.max(-l,o),c=135):l<0&&o<0&&(n=Math.max(-l,-o),c=225),{type:"outer",color:t.color.replace("#",""),opacity:t.alpha,blur:.75*e.blur,offset:n,angle:c}},p=e=>{const t=d((null===e||void 0===e?void 0:e.color)||"#000000");return{color:t.color,transparency:100*(1-t.alpha),width:.75*(e.width||1),dashType:"solid"===e.style?"solid":"dash"}},O=e=>{const{type:l,target:o}=e;if("web"===l)return{url:o};if("slide"===l){const e=t.value.findIndex(e=>e.id===o);if(-1!==e)return{slide:e+1}}return null},f=(e,t)=>{c.value=!0;const n=new ic["a"];if(.625===o.value?n.layout="LAYOUT_16x10":.75===o.value?n.layout="LAYOUT_4x3":n.layout="LAYOUT_16x9",t){const{color:e,alpha:t}=d(l.value.backgroundColor);n.defineSlideMaster({title:"PPTIST_MASTER",background:{color:e,transparency:100*(1-t)}})}for(const l of e){const e=n.addSlide();if(l.background){const t=l.background;if("image"===t.type&&t.image)e.background={data:t.image};else if("solid"===t.type&&t.color){const l=d(t.color);e.background={color:l.color,transparency:100*(1-l.alpha)}}else if("gradient"===t.type&&t.gradientColor){const[l,o]=t.gradientColor,n=Gt.a.mix(l,o).toHexString(),c=d(n);e.background={color:c.color,transparency:100*(1-c.alpha)}}}if(l.remark&&e.addNotes(l.remark),l.elements)for(const t of l.elements)if("text"===t.type){var a;const l=u(t.content),o={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,fontSize:15,fontFace:"微软雅黑",color:"#000000",valign:"top",margin:7.5,paraSpaceBefore:3.75,lineSpacingMultiple:1.2,autoFit:!0};if(t.rotate&&(o.rotate=t.rotate),t.wordSpace&&(o.charSpacing=.75*t.wordSpace),t.lineHeight&&(o.lineSpacingMultiple=t.lineHeight/1.25),t.fill){const e=d(t.fill),l=void 0===t.opacity?1:t.opacity;o.fill={color:e.color,transparency:100*(1-e.alpha*l)}}t.defaultColor&&(o.color=d(t.defaultColor).color),t.defaultFontName&&(o.fontFace=t.defaultFontName),t.shadow&&(o.shadow=m(t.shadow)),null!==(a=t.outline)&&void 0!==a&&a.width&&(o.line=p(t.outline)),void 0!==t.opacity&&(o.transparency=100*(1-t.opacity)),void 0!==t.paragraphSpace&&(o.paraSpaceBefore=.75*t.paragraphSpace),e.addText(l,o)}else if("image"===t.type){var r,i;const l={path:t.src,x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100};if(t.flipH&&(l.flipH=t.flipH),t.flipV&&(l.flipV=t.flipV),t.rotate&&(l.rotate=t.rotate),t.link){const e=O(t.link);e&&(l.hyperlink=e)}if(null!==(r=t.filters)&&void 0!==r&&r.opacity&&(l.transparency=100-parseInt(null===(i=t.filters)||void 0===i?void 0:i.opacity)),t.clip){"ellipse"===t.clip.shape&&(l.rounding=!0);const[e,o]=t.clip.range,[n,c]=e,[a,r]=o,i=t.width/((a-n)/100),s=t.height/((r-c)/100);l.w=i/100,l.h=s/100,l.sizing={type:"crop",x:n/100*i/100,y:c/100*s/100,w:(a-n)/100*i/100,h:(r-c)/100*s/100}}e.addImage(l)}else if("shape"===t.type){if(t.special){const l=document.querySelector(`.thumbnail-list .base-element-${t.id} svg`),o=Rc(l),n={data:o,x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100};if(t.rotate&&(n.rotate=t.rotate),t.link){const e=O(t.link);e&&(n.hyperlink=e)}e.addImage(n)}else{var s;const l={x:t.width/t.viewBox[0],y:t.height/t.viewBox[1]},o=b(Dc(t.path),l),n=d(t.fill),c=void 0===t.opacity?1:t.opacity,a={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,fill:{color:n.color,transparency:100*(1-n.alpha*c)},points:o};if(t.flipH&&(a.flipH=t.flipH),t.flipV&&(a.flipV=t.flipV),t.shadow&&(a.shadow=m(t.shadow)),null!==(s=t.outline)&&void 0!==s&&s.width&&(a.line=p(t.outline)),t.link){const e=O(t.link);e&&(a.hyperlink=e)}e.addShape("custGeom",a)}if(t.text){const l=u(t.text.content),o={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,fontSize:15,fontFace:"微软雅黑",color:"#000000",paraSpaceBefore:3.75,valign:t.text.align};t.rotate&&(o.rotate=t.rotate),t.text.defaultColor&&(o.color=d(t.text.defaultColor).color),t.text.defaultFontName&&(o.fontFace=t.text.defaultFontName),e.addText(l,o)}}else if("line"===t.type){const l=Ln(t),o=b(Dc(l)),{minX:n,maxX:c,minY:a,maxY:r}=wn(t),i=d(t.color),s={x:t.left/100,y:t.top/100,w:(c-n)/100,h:(r-a)/100,line:{color:i.color,transparency:100*(1-i.alpha),width:.75*t.width,dashType:"solid"===t.style?"solid":"dash",beginArrowType:t.points[0]?"arrow":"none",endArrowType:t.points[1]?"arrow":"none"},points:o};t.shadow&&(s.shadow=m(t.shadow)),e.addShape("custGeom",s)}else if("chart"===t.type){const l=[];for(let e=0;e<t.data.series.length;e++){const o=t.data.series[e];l.push({name:"系列"+(e+1),labels:t.data.labels,values:o})}let o=[];if(10===t.themeColor.length)o=t.themeColor.map(e=>d(e).color);else if(1===t.themeColor.length)o=Gt()(t.themeColor[0]).analogous(10).map(e=>d(e.toHexString()).color);else{const e=t.themeColor.length,l=Gt()(t.themeColor[e-1]).analogous(11-e).map(e=>e.toHexString());o=[...t.themeColor.slice(0,e-1),...l].map(e=>d(e).color)}const c={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,chartColors:"pie"===t.chartType?o:o.slice(0,t.data.series.length)};t.fill&&(c.fill=d(t.fill).color),t.legend&&(c.showLegend=!0,c.legendPos="top"===t.legend?"t":"b",c.legendColor=d(t.gridColor||"#000000").color,c.legendFontSize=10.5);let a=n.ChartType.bar;var f;if("bar"===t.chartType)a=n.ChartType.bar,c.barDir=null!==(f=t.options)&&void 0!==f&&f.horizontalBars?"bar":"col";else if("line"===t.chartType){var j,v,h;null!==(j=t.options)&&void 0!==j&&j.showArea?a=n.ChartType.area:!1===(null===(v=t.options)||void 0===v?void 0:v.showLine)?(a=n.ChartType.scatter,l.unshift({name:"X-Axis",values:Array(t.data.series[0].length).fill(0).map((e,t)=>t)}),c.lineSize=0):a=n.ChartType.line,null!==(h=t.options)&&void 0!==h&&h.lineSmooth&&(c.lineSmooth=!0)}else if("pie"===t.chartType){var y;null!==(y=t.options)&&void 0!==y&&y.donut?(a=n.ChartType.doughnut,c.holeSize=75):a=n.ChartType.pie}e.addChart(a,l,c)}else if("table"===t.type){const l=[];for(let e=0;e<t.data.length;e++){const o=t.data[e];for(let t=0;t<o.length;t++){const n=o[t];if(n.colspan>1||n.rowspan>1)for(let o=e;o<e+n.rowspan;o++)for(let c=o===e?t+1:t;c<t+n.colspan;c++)l.push(`${o}_${c}`)}}const o=[],n=t.theme;let c=null,a=[];n&&(c=d(n.color),a=Sn(n.color).map(e=>d(e)));for(let e=0;e<t.data.length;e++){const r=t.data[e],i=[];for(let o=0;o<r.length;o++){var g,x,k,C,N,E,w,V,I;const s=r[o],u={colspan:s.colspan,rowspan:s.rowspan,bold:(null===(g=s.style)||void 0===g?void 0:g.bold)||!1,italic:(null===(x=s.style)||void 0===x?void 0:x.em)||!1,underline:{style:null!==(k=s.style)&&void 0!==k&&k.underline?"sng":"none"},align:(null===(C=s.style)||void 0===C?void 0:C.align)||"left",valign:"middle",fontFace:(null===(N=s.style)||void 0===N?void 0:N.fontname)||"微软雅黑",fontSize:.75*(null!==(E=s.style)&&void 0!==E&&E.fontsize?parseInt(null===(w=s.style)||void 0===w?void 0:w.fontsize):14)};if(n&&c){let l;l=e%2===0?a[1]:a[0],(n.rowHeader&&0===e||n.rowFooter&&e===t.data.length-1||n.colHeader&&0===o||n.colFooter&&o===r.length-1)&&(l=c),u.fill={color:l.color,transparency:100*(1-l.alpha)}}if(null!==(V=s.style)&&void 0!==V&&V.backcolor){const e=d(s.style.backcolor);u.fill={color:e.color,transparency:100*(1-e.alpha)}}null!==(I=s.style)&&void 0!==I&&I.color&&(u.color=d(s.style.color).color),l.includes(`${e}_${o}`)||i.push({text:s.text,options:u})}i.length&&o.push(i)}const r={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,colW:t.colWidths.map(e=>t.width*e/100)};t.theme&&(r.fill={color:"#ffffff"}),t.outline.width&&t.outline.color&&(r.border={type:"solid"===t.outline.style?"solid":"dash",pt:.75*t.outline.width,color:d(t.outline.color).color}),e.addTable(o,r)}else if("latex"===t.type){const l=document.querySelector(`.thumbnail-list .base-element-${t.id} svg`),o=Rc(l),n={data:o,x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100};if(t.link){const e=O(t.link);e&&(n.hyperlink=e)}e.addImage(n)}}n.writeFile({fileName:"pptist.pptx"}).then(()=>c.value=!1).catch(()=>{c.value=!1,qt["a"].error("导出失败")})};return{exporting:c,exportImage:a,exportJSON:s,importSpecificFile:i,exportSpecificFile:r,exportPPTX:f}};const Hc={class:"hotkey-doc"},qc={class:"title"},Uc={class:"label"},Gc={class:"value"};var Xc=Object(C["defineComponent"])({__name:"HotkeyDoc",setup(e){return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Hc,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(fn),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:e.type},[Object(C["createElementVNode"])("div",qc,Object(C["toDisplayString"])(e.type),1),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.children,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"hotkey-item",key:e.label},[Object(C["createElementVNode"])("div",Uc,Object(C["toDisplayString"])(e.label),1),Object(C["createElementVNode"])("div",Gc,Object(C["toDisplayString"])(e.value),1)]))),128))],64))),128))]))}});l("28eb");const Yc=V()(Xc,[["__scopeId","data-v-4b1afc5f"]]);var Zc=Yc;const Wc=e=>(Object(C["pushScopeId"])("data-v-3b56c50c"),e=e(),Object(C["popScopeId"])(),e),Jc={class:"editor-header"},Kc={class:"left"},Qc={class:"menu-item"},ea=Object(C["createTextVNode"])(),ta=Wc(()=>Object(C["createElementVNode"])("span",{class:"text"},"文件",-1)),la=Object(C["createTextVNode"])("导入 pptist 文件"),oa=Object(C["createTextVNode"])("导出 pptist 文件"),na=Object(C["createTextVNode"])("导出 PPTX"),ca=Object(C["createTextVNode"])("导出图片"),aa=Object(C["createTextVNode"])("导出 JSON"),ra=Object(C["createTextVNode"])("打印 / 导出 PDF"),ia={class:"menu-item"},sa=Object(C["createTextVNode"])(),da=Wc(()=>Object(C["createElementVNode"])("span",{class:"text"},"编辑",-1)),ua=Object(C["createTextVNode"])("撤销"),ba=Object(C["createTextVNode"])("重做"),ma=Object(C["createTextVNode"])("添加页面"),pa=Object(C["createTextVNode"])("删除页面"),Oa=Object(C["createTextVNode"])("重置幻灯片"),fa={class:"menu-item"},ja=Object(C["createTextVNode"])(),va=Wc(()=>Object(C["createElementVNode"])("span",{class:"text"},"演示",-1)),ha=Object(C["createTextVNode"])("从头开始"),ya=Object(C["createTextVNode"])("从当前页开始"),ga={class:"menu-item"},xa=Object(C["createTextVNode"])(),ka=Wc(()=>Object(C["createElementVNode"])("span",{class:"text"},"帮助",-1)),Ca=Object(C["createTextVNode"])("意见反馈"),Na=Object(C["createTextVNode"])("快捷键"),Ea={class:"right"},wa={href:"https://github.com/pipipi-pikachu/PPTist",target:"_blank"},Va={class:"menu-item"};var Ia=Object(C["defineComponent"])({__name:"index",setup(e){const t=Yo(),{gridLineSize:l,showRuler:o}=Object(N["c"])(t),{enterScreening:n,enterScreeningFromStart:c}=oc(),{createSlide:a,deleteSlide:r,resetSlides:i}=Gn(),{redo:s,undo:d}=Pn(),{importSpecificFile:u}=Pc(),b=t.setDialogForExport,m=()=>{t.setGridLineSize(l.value?0:50)},p=()=>{t.setRulerState(!o.value)},O=Object(C["ref"])(!1),f=()=>{window.open("https://github.com/pipipi-pikachu/PPTist/issues")};return(e,t)=>{const j=Object(C["resolveComponent"])("IconFolderClose"),v=Object(C["resolveComponent"])("MenuItem"),h=Object(C["resolveComponent"])("FileInput"),y=Object(C["resolveComponent"])("Menu"),g=Object(C["resolveComponent"])("Dropdown"),x=Object(C["resolveComponent"])("IconEdit"),k=Object(C["resolveComponent"])("IconPpt"),N=Object(C["resolveComponent"])("IconHelpcenter"),E=Object(C["resolveComponent"])("IconShare"),w=Object(C["resolveComponent"])("Tooltip"),V=Object(C["resolveComponent"])("IconGithub"),I=Object(C["resolveComponent"])("Drawer");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Jc,[Object(C["createElementVNode"])("div",Kc,[Object(C["createVNode"])(g,{trigger:["click"]},{overlay:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y,null,{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(h,{accept:".pptist",onChange:t[0]||(t[0]=e=>Object(C["unref"])(u)(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(v,null,{default:Object(C["withCtx"])(()=>[la]),_:1})]),_:1}),Object(C["createVNode"])(v,{onClick:t[1]||(t[1]=e=>Object(C["unref"])(b)("pptist"))},{default:Object(C["withCtx"])(()=>[oa]),_:1}),Object(C["createVNode"])(v,{onClick:t[2]||(t[2]=e=>Object(C["unref"])(b)("pptx"))},{default:Object(C["withCtx"])(()=>[na]),_:1}),Object(C["createVNode"])(v,{onClick:t[3]||(t[3]=e=>Object(C["unref"])(b)("image"))},{default:Object(C["withCtx"])(()=>[ca]),_:1}),Object(C["createVNode"])(v,{onClick:t[4]||(t[4]=e=>Object(C["unref"])(b)("json"))},{default:Object(C["withCtx"])(()=>[aa]),_:1}),Object(C["createVNode"])(v,{onClick:t[5]||(t[5]=e=>Object(C["unref"])(b)("pdf"))},{default:Object(C["withCtx"])(()=>[ra]),_:1})]),_:1})]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",Qc,[Object(C["createVNode"])(j),ea,ta])]),_:1}),Object(C["createVNode"])(g,{trigger:["click"]},{overlay:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y,null,{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(v,{onClick:t[6]||(t[6]=e=>Object(C["unref"])(d)())},{default:Object(C["withCtx"])(()=>[ua]),_:1}),Object(C["createVNode"])(v,{onClick:t[7]||(t[7]=e=>Object(C["unref"])(s)())},{default:Object(C["withCtx"])(()=>[ba]),_:1}),Object(C["createVNode"])(v,{onClick:t[8]||(t[8]=e=>Object(C["unref"])(a)())},{default:Object(C["withCtx"])(()=>[ma]),_:1}),Object(C["createVNode"])(v,{onClick:t[9]||(t[9]=e=>Object(C["unref"])(r)())},{default:Object(C["withCtx"])(()=>[pa]),_:1}),Object(C["createVNode"])(v,{onClick:t[10]||(t[10]=e=>m())},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(Object(C["unref"])(l)?"关闭网格线":"打开网格线"),1)]),_:1}),Object(C["createVNode"])(v,{onClick:t[11]||(t[11]=e=>p())},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(Object(C["unref"])(o)?"关闭标尺":"打开标尺"),1)]),_:1}),Object(C["createVNode"])(v,{onClick:t[12]||(t[12]=e=>Object(C["unref"])(i)())},{default:Object(C["withCtx"])(()=>[Oa]),_:1})]),_:1})]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",ia,[Object(C["createVNode"])(x),sa,da])]),_:1}),Object(C["createVNode"])(g,{trigger:["click"]},{overlay:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y,null,{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(v,{onClick:t[13]||(t[13]=e=>Object(C["unref"])(c)())},{default:Object(C["withCtx"])(()=>[ha]),_:1}),Object(C["createVNode"])(v,{onClick:t[14]||(t[14]=e=>Object(C["unref"])(n)())},{default:Object(C["withCtx"])(()=>[ya]),_:1})]),_:1})]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",fa,[Object(C["createVNode"])(k),ja,va])]),_:1}),Object(C["createVNode"])(g,{trigger:["click"]},{overlay:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y,null,{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(v,{onClick:t[15]||(t[15]=e=>f())},{default:Object(C["withCtx"])(()=>[Ca]),_:1}),Object(C["createVNode"])(v,{onClick:t[16]||(t[16]=e=>O.value=!0)},{default:Object(C["withCtx"])(()=>[Na]),_:1})]),_:1})]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",ga,[Object(C["createVNode"])(N),xa,ka])]),_:1})]),Object(C["createElementVNode"])("div",Ea,[Object(C["createVNode"])(w,{mouseLeaveDelay:0,title:"导出"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:"menu-item",onClick:t[17]||(t[17]=e=>Object(C["unref"])(b)("pptx"))},[Object(C["createVNode"])(E,{size:"18",fill:"#666"})])]),_:1}),Object(C["createVNode"])(w,{mouseLeaveDelay:0,title:"幻灯片放映"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:"menu-item",onClick:t[18]||(t[18]=e=>Object(C["unref"])(n)())},[Object(C["createVNode"])(k,{size:"19",fill:"#666",style:{"margin-top":"1px"}})])]),_:1}),Object(C["createElementVNode"])("a",wa,[Object(C["createElementVNode"])("div",Va,[Object(C["createVNode"])(V,{size:"18",fill:"#666"})])])]),Object(C["createVNode"])(I,{width:"320",placement:"right",closable:!1,visible:O.value,onClose:t[19]||(t[19]=e=>O.value=!1)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Zc)]),_:1},8,["visible"])])}}});l("3f3b");const Ba=V()(Ia,[["__scopeId","data-v-3b56c50c"]]);var Sa=Ba;const La=Symbol(),_a=Symbol(),Ta=()=>{const e=window.getSelection();e&&e.removeAllRanges()};var Ma=e=>{const t=Object(C["ref"])(0),l=Object(C["ref"])(0),o=Yo(),{canvasPercentage:n,canvasDragged:c}=Object(N["c"])(o),{viewportRatio:a}=Object(N["c"])(Uo()),r=()=>{if(!e.value)return;const c=e.value.clientWidth,r=e.value.clientHeight;if(r/c>a.value){const e=c*(n.value/100);o.setCanvasScale(e/Dn),t.value=(c-e)/2,l.value=(r-e*a.value)/2}else{const e=r*(n.value/100);o.setCanvasScale(e/(Dn*a.value)),t.value=(c-e/a.value)/2,l.value=(r-e)/2}};Object(C["watch"])([n,a],r),Object(C["watch"])(c,()=>{c.value||r()});const i=Object(C["computed"])(()=>({width:Dn,height:Dn*a.value,left:t.value,top:l.value})),s=new ResizeObserver(r);Object(C["onMounted"])(()=>{e.value&&s.observe(e.value)}),Object(C["onUnmounted"])(()=>{e.value&&s.unobserve(e.value)});const d=e=>{let n=!0;const c=e.pageX,a=e.pageY,r=t.value,i=l.value;document.onmousemove=e=>{if(!n)return;const o=e.pageX,s=e.pageY;t.value=r+(o-c),l.value=i+(s-a)},document.onmouseup=()=>{n=!1,document.onmousemove=null,document.onmouseup=null,o.setCanvasDragged(!0)}};return{viewportStyles:i,dragViewport:d}},Da=(e,t)=>{const l=Yo(),{canvasScale:o}=Object(N["c"])(l),n=Object(C["ref"])(!1),c=Object(C["ref"])(1),a=Object(C["ref"])({top:0,left:0,width:0,height:0}),r=r=>{if(!t.value)return;let i=!0;const s=t.value.getBoundingClientRect(),d=5,u=r.pageX,b=r.pageY,m=(u-s.x)/o.value,p=(b-s.y)/o.value;a.value={top:p,left:m,width:0,height:0},n.value=!1,c.value=4,document.onmousemove=e=>{if(!i)return;const t=e.pageX,l=e.pageY,r=(t-u)/o.value,s=(l-b)/o.value,m=Math.abs(r),p=Math.abs(s);if(m<d||p<d)return;let O=0;r>0&&s>0?O=4:r<0&&s<0?O=1:r>0&&s<0?O=2:r<0&&s>0&&(O=3),a.value={...a.value,width:m,height:p},n.value=!0,c.value=O},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,i=!1;let t=[];for(let l=0;l<e.value.length;l++){const o=e.value[l],n=a.value.left,r=a.value.top,i=a.value.width,s=a.value.height,{minX:d,maxX:u,minY:b,maxY:m}=wn(o);let p=!1;4===c.value?p=d>n&&u<n+i&&b>r&&m<r+s:1===c.value?p=d>n-i&&u<n-i+i&&b>r-s&&m<r-s+s:2===c.value?p=d>n&&u<n+i&&b>r-s&&m<r-s+s:3===c.value&&(p=d>n-i&&u<n-i+i&&b>r&&m<r+s),p&&!o.lock&&t.push(o)}t=t.filter(l=>{if(l.groupId){const o=t.map(e=>e.id),n=e.value.filter(e=>e.groupId===l.groupId);return n.every(e=>o.includes(e.id))}return!0});const o=t.map(e=>e.id);l.setActiveElementIdList(o),n.value=!1}};return{mouseSelection:a,mouseSelectionVisible:n,mouseSelectionQuadrant:c,updateMouseSelection:r}},za=e=>{const{disableHotkeys:t}=Object(N["c"])(Yo()),{createImageElement:l,createTextElement:o}=Hn(),n=e=>{if(!e.dataTransfer||0===e.dataTransfer.items.length)return;const n=e.dataTransfer.items[0];if("file"===n.kind&&-1!==n.type.indexOf("image")){const e=n.getAsFile();e&&Mn(e).then(e=>l(e))}else"string"===n.kind&&"text/plain"===n.type&&n.getAsString(e=>{if(t.value)return;const l=_n(e);o({left:0,top:0,width:600,height:50},l)})};Object(C["onMounted"])(()=>{e.value&&e.value.addEventListener("drop",n),document.ondragleave=e=>e.preventDefault(),document.ondrop=e=>e.preventDefault(),document.ondragenter=e=>e.preventDefault(),document.ondragover=e=>e.preventDefault()}),Object(C["onUnmounted"])(()=>{e.value&&e.value.removeEventListener("drop",n),document.ondragleave=null,document.ondrop=null,document.ondragenter=null,document.ondragover=null})};const Fa=(e,t)=>{const l=Math.atan2(e,t),o=180/Math.PI*l;return o};var Aa=(e,t)=>{const l=Uo(),{canvasScale:o}=Object(N["c"])(Yo()),{addHistorySnapshot:n}=Pn(),c=c=>{let a=!0,r=0;const i=c.rotate||0,s=c.left,d=c.top,u=c.width,b=c.height,m=s+u/2,p=d+b/2;if(!t.value)return;const O=t.value.getBoundingClientRect();document.onmousemove=t=>{if(!a)return;const l=(t.pageX-O.left)/o.value,n=(t.pageY-O.top)/o.value,i=l-m,s=p-n;r=Fa(i,s);const d=5;Math.abs(r)<=d?r=0:r>0&&Math.abs(r-45)<=d?r-=r-45:r<0&&Math.abs(r+45)<=d?r-=r+45:r>0&&Math.abs(r-90)<=d?r-=r-90:r<0&&Math.abs(r+90)<=d?r-=r+90:r>0&&Math.abs(r-135)<=d?r-=r-135:r<0&&Math.abs(r+135)<=d?r-=r+135:r>0&&Math.abs(r-180)<=d?r-=r-180:r<0&&Math.abs(r+180)<=d&&(r-=r+180),e.value=e.value.map(e=>c.id===e.id?{...e,rotate:r}:e)},document.onmouseup=()=>{a=!1,document.onmousemove=null,document.onmouseup=null,i!==r&&(l.updateSlide({elements:e.value}),n())}};return{rotateElement:c}};const $a={text:"文本",image:"图片",shape:"形状",line:"线条",chart:"图表",table:"表格",video:"视频",audio:"音频"},Ra={text:20,image:20,shape:15,chart:200,table:20,video:250,audio:20},Pa=(e,t)=>{const{left:l,top:o,width:n,height:c}=e,a=Math.sqrt(Math.pow(n,2)+Math.pow(c,2))/2,r=180*Math.atan(c/n)/Math.PI,i=(180-t-r)*Math.PI/180,s=(r-t)*Math.PI/180,d=(90-t)*Math.PI/180,u=t*Math.PI/180,b=n/2,m=c/2,p=l+b,O=o+m,f={left:p+a*Math.cos(i),top:O-a*Math.sin(i)},j={left:p+m*Math.cos(d),top:O-m*Math.sin(d)},v={left:p+a*Math.cos(s),top:O-a*Math.sin(s)},h={left:p+b*Math.cos(u),top:O+b*Math.sin(u)},y={left:p-a*Math.cos(i),top:O+a*Math.sin(i)},g={left:p-m*Math.sin(u),top:O+m*Math.cos(u)},x={left:p-a*Math.cos(s),top:O+a*Math.sin(s)},k={left:p-b*Math.cos(u),top:O-b*Math.sin(u)};return{leftTopPoint:f,topPoint:j,rightTopPoint:v,rightPoint:h,rightBottomPoint:y,bottomPoint:g,leftBottomPoint:x,leftPoint:k}},Ha=(e,t)=>{const l={[mn.RIGHT_BOTTOM]:t.leftTopPoint,[mn.LEFT_BOTTOM]:t.rightTopPoint,[mn.LEFT_TOP]:t.rightBottomPoint,[mn.RIGHT_TOP]:t.leftBottomPoint,[mn.TOP]:t.bottomPoint,[mn.BOTTOM]:t.topPoint,[mn.LEFT]:t.rightPoint,[mn.RIGHT]:t.leftPoint};return l[e]};var qa,Ua,Ga=(e,t,l)=>{const o=Yo(),n=Uo(),{activeElementIdList:c,activeGroupElementId:a}=Object(N["c"])(o),{viewportRatio:r}=Object(N["c"])(n),{ctrlOrShiftKeyActive:i}=Object(N["c"])(on()),{addHistorySnapshot:s}=Pn(),d=(d,u,b)=>{const m=!(d instanceof MouseEvent);if(m&&(!d.changedTouches||!d.changedTouches[0]))return;let p=!0;o.setScalingState(!0);const O=u.left,f=u.top,j=u.width,v=u.height,h="rotate"in u&&u.rotate?u.rotate:0,y=Math.PI*h/180,g=i.value||"fixedRatio"in u&&u.fixedRatio,x=j/v,k=m?d.changedTouches[0].pageX:d.pageX,C=m?d.changedTouches[0].pageY:d.pageY,N=Ra[u.type]||20,E=e=>e<N?N:e;let w,V=0,I=0,B=[],S=[];if("rotate"in u&&u.rotate){const{left:e,top:t,width:l,height:o}=u;w=Pa({left:e,top:t,width:l,height:o},h);const n=Ha(b,w);V=n.left,I=n.top}else{const t=Dn,l=Dn*r.value,o=u.id===a.value;for(const a of e.value){if("rotate"in a&&a.rotate)continue;if("line"===a.type)continue;if(o&&a.id===u.id)continue;if(!o&&c.value.includes(a.id))continue;const e=a.left,t=a.top,l=a.width,n=a.height,r=e+l,i=t+n,s={value:t,range:[e,r]},d={value:i,range:[e,r]},b={value:e,range:[t,i]},m={value:r,range:[t,i]};B.push(s,d),S.push(b,m)}const n={value:0,range:[0,t]},i={value:l,range:[0,t]},s={value:l/2,range:[0,t]},d={value:0,range:[0,l]},b={value:t,range:[0,l]},m={value:t/2,range:[0,l]};B.push(n,i,s),S.push(d,b,m),B=In(B),S=In(S)}const L=(e,l)=>{const o=5,n=[];let c=!1,a=!1;const r={offsetX:0,offsetY:0};if(l||0===l)for(let t=0;t<B.length;t++){const{value:c,range:i}=B[t],s=Math.min(...i,e||0),d=Math.max(...i,e||0);Math.abs(l-c)<o&&!a&&(r.offsetY=l-c,a=!0,n.push({type:"horizontal",axis:{x:s-50,y:c},length:d-s+100}))}if(e||0===e)for(let t=0;t<S.length;t++){const{value:a,range:i}=S[t],s=Math.min(...i,l||0),d=Math.max(...i,l||0);Math.abs(e-a)<o&&!c&&(r.offsetX=e-a,c=!0,n.push({type:"vertical",axis:{x:a,y:s-50},length:d-s+100}))}return t.value=n,r},_=t=>{if(!p)return;const o=t instanceof MouseEvent?t.pageX:t.changedTouches[0].pageX,n=t instanceof MouseEvent?t.pageY:t.changedTouches[0].pageY,c=o-k,a=n-C;let r=j,i=v,s=O,d=f;if(h){const e=(Math.cos(y)*c+Math.sin(y)*a)/l.value;let t=(Math.cos(y)*a-Math.sin(y)*c)/l.value;g&&(b!==mn.RIGHT_BOTTOM&&b!==mn.LEFT_TOP||(t=e/x),b!==mn.LEFT_BOTTOM&&b!==mn.RIGHT_TOP||(t=-e/x)),b===mn.RIGHT_BOTTOM?(r=E(j+e),i=E(v+t)):b===mn.LEFT_BOTTOM?(r=E(j-e),i=E(v+t),s=O-(r-j)):b===mn.LEFT_TOP?(r=E(j-e),i=E(v-t),s=O-(r-j),d=f-(i-v)):b===mn.RIGHT_TOP?(r=E(j+e),i=E(v-t),d=f-(i-v)):b===mn.TOP?(i=E(v-t),d=f-(i-v)):b===mn.BOTTOM?i=E(v+t):b===mn.LEFT?(r=E(j-e),s=O-(r-j)):b===mn.RIGHT&&(r=E(j+e));const o=Pa({width:r,height:i,left:s,top:d},h),n=Ha(b,o),u=n.left,m=n.top,p=u-V,k=m-I;s-=p,d-=k}else{let e=c/l.value,t=a/l.value;if(g&&(b!==mn.RIGHT_BOTTOM&&b!==mn.LEFT_TOP||(t=e/x),b!==mn.LEFT_BOTTOM&&b!==mn.RIGHT_TOP||(t=-e/x)),b===mn.RIGHT_BOTTOM){const{offsetX:l,offsetY:o}=L(O+j+e,f+v+t);e-=l,t-=o,g&&(o?e=t*x:t=e/x),r=E(j+e),i=E(v+t)}else if(b===mn.LEFT_BOTTOM){const{offsetX:l,offsetY:o}=L(O+e,f+v+t);e-=l,t-=o,g&&(o?e=-t*x:t=-e/x),r=E(j-e),i=E(v+t),s=O-(r-j)}else if(b===mn.LEFT_TOP){const{offsetX:l,offsetY:o}=L(O+e,f+t);e-=l,t-=o,g&&(o?e=t*x:t=e/x),r=E(j-e),i=E(v-t),s=O-(r-j),d=f-(i-v)}else if(b===mn.RIGHT_TOP){const{offsetX:l,offsetY:o}=L(O+j+e,f+t);e-=l,t-=o,g&&(o?e=-t*x:t=-e/x),r=E(j+e),i=E(v-t),d=f-(i-v)}else if(b===mn.LEFT){const{offsetX:t}=L(O+e,null);e-=t,r=E(j-e),s=O-(r-j)}else if(b===mn.RIGHT){const{offsetX:t}=L(O+j+e,null);e-=t,r=E(j+e)}else if(b===mn.TOP){const{offsetY:e}=L(null,f+t);t-=e,i=E(v-t),d=f-(i-v)}else if(b===mn.BOTTOM){const{offsetY:e}=L(null,f+v+t);t-=e,i=E(v+t)}}e.value=e.value.map(e=>{if(u.id!==e.id)return e;if("shape"===e.type&&"pathFormula"in e&&e.pathFormula){const t=An[e.pathFormula];let l="";return l="editable"in t?t.formula(r,i,e.keypoint):t.formula(r,i),{...e,left:s,top:d,width:r,height:i,viewBox:[r,i],path:l}}return{...e,left:s,top:d,width:r,height:i}})},T=l=>{p=!1,document.ontouchmove=null,document.ontouchend=null,document.onmousemove=null,document.onmouseup=null,t.value=[];const c=l instanceof MouseEvent?l.pageX:l.changedTouches[0].pageX,a=l instanceof MouseEvent?l.pageY:l.changedTouches[0].pageY;k===c&&C===a||(n.updateSlide({elements:e.value}),o.setScalingState(!1),s())};m?(document.ontouchmove=_,document.ontouchend=T):(document.onmousemove=_,document.onmouseup=T)},u=(t,o,a)=>{let r=!0;const{minX:d,maxX:u,minY:b,maxY:m}=o,p=u-d,O=m-b,f=p/O,j=t.pageX,v=t.pageY,h=JSON.parse(JSON.stringify(e.value));document.onmousemove=t=>{if(!r)return;const o=t.pageX,n=t.pageY,s=(o-j)/l.value;let y=(n-v)/l.value;i.value&&(a!==mn.RIGHT_BOTTOM&&a!==mn.LEFT_TOP||(y=s/f),a!==mn.LEFT_BOTTOM&&a!==mn.RIGHT_TOP||(y=-s/f));let g=d,x=u,k=b,C=m;a===mn.RIGHT_BOTTOM?(x=u+s,C=m+y):a===mn.LEFT_BOTTOM?(g=d+s,C=m+y):a===mn.LEFT_TOP?(g=d+s,k=b+y):a===mn.RIGHT_TOP?(x=u+s,k=b+y):a===mn.TOP?k=b+y:a===mn.BOTTOM?C=m+y:a===mn.LEFT?g=d+s:a===mn.RIGHT&&(x=u+s);const N=x-g,E=C-k;let w=N/p,V=E/O;w<=0&&(w=0),V<=0&&(V=0),e.value=e.value.map(e=>{if(("image"===e.type||"shape"===e.type)&&c.value.includes(e.id)){const t=h.find(t=>t.id===e.id);return{...e,width:t.width*w,height:t.height*V,left:g+(t.left-d)*w,top:k+(t.top-b)*V}}return e})},document.onmouseup=t=>{r=!1,document.onmousemove=null,document.onmouseup=null,j===t.pageX&&v===t.pageY||(n.updateSlide({elements:e.value}),s())}};return{scaleElement:d,scaleMultiElement:u}},Xa=(e,t)=>{const l=Yo(),{activeElementIdList:o,activeGroupElementId:n,handleElementId:c,editorAreaFocus:a}=Object(N["c"])(l),{ctrlOrShiftKeyActive:r}=Object(N["c"])(on()),i=(i,s,d=!0)=>{if(a.value||l.setEditorareaFocus(!0),o.value.includes(s.id)){if(r.value){let t=[];if(s.groupId){const l=[];e.value.forEach(e=>{e.groupId===s.groupId&&l.push(e.id)}),t=o.value.filter(e=>!l.includes(e))}else t=o.value.filter(e=>e!==s.id);t.length>0&&l.setActiveElementIdList(t)}else if(c.value!==s.id)l.setHandleElementId(s.id);else if(n.value!==s.id){const e=i instanceof MouseEvent?i.pageX:i.changedTouches[0].pageX,t=i instanceof MouseEvent?i.pageY:i.changedTouches[0].pageY;i.target.onmouseup=o=>{const n=o.pageX,c=o.pageY;e===n&&t===c&&(l.setActiveGroupElementId(s.id),o.target.onmouseup=null)}}}else{let t=[];if(t=r.value?[...o.value,s.id]:[s.id],s.groupId){const l=[];e.value.forEach(e=>{e.groupId===s.groupId&&l.push(e.id)}),t=[...t,...l]}l.setActiveElementIdList(Object(Xt["uniq"])(t)),l.setHandleElementId(s.id)}d&&t(i,s)},s=()=>{const t=e.value.filter(e=>!e.lock),o=t.map(e=>e.id);l.setActiveElementIdList(o)};return{selectElement:i,selectAllElement:s}},Ya=(e,t,l)=>{const o=Uo(),{activeElementIdList:n,activeGroupElementId:c}=Object(N["c"])(Yo()),{viewportRatio:a}=Object(N["c"])(o),{addHistorySnapshot:r}=Pn(),i=(i,s)=>{const d=!(i instanceof MouseEvent);if(d&&(!i.changedTouches||!i.changedTouches[0]))return;if(!n.value.includes(s.id))return;let u=!0;const b=Dn,m=Dn*a.value,p=5,O=JSON.parse(JSON.stringify(e.value)),f=O.filter(e=>n.value.includes(e.id)),j=s.left,v=s.top,h=s.width,y="height"in s&&s.height?s.height:0,g="rotate"in s&&s.rotate?s.rotate:0,x=d?i.changedTouches[0].pageX:i.pageX,k=d?i.changedTouches[0].pageY:i.pageY;let C=null;const N=s.id===c.value;let E=[],w=[];for(const t of e.value){if("line"===t.type)continue;if(N&&t.id===s.id)continue;if(!N&&n.value.includes(t.id))continue;let e,l,o,c;if("rotate"in t&&t.rotate){const{xRange:n,yRange:a}=Nn({left:t.left,top:t.top,width:t.width,height:t.height,rotate:t.rotate});e=n[0],l=a[0],o=n[1]-n[0],c=a[1]-a[0]}else e=t.left,l=t.top,o=t.width,c=t.height;const a=e+o,r=l+c,i=l+c/2,d=e+o/2,u={value:l,range:[e,a]},b={value:r,range:[e,a]},m={value:i,range:[e,a]},p={value:e,range:[l,r]},O={value:a,range:[l,r]},f={value:d,range:[l,r]};E.push(u,b,m),w.push(p,O,f)}const V={value:0,range:[0,b]},I={value:m,range:[0,b]},B={value:m/2,range:[0,b]},S={value:0,range:[0,m]},L={value:b,range:[0,m]},_={value:b/2,range:[0,m]};E.push(V,I,B),w.push(S,L,_),E=In(E),w=In(w);const T=o=>{const c=o instanceof MouseEvent?o.pageX:o.changedTouches[0].pageX,a=o instanceof MouseEvent?o.pageY:o.changedTouches[0].pageY;if(!1!==C&&(C=Math.abs(x-c)<p&&Math.abs(k-a)<p),!u||C)return;const r=(c-x)/l.value,i=(a-k)/l.value;let d,b,m,O,V=j+r,I=v+i;if(1===n.value.length||N)if(g){const{xRange:e,yRange:t}=Nn({left:V,top:I,width:h,height:y,rotate:g});d=e[0],b=e[1],m=t[0],O=t[1]}else"line"===s.type?(d=V,b=V+Math.max(s.start[0],s.end[0]),m=I,O=I+Math.max(s.start[1],s.end[1])):(d=V,b=V+h,m=I,O=I+y);else{const e=[],t=[],l=[],o=[];for(let n=0;n<f.length;n++){const c=f[n],a=c.left+r,s=c.top+i,d=c.width,u="height"in c&&c.height?c.height:0,b="rotate"in c&&c.rotate?c.rotate:0;if("rotate"in c&&c.rotate){const{xRange:n,yRange:c}=Nn({left:a,top:s,width:d,height:u,rotate:b});e.push(n[0]),t.push(c[0]),l.push(n[1]),o.push(c[1])}else"line"===c.type?(e.push(a),t.push(s),l.push(a+Math.max(c.start[0],c.end[0])),o.push(s+Math.max(c.start[1],c.end[1]))):(e.push(a),t.push(s),l.push(a+d),o.push(s+u))}d=Math.min(...e),b=Math.max(...l),m=Math.min(...t),O=Math.max(...o)}const B=d+(b-d)/2,S=m+(O-m)/2,L=[];let _=!1,T=!1;for(let e=0;e<E.length;e++){const{value:t,range:l}=E[e],o=Math.min(...l,d,b),n=Math.max(...l,d,b);Math.abs(m-t)<p&&!T&&(I-=m-t,T=!0,L.push({type:"horizontal",axis:{x:o-50,y:t},length:n-o+100})),Math.abs(O-t)<p&&!T&&(I-=O-t,T=!0,L.push({type:"horizontal",axis:{x:o-50,y:t},length:n-o+100})),Math.abs(S-t)<p&&!T&&(I-=S-t,T=!0,L.push({type:"horizontal",axis:{x:o-50,y:t},length:n-o+100}))}for(let e=0;e<w.length;e++){const{value:t,range:l}=w[e],o=Math.min(...l,m,O),n=Math.max(...l,m,O);Math.abs(d-t)<p&&!_&&(V-=d-t,_=!0,L.push({type:"vertical",axis:{x:t,y:o-50},length:n-o+100})),Math.abs(b-t)<p&&!_&&(V-=b-t,_=!0,L.push({type:"vertical",axis:{x:t,y:o-50},length:n-o+100})),Math.abs(B-t)<p&&!_&&(V-=B-t,_=!0,L.push({type:"vertical",axis:{x:t,y:o-50},length:n-o+100}))}if(t.value=L,1===n.value.length||N)e.value=e.value.map(e=>e.id===s.id?{...e,left:V,top:I}:e);else{const t=e.value.find(e=>e.id===s.id);if(!t)return;e.value=e.value.map(e=>n.value.includes(e.id)?e.id===s.id?{...e,left:V,top:I}:{...e,left:e.left+(V-t.left),top:e.top+(I-t.top)}:e)}},M=l=>{u=!1,document.ontouchmove=null,document.ontouchend=null,document.onmousemove=null,document.onmouseup=null,t.value=[];const n=l instanceof MouseEvent?l.pageX:l.changedTouches[0].pageX,c=l instanceof MouseEvent?l.pageY:l.changedTouches[0].pageY;x===n&&k===c||(o.updateSlide({elements:e.value}),r())};d?(document.ontouchmove=T,document.ontouchend=M):(document.onmousemove=T,document.onmouseup=M)};return{dragElement:i}},Za=e=>{const t=Uo(),{canvasScale:l}=Object(N["c"])(Yo()),{addHistorySnapshot:o}=Pn(),n=(n,c,a)=>{let r=!0;const i=8,s=n.pageX,d=n.pageY,u=[];for(let t=0;t<e.value.length;t++){const l=e.value[t];if("line"===l.type||l.rotate)continue;const o=l.left,n=l.top,c=l.width,a=l.height,r=o+c,i=n+a,s=n+a/2,d=o+c/2,b={x:d,y:n},m={x:d,y:i},p={x:o,y:s},O={x:r,y:s},f={x:o,y:n},j={x:r,y:n},v={x:o,y:i},h={x:r,y:i};u.push(b,m,p,O,f,j,v,h)}document.onmousemove=t=>{if(!r)return;const o=t.pageX,n=t.pageY,b=(o-s)/l.value,m=(n-d)/l.value;let p=c.left+c.start[0],O=c.top+c.start[1],f=c.left+c.end[0],j=c.top+c.end[1];const v=c.broken||c.curve||[0,0];let h=c.left+v[0],y=c.top+v[1];const[g,x]=c.cubic||[[0,0],[0,0]];let k=c.left+g[0],C=c.top+g[1],N=c.left+x[0],E=c.top+x[1];if(a===pn.START){p+=b,O+=m,Math.abs(p-f)<i&&(p=f),Math.abs(O-j)<i&&(O=j);for(const e of u){const{x:t,y:l}=e;if(Math.abs(t-p)<i&&Math.abs(l-O)<i){p=t,O=l;break}}}else if(a===pn.END){f+=b,j+=m,Math.abs(p-f)<i&&(f=p),Math.abs(O-j)<i&&(j=O);for(const e of u){const{x:t,y:l}=e;if(Math.abs(t-f)<i&&Math.abs(l-j)<i){f=t,j=l;break}}}else a===pn.C?(h+=b,y+=m,Math.abs(h-p)<i&&(h=p),Math.abs(y-O)<i&&(y=O),Math.abs(h-f)<i&&(h=f),Math.abs(y-j)<i&&(y=j),Math.abs(h-(p+f)/2)<i&&Math.abs(y-(O+j)/2)<i&&(h=(p+f)/2,y=(O+j)/2)):a===pn.C1?(k+=b,C+=m,Math.abs(k-p)<i&&(k=p),Math.abs(C-O)<i&&(C=O),Math.abs(k-f)<i&&(k=f),Math.abs(C-j)<i&&(C=j)):a===pn.C2&&(N+=b,E+=m,Math.abs(N-p)<i&&(N=p),Math.abs(E-O)<i&&(E=O),Math.abs(N-f)<i&&(N=f),Math.abs(E-j)<i&&(E=j));const w=Math.min(p,f),V=Math.min(O,j),I=Math.max(p,f),B=Math.max(O,j),S=[0,0],L=[I-w,B-V];p>f&&(S[0]=I-w,L[0]=0),O>j&&(S[1]=B-V,L[1]=0),e.value=e.value.map(e=>{if(e.id===c.id){const t={...e,left:w,top:V,start:S,end:L};return a===pn.START||a===pn.END?(c.broken&&(t.broken=[(S[0]+L[0])/2,(S[1]+L[1])/2]),c.curve&&(t.curve=[(S[0]+L[0])/2,(S[1]+L[1])/2]),c.cubic&&(t.cubic=[[(S[0]+L[0])/2,(S[1]+L[1])/2],[(S[0]+L[0])/2,(S[1]+L[1])/2]])):a===pn.C?(c.broken&&(t.broken=[h-w,y-V]),c.curve&&(t.curve=[h-w,y-V])):c.cubic&&(t.cubic=[[k-w,C-V],[N-w,E-V]]),t}return e})},document.onmouseup=l=>{r=!1,document.onmousemove=null,document.onmouseup=null;const n=l.pageX,c=l.pageY;s===n&&d===c||(t.updateSlide({elements:e.value}),o())}};return{dragLineElement:n}},Wa=(e,t)=>{const l=Uo(),{addHistorySnapshot:o}=Pn(),n=(n,c)=>{const a=!(n instanceof MouseEvent);if(a&&(!n.changedTouches||!n.changedTouches[0]))return;let r=!0;const i=a?n.changedTouches[0].pageX:n.pageX,s=a?n.changedTouches[0].pageY:n.pageY,d=An[c.pathFormula];let u=null;if("editable"in d){const e=d.getBaseSize(c.width,c.height),t=e*c.keypoint,[l,o]=d.range,n=d.relative;u={baseSize:e,originPos:t,min:l,max:o,relative:n}}const b=l=>{if(!r)return;const o=l instanceof MouseEvent?l.pageX:l.changedTouches[0].pageX,n=l instanceof MouseEvent?l.pageY:l.changedTouches[0].pageY,a=(o-i)/t.value,b=(n-s)/t.value;e.value=e.value.map(e=>{if(e.id===c.id&&u){const{baseSize:t,originPos:l,min:o,max:n,relative:c}=u,r=e;let i=0;return"left"===c&&(i=(l+a)/t),"right"===c&&(i=(l-a)/t),"center"===c&&(i=(l-2*a)/t),"top"===c&&(i=(l+b)/t),"bottom"===c&&(i=(l-b)/t),i<o&&(i=o),i>n&&(i=n),{...e,keypoint:i,path:d.formula(r.width,r.height,i)}}return e})},m=t=>{r=!1,document.ontouchmove=null,document.ontouchend=null,document.onmousemove=null,document.onmouseup=null;const n=t instanceof MouseEvent?t.pageX:t.changedTouches[0].pageX,c=t instanceof MouseEvent?t.pageY:t.changedTouches[0].pageY;i===n&&s===c||(l.updateSlide({elements:e.value}),o())};a?(document.ontouchmove=b,document.ontouchend=m):(document.onmousemove=b,document.onmouseup=m)};return{moveShapeKeypoint:n}},Ja=e=>{const t=Yo(),{canvasScale:l,creatingElement:o}=Object(N["c"])(t),n=t=>{const{start:o,end:n}=t;if(!e.value)return;const c=e.value.getBoundingClientRect(),[a,r]=o,[i,s]=n,d=Math.min(a,i),u=Math.max(a,i),b=Math.min(r,s),m=Math.max(r,s),p=(d-c.x)/l.value,O=(b-c.y)/l.value,f=(u-d)/l.value,j=(m-b)/l.value;return{left:p,top:O,width:f,height:j}},c=t=>{const{start:o,end:n}=t;if(!e.value)return;const c=e.value.getBoundingClientRect(),[a,r]=o,[i,s]=n,d=Math.min(a,i),u=Math.max(a,i),b=Math.min(r,s),m=Math.max(r,s),p=(d-c.x)/l.value,O=(b-c.y)/l.value,f=(u-d)/l.value,j=(m-b)/l.value,v=[a===d?0:f,r===b?0:j],h=[i===d?0:f,s===b?0:j];return{left:p,top:O,start:v,end:h}},{createTextElement:a,createShapeElement:r,createLineElement:i}=Hn(),s=e=>{if(!o.value)return;const l=o.value.type;if("text"===l){const t=n(e);t&&a(t)}else if("shape"===l){const t=n(e);t&&r(t,o.value.data)}else if("line"===l){const t=c(e);t&&i(t,o.value.data)}t.setCreatingElement(null)};return{insertElementFromCreateSelection:s}},Ka=()=>{const e=Uo(),{activeElementIdList:t,activeElementList:l}=Object(N["c"])(Yo()),{currentSlide:o,viewportRatio:n}=Object(N["c"])(e),{addHistorySnapshot:c}=Pn(),a=a=>{const r=Dn,i=Dn*n.value,{minX:s,maxX:d,minY:u,maxY:b}=Vn(l.value),m=JSON.parse(JSON.stringify(o.value.elements));for(const e of m)if(t.value.includes(e.id)){if(a===un.CENTER){const t=u+(b-u)/2-i/2,l=s+(d-s)/2-r/2;e.top=e.top-t,e.left=e.left-l}if(a===un.TOP){const t=u-0;e.top=e.top-t}else if(a===un.VERTICAL){const t=u+(b-u)/2-i/2;e.top=e.top-t}else if(a===un.BOTTOM){const t=b-i;e.top=e.top-t}else if(a===un.LEFT){const t=s-0;e.left=e.left-t}else if(a===un.HORIZONTAL){const t=s+(d-s)/2-r/2;e.left=e.left-t}else if(a===un.RIGHT){const t=d-r;e.left=e.left-t}}e.updateSlide({elements:m}),c()};return{alignElementToCanvas:a}},Qa=e=>{const t=Object(C["computed"])(()=>{if(e.value){const{h:t,v:l,blur:o,color:n}=e.value;return`${t}px ${l}px ${o}px ${n}`}return""});return{shadowStyle:t}},er=(e,t)=>{const l=Object(C["computed"])(()=>{let l="";return e.value&&t.value?l="rotateX(180deg) rotateY(180deg)":t.value?l="rotateX(180deg)":e.value&&(l="rotateY(180deg)"),l});return{flipStyle:l}};(function(e){e["RECT"]="rect",e["ELLIPSE"]="ellipse",e["POLYGON"]="polygon"})(qa||(qa={})),function(e){e["RECT"]="rect",e["ROUNDRECT"]="roundRect",e["ELLIPSE"]="ellipse",e["TRIANGLE"]="triangle",e["PENTAGON"]="pentagon",e["RHOMBUS"]="rhombus",e["STAR"]="star"}(Ua||(Ua={}));const tr={rect:{name:"矩形",type:qa.RECT,radius:"0",style:""},rect2:{name:"矩形2",type:qa.POLYGON,style:"polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 0 100%)",createPath:(e,t)=>`M 0 0 L ${.8*e} 0 L ${e} ${.2*t} L ${e} ${t} L 0 ${t} Z`},rect3:{name:"矩形3",type:qa.POLYGON,style:"polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 20% 100%, 0% 80%)",createPath:(e,t)=>`M 0 0 L ${.8*e} 0 L ${e} ${.2*t} L ${e} ${t} L ${.2*e} ${t} L 0 ${.8*t} Z`},roundRect:{name:"圆角矩形",type:qa.RECT,radius:"10px",style:"inset(0 0 0 0 round 10px 10px 10px 10px)"},ellipse:{name:"圆形",type:qa.ELLIPSE,style:"ellipse(50% 50% at 50% 50%)"},triangle:{name:"三角形",type:qa.POLYGON,style:"polygon(50% 0%, 0% 100%, 100% 100%)",createPath:(e,t)=>`M ${.5*e} 0 L 0 ${t} L ${e} ${t} Z`},triangle2:{name:"三角形2",type:qa.POLYGON,style:"polygon(50% 100%, 0% 0%, 100% 0%)",createPath:(e,t)=>`M ${.5*e} ${t} L 0 0 L ${e} 0 Z`},triangle3:{name:"三角形3",type:qa.POLYGON,style:"polygon(0% 0%, 0% 100%, 100% 100%)",createPath:(e,t)=>`M 0 0 L 0 ${t} L ${e} ${t} Z`},rhombus:{name:"菱形",type:qa.POLYGON,style:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",createPath:(e,t)=>`M ${.5*e} 0 L ${e} ${.5*t} L ${.5*e} ${t} L 0 ${.5*t} Z`},pentagon:{name:"五边形",type:qa.POLYGON,style:"polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)",createPath:(e,t)=>`M ${.5*e} 0 L ${e} ${.38*t} L ${.82*e} ${t} L ${.18*e} ${t} L 0 ${.38*t} Z`},hexagon:{name:"六边形",type:qa.POLYGON,style:"polygon(20% 0%, 80% 0%, 100% 50%, 80% 100%, 20% 100%, 0% 50%)",createPath:(e,t)=>`M ${.2*e} 0 L ${.8*e} 0 L ${e} ${.5*t} L ${.8*e} ${t} L ${.2*e} ${t} L 0 ${.5*t} Z`},heptagon:{name:"七边形",type:qa.POLYGON,style:"polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%)",createPath:(e,t)=>`M ${.5*e} 0 L ${.9*e} ${.2*t} L ${e} ${.6*t} L ${.75*e} ${t} L ${.25*e} ${t} L 0 ${.6*t} L ${.1*e} ${.2*t} Z`},octagon:{name:"八边形",type:qa.POLYGON,style:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)",createPath:(e,t)=>`M ${.3*e} 0 L ${.7*e} 0 L ${e} ${.3*t} L ${e} ${.7*t} L ${.7*e} ${t} L ${.3*e} ${t} L 0 ${.7*t} L 0 ${.3*t} Z`},chevron:{name:"V形",type:qa.POLYGON,style:"polygon(75% 0%, 100% 50%, 75% 100%, 0% 100%, 25% 50%, 0% 0%)",createPath:(e,t)=>`M ${.75*e} 0 L ${e} ${.5*t} L ${.75*e} ${t} L 0 ${t} L ${.25*e} ${.5*t} L 0 0 Z`},point:{name:"点",type:qa.POLYGON,style:"polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%)",createPath:(e,t)=>`M 0 0 L ${.75*e} 0 L ${e} ${.5*t} L ${.75*e} ${t} L 0 ${t} Z`},arrow:{name:"箭头",type:qa.POLYGON,style:"polygon(0% 20%, 60% 20%, 60% 0%, 100% 50%, 60% 100%, 60% 80%, 0% 80%)",createPath:(e,t)=>`M 0 ${.2*t} L ${.6*e} ${.2*t} L ${.6*e} 0 L ${e} ${.5*t} L ${.6*e} ${t} L ${.6*e} ${.8*t} L 0 ${.8*t} Z`},parallelogram:{name:"平行四边形",type:qa.POLYGON,style:"polygon(30% 0%, 100% 0%, 70% 100%, 0% 100%)",createPath:(e,t)=>`M ${.3*e} 0 L ${e} 0 L ${.7*e} ${t} L 0 ${t} Z`},parallelogram2:{name:"平行四边形2",type:qa.POLYGON,style:"polygon(30% 100%, 100% 100%, 70% 0%, 0% 0%)",createPath:(e,t)=>`M ${.3*e} ${t} L ${e} ${t} L ${.7*e} 0 L 0 0 Z`},trapezoid:{name:"梯形",type:qa.POLYGON,style:"polygon(25% 0%, 75% 0%, 100% 100%, 0% 100%)",createPath:(e,t)=>`M ${.25*e} 0 L ${.75*e} 0 L ${e} ${t} L 0 ${t} Z`},trapezoid2:{name:"梯形2",type:qa.POLYGON,style:"polygon(0% 0%, 100% 0%, 75% 100%, 25% 100%)",createPath:(e,t)=>`M 0 0 L ${e} 0 L ${.75*e} ${t} L ${.25*e} ${t} Z`}};var lr=e=>{const t=Object(C["computed"])(()=>{if(!e.value)return tr.rect;const t=e.value.shape||qa.RECT;return tr[t]}),l=Object(C["computed"])(()=>{if(!e.value)return{top:"0",left:"0",width:"100%",height:"100%"};const[t,l]=e.value.range,o=(l[0]-t[0])/100,n=(l[1]-t[1])/100,c=t[0]/o,a=t[1]/n;return{left:-c+"%",top:-a+"%",width:100/o+"%",height:100/n+"%"}});return{clipShape:t,imgPosition:l}},or=e=>{const t=Object(C["computed"])(()=>{if(!e.value)return"";let t="";for(const l of Object.keys(e.value))t+=`${l}(${e.value[l]}) `;return t});return{filter:t}},nr=e=>{const t=Object(C["computed"])(()=>{var t,l;return null!==(t=null===(l=e.value)||void 0===l?void 0:l.width)&&void 0!==t?t:0}),l=Object(C["computed"])(()=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.style)||"solid"}),o=Object(C["computed"])(()=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.color)||"#4f9346"});return{outlineWidth:t,outlineStyle:l,outlineColor:o}};const cr=["width","height"],ar=["rx","ry","width","height","stroke","stroke-width","stroke-dasharray"];var rr=Object(C["defineComponent"])({__name:"ImageRectOutline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object},radius:{type:String,default:"0"}},setup(e){const t=e,{outlineWidth:l,outlineStyle:o,outlineColor:n}=nr(Object(C["toRef"])(t,"outline"));return(t,c)=>e.outline?(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{key:0,class:"image-rect-outline",overflow:"visible",width:e.width,height:e.height},[Object(C["createElementVNode"])("rect",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",rx:e.radius,ry:e.radius,width:e.width,height:e.height,stroke:Object(C["unref"])(n),"stroke-width":Object(C["unref"])(l),"stroke-dasharray":"dashed"===Object(C["unref"])(o)?"10 6":"0 0"},null,8,ar)],8,cr)):Object(C["createCommentVNode"])("",!0)}});l("fef7");const ir=V()(rr,[["__scopeId","data-v-b5bace06"]]);var sr=ir;const dr=["width","height"],ur=["cx","cy","rx","ry","stroke","stroke-width","stroke-dasharray"];var br=Object(C["defineComponent"])({__name:"ImageEllipseOutline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object}},setup(e){const t=e,{outlineWidth:l,outlineStyle:o,outlineColor:n}=nr(Object(C["toRef"])(t,"outline"));return(t,c)=>e.outline?(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{key:0,class:"image-ellipse-outline",overflow:"visible",width:e.width,height:e.height},[Object(C["createElementVNode"])("ellipse",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",cx:e.width/2,cy:e.height/2,rx:e.width/2,ry:e.height/2,stroke:Object(C["unref"])(n),"stroke-width":Object(C["unref"])(l),"stroke-dasharray":"dashed"===Object(C["unref"])(o)?"10 6":"0 0"},null,8,ur)],8,dr)):Object(C["createCommentVNode"])("",!0)}});l("45c1");const mr=V()(br,[["__scopeId","data-v-71b17928"]]);var pr=mr;const Or=["width","height"],fr=["d","stroke","stroke-width","stroke-dasharray"];var jr=Object(C["defineComponent"])({__name:"ImagePolygonOutline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object},createPath:{type:Function,required:!0}},setup(e){const t=e,{outlineWidth:l,outlineStyle:o,outlineColor:n}=nr(Object(C["toRef"])(t,"outline"));return(t,c)=>e.outline?(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{key:0,class:"image-polygon-outline",overflow:"visible",width:e.width,height:e.height},[Object(C["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",d:e.createPath(e.width,e.height),stroke:Object(C["unref"])(n),"stroke-width":Object(C["unref"])(l),"stroke-dasharray":"dashed"===Object(C["unref"])(o)?"10 6":"0 0"},null,8,fr)],8,Or)):Object(C["createCommentVNode"])("",!0)}});l("180d");const vr=V()(jr,[["__scopeId","data-v-41071294"]]);var hr=vr;const yr={class:"image-outline"};var gr=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>t.elementInfo.clip),{clipShape:o}=lr(l);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",yr,["rect"===Object(C["unref"])(o).type?(Object(C["openBlock"])(),Object(C["createBlock"])(sr,{key:0,width:e.elementInfo.width,height:e.elementInfo.height,radius:Object(C["unref"])(o).radius,outline:e.elementInfo.outline},null,8,["width","height","radius","outline"])):"ellipse"===Object(C["unref"])(o).type?(Object(C["openBlock"])(),Object(C["createBlock"])(pr,{key:1,width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"])):"polygon"===Object(C["unref"])(o).type?(Object(C["openBlock"])(),Object(C["createBlock"])(hr,{key:2,width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline,createPath:Object(C["unref"])(o).createPath},null,8,["width","height","outline","createPath"])):Object(C["createCommentVNode"])("",!0)]))}});const xr=gr;var kr=xr;const Cr=e=>(Object(C["pushScopeId"])("data-v-3e0199ec"),e=e(),Object(C["popScopeId"])(),e),Nr=["src"],Er=["src"],wr=["onMousedown"],Vr=Cr(()=>Object(C["createElementVNode"])("svg",{width:"16",height:"16",fill:"#fff",stroke:"#333"},[Object(C["createElementVNode"])("path",{"stroke-width":"0.3","shape-rendering":"crispEdges",d:"M 16 0 L 0 0 L 0 16 L 4 16 L 4 4 L 16 4 L 16 0 Z"})],-1)),Ir=[Vr],Br=["onMousedown"],Sr=Cr(()=>Object(C["createElementVNode"])("svg",{width:"16",height:"16",fill:"#fff",stroke:"#333"},[Object(C["createElementVNode"])("path",{"stroke-width":"0.3","shape-rendering":"crispEdges",d:"M 16 0 L 0 0 L 0 4 L 16 4 Z"})],-1)),Lr=[Sr];var _r=Object(C["defineComponent"])({__name:"ImageClipHandler",props:{src:{type:String,required:!0},clipData:{type:Object},clipPath:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},top:{type:Number,required:!0},left:{type:Number,required:!0},rotate:{type:Number,required:!0}},emits:["clip"],setup(e,{emit:t}){const l=e,{canvasScale:o}=Object(N["c"])(Yo()),{ctrlOrShiftKeyActive:n}=Object(N["c"])(on()),c=Object(C["ref"])({top:"0",left:"0"}),a=Object(C["ref"])(!1),r=Object(C["ref"])(null),i=()=>{const[e,t]=l.clipData?l.clipData.range:[[0,0],[100,100]],o=(t[0]-e[0])/100,n=(t[1]-e[1])/100,c=e[0]/o,a=e[1]/n;return{widthScale:o,heightScale:n,left:c,top:a}},s=Object(C["computed"])(()=>{const{widthScale:e,heightScale:t,left:l,top:o}=i();return{left:-l,top:-o,width:100/e,height:100/t}}),d=Object(C["computed"])(()=>({top:s.value.top+"%",left:s.value.left+"%",width:s.value.width+"%",height:s.value.height+"%"})),u=Object(C["ref"])({top:0,left:0,width:0,height:0}),b=Object(C["computed"])(()=>{const{top:e,left:t,width:l,height:o}=u.value;return{top:e+"%",left:t+"%",width:l+"%",height:o+"%"}}),m=Object(C["computed"])(()=>{const e=s.value.width,t=s.value.height,{top:l,left:o,width:n,height:c}=u.value;return{left:100/n*-o+"%",top:100/c*-l+"%",width:e/n*100+"%",height:t/c*100+"%"}}),p=()=>{const{left:e,top:t}=i();u.value={left:e,top:t,width:100,height:100},c.value={top:-t+"%",left:-e+"%"}},O=()=>{if(a.value)return;if(!r.value)return void t("clip",null);const{left:e,top:o}=i(),n={left:(u.value.left-e)/100*l.width,top:(u.value.top-o)/100*l.height,width:(u.value.width-100)/100*l.width,height:(u.value.height-100)/100*l.height},c={range:r.value,position:n};t("clip",c)},f=e=>{const t=e.key.toUpperCase();t===On.ENTER&&O()};Object(C["onMounted"])(()=>{p(),document.addEventListener("keydown",f)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("keydown",f)});const j=()=>{const e={left:parseInt(m.value.left),top:parseInt(m.value.top),width:parseInt(m.value.width),height:parseInt(m.value.height)},t=100/e.width,l=100/e.height,o=[-e.left*t,-e.top*l],n=[100*t+o[0],100*l+o[1]];r.value=[o,n]},v=e=>{a.value=!0;let t=!0;const n=e.pageX,c=e.pageY,r=s.value,i={...u.value};document.onmousemove=e=>{if(!t)return;const a=e.pageX,s=e.pageY;let d=(a-n)/o.value/l.width*100,b=(s-c)/o.value/l.height*100;l.rotate>45&&l.rotate<135&&(d=(s-c)/o.value/l.width*100,b=-(a-n)/o.value/l.height*100),(l.rotate>=135&&l.rotate<=180||l.rotate>=-180&&l.rotate<=-135)&&(d=-d,b=-b),l.rotate>-135&&l.rotate<-45&&(d=-(s-c)/o.value/l.width*100,b=(a-n)/o.value/l.height*100);let m=i.left+d,p=i.top+b;m<0?m=0:m+i.width>r.width&&(m=r.width-i.width),p<0?p=0:p+i.height>r.height&&(p=r.height-i.height),u.value={...u.value,left:m,top:p}},document.onmouseup=()=>{t=!1,document.onmousemove=null,document.onmouseup=null,j(),setTimeout(()=>{a.value=!1},0)}},h=(e,t)=>{a.value=!0;let c=!0;const r=50/l.width*100,i=50/l.height*100,d=e.pageX,b=e.pageY,m=s.value,p={...u.value},O=u.value.width/u.value.height;document.onmousemove=e=>{if(!c)return;const a=e.pageX,s=e.pageY;let f,j,v,h,y=(a-d)/o.value/l.width*100,g=(s-b)/o.value/l.height*100;l.rotate>45&&l.rotate<135&&(y=(s-b)/o.value/l.width*100,g=-(a-d)/o.value/l.height*100),(l.rotate>=135&&l.rotate<=180||l.rotate>=-180&&l.rotate<=-135)&&(y=-y,g=-g),l.rotate>-135&&l.rotate<-45&&(y=-(s-b)/o.value/l.width*100,g=(a-d)/o.value/l.height*100),n.value&&(t!==mn.RIGHT_BOTTOM&&t!==mn.LEFT_TOP||(g=y/O),t!==mn.LEFT_BOTTOM&&t!==mn.RIGHT_TOP||(g=-y/O)),t===mn.LEFT_TOP?(p.left+y<0&&(y=-p.left),p.top+g<0&&(g=-p.top),p.width-y<r&&(y=p.width-r),p.height-g<i&&(g=p.height-i),v=p.width-y,h=p.height-g,f=p.left+y,j=p.top+g):t===mn.RIGHT_TOP?(p.left+p.width+y>m.width&&(y=m.width-(p.left+p.width)),p.top+g<0&&(g=-p.top),p.width+y<r&&(y=r-p.width),p.height-g<i&&(g=p.height-i),v=p.width+y,h=p.height-g,f=p.left,j=p.top+g):t===mn.LEFT_BOTTOM?(p.left+y<0&&(y=-p.left),p.top+p.height+g>m.height&&(g=m.height-(p.top+p.height)),p.width-y<r&&(y=p.width-r),p.height+g<i&&(g=i-p.height),v=p.width-y,h=p.height+g,f=p.left+y,j=p.top):t===mn.RIGHT_BOTTOM?(p.left+p.width+y>m.width&&(y=m.width-(p.left+p.width)),p.top+p.height+g>m.height&&(g=m.height-(p.top+p.height)),p.width+y<r&&(y=r-p.width),p.height+g<i&&(g=i-p.height),v=p.width+y,h=p.height+g,f=p.left,j=p.top):t===mn.TOP?(p.top+g<0&&(g=-p.top),p.height-g<i&&(g=p.height-i),v=p.width,h=p.height-g,f=p.left,j=p.top+g):t===mn.BOTTOM?(p.top+p.height+g>m.height&&(g=m.height-(p.top+p.height)),p.height+g<i&&(g=i-p.height),v=p.width,h=p.height+g,f=p.left,j=p.top):t===mn.LEFT?(p.left+y<0&&(y=-p.left),p.width-y<r&&(y=p.width-r),v=p.width-y,h=p.height,f=p.left+y,j=p.top):(p.left+p.width+y>m.width&&(y=m.width-(p.left+p.width)),p.width+y<r&&(y=r-p.width),h=p.height,v=p.width+y,f=p.left,j=p.top),u.value={left:f,top:j,width:v,height:h}},document.onmouseup=()=>{c=!1,document.onmousemove=null,document.onmouseup=null,j(),setTimeout(()=>a.value=!1,0)}},y=Object(C["computed"])(()=>{const e="rotate-",t=l.rotate;return t>-22.5&&t<=22.5?e+0:t>22.5&&t<=67.5?e+45:t>67.5&&t<=112.5?e+90:t>112.5&&t<=157.5?e+135:t>157.5||t<=-157.5?e+0:t>-157.5&&t<=-112.5?e+45:t>-112.5&&t<=-67.5?e+90:t>-67.5&&t<=-22.5?e+135:e+0}),g=[mn.LEFT_TOP,mn.RIGHT_TOP,mn.LEFT_BOTTOM,mn.RIGHT_BOTTOM],x=[mn.TOP,mn.BOTTOM,mn.LEFT,mn.RIGHT];return(t,l)=>{const o=Object(C["resolveDirective"])("click-outside");return Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"image-clip-handler",style:Object(C["normalizeStyle"])(c.value)},[Object(C["createElementVNode"])("img",{class:"bottom-img",src:e.src,draggable:!1,alt:"",style:Object(C["normalizeStyle"])(Object(C["unref"])(d))},null,12,Nr),Object(C["createElementVNode"])("div",{class:"top-image-content",style:Object(C["normalizeStyle"])({...Object(C["unref"])(b),clipPath:e.clipPath})},[Object(C["createElementVNode"])("img",{class:"top-img",src:e.src,draggable:!1,alt:"",style:Object(C["normalizeStyle"])(Object(C["unref"])(m))},null,12,Er)],4),Object(C["createElementVNode"])("div",{class:"operate",style:Object(C["normalizeStyle"])(Object(C["unref"])(b)),onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(e=>v(e),["stop"]))},[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(g,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["clip-point",e,Object(C["unref"])(y)]),key:e,onMousedown:Object(C["withModifiers"])(t=>h(t,e),["stop"])},Ir,42,wr)),64)),(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(x,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["clip-point",e,Object(C["unref"])(y)]),key:e,onMousedown:Object(C["withModifiers"])(t=>h(t,e),["stop"])},Lr,42,Br)),64))],36)],4)),[[o,O]])}}});l("5970");const Tr=V()(_r,[["__scopeId","data-v-3e0199ec"]]);var Mr=Tr;const Dr=["src"];var zr=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=Yo(),o=Uo(),{clipingImageElementId:n}=Object(N["c"])(l),c=Object(C["computed"])(()=>n.value===t.elementInfo.id),{addHistorySnapshot:a}=Pn(),r=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:i}=Qa(r),s=Object(C["computed"])(()=>t.elementInfo.flipH),d=Object(C["computed"])(()=>t.elementInfo.flipV),{flipStyle:u}=er(s,d),b=Object(C["computed"])(()=>t.elementInfo.clip),{clipShape:m,imgPosition:p}=lr(b),O=Object(C["computed"])(()=>t.elementInfo.filters),{filter:f}=or(O),j=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},v=e=>{if(l.setClipingImageElementId(""),!e)return;const{range:n,position:c}=e,r=t.elementInfo.clip||{shape:"rect",range:[[0,0],[100,100]]},i=t.elementInfo.left+c.left,s=t.elementInfo.top+c.top,d=t.elementInfo.width+c.width,u=t.elementInfo.height+c.height;let b=0,m=0;if(t.elementInfo.rotate){const e=i+d/2-(t.elementInfo.left+t.elementInfo.width/2),l=-(s+u/2-(t.elementInfo.top+t.elementInfo.height/2)),o=-t.elementInfo.rotate*Math.PI/180,n=e*Math.cos(o)-l*Math.sin(o),c=e*Math.sin(o)+l*Math.cos(o);b=n-e,m=-(c-l)}const p={clip:{...r,range:n},left:i+b,top:s+m,width:d,height:u};o.updateElement({id:t.elementInfo.id,props:p}),a()};return(t,l)=>{const o=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-image",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["unref"])(c)?(Object(C["openBlock"])(),Object(C["createBlock"])(Mr,{key:0,src:e.elementInfo.src,clipData:e.elementInfo.clip,width:e.elementInfo.width,height:e.elementInfo.height,top:e.elementInfo.top,left:e.elementInfo.left,rotate:e.elementInfo.rotate,clipPath:Object(C["unref"])(m).style,onClip:l[0]||(l[0]=e=>v(e))},null,8,["src","clipData","width","height","top","left","rotate","clipPath"])):Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:1,class:"element-content",style:Object(C["normalizeStyle"])({filter:Object(C["unref"])(i)?`drop-shadow(${Object(C["unref"])(i)})`:"",transform:Object(C["unref"])(u)}),onMousedown:l[2]||(l[2]=e=>j(e)),onTouchstart:l[3]||(l[3]=e=>j(e))},[Object(C["createVNode"])(kr,{elementInfo:e.elementInfo},null,8,["elementInfo"]),Object(C["createElementVNode"])("div",{class:"image-content",style:Object(C["normalizeStyle"])({clipPath:Object(C["unref"])(m).style})},[Object(C["createElementVNode"])("img",{src:e.elementInfo.src,draggable:!1,style:Object(C["normalizeStyle"])({top:Object(C["unref"])(p).top,left:Object(C["unref"])(p).left,width:Object(C["unref"])(p).width,height:Object(C["unref"])(p).height,filter:Object(C["unref"])(f)}),onDragstart:l[1]||(l[1]=Object(C["withModifiers"])(()=>{},["prevent"])),alt:""},null,44,Dr),e.elementInfo.colorMask?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"color-mask",style:Object(C["normalizeStyle"])({backgroundColor:e.elementInfo.colorMask.color,opacity:e.elementInfo.colorMask.opacity})},null,4)):Object(C["createCommentVNode"])("",!0)],4)],36)),[[o,e.contextmenus]])],4)],6)}}});l("bcf0");const Fr=V()(zr,[["__scopeId","data-v-963e3dfc"]]);var Ar=Fr;const $r=["width","height"],Rr=["d","stroke","stroke-width","stroke-dasharray"];var Pr=Object(C["defineComponent"])({__name:"ElementOutline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object}},setup(e){const t=e,{outlineWidth:l,outlineStyle:o,outlineColor:n}=nr(Object(C["toRef"])(t,"outline"));return(t,c)=>e.outline?(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{key:0,class:"element-outline",overflow:"visible",width:e.width,height:e.height},[Object(C["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",d:`M0,0 L${e.width},0 L${e.width},${e.height} L0,${e.height} Z`,stroke:Object(C["unref"])(n),"stroke-width":Object(C["unref"])(l),"stroke-dasharray":"dashed"===Object(C["unref"])(o)?"10 6":"0 0"},null,8,Rr)],8,$r)):Object(C["createCommentVNode"])("",!0)}});l("4731");const Hr=V()(Pr,[["__scopeId","data-v-61b7d06a"]]);var qr=Hr,Ur=l("2713"),Gr=l("362c"),Xr=l("1529"),Yr=l("0977"),Zr=l("9372"),Wr=l("6eb8"),Jr=l("a9b7"),Kr=l("2521"),Qr=l("f623");const ei=e=>{const t={},l=(e,l)=>t[e]=l;return l("Alt-ArrowUp",ko["c"]),l("Alt-ArrowDown",ko["b"]),l("Ctrl-z",Zr["c"]),l("Ctrl-y",Zr["b"]),l("Backspace",Qr["f"]),l("Escape",ko["e"]),l("Ctrl-b",Object(ko["f"])(e.marks.strong)),l("Ctrl-i",Object(ko["f"])(e.marks.em)),l("Ctrl-u",Object(ko["f"])(e.marks.underline)),l("Ctrl-d",Object(ko["f"])(e.marks.strikethrough)),l("Enter",Object(Kr["f"])(e.nodes.list_item)),l("Mod-[",Object(Kr["b"])(e.nodes.list_item)),l("Mod-]",Object(Kr["e"])(e.nodes.list_item)),t},ti=e=>Object(Qr["g"])(/^\s*>\s$/,e),li=e=>Object(Qr["g"])(/^(\d+)\.\s$/,e,e=>({order:+e[1]}),(e,t)=>t.childCount+t.attrs.order===+e[1]),oi=e=>Object(Qr["g"])(/^\s*([-+*])\s$/,e),ni=e=>Object(Qr["e"])(/^```$/,e),ci=e=>{const t=[...Qr["d"],Qr["a"],Qr["b"]];return t.push(ti(e.nodes.blockquote)),t.push(li(e.nodes.ordered_list)),t.push(oi(e.nodes.bullet_list)),t.push(ni(e.nodes.code_block)),Object(Qr["c"])({rules:t})},ai=e=>[ci(e),Object(Yr["b"])(ei(e)),Object(Yr["b"])(ko["a"]),Object(Wr["a"])(),Object(Jr["a"])(),Object(Zr["a"])()];var ri=l("e335");const ii={...Kr["d"],content:"list_item+",group:"block"},si={...Kr["a"],content:"list_item+",group:"block"},di={...Kr["c"],content:"paragraph block*",group:"block"},ui={attrs:{align:{default:""},indent:{default:0}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:e=>{const{textAlign:t}=e.style;let l=e.getAttribute("align")||t||"";l=/(left|right|center|justify)/.test(l)?l:"";const o=+(e.getAttribute("data-indent")||0);return{align:l,indent:o}}}],toDOM:e=>{const{align:t,indent:l}=e.attrs;let o="";t&&"left"!==t&&(o+=`text-align: ${t};`);const n={style:o};return l&&(n["data-indent"]=l),["p",n,0]}},{hard_break:bi,...mi}=ri["b"];var pi={...mi,ordered_list:ii,bullet_list:si,list_item:di,paragraph:ui};const Oi={excludes:"subscript",parseDOM:[{tag:"sub"},{style:"vertical-align",getAttrs:e=>"sub"===e&&null}],toDOM:()=>["sub",0]},fi={excludes:"superscript",parseDOM:[{tag:"sup"},{style:"vertical-align",getAttrs:e=>"super"===e&&null}],toDOM:()=>["sup",0]},ji={parseDOM:[{tag:"strike"},{style:"text-decoration",getAttrs:e=>"line-through"===e&&null},{style:"text-decoration-line",getAttrs:e=>"line-through"===e&&null}],toDOM:()=>["span",{style:"text-decoration-line: line-through"},0]},vi={parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:e=>"underline"===e&&null},{style:"text-decoration-line",getAttrs:e=>"underline"===e&&null}],toDOM:()=>["span",{style:"text-decoration: underline"},0]},hi={attrs:{color:{}},inline:!0,group:"inline",parseDOM:[{style:"color",getAttrs:e=>e?{color:e}:{}}],toDOM:e=>{const{color:t}=e.attrs;let l="";return t&&(l+=`color: ${t};`),["span",{style:l},0]}},yi={attrs:{backcolor:{}},inline:!0,group:"inline",parseDOM:[{style:"background-color",getAttrs:e=>e?{backcolor:e}:{}}],toDOM:e=>{const{backcolor:t}=e.attrs;let l="";return t&&(l+=`background-color: ${t};`),["span",{style:l},0]}},gi={attrs:{fontsize:{}},inline:!0,group:"inline",parseDOM:[{style:"font-size",getAttrs:e=>e?{fontsize:e}:{}}],toDOM:e=>{const{fontsize:t}=e.attrs;let l="";return t&&(l+="font-size: "+t),["span",{style:l},0]}},xi={attrs:{fontname:{}},inline:!0,group:"inline",parseDOM:[{style:"font-family",getAttrs:e=>({fontname:e&&"string"===typeof e?e.replace(/[\"\']/g,""):""})}],toDOM:e=>{const{fontname:t}=e.attrs;let l="";return t&&(l+="font-family: "+t),["span",{style:l},0]}},ki={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href"),l=e.getAttribute("title");return{href:t,title:l}}}],toDOM:e=>["a",e.attrs,0]};var Ci={...ri["a"],subscript:Oi,superscript:fi,strikethrough:ji,underline:vi,forecolor:hi,backcolor:yi,fontsize:gi,fontname:xi,link:ki};const Ni=pi,Ei=Ci,wi=new Xr["i"]({nodes:Ni,marks:Ei}),Vi=e=>{const t=`<div>${e}</div>`,l=new window.DOMParser,o=l.parseFromString(t,"text/html").body.firstElementChild;return Xr["a"].fromSchema(wi).parse(o)},Ii=(e,t,l={})=>new Gr["c"](e,{state:Ur["b"].create({doc:Vi(t),plugins:ai(wi)}),...l});var Bi,Si=l("02aa");(function(e){e["RICH_TEXT_COMMAND"]="RICH_TEXT_COMMAND",e["OPEN_CHART_DATA_EDITOR"]="OPEN_CHART_DATA_EDITOR",e["OPEN_LATEX_EDITOR"]="OPEN_LATEX_EDITOR"})(Bi||(Bi={}));const Li=Object(Si["a"])();var _i=Li;const Ti=(e,t,l)=>{const{selection:o,doc:n}=e;if(!o||!n)return e;const{from:c,to:a}=o,{nodes:r}=t,i=r.blockquote,s=r.list_item,d=r.paragraph,u=[];l=l||"";const b=new Set([i,s,d]);return n.nodesBetween(c,a,(e,t)=>{const o=e.type,n=e.attrs.align||"";return n!==l&&b.has(o)&&u.push({node:e,pos:t,nodeType:o}),!0}),u.length?(u.forEach(t=>{const{node:o,pos:n,nodeType:c}=t;let{attrs:a}=o;a=l?{...a,align:l}:{...a,align:null},e=e.setNodeMarkup(n,c,a,o.marks)}),e):e},Mi=(e,t)=>{const{state:l}=e,{schema:o,selection:n}=l,c=Ti(l.tr.setSelection(n),o,t);e.dispatch(c)},Di=(e,t)=>e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list,zi=(e,t)=>(l,o)=>{const{schema:n,selection:c}=l,{$from:a,$to:r}=c,i=a.blockRange(r);if(!i)return!1;const s=Io(e=>Di(e,n))(c);if(i.depth>=1&&s&&i.depth-s.depth<=1){if(s.node.type===e)return Object(Kr["b"])(t)(l,o);if(Di(s.node,n)&&e.validContent(s.node.content)){const{tr:t}=l;return t.setNodeMarkup(s.pos,e),o&&o(t),!1}}return Object(Kr["g"])(e)(l,o)};function Fi(e,t,l){if(!e.doc)return e;const o=e.doc.nodeAt(t);if(!o)return e;const n=0,c=7;let a=(o.attrs.indent||0)+l;if(a<n&&(a=n),a>c&&(a=c),a===o.attrs.indent)return e;const r={...o.attrs,indent:a};return e.setNodeMarkup(t,o.type,r,o.marks)}const Ai=(e,t,l)=>{const{selection:o,doc:n}=e;if(!o||!n)return e;if(!(o instanceof Ur["g"]||o instanceof Ur["a"]))return e;const{from:c,to:a}=o;return n.nodesBetween(c,a,(o,n)=>{const c=o.type;return"paragraph"===c.name||"blockquote"===c.name?(e=Fi(e,n,l),!1):!Di(o,t)}),e},$i=(e,t)=>{const{state:l}=e,{schema:o,selection:n}=l,c=Ai(l.tr.setSelection(n),o,t);return!!c.docChanged&&(e.dispatch(c),!0)};var Ri=Object(C["defineComponent"])({__name:"ProsemirrorEditor",props:{elementId:{type:String,required:!0},defaultColor:{type:String,required:!0},defaultFontName:{type:String,required:!0},editable:{type:Boolean,default:!1},value:{type:String,required:!0},autoFocus:{type:Boolean,default:!1}},emits:["update","focus","blur"],setup(e,{expose:t,emit:l}){const o=e,n=Yo(),{handleElementId:c}=Object(N["c"])(n),a=Object(C["ref"])();let r;const i=Object(Xt["debounce"])((function(){l("update",r.dom.innerHTML)}),300,{trailing:!0}),s=()=>{n.setDisableHotkeysState(!0),l("focus")},d=()=>{n.setDisableHotkeysState(!1),l("blur")},u=Object(Xt["debounce"])((function(){const e=Fo(r,{color:o.defaultColor,fontname:o.defaultFontName});n.setRichtextAttrs(e)}),30,{trailing:!0}),b=()=>{i(),u()},m=Object(C["computed"])(()=>o.value);Object(C["watch"])(m,()=>{if(!r)return;if(r.hasFocus())return;const{doc:e,tr:t}=r.state;r.dispatch(t.replaceRangeWith(0,e.content.size,Vi(m.value)))}),Object(C["watch"])(()=>o.editable,()=>{r.setProps({editable:()=>o.editable})}),Object(C["onMounted"])(()=>{r=Ii(a.value,m.value,{handleDOMEvents:{focus:s,blur:d,keydown:b,click:u},editable:()=>o.editable}),o.autoFocus&&r.focus()}),Object(C["onUnmounted"])(()=>{r&&r.destroy()});const p=()=>r.focus();t({focus:p});const O=({target:e,action:t})=>{if(!e&&c.value!==o.elementId)return;if(e&&e!==o.elementId)return;const l="command"in t?[t]:t;for(const o of l)if("fontname"===o.command&&o.value){const e=r.state.schema.marks.fontname.create({fontname:o.value});Co(r),No(r,e)}else if("fontsize"===o.command&&o.value){const e=r.state.schema.marks.fontsize.create({fontsize:o.value});Co(r),No(r,e)}else if("fontsize-add"===o.command){const e=o.value?+o.value:2;Co(r);const t=Ao(r)+e+"px",l=r.state.schema.marks.fontsize.create({fontsize:t});No(r,l)}else if("fontsize-reduce"===o.command){const e=o.value?+o.value:2;Co(r);let t=Ao(r)-e;t<12&&(t=12);const l=r.state.schema.marks.fontsize.create({fontsize:t+"px"});No(r,l)}else if("color"===o.command&&o.value){const e=r.state.schema.marks.forecolor.create({color:o.value});Co(r),No(r,e)}else if("backcolor"===o.command&&o.value){const e=r.state.schema.marks.backcolor.create({backcolor:o.value});Co(r),No(r,e)}else if("bold"===o.command)Co(r),Object(ko["f"])(r.state.schema.marks.strong)(r.state,r.dispatch);else if("em"===o.command)Co(r),Object(ko["f"])(r.state.schema.marks.em)(r.state,r.dispatch);else if("underline"===o.command)Co(r),Object(ko["f"])(r.state.schema.marks.underline)(r.state,r.dispatch);else if("strikethrough"===o.command)Co(r),Object(ko["f"])(r.state.schema.marks.strikethrough)(r.state,r.dispatch);else if("subscript"===o.command)Object(ko["f"])(r.state.schema.marks.subscript)(r.state,r.dispatch);else if("superscript"===o.command)Object(ko["f"])(r.state.schema.marks.superscript)(r.state,r.dispatch);else if("blockquote"===o.command)Object(ko["g"])(r.state.schema.nodes.blockquote)(r.state,r.dispatch);else if("code"===o.command)Object(ko["f"])(r.state.schema.marks.code)(r.state,r.dispatch);else if("align"===o.command&&o.value)Mi(r,o.value);else if("indent"===o.command&&o.value)$i(r,+o.value);else if("bulletList"===o.command){const{bullet_list:e,list_item:t}=r.state.schema.nodes;zi(e,t)(r.state,r.dispatch)}else if("orderedList"===o.command){const{ordered_list:e,list_item:t}=r.state.schema.nodes;zi(e,t)(r.state,r.dispatch)}else if("clear"===o.command){Co(r);const{$from:e,$to:t}=r.state.selection;r.dispatch(r.state.tr.removeMark(e.pos,t.pos))}else if("link"===o.command){const e=r.state.schema.marks.link,{from:t,to:l}=r.state.selection,n=Eo(r.state.doc,t,l,e);if(n)if(o.value){const e=r.state.schema.marks.link.create({href:o.value,title:o.value});No(r,e,{from:n.from.pos,to:n.to.pos+1})}else r.dispatch(r.state.tr.removeMark(n.from.pos,n.to.pos+1,e));else if(Mo(r.state,e))if(o.value){const e=r.state.schema.marks.link.create({href:o.value,title:o.value});No(r,e)}else Object(ko["f"])(e)(r.state,r.dispatch);else o.value&&(Co(r),Object(ko["f"])(e,{href:o.value,title:o.value})(r.state,r.dispatch))}else"insert"===o.command&&o.value&&r.dispatch(r.state.tr.insertText(o.value));r.focus(),i(),u()};return _i.on(Bi.RICH_TEXT_COMMAND,O),Object(C["onUnmounted"])(()=>{_i.off(Bi.RICH_TEXT_COMMAND,O)}),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"prosemirror-editor",ref_key:"editorViewRef",ref:a},null,512))}});l("a511");const Pi=V()(Ri,[["__scopeId","data-v-1debd6ff"]]);var Hi=Pi;const qi=e=>(Object(C["pushScopeId"])("data-v-7135a611"),e=e(),Object(C["popScopeId"])(),e),Ui=qi(()=>Object(C["createElementVNode"])("div",{class:"drag-handler top"},null,-1)),Gi=qi(()=>Object(C["createElementVNode"])("div",{class:"drag-handler bottom"},null,-1));var Xi=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=Yo(),o=Uo(),{handleElementId:n,isScaling:c}=Object(N["c"])(l),{addHistorySnapshot:a}=Pn(),r=Object(C["ref"])(),i=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:s}=Qa(i),d=(e,l=!0)=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo,l))},u=Object(C["ref"])(-1);Object(C["watch"])(c,()=>{n.value===t.elementInfo.id&&(c.value||-1===u.value||(o.updateElement({id:t.elementInfo.id,props:{height:u.value}}),u.value=-1))});const b=e=>{const l=e[0].contentRect;if(!r.value)return;const n=l.height;t.elementInfo.height!==n&&(c.value?u.value=n:o.updateElement({id:t.elementInfo.id,props:{height:n}}))},m=new ResizeObserver(b);Object(C["onMounted"])(()=>{r.value&&m.observe(r.value)}),Object(C["onUnmounted"])(()=>{r.value&&m.unobserve(r.value)});const p=e=>{o.updateElement({id:t.elementInfo.id,props:{content:e}}),a()},O=()=>{const e=t.elementInfo.content.replaceAll(/<[^>]+>/g,"");e||o.deleteElement(t.elementInfo.id)},f=Object(C["computed"])(()=>n.value===t.elementInfo.id);return Object(C["watch"])(f,()=>{f.value||O()}),(t,l)=>{const o=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-text",{lock:e.elementInfo.lock}]),ref_key:"elementRef",ref:r,style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({backgroundColor:e.elementInfo.fill,opacity:e.elementInfo.opacity,textShadow:Object(C["unref"])(s),lineHeight:e.elementInfo.lineHeight,letterSpacing:(e.elementInfo.wordSpace||0)+"px",color:e.elementInfo.defaultColor,fontFamily:e.elementInfo.defaultFontName}),onMousedown:l[3]||(l[3]=e=>d(e)),onTouchstart:l[4]||(l[4]=e=>d(e))},[Object(C["createVNode"])(qr,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(C["createVNode"])(Hi,{class:"text",elementId:e.elementInfo.id,defaultColor:e.elementInfo.defaultColor,defaultFontName:e.elementInfo.defaultFontName,editable:!e.elementInfo.lock,value:e.elementInfo.content,style:Object(C["normalizeStyle"])({"--textIndent":(e.elementInfo.textIndent||0)+"px","--paragraphSpace":(void 0===e.elementInfo.paragraphSpace?5:e.elementInfo.paragraphSpace)+"px"}),onUpdate:l[0]||(l[0]=e=>p(e)),onMousedown:l[1]||(l[1]=e=>d(e,!1)),onTouchstart:l[2]||(l[2]=e=>d(e))},null,8,["elementId","defaultColor","defaultFontName","editable","value","style"]),Ui,Gi],36)),[[o,e.contextmenus]])],4)],6)}}});l("59bb");const Yi=V()(Xi,[["__scopeId","data-v-7135a611"]]);var Zi=Yi;const Wi=["id","gradientTransform"],Ji=["stop-color"],Ki=["stop-color"],Qi=["id"],es=["stop-color"],ts=["stop-color"];var ls=Object(C["defineComponent"])({__name:"GradientDefs",props:{id:{type:String,required:!0},type:{type:String},color1:{type:String,required:!0},color2:{type:String,required:!0},rotate:{type:Number,default:0}},setup(e){return(t,l)=>"linear"===e.type?(Object(C["openBlock"])(),Object(C["createElementBlock"])("linearGradient",{key:0,id:e.id,x1:"0%",y1:"0%",x2:"100%",y2:"0%",gradientTransform:`rotate(${e.rotate},0.5,0.5)`},[Object(C["createElementVNode"])("stop",{offset:"0%","stop-color":e.color1},null,8,Ji),Object(C["createElementVNode"])("stop",{offset:"100%","stop-color":e.color2},null,8,Ki)],8,Wi)):(Object(C["openBlock"])(),Object(C["createElementBlock"])("radialGradient",{key:1,id:e.id},[Object(C["createElementVNode"])("stop",{offset:"0%","stop-color":e.color1},null,8,es),Object(C["createElementVNode"])("stop",{offset:"100%","stop-color":e.color2},null,8,ts)],8,Qi))}});const os=ls;var ns=os;const cs=["width","height"],as={key:0},rs=["transform"],is=["d","fill","stroke","stroke-width","stroke-dasharray"];var ss=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=Yo(),o=Uo(),{handleElementId:n}=Object(N["c"])(l),{addHistorySnapshot:c}=Pn(),a=(e,l=!0)=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo,l))},r=Object(C["computed"])(()=>t.elementInfo.outline),{outlineWidth:i,outlineStyle:s,outlineColor:d}=nr(r),u=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:b}=Qa(u),m=Object(C["computed"])(()=>t.elementInfo.flipH),p=Object(C["computed"])(()=>t.elementInfo.flipV),{flipStyle:O}=er(m,p),f=Object(C["ref"])(!1);Object(C["watch"])(n,()=>{n.value!==t.elementInfo.id&&f.value&&(f.value=!1)});const j=Object(C["computed"])(()=>{const e={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"};return t.elementInfo.text?t.elementInfo.text:e}),v=e=>{const l={...j.value,content:e};o.updateElement({id:t.elementInfo.id,props:{text:l}}),c()},h=()=>{if(!t.elementInfo.text)return;const e=t.elementInfo.text.content.replaceAll(/<[^>]+>/g,"");e||(o.removeElementProps({id:t.elementInfo.id,propName:"text"}),c())},y=Object(C["ref"])(),g=()=>{f.value=!0,Object(C["nextTick"])(()=>y.value&&y.value.focus())};return(t,l)=>{const o=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-shape",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({opacity:e.elementInfo.opacity,filter:Object(C["unref"])(b)?`drop-shadow(${Object(C["unref"])(b)})`:"",transform:Object(C["unref"])(O),color:Object(C["unref"])(j).defaultColor,fontFamily:Object(C["unref"])(j).defaultFontName}),onMousedown:l[4]||(l[4]=e=>a(e)),onTouchstart:l[5]||(l[5]=e=>a(e)),onDblclick:l[6]||(l[6]=e=>g())},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height},[e.elementInfo.gradient?(Object(C["openBlock"])(),Object(C["createElementBlock"])("defs",as,[Object(C["createVNode"])(ns,{id:"editabel-gradient-"+e.elementInfo.id,type:e.elementInfo.gradient.type,color1:e.elementInfo.gradient.color[0],color2:e.elementInfo.gradient.color[1],rotate:e.elementInfo.gradient.rotate},null,8,["id","type","color1","color2","rotate"])])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("g",{transform:`scale(${e.elementInfo.width/e.elementInfo.viewBox[0]}, ${e.elementInfo.height/e.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(C["createElementVNode"])("path",{class:"shape-path","vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",d:e.elementInfo.path,fill:e.elementInfo.gradient?`url(#editabel-gradient-${e.elementInfo.id})`:e.elementInfo.fill,stroke:Object(C["unref"])(d),"stroke-width":Object(C["unref"])(i),"stroke-dasharray":"dashed"===Object(C["unref"])(s)?"10 6":"0 0"},null,8,is)],8,rs)],8,cs)),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["shape-text",[Object(C["unref"])(j).align,{editable:f.value||Object(C["unref"])(j).content}]])},[f.value||Object(C["unref"])(j).content?(Object(C["openBlock"])(),Object(C["createBlock"])(Hi,{key:0,ref_key:"prosemirrorEditorRef",ref:y,elementId:e.elementInfo.id,defaultColor:Object(C["unref"])(j).defaultColor,defaultFontName:Object(C["unref"])(j).defaultFontName,editable:!e.elementInfo.lock,value:Object(C["unref"])(j).content,onUpdate:l[0]||(l[0]=e=>v(e)),onBlur:l[1]||(l[1]=e=>h()),onMousedown:l[2]||(l[2]=e=>a(e,!1)),onTouchstart:l[3]||(l[3]=e=>a(e,!1))},null,8,["elementId","defaultColor","defaultFontName","editable","value"])):Object(C["createCommentVNode"])("",!0)],2)],36)),[[o,e.contextmenus]])],4)],6)}}});l("990c");const ds=V()(ss,[["__scopeId","data-v-d4c718fa"]]);var us=ds;const bs=["id","markerWidth","markerHeight","refX","refY"],ms=["d","fill","transform"];var ps=Object(C["defineComponent"])({__name:"LinePointMarker",props:{id:{type:String,required:!0},position:{type:String,required:!0},type:{type:String,required:!0},color:{type:String},baseSize:{type:Number,required:!0}},setup(e){const t=e,l={dot:"m0 5a5 5 0 1 0 10 0a5 5 0 1 0 -10 0z",arrow:"M0,0 L10,5 0,10 Z"},o={"arrow-start":180,"arrow-end":0},n=Object(C["computed"])(()=>l[t.type]),c=Object(C["computed"])(()=>o[`${t.type}-${t.position}`]||0),a=Object(C["computed"])(()=>t.baseSize<2?2:t.baseSize);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("marker",{id:`${e.id}-${e.type}-${e.position}`,markerUnits:"userSpaceOnUse",orient:"auto",markerWidth:3*Object(C["unref"])(a),markerHeight:3*Object(C["unref"])(a),refX:1.5*Object(C["unref"])(a),refY:1.5*Object(C["unref"])(a)},[Object(C["createElementVNode"])("path",{d:Object(C["unref"])(n),fill:e.color,transform:`scale(${.3*Object(C["unref"])(a)}, ${.3*Object(C["unref"])(a)}) rotate(${Object(C["unref"])(c)}, 5, 5)`},null,8,ms)],8,bs))}});const Os=ps;var fs=Os;const js=["width","height"],vs=["d","stroke","stroke-width","stroke-dasharray","marker-start","marker-end"],hs=["d"];var ys=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},o=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:n}=Qa(o),c=Object(C["computed"])(()=>{const e=Math.abs(t.elementInfo.start[0]-t.elementInfo.end[0]);return e<24?24:e}),a=Object(C["computed"])(()=>{const e=Math.abs(t.elementInfo.start[1]-t.elementInfo.end[1]);return e<24?24:e}),r=Object(C["computed"])(()=>"dashed"===t.elementInfo.style?"10 6":"0 0"),i=Object(C["computed"])(()=>Ln(t.elementInfo));return(t,o)=>{const s=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-shape",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px"})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({filter:Object(C["unref"])(n)?`drop-shadow(${Object(C["unref"])(n)})`:""}),onMousedown:o[0]||(o[0]=e=>l(e)),onTouchstart:o[1]||(o[1]=e=>l(e))},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{overflow:"visible",width:Object(C["unref"])(c),height:Object(C["unref"])(a)},[Object(C["createElementVNode"])("defs",null,[e.elementInfo.points[0]?(Object(C["openBlock"])(),Object(C["createBlock"])(fs,{key:0,id:e.elementInfo.id,position:"start",type:e.elementInfo.points[0],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(C["createCommentVNode"])("",!0),e.elementInfo.points[1]?(Object(C["openBlock"])(),Object(C["createBlock"])(fs,{key:1,id:e.elementInfo.id,position:"end",type:e.elementInfo.points[1],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(C["createCommentVNode"])("",!0)]),Object(C["createElementVNode"])("path",{class:"line-point",d:Object(C["unref"])(i),stroke:e.elementInfo.color,"stroke-width":e.elementInfo.width,"stroke-dasharray":Object(C["unref"])(r),fill:"none","marker-start":e.elementInfo.points[0]?`url(#${e.elementInfo.id}-${e.elementInfo.points[0]}-start)`:"","marker-end":e.elementInfo.points[1]?`url(#${e.elementInfo.id}-${e.elementInfo.points[1]}-end)`:""},null,8,vs),Object(C["withDirectives"])(Object(C["createElementVNode"])("path",{class:"line-path",d:Object(C["unref"])(i),stroke:"transparent","stroke-width":"20",fill:"none"},null,8,hs),[[s,e.contextmenus]])],8,js))],36)],6)}}});l("bde5");const gs=V()(ys,[["__scopeId","data-v-6550e504"]]);var xs=gs,ks=l("c99d"),Cs=l.n(ks),Ns=(l("d92d"),Object(C["defineComponent"])({__name:"Chart",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},type:{type:String,required:!0},data:{type:Object,required:!0},options:{type:Object},themeColor:{type:Array,required:!0},legends:{type:Array,required:!0},gridColor:{type:String},legend:{type:String}},setup(e){const t=e,l=Object(C["ref"])(),o=Object(C["inject"])(La)||Object(C["ref"])(1);let n;const c=Object(C["computed"])(()=>t.legend?t.height-20:t.height),a=()=>{const e=t.options||{},l={...e,width:t.width*o.value,height:c.value*o.value},n="pie"===t.type?{...t.data,series:t.data.series[0]}:t.data;return{data:n,options:l}},r=()=>{if(!l.value)return;const e=Object(Xt["upperFirst"])(t.type),{data:o,options:c}=a();n=new Cs.a[e](l.value,o,c)},i=()=>{if(!n)return void r();const{data:e,options:t}=a();n.update(e,t)};Object(C["watch"])([()=>t.width,()=>t.height,()=>t.data,()=>t.options,o],i),Object(C["onMounted"])(r);const s=Object(C["computed"])(()=>{let e=[];if(t.themeColor.length>=10)e=t.themeColor;else if(1===t.themeColor.length)e=Gt()(t.themeColor[0]).analogous(10).map(e=>e.toHexString());else{const l=t.themeColor.length,o=Gt()(t.themeColor[l-1]).analogous(11-l).map(e=>e.toHexString());e=[...t.themeColor.slice(0,l-1),...o]}return e}),d=()=>{if(l.value)for(let e=0;e<10;e++)l.value.style.setProperty("--theme-color-"+(e+1),s.value[e])};Object(C["watch"])(s,d),Object(C["onMounted"])(d);const u=()=>{l.value&&t.gridColor&&l.value.style.setProperty("--grid-color",t.gridColor)};return Object(C["watch"])(()=>t.gridColor,u),Object(C["onMounted"])(u),(t,n)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"chart",style:Object(C["normalizeStyle"])({flexDirection:"top"===e.legend?"column-reverse":"column"})},[Object(C["createElementVNode"])("div",{class:"chart-content",ref_key:"chartRef",ref:l,style:Object(C["normalizeStyle"])({width:e.width+"px",height:Object(C["unref"])(c)+"px",transform:`scale(${1/Object(C["unref"])(o)})`})},null,4),e.legend?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"legends",style:Object(C["normalizeStyle"])({transform:`scale(${1/Object(C["unref"])(o)})`})},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.legends,(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"legend",key:l,style:Object(C["normalizeStyle"])({color:e.gridColor})},[Object(C["createElementVNode"])("div",{class:"block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(s)[l]})},null,4),Object(C["createTextVNode"])(" "+Object(C["toDisplayString"])(t),1)],4))),128))],4)):Object(C["createCommentVNode"])("",!0)],4))}}));l("921b"),l("f630");const Es=V()(Ns,[["__scopeId","data-v-1aa2357d"]]);var ws=Es,Vs=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},o=()=>{_i.emit(Bi.OPEN_CHART_DATA_EDITOR)};return(t,n)=>{const c=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-chart",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({backgroundColor:e.elementInfo.fill}),onMousedown:n[0]||(n[0]=e=>l(e)),onTouchstart:n[1]||(n[1]=e=>l(e)),onDblclick:n[2]||(n[2]=e=>o())},[Object(C["createVNode"])(qr,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(C["createVNode"])(ws,{width:e.elementInfo.width,height:e.elementInfo.height,type:e.elementInfo.chartType,data:e.elementInfo.data,options:e.elementInfo.options,themeColor:e.elementInfo.themeColor,gridColor:e.elementInfo.gridColor,legends:e.elementInfo.data.legends,legend:e.elementInfo.legend||""},null,8,["width","height","type","data","options","themeColor","gridColor","legends","legend"])],36)),[[c,e.contextmenus]])],4)],6)}}});l("8216");const Is=V()(Vs,[["__scopeId","data-v-f3c03862"]]);var Bs=Is;const Ss=e=>{if(!e)return{};const{bold:t,em:l,underline:o,strikethrough:n,color:c,backcolor:a,fontsize:r,fontname:i,align:s}=e;let d=`${o?"underline":""} ${n?"line-through":""}`;return" "===d&&(d="none"),{fontWeight:t?"bold":"normal",fontStyle:l?"italic":"normal",textDecoration:d,color:c||"#000",backgroundColor:a||"",fontSize:r||"14px",fontFamily:i||"微软雅黑",textAlign:s||"left"}},Ls=e=>e.replace(/\n/g,"</br>").replace(/ /g,"&nbsp;");var _s=e=>{const t=Object(C["computed"])(()=>{const t=[];for(let l=0;l<e.value.length;l++){const o=e.value[l];for(let e=0;e<o.length;e++){const n=o[e];if(n.colspan>1||n.rowspan>1)for(let o=l;o<l+n.rowspan;o++)for(let c=o===l?e+1:e;c<e+n.colspan;c++)t.push(`${o}_${c}`)}}return t});return{hideCells:t}},Ts=e=>{const t=Object(C["ref"])(["",""]);return Object(C["watch"])(()=>e.value,()=>{e.value&&(t.value=Sn(e.value.color))},{immediate:!0}),{subThemeColor:t}};const Ms=["innerHTML"];var Ds=Object(C["defineComponent"])({__name:"CustomTextarea",props:{value:{type:String,default:""},contenteditable:{type:[Boolean,String],default:!1}},emits:["updateValue","insertExcelData"],setup(e,{emit:t}){const l=e,o=Object(C["ref"])(),n=Object(C["ref"])(""),c=Object(C["ref"])(!1);Object(C["watch"])(()=>l.value,()=>{c.value||(n.value=l.value,o.value&&(o.value.innerHTML=l.value))},{immediate:!0});const a=()=>{if(!o.value)return;const e=o.value.innerHTML;t("updateValue",e)},r=()=>{c.value=!0,o.value&&(o.value.onpaste=e=>{if(e.preventDefault(),!e.clipboardData)return;const l=e.clipboardData.items[0];l&&"string"===l.kind&&"text/plain"===l.type&&l.getAsString(e=>{const l=kn(e);if("object"===typeof l)return;const n=Cn(e);if(n)return t("insertExcelData",n),void(o.value&&(o.value.innerHTML=n[0][0]));t("updateValue",e),document.execCommand("insertText",!1,e)})})},i=()=>{c.value=!1,o.value&&(o.value.onpaste=null)};return Object(C["onUnmounted"])(()=>{o.value&&(o.value.onpaste=null)}),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"custom-textarea",ref_key:"textareaRef",ref:o,onFocus:r,onBlur:i,onInput:t[0]||(t[0]=e=>a()),innerHTML:n.value},null,40,Ms))}});l("80dc");const zs=V()(Ds,[["__scopeId","data-v-cdb58a1e"]]);var Fs=zs;const As={key:0,class:"handler"},$s=["onMousedown"],Rs=["width"],Ps=["rowspan","colspan","data-cell-index","onMousedown","onMouseenter"],Hs=["innerHTML"];var qs=Object(C["defineComponent"])({__name:"EditableTable",props:{data:{type:Array,required:!0},width:{type:Number,required:!0},colWidths:{type:Array,required:!0},outline:{type:Object,required:!0},theme:{type:Object},editable:{type:Boolean,default:!0}},emits:["change","changeColWidths","changeSelectedCells"],setup(e,{emit:t}){const l=e,{canvasScale:o}=Object(N["c"])(Yo()),n=Object(C["ref"])(!1),c=Object(C["ref"])([]),a=Object(C["ref"])([]),r=Object(C["computed"])({get(){return l.data},set(e){t("change",e)}}),i=Object(C["computed"])(()=>l.theme),{subThemeColor:s}=Ts(i),d=Object(C["ref"])([]),u=Object(C["computed"])(()=>d.value.reduce((e,t)=>e+t));Object(C["watch"])([()=>l.colWidths,()=>l.width],()=>{d.value=l.colWidths.map(e=>e*l.width)},{immediate:!0});const b=()=>{c.value=[],a.value=[]};Object(C["watch"])(()=>l.editable,()=>{l.editable||b()});const m=Object(C["computed"])(()=>{const e=[];for(let t=1;t<d.value.length+1;t++){const l=d.value.slice(0,t).reduce((e,t)=>e+t);e.push(l)}return e}),p=Object(C["computed"])(()=>l.data),{hideCells:O}=_s(p),f=Object(C["computed"])(()=>{if(!c.value.length)return[];const[e,t]=c.value;if(!a.value.length)return[`${e}_${t}`];const[l,o]=a.value;if(e===l&&t===o)return[`${e}_${t}`];const n=[],i=Math.min(e,l),s=Math.min(t,o),d=Math.max(e,l),u=Math.max(t,o);for(let c=0;c<r.value.length;c++){const e=r.value[c];for(let t=0;t<e.length;t++)c>=i&&c<=d&&t>=s&&t<=u&&n.push(`${c}_${t}`)}return n});Object(C["watch"])(f,(e,l)=>{Object(Xt["isEqual"])(e,l)||t("changeSelectedCells",f.value)});const j=Object(C["computed"])(()=>f.value.length>1?null:f.value[0]),v=(Object(C["computed"])(()=>{if(!c.value.length)return null;const[e,t]=c.value;if(!a.value.length)return{row:[e,e],col:[t,t]};const[l,o]=a.value;if(e===l&&t===o)return{row:[e,e],col:[t,t]};const n=Math.min(e,l),r=Math.min(t,o),i=Math.max(e,l),s=Math.max(t,o);return{row:[n,i],col:[r,s]}}),()=>n.value=!1),h=(e,t,l)=>{0===e.button&&(a.value=[],n.value=!0,c.value=[t,l])},y=(e,t)=>{n.value&&(a.value=[e,t])};Object(C["onMounted"])(()=>{document.addEventListener("mouseup",v)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("mouseup",v)});const g=(e,t)=>O.value.includes(`${e}_${t}`),x=e=>{const t=r.value.length-1;c.value=[0,e],a.value=[t,e]},k=e=>{const t=r.value[e].length-1;c.value=[e,0],a.value=[e,t]},E=()=>{const e=r.value.length-1,t=r.value[e].length-1;c.value=[0,0],a.value=[e,t]},w=e=>{const t=JSON.parse(JSON.stringify(r.value)),l=r.value[e],o=[];for(let n=0;n<l.length;n++)g(e,n)&&o.push(n);for(const n of o)for(let l=e;l>=0;l--)if(!g(l,n)){t[l][n].rowspan=t[l][n].rowspan-1;break}t.splice(e,1),r.value=t},V=e=>{const l=JSON.parse(JSON.stringify(r.value)),o=[];for(let t=0;t<r.value.length;t++)g(t,e)&&o.push(t);for(const t of o)for(let o=e;o>=0;o--)if(!g(t,o)){l[t][o].colspan=l[t][o].colspan-1;break}r.value=l.map(t=>(t.splice(e,1),t)),d.value.splice(e,1),t("changeColWidths",d.value)},I=e=>{const t=JSON.parse(JSON.stringify(r.value)),l=[];for(let o=0;o<t[0].length;o++)l.push({colspan:1,rowspan:1,text:"",id:Object(yo["b"])(10)});t.splice(e,0,l),r.value=t},B=e=>{r.value=r.value.map(t=>{const l={colspan:1,rowspan:1,text:"",id:Object(yo["b"])(10)};return t.splice(e,0,l),t}),d.value.splice(e,0,100),t("changeColWidths",d.value)},S=(e,l)=>{let o=JSON.parse(JSON.stringify(r.value));const n={colspan:1,rowspan:1,text:""};if(e){const t=[];for(let l=0;l<e;l++){const e=[];for(let t=0;t<o[0].length;t++)e.push({...n,id:Object(yo["b"])(10)});t.push(e)}o=[...o,...t]}l&&(o=o.map(e=>{const t=[];for(let o=0;o<l;o++){const e={...n,id:Object(yo["b"])(10)};t.push(e)}return[...e,...t]}),d.value=[...d.value,...new Array(l).fill(100)],t("changeColWidths",d.value)),r.value=o},L=()=>{const[e,t]=c.value,[l,o]=a.value,n=Math.min(e,l),i=Math.min(t,o),s=Math.max(e,l),d=Math.max(t,o),u=JSON.parse(JSON.stringify(r.value));u[n][i].rowspan=s-n+1,u[n][i].colspan=d-i+1,r.value=u,b()},_=(e,t)=>{const l=JSON.parse(JSON.stringify(r.value));l[e][t].rowspan=1,l[e][t].colspan=1,r.value=l,b()},T=(e,l)=>{b();let n=!0;const c=d.value[l],a=e.pageX,r=50;document.onmousemove=e=>{if(!n)return;const t=(e.pageX-a)/o.value,i=c+t<r?r:Math.round(c+t);d.value[l]=i},document.onmouseup=()=>{n=!1,document.onmousemove=null,document.onmouseup=null,t("changeColWidths",d.value)}},M=()=>{const e=JSON.parse(JSON.stringify(r.value));for(let t=0;t<e.length;t++)for(let l=0;l<e[t].length;l++)f.value.includes(`${t}_${l}`)&&(e[t][l].text="");r.value=e},D=()=>{const e=(t,l)=>r.value[t]?r.value[t][l]?g(t,l)?e(t,l+1):[t,l]:e(t+1,0):null;a.value=[];const t=c.value[0],l=c.value[1]+1,o=e(t,l);o?c.value=o:(I(t+1),c.value=[t+1,0]),Object(C["nextTick"])(()=>{const e=document.querySelector(".cell-text.active");e&&e.focus()})},z=e=>{if(!l.editable||!f.value.length)return;const t=e.key.toUpperCase();if(f.value.length<2){if(t===On.TAB&&(e.preventDefault(),D()),e.ctrlKey&&t===On.UP){e.preventDefault();const t=+f.value[0].split("_")[0];I(t)}if(e.ctrlKey&&t===On.DOWN){e.preventDefault();const t=+f.value[0].split("_")[0];I(t+1)}if(e.ctrlKey&&t===On.LEFT){e.preventDefault();const t=+f.value[0].split("_")[1];B(t)}if(e.ctrlKey&&t===On.RIGHT){e.preventDefault();const t=+f.value[0].split("_")[1];B(t+1)}}else t===On.DELETE&&M()};Object(C["onMounted"])(()=>{document.addEventListener("keydown",z)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("keydown",z)});const F=Object(Xt["debounce"])((function(e,l,o){r.value[l][o].text=e,t("change",r.value)}),300,{trailing:!0}),A=(e,l,o)=>{const n=e.length,c=e[0].length;let a=0,i=0;l+n>r.value.length&&(a=l+n-r.value.length),o+c>r.value[0].length&&(i=o+c-r.value[0].length),(a||i)&&S(a,i),Object(C["nextTick"])(()=>{for(let t=0;t<n;t++)for(let n=0;n<c;n++)r.value[l+t][o+n]&&(r.value[l+t][o+n].text=e[t][n]);t("change",r.value)})},$=()=>{const e=[];for(let t=0;t<r.value.length;t++){const l=r.value[t],o=[];for(let e=0;e<l.length;e++)g(t,e)||o.push(l[e]);o.length&&e.push(o)}return e},R=()=>{const e=$(),t=e.length>1,l=e[0].length>1;return{canDeleteRow:t,canDeleteCol:l}},P=(e,t)=>{const l=f.value.length>1,o=r.value[e][t],n=l,c=!l&&(o.rowspan>1||o.colspan>1);return{canMerge:n,canSplit:c}},H=e=>{const t=e.dataset.cellIndex,l=+t.split("_")[0],o=+t.split("_")[1];f.value.includes(`${l}_${o}`)||(c.value=[l,o],a.value=[]);const{canMerge:n,canSplit:r}=P(l,o),{canDeleteRow:i,canDeleteCol:s}=R();return[{text:"插入列",children:[{text:"到左侧",handler:()=>B(o)},{text:"到右侧",handler:()=>B(o+1)}]},{text:"插入行",children:[{text:"到上方",handler:()=>I(l)},{text:"到下方",handler:()=>I(l+1)}]},{text:"删除列",disable:!s,handler:()=>V(o)},{text:"删除行",disable:!i,handler:()=>w(l)},{divider:!0},{text:"合并单元格",disable:!n,handler:L},{text:"取消合并单元格",disable:!r,handler:()=>_(l,o)},{divider:!0},{text:"选中当前列",handler:()=>x(o)},{text:"选中当前行",handler:()=>k(l)},{text:"选中全部单元格",handler:E}]};return(t,l)=>{var o,n,c,a,b;const p=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"editable-table",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(u)+"px"})},[e.editable?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",As,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(m),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"drag-line",key:t,style:Object(C["normalizeStyle"])({left:e+"px"}),onMousedown:e=>T(e,t)},null,44,$s))),128))])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("table",{class:Object(C["normalizeClass"])({theme:Object(C["unref"])(i),"row-header":null===(o=Object(C["unref"])(i))||void 0===o?void 0:o.rowHeader,"row-footer":null===(n=Object(C["unref"])(i))||void 0===n?void 0:n.rowFooter,"col-header":null===(c=Object(C["unref"])(i))||void 0===c?void 0:c.colHeader,"col-footer":null===(a=Object(C["unref"])(i))||void 0===a?void 0:a.colFooter}),style:Object(C["normalizeStyle"])(`--themeColor: ${null===(b=Object(C["unref"])(i))||void 0===b?void 0:b.color}; --subThemeColor1: ${Object(C["unref"])(s)[0]}; --subThemeColor2: ${Object(C["unref"])(s)[1]}`)},[Object(C["createElementVNode"])("colgroup",null,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(d.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("col",{span:"1",key:t,width:e},null,8,Rs))),128))]),Object(C["createElementVNode"])("tbody",null,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(r),(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("tr",{key:l},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t,(t,o)=>Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("td",{class:Object(C["normalizeClass"])(["cell",{selected:Object(C["unref"])(f).includes(`${l}_${o}`)&&Object(C["unref"])(f).length>1,active:Object(C["unref"])(j)===`${l}_${o}`}]),style:Object(C["normalizeStyle"])({borderStyle:e.outline.style,borderColor:e.outline.color,borderWidth:e.outline.width+"px",...Object(C["unref"])(Ss)(t.style)}),key:t.id,rowspan:t.rowspan,colspan:t.colspan,"data-cell-index":`${l}_${o}`,onMousedown:e=>h(e,l,o),onMouseenter:e=>y(l,o)},[Object(C["unref"])(j)===`${l}_${o}`?(Object(C["openBlock"])(),Object(C["createBlock"])(Fs,{key:0,class:Object(C["normalizeClass"])(["cell-text",{active:Object(C["unref"])(j)===`${l}_${o}`}]),value:t.text,onUpdateValue:e=>Object(C["unref"])(F)(e,l,o),onInsertExcelData:e=>A(e,l,o)},null,8,["class","value","onUpdateValue","onInsertExcelData"])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:1,class:"cell-text",innerHTML:Object(C["unref"])(Ls)(t.text)},null,8,Hs))],46,Ps)),[[C["vShow"],!Object(C["unref"])(O).includes(`${l}_${o}`)],[p,e=>H(e)]])),128))]))),128))])],6)],4)}}});l("bc8c");const Us=V()(qs,[["__scopeId","data-v-bae8c794"]]);var Gs=Us;const Xs={class:"element-content"};var Ys=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=Yo(),o=Uo(),{canvasScale:n,handleElementId:c,isScaling:a}=Object(N["c"])(l),r=Object(C["ref"])(),{addHistorySnapshot:i}=Pn(),s=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},d=Object(C["ref"])(!1);Object(C["watch"])(c,()=>{c.value!==t.elementInfo.id&&(d.value=!1)}),Object(C["watch"])(d,()=>{l.setDisableHotkeysState(d.value)});const u=()=>{t.elementInfo.lock||(d.value=!0)},b=Object(C["ref"])(-1);Object(C["watch"])(a,()=>{c.value===t.elementInfo.id&&(a.value&&(d.value=!1),a.value||-1===b.value||(o.updateElement({id:t.elementInfo.id,props:{height:b.value}}),b.value=-1))});const m=e=>{const l=e[0].contentRect;if(!r.value)return;const n=l.height;t.elementInfo.height!==n&&(a.value?b.value=n:o.updateElement({id:t.elementInfo.id,props:{height:n}}))},p=new ResizeObserver(m);Object(C["onMounted"])(()=>{r.value&&p.observe(r.value)}),Object(C["onUnmounted"])(()=>{r.value&&p.unobserve(r.value)});const O=e=>{o.updateElement({id:t.elementInfo.id,props:{data:e}}),i()},f=e=>{const l=e.reduce((e,t)=>e+t),n=e.map(e=>e/l);o.updateElement({id:t.elementInfo.id,props:{width:l,colWidths:n}}),i()},j=e=>{Object(C["nextTick"])(()=>l.setSelectedTableCells(e))};return(t,l)=>{const o=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-table",{lock:e.elementInfo.lock}]),ref_key:"elementRef",ref:r,style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Xs,[Object(C["createVNode"])(Gs,{onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(()=>{},["stop"])),data:e.elementInfo.data,width:e.elementInfo.width,colWidths:e.elementInfo.colWidths,outline:e.elementInfo.outline,theme:e.elementInfo.theme,editable:d.value,onChange:l[1]||(l[1]=e=>O(e)),onChangeColWidths:l[2]||(l[2]=e=>f(e)),onChangeSelectedCells:l[3]||(l[3]=e=>j(e))},null,8,["data","width","colWidths","outline","theme","editable"]),!d.value||e.elementInfo.lock?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:Object(C["normalizeClass"])(["table-mask",{lock:e.elementInfo.lock}]),onDblclick:l[4]||(l[4]=e=>u()),onMousedown:l[5]||(l[5]=e=>s(e)),onTouchstart:l[6]||(l[6]=e=>s(e))},[Object(C["createElementVNode"])("div",{class:"mask-tip",style:Object(C["normalizeStyle"])({transform:`scale(${1/Object(C["unref"])(n)})`})},"双击编辑",4)],34)):Object(C["createCommentVNode"])("",!0)])),[[o,e.contextmenus]])],4)],6)}}});l("76c1");const Zs=V()(Ys,[["__scopeId","data-v-6391c486"]]);var Ws=Zs;const Js=["width","height","stroke","stroke-width"],Ks=["transform"],Qs=["d"];var ed=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},o=()=>{_i.emit(Bi.OPEN_LATEX_EDITOR)};return(t,n)=>{const c=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-latex",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-content",onMousedown:n[0]||(n[0]=e=>l(e)),onTouchstart:n[1]||(n[1]=e=>l(e)),onDblclick:n[2]||(n[2]=e=>o())},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.strokeWidth,fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[Object(C["createElementVNode"])("g",{transform:`scale(${e.elementInfo.width/e.elementInfo.viewBox[0]}, ${e.elementInfo.height/e.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(C["createElementVNode"])("path",{d:e.elementInfo.path},null,8,Qs)],8,Ks)],8,Js))],32)),[[c,e.contextmenus]])],4)],6)}}});l("0f64");const td=V()(ed,[["__scopeId","data-v-31390388"]]);var ld=td,od=(e,t)=>{Object(C["onMounted"])(()=>{if(!t.value)return;let l="normal";if(/m3u8(#|\?|$)/i.exec(e)?l="hls":/.flv(#|\?|$)/i.exec(e)&&(l="flv"),t.value&&"hls"===l&&(t.value.canPlayType("application/x-mpegURL")||t.value.canPlayType("application/vnd.apple.mpegURL"))&&(l="normal"),"hls"===l){const l=window.Hls;if(l&&l.isSupported()){const o=new l;o.loadSource(e),o.attachMedia(t.value)}}else if("flv"===l){const l=window.flvjs;if(l&&l.isSupported()){const o=l.createPlayer({type:"flv",url:e});o.attachMediaElement(t.value),o.load()}}})};const nd=e=>(Object(C["pushScopeId"])("data-v-2fc4c202"),e=e(),Object(C["popScopeId"])(),e),cd=["src","poster"],ad={class:"bezel"},rd=nd(()=>Object(C["createElementVNode"])("div",{class:"controller-mask"},null,-1)),id={class:"controller"},sd={class:"icons icons-left"},dd={class:"icon-content"},ud={class:"volume"},bd={class:"icon-content"},md=nd(()=>Object(C["createElementVNode"])("span",{class:"thumb"},null,-1)),pd=[md],Od={class:"time"},fd={class:"ptime"},jd=Object(C["createTextVNode"])(" / "),vd={class:"dtime"},hd={class:"icons icons-right"},yd={class:"speed"},gd={class:"icon speed-icon"},xd=["onClick"],kd=nd(()=>Object(C["createElementVNode"])("span",{class:"icon-content"},"循环",-1)),Cd=[kd],Nd={class:"bar"},Ed=nd(()=>Object(C["createElementVNode"])("span",{class:"thumb"},null,-1)),wd=[Ed];var Vd=Object(C["defineComponent"])({__name:"index",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},src:{type:String,required:!0},poster:{type:String,default:""},scale:{type:Number,default:1}},setup(e){const t=e,l=(e=0)=>{if(0===e||isNaN(e))return"00:00";const t=e=>e<10?"0"+e:""+e,l=Math.floor(e/3600),o=Math.floor((e-3600*l)/60),n=Math.floor(e-3600*l-60*o);return(l>0?[l,o,n]:[o,n]).map(t).join(":")},o=e=>e.getBoundingClientRect().left,n=Object(C["ref"])(),c=Object(C["ref"])(),a=Object(C["ref"])(),r=Object(C["ref"])(.5),i=Object(C["ref"])(!0),s=Object(C["ref"])(0),d=Object(C["ref"])(0),u=Object(C["ref"])(0),b=Object(C["ref"])(!1),m=Object(C["ref"])(!1),p=Object(C["ref"])(1),O=Object(C["ref"])(!1),f=Object(C["ref"])("00:00"),j=Object(C["ref"])("0"),v=Object(C["computed"])(()=>l(s.value)),h=Object(C["computed"])(()=>l(d.value)),y=Object(C["computed"])(()=>s.value/d.value*100+"%"),g=Object(C["computed"])(()=>u.value/d.value*100+"%"),x=Object(C["computed"])(()=>100*r.value+"%"),k=Object(C["ref"])(!1),N=[{label:"2x",value:2},{label:"1.5x",value:1.5},{label:"1.25x",value:1.25},{label:"1x",value:1},{label:"0.75x",value:.75},{label:"0.5x",value:.5}],E=e=>{n.value&&(e=Math.max(e,0),e=Math.min(e,d.value),n.value.currentTime=e,s.value=e)},w=()=>{n.value&&(i.value=!1,n.value.play(),m.value=!0)},V=()=>{n.value&&(i.value=!0,n.value.pause(),m.value=!0)},I=()=>{i.value?w():V()},B=e=>{n.value&&(e=Math.max(e,0),e=Math.min(e,1),n.value.volume=e,r.value=e,n.value.muted&&0!==e&&(n.value.muted=!1))},S=e=>{n.value&&(n.value.playbackRate=e),p.value=e},L=()=>{var e;d.value=(null===(e=n.value)||void 0===e?void 0:e.duration)||0},_=()=>{var e;s.value=(null===(e=n.value)||void 0===e?void 0:e.currentTime)||0},T=()=>{b.value?(E(0),w()):V()},M=()=>{var e;u.value=null!==(e=n.value)&&void 0!==e&&e.buffered.length?n.value.buffered.end(n.value.buffered.length-1):0},D=()=>qt["a"].error("视频加载失败"),z=e=>{if(!n.value||!c.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX;let l=(t-o(c.value))/c.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);const a=l*d.value;n.value.currentTime=a,s.value=a},F=e=>{if(!n.value||!c.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX;let l=(t-o(c.value))/c.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);const a=l*d.value;n.value.currentTime=a,s.value=a,document.removeEventListener("mousemove",z),document.removeEventListener("touchmove",z),document.removeEventListener("mouseup",F),document.removeEventListener("touchend",F)},A=()=>{document.addEventListener("mousemove",z),document.addEventListener("touchmove",z),document.addEventListener("mouseup",F),document.addEventListener("touchend",F)},$=e=>{if(!a.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX,l=(t-o(a.value))/45;B(l)},R=()=>{document.removeEventListener("mousemove",$),document.removeEventListener("touchmove",$),document.removeEventListener("mouseup",R),document.removeEventListener("touchend",R)},P=()=>{document.addEventListener("mousemove",$),document.addEventListener("touchmove",$),document.addEventListener("mouseup",R),document.addEventListener("touchend",R)},H=e=>{if(!a.value)return;const t=(e.clientX-o(a.value))/45;B(t)},q=e=>{if(d.value&&c.value){const t=c.value.getBoundingClientRect().left,o=e.clientX-t;if(o<0||o>c.value.offsetWidth)return;const n=d.value*(o/c.value.offsetWidth);j.value=o-(n>=3600?25:20)+"px",f.value=l(n),O.value=!0}},U=()=>{n.value&&(n.value.muted?(n.value.muted=!1,B(.5)):(n.value.muted=!0,B(0)))},G=()=>{b.value=!b.value},X=Object(C["ref"])(-1),Y=Object(C["ref"])(!1),Z=()=>{Y.value=!1,clearTimeout(X.value),X.value=setTimeout(()=>{var e;null!==(e=n.value)&&void 0!==e&&e.played.length&&(Y.value=!0)},3e3)};return od(t.src,n),(t,l)=>{const o=Object(C["resolveComponent"])("IconPause"),s=Object(C["resolveComponent"])("IconPlayOne"),d=Object(C["resolveComponent"])("IconVolumeMute"),u=Object(C["resolveComponent"])("IconVolumeNotice"),E=Object(C["resolveComponent"])("IconVolumeSmall");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["video-player",{"hide-controller":Y.value}]),style:Object(C["normalizeStyle"])({width:e.width*e.scale+"px",height:e.height*e.scale+"px",transform:`scale(${1/e.scale})`}),onMousemove:l[22]||(l[22]=e=>Z()),onClick:l[23]||(l[23]=e=>Z())},[Object(C["createElementVNode"])("div",{class:"video-wrap",onClick:l[8]||(l[8]=e=>I())},[Object(C["createElementVNode"])("video",{class:"video",ref_key:"videoRef",ref:n,src:e.src,poster:e.poster,"webkit-playsinline":"",playsinline:"",onDurationchange:l[0]||(l[0]=e=>L()),onTimeupdate:l[1]||(l[1]=e=>_()),onEnded:l[2]||(l[2]=e=>T()),onProgress:l[3]||(l[3]=e=>M()),onPlay:l[4]||(l[4]=e=>Z()),onPause:l[5]||(l[5]=e=>Z()),onError:l[6]||(l[6]=e=>D())},null,40,cd),Object(C["createElementVNode"])("div",ad,[Object(C["createElementVNode"])("span",{class:Object(C["normalizeClass"])(["bezel-icon",{"bezel-transition":m.value}]),onAnimationend:l[7]||(l[7]=e=>m.value=!1)},[i.value?(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:0})):(Object(C["openBlock"])(),Object(C["createBlock"])(s,{key:1}))],34)])]),rd,Object(C["createElementVNode"])("div",id,[Object(C["createElementVNode"])("div",sd,[Object(C["createElementVNode"])("div",{class:"icon play-icon",onClick:l[9]||(l[9]=e=>I())},[Object(C["createElementVNode"])("span",dd,[i.value?(Object(C["openBlock"])(),Object(C["createBlock"])(s,{key:0})):(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:1}))])]),Object(C["createElementVNode"])("div",ud,[Object(C["createElementVNode"])("div",{class:"icon volume-icon",onClick:l[10]||(l[10]=e=>U())},[Object(C["createElementVNode"])("span",bd,[0===r.value?(Object(C["openBlock"])(),Object(C["createBlock"])(d,{key:0})):1===r.value?(Object(C["openBlock"])(),Object(C["createBlock"])(u,{key:1})):(Object(C["openBlock"])(),Object(C["createBlock"])(E,{key:2}))])]),Object(C["createElementVNode"])("div",{class:"volume-bar-wrap",onMousedown:l[11]||(l[11]=e=>P()),onTouchstart:l[12]||(l[12]=e=>P()),onClick:l[13]||(l[13]=e=>H(e))},[Object(C["createElementVNode"])("div",{class:"volume-bar",ref_key:"volumeBarRef",ref:a},[Object(C["createElementVNode"])("div",{class:"volume-bar-inner",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(x)})},pd,4)],512)],32)]),Object(C["createElementVNode"])("span",Od,[Object(C["createElementVNode"])("span",fd,Object(C["toDisplayString"])(Object(C["unref"])(v)),1),jd,Object(C["createElementVNode"])("span",vd,Object(C["toDisplayString"])(Object(C["unref"])(h)),1)])]),Object(C["createElementVNode"])("div",hd,[Object(C["createElementVNode"])("div",yd,[Object(C["createElementVNode"])("div",gd,[Object(C["createElementVNode"])("span",{class:"icon-content",onClick:l[14]||(l[14]=e=>k.value=!k.value)},"倍速"),k.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"speed-menu",onMouseleave:l[15]||(l[15]=e=>k.value=!1)},[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(N,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["speed-menu-item",{active:e.value===p.value}]),key:e.label,onClick:t=>S(e.value)},Object(C["toDisplayString"])(e.label),11,xd)),64))],32)):Object(C["createCommentVNode"])("",!0)])]),Object(C["createElementVNode"])("div",{class:"loop",onClick:l[16]||(l[16]=e=>G())},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["icon loop-icon",{active:b.value}])},Cd,2)])]),Object(C["createElementVNode"])("div",{class:"bar-wrap",ref_key:"playBarWrap",ref:c,onMousedown:l[17]||(l[17]=e=>A()),onTouchstart:l[18]||(l[18]=e=>A()),onMousemove:l[19]||(l[19]=e=>q(e)),onMouseenter:l[20]||(l[20]=e=>O.value=!0),onMouseleave:l[21]||(l[21]=e=>O.value=!1)},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["bar-time",{hidden:!O.value}]),style:Object(C["normalizeStyle"])({left:j.value})},Object(C["toDisplayString"])(f.value),7),Object(C["createElementVNode"])("div",Nd,[Object(C["createElementVNode"])("div",{class:"loaded",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(g)})},null,4),Object(C["createElementVNode"])("div",{class:"played",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(y)})},wd,4)])],544)])],38)}}});l("3696");const Id=V()(Vd,[["__scopeId","data-v-2fc4c202"]]);var Bd=Id,Sd=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Yo()),o=(e,l=!0)=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo,l))};return(t,n)=>{const c=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-video",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-content",onMousedown:n[2]||(n[2]=e=>o(e,!1)),onTouchstart:n[3]||(n[3]=e=>o(e,!1))},[Object(C["createVNode"])(Bd,{width:e.elementInfo.width,height:e.elementInfo.height,src:e.elementInfo.src,poster:e.elementInfo.poster,scale:Object(C["unref"])(l)},null,8,["width","height","src","poster","scale"]),(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(["t","b","l","r"],e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["handler-border",e]),key:e,onMousedown:n[0]||(n[0]=e=>o(e)),onTouchstart:n[1]||(n[1]=e=>o(e))},null,34)),64))],32)),[[c,e.contextmenus]])],4)],6)}}});l("679c");const Ld=V()(Sd,[["__scopeId","data-v-9d5469c6"]]);var _d=Ld;const Td=e=>(Object(C["pushScopeId"])("data-v-121f3d11"),e=e(),Object(C["popScopeId"])(),e),Md=["src","autoplay"],Dd={class:"controller"},zd={class:"icons"},Fd={class:"icon-content"},Ad={class:"volume"},$d={class:"icon-content"},Rd=Td(()=>Object(C["createElementVNode"])("span",{class:"thumb"},null,-1)),Pd=[Rd],Hd={class:"time"},qd={class:"ptime"},Ud=Object(C["createTextVNode"])(" / "),Gd={class:"dtime"},Xd={class:"bar"},Yd=Td(()=>Object(C["createElementVNode"])("span",{class:"thumb"},null,-1)),Zd=[Yd];var Wd=Object(C["defineComponent"])({__name:"AudioPlayer",props:{src:{type:String,required:!0},loop:{type:Boolean,required:!0},autoplay:{type:Boolean,default:!1},scale:{type:Number,default:1}},setup(e,{expose:t}){const l=e,o=(e=0)=>{if(0===e||isNaN(e))return"00:00";const t=e=>e<10?"0"+e:""+e,l=Math.floor(e/3600),o=Math.floor((e-3600*l)/60),n=Math.floor(e-3600*l-60*o);return(l>0?[l,o,n]:[o,n]).map(t).join(":")},n=e=>e.getBoundingClientRect().left,c=Object(C["ref"])(),a=Object(C["ref"])(),r=Object(C["ref"])(),i=Object(C["ref"])(.5),s=Object(C["ref"])(!0),d=Object(C["ref"])(0),u=Object(C["ref"])(0),b=Object(C["ref"])(0),m=Object(C["ref"])(!1),p=Object(C["ref"])("00:00"),O=Object(C["ref"])("0"),f=Object(C["computed"])(()=>o(d.value)),j=Object(C["computed"])(()=>o(u.value)),v=Object(C["computed"])(()=>d.value/u.value*100+"%"),h=Object(C["computed"])(()=>b.value/u.value*100+"%"),y=Object(C["computed"])(()=>100*i.value+"%"),g=e=>{c.value&&(e=Math.max(e,0),e=Math.min(e,u.value),c.value.currentTime=e,d.value=e)},x=()=>{c.value&&(s.value=!1,c.value.play())},k=()=>{c.value&&(s.value=!0,c.value.pause())},N=()=>{s.value?x():k()},E=e=>{c.value&&(e=Math.max(e,0),e=Math.min(e,1),c.value.volume=e,i.value=e,c.value.muted&&0!==e&&(c.value.muted=!1))},w=()=>{var e;u.value=(null===(e=c.value)||void 0===e?void 0:e.duration)||0},V=()=>{var e;d.value=(null===(e=c.value)||void 0===e?void 0:e.currentTime)||0},I=()=>{s.value=!1},B=()=>{l.loop?(g(0),x()):k()},S=()=>{var e;b.value=null!==(e=c.value)&&void 0!==e&&e.buffered.length?c.value.buffered.end(c.value.buffered.length-1):0},L=()=>qt["a"].error("视频加载失败"),_=e=>{if(!c.value||!a.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX;let l=(t-n(a.value))/a.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);const o=l*u.value;c.value.currentTime=o,d.value=o},T=e=>{if(!c.value||!a.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX;let l=(t-n(a.value))/a.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);const o=l*u.value;c.value.currentTime=o,d.value=o,document.removeEventListener("mousemove",_),document.removeEventListener("touchmove",_),document.removeEventListener("mouseup",T),document.removeEventListener("touchend",T)},M=()=>{document.addEventListener("mousemove",_),document.addEventListener("touchmove",_),document.addEventListener("mouseup",T),document.addEventListener("touchend",T)},D=e=>{if(!r.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX,l=(t-n(r.value))/45;E(l)},z=()=>{document.removeEventListener("mousemove",D),document.removeEventListener("touchmove",D),document.removeEventListener("mouseup",z),document.removeEventListener("touchend",z)},F=()=>{document.addEventListener("mousemove",D),document.addEventListener("touchmove",D),document.addEventListener("mouseup",z),document.addEventListener("touchend",z)},A=e=>{if(!r.value)return;const t=(e.clientX-n(r.value))/45;E(t)},$=e=>{if(u.value&&a.value){const t=a.value.getBoundingClientRect().left,l=e.clientX-t;if(l<0||l>a.value.offsetWidth)return;const n=u.value*(l/a.value.offsetWidth);O.value=l-(n>=3600?25:20)+"px",p.value=o(n),m.value=!0}},R=()=>{c.value&&(c.value.muted?(c.value.muted=!1,E(.5)):(c.value.muted=!0,E(0)))};return t({toggle:N}),(t,l)=>{const o=Object(C["resolveComponent"])("IconPlayOne"),n=Object(C["resolveComponent"])("IconPause"),d=Object(C["resolveComponent"])("IconVolumeMute"),u=Object(C["resolveComponent"])("IconVolumeNotice"),b=Object(C["resolveComponent"])("IconVolumeSmall");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"audio-player",style:Object(C["normalizeStyle"])({transform:`scale(${1/e.scale})`})},[Object(C["createElementVNode"])("audio",{class:"audio",ref_key:"audioRef",ref:c,src:e.src,autoplay:e.autoplay,onDurationchange:l[0]||(l[0]=e=>w()),onTimeupdate:l[1]||(l[1]=e=>V()),onPlay:l[2]||(l[2]=e=>I()),onEnded:l[3]||(l[3]=e=>B()),onProgress:l[4]||(l[4]=e=>S()),onError:l[5]||(l[5]=e=>L())},null,40,Md),Object(C["createElementVNode"])("div",Dd,[Object(C["createElementVNode"])("div",zd,[Object(C["createElementVNode"])("div",{class:"icon play-icon",onClick:l[6]||(l[6]=e=>N())},[Object(C["createElementVNode"])("span",Fd,[s.value?(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:0})):(Object(C["openBlock"])(),Object(C["createBlock"])(n,{key:1}))])]),Object(C["createElementVNode"])("div",Ad,[Object(C["createElementVNode"])("div",{class:"icon volume-icon",onClick:l[7]||(l[7]=e=>R())},[Object(C["createElementVNode"])("span",$d,[0===i.value?(Object(C["openBlock"])(),Object(C["createBlock"])(d,{key:0})):1===i.value?(Object(C["openBlock"])(),Object(C["createBlock"])(u,{key:1})):(Object(C["openBlock"])(),Object(C["createBlock"])(b,{key:2}))])]),Object(C["createElementVNode"])("div",{class:"volume-bar-wrap",onMousedown:l[8]||(l[8]=e=>F()),onTouchstart:l[9]||(l[9]=e=>F()),onClick:l[10]||(l[10]=e=>A(e))},[Object(C["createElementVNode"])("div",{class:"volume-bar",ref_key:"volumeBarRef",ref:r},[Object(C["createElementVNode"])("div",{class:"volume-bar-inner",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(y)})},Pd,4)],512)],32)])]),Object(C["createElementVNode"])("span",Hd,[Object(C["createElementVNode"])("span",qd,Object(C["toDisplayString"])(Object(C["unref"])(f)),1),Ud,Object(C["createElementVNode"])("span",Gd,Object(C["toDisplayString"])(Object(C["unref"])(j)),1)]),Object(C["createElementVNode"])("div",{class:"bar-wrap",ref_key:"playBarWrap",ref:a,onMousedown:l[11]||(l[11]=e=>M()),onTouchstart:l[12]||(l[12]=e=>M()),onMousemove:l[13]||(l[13]=e=>$(e)),onMouseenter:l[14]||(l[14]=e=>m.value=!0),onMouseleave:l[15]||(l[15]=e=>m.value=!1)},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["bar-time",{hidden:!m.value}]),style:Object(C["normalizeStyle"])({left:O.value})},Object(C["toDisplayString"])(p.value),7),Object(C["createElementVNode"])("div",Xd,[Object(C["createElementVNode"])("div",{class:"loaded",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(h)})},null,4),Object(C["createElementVNode"])("div",{class:"played",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(v)})},Zd,4)])],544)])],4)}}});l("3929");const Jd=V()(Wd,[["__scopeId","data-v-121f3d11"]]);var Kd=Jd,Qd=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,{canvasScale:l,handleElementId:o}=Object(N["c"])(Yo()),{viewportRatio:n}=Object(N["c"])(Uo()),c=Object(C["computed"])(()=>Math.min(t.elementInfo.width,t.elementInfo.height)+"px"),a=Object(C["computed"])(()=>{const e=Dn,o=Dn*n.value,c=280/l.value,a=50/l.value,r=t.elementInfo.width,i=t.elementInfo.height,s=t.elementInfo.left,d=t.elementInfo.top;let u=0,b=i;return s+c>=e&&(u=r-c),d+i+a>=o&&(b=-a),{left:u+"px",top:b+"px"}}),r=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))};return(t,n)=>{const i=Object(C["resolveComponent"])("IconVolumeNotice"),s=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-audio",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-content",onMousedown:n[1]||(n[1]=e=>r(e)),onTouchstart:n[2]||(n[2]=e=>r(e))},[Object(C["createVNode"])(i,{class:"audio-icon",style:Object(C["normalizeStyle"])({fontSize:Object(C["unref"])(c),color:e.elementInfo.color})},null,8,["style"]),Object(C["unref"])(o)===e.elementInfo.id?(Object(C["openBlock"])(),Object(C["createBlock"])(Kd,{key:0,class:"audio-player",style:Object(C["normalizeStyle"])({...Object(C["unref"])(a)}),src:e.elementInfo.src,loop:e.elementInfo.loop,scale:Object(C["unref"])(l),onMousedown:n[0]||(n[0]=Object(C["withModifiers"])(()=>{},["stop"]))},null,8,["style","src","loop","scale"])):Object(C["createCommentVNode"])("",!0)],32)),[[s,e.contextmenus]])],4)],6)}}});l("75e6");const eu=V()(Qd,[["__scopeId","data-v-001bfbc4"]]);var tu=eu;const lu=["id"];var ou=Object(C["defineComponent"])({__name:"EditableElement",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},isMultiSelect:{type:Boolean,required:!0},selectElement:{type:Function,required:!0},openLinkDialog:{type:Function,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e={[Fn.IMAGE]:Ar,[Fn.TEXT]:Zi,[Fn.SHAPE]:us,[Fn.LINE]:xs,[Fn.CHART]:Bs,[Fn.TABLE]:Ws,[Fn.LATEX]:ld,[Fn.VIDEO]:_d,[Fn.AUDIO]:tu};return e[t.elementInfo.type]||null}),{orderElement:o}=Qn(),{alignElementToCanvas:n}=Ka(),{combineElements:c,uncombineElements:a}=Zn(),{deleteElement:r}=Yn(),{lockElement:i,unlockElement:s}=Xn(),{copyElement:d,pasteElement:u,cutElement:b}=Wn(),{selectAllElement:m}=Jn(),p=()=>t.elementInfo.lock?[{text:"解锁",handler:()=>s(t.elementInfo)}]:[{text:"剪切",subText:"Ctrl + X",handler:b},{text:"复制",subText:"Ctrl + C",handler:d},{text:"粘贴",subText:"Ctrl + V",handler:u},{divider:!0},{text:"水平居中",handler:()=>n(un.HORIZONTAL),children:[{text:"水平垂直居中",handler:()=>n(un.CENTER)},{text:"水平居中",handler:()=>n(un.HORIZONTAL)},{text:"左对齐",handler:()=>n(un.LEFT)},{text:"右对齐",handler:()=>n(un.RIGHT)}]},{text:"垂直居中",handler:()=>n(un.VERTICAL),children:[{text:"水平垂直居中",handler:()=>n(un.CENTER)},{text:"垂直居中",handler:()=>n(un.VERTICAL)},{text:"顶部对齐",handler:()=>n(un.TOP)},{text:"底部对齐",handler:()=>n(un.BOTTOM)}]},{divider:!0},{text:"置于顶层",disable:t.isMultiSelect&&!t.elementInfo.groupId,handler:()=>o(t.elementInfo,dn.TOP),children:[{text:"置于顶层",handler:()=>o(t.elementInfo,dn.TOP)},{text:"上移一层",handler:()=>o(t.elementInfo,dn.UP)}]},{text:"置于底层",disable:t.isMultiSelect&&!t.elementInfo.groupId,handler:()=>o(t.elementInfo,dn.BOTTOM),children:[{text:"置于底层",handler:()=>o(t.elementInfo,dn.BOTTOM)},{text:"下移一层",handler:()=>o(t.elementInfo,dn.DOWN)}]},{divider:!0},{text:"设置链接",handler:t.openLinkDialog},{text:t.elementInfo.groupId?"取消组合":"组合",subText:"Ctrl + G",handler:t.elementInfo.groupId?a:c,hide:!t.isMultiSelect},{text:"全选",subText:"Ctrl + A",handler:m},{text:"锁定",subText:"Ctrl + L",handler:i},{text:"删除",subText:"Delete",handler:r}];return(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"editable-element",ref:"elementRef",id:"editable-element-"+e.elementInfo.id,style:Object(C["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(l)),{elementInfo:e.elementInfo,selectElement:e.selectElement,contextmenus:p},null,8,["elementInfo","selectElement"]))],12,lu))}});const nu=ou;var cu=nu,au=Object(C["defineComponent"])({__name:"MouseSelection",props:{top:{type:Number,required:!0},left:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},quadrant:{type:Number,required:!0,validator(e){return[1,2,3,4].includes(e)}}},setup(e){return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])("mouse-selection quadrant-"+e.quadrant),style:Object(C["normalizeStyle"])({top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"})},null,6))}});l("4b9a");const ru=V()(au,[["__scopeId","data-v-0d6c0f73"]]);var iu=ru;const su={class:"grid-lines"},du=["d","stroke"];var uu=Object(C["defineComponent"])({__name:"GridLines",setup(e){const{canvasScale:t,gridLineSize:l}=Object(N["c"])(Yo()),{currentSlide:o,viewportRatio:n}=Object(N["c"])(Uo()),c=Object(C["computed"])(()=>{var e;return null===(e=o.value)||void 0===e?void 0:e.background}),a=Object(C["computed"])(()=>{var e;const t=(null===(e=c.value)||void 0===e?void 0:e.color)||"#fff",l=["#000","#fff"];return Gt.a.mostReadable(t,l,{includeFallbackColors:!0}).setAlpha(.5).toRgbString()}),r=Object(C["computed"])(()=>{const e=Dn,t=Dn*n.value;let o="";for(let n=0;n<=Math.floor(t/l.value);n++)o+=`M0 ${n*l.value} L${e} ${n*l.value} `;for(let n=0;n<=Math.floor(e/l.value);n++)o+=`M${n*l.value} 0 L${n*l.value} ${t} `;return o});return(e,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",su,[Object(C["createElementVNode"])("path",{style:Object(C["normalizeStyle"])({transform:`scale(${Object(C["unref"])(t)})`}),d:Object(C["unref"])(r),fill:"none",stroke:Object(C["unref"])(a),"stroke-width":"0.3","stroke-dasharray":"5"},null,12,du)]))}});l("dd7b");const bu=V()(uu,[["__scopeId","data-v-aebac580"]]);var mu=bu,pu=e=>{const t=Object(C["computed"])(()=>{if(!e.value)return{backgroundColor:"#fff"};const{type:t,color:l,image:o,imageSize:n,gradientColor:c,gradientRotate:a,gradientType:r}=e.value;if("solid"===t)return{backgroundColor:l};if("image"===t)return o?"repeat"===n?{backgroundImage:"url("+o,backgroundRepeat:"repeat",backgroundSize:"contain"}:{backgroundImage:"url("+o,backgroundRepeat:"no-repeat",backgroundSize:n||"cover"}:{backgroundColor:"#fff"};if("gradient"===t){const e=a||0,t=c?c[0]:"#fff",l=c?c[1]:"#fff";return"radial"===r?{backgroundImage:`radial-gradient(${t}, ${l}`}:{backgroundImage:`linear-gradient(${e}deg, ${t}, ${l}`}}return{backgroundColor:"#fff"}});return{backgroundStyle:t}},Ou=Object(C["defineComponent"])({__name:"ViewportBackground",setup(e){const{gridLineSize:t}=Object(N["c"])(Yo()),{currentSlide:l}=Object(N["c"])(Uo()),o=Object(C["computed"])(()=>{var e;return null===(e=l.value)||void 0===e?void 0:e.background}),{backgroundStyle:n}=pu(o);return(e,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"viewport-background",style:Object(C["normalizeStyle"])(Object(C["unref"])(n))},[Object(C["unref"])(t)?(Object(C["openBlock"])(),Object(C["createBlock"])(mu,{key:0})):Object(C["createCommentVNode"])("",!0)],4))}});l("5977");const fu=V()(Ou,[["__scopeId","data-v-61c4db4a"]]);var ju=fu,vu=Object(C["defineComponent"])({__name:"AlignmentLine",props:{type:{type:String,required:!0},axis:{type:Object,required:!0},length:{type:Number,required:!0},canvasScale:{type:Number,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>t.axis.x*t.canvasScale+"px"),o=Object(C["computed"])(()=>t.axis.y*t.canvasScale+"px"),n=Object(C["computed"])(()=>"vertical"===t.type?{height:t.length*t.canvasScale+"px"}:{width:t.length*t.canvasScale+"px"});return(t,c)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"alignment-line",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(l),top:Object(C["unref"])(o)})},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["line",e.type]),style:Object(C["normalizeStyle"])(Object(C["unref"])(n))},null,6)],4))}});l("5688");const hu=V()(vu,[["__scopeId","data-v-37fa6068"]]);var yu=hu;const gu={class:"ruler"};var xu=Object(C["defineComponent"])({__name:"Ruler",props:{viewportStyles:{type:Object,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Yo()),o=Object(C["computed"])(()=>t.viewportStyles.width*l.value/10);return(t,n)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",gu,[Object(C["createElementVNode"])("div",{class:"h",style:Object(C["normalizeStyle"])({width:e.viewportStyles.width*Object(C["unref"])(l)+"px",left:e.viewportStyles.left+"px"})},[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(10,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["ruler-marker-100",{hide:Object(C["unref"])(o)<36,omit:Object(C["unref"])(o)<72}]),key:"marker-100-"+e},[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(100*e),1)],2)),64))],4),Object(C["createElementVNode"])("div",{class:"v",style:Object(C["normalizeStyle"])({height:e.viewportStyles.height*Object(C["unref"])(l)+"px",top:e.viewportStyles.top+"px"})},[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(10,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["ruler-marker-100",{hide:Object(C["unref"])(o)<36,omit:Object(C["unref"])(o)<72}]),key:e,style:Object(C["normalizeStyle"])({height:Object(C["unref"])(o)+"px"})},[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(100*e),1)],6)),64))],4)]))}});l("9854");const ku=V()(xu,[["__scopeId","data-v-60e06332"]]);var Cu=ku;const Nu=["width","height"],Eu=["d"];var wu=Object(C["defineComponent"])({__name:"ElementCreateSelection",emits:["created"],setup(e,{emit:t}){const l=Yo(),{creatingElement:o}=Object(N["c"])(l),{ctrlOrShiftKeyActive:n}=Object(N["c"])(on()),c=Object(C["ref"])(),a=Object(C["ref"])(),r=Object(C["ref"])(),i=Object(C["ref"])({x:0,y:0});Object(C["onMounted"])(()=>{if(!r.value)return;const{x:e,y:t}=r.value.getBoundingClientRect();i.value={x:e,y:t}});const s=e=>{let r=!0;const i=e.pageX,s=e.pageY;c.value=[i,s],document.onmousemove=e=>{if(!o.value||!r)return;let t=e.pageX,l=e.pageY;if(n.value){const e=t-i,n=l-s,c=Math.abs(e),a=Math.abs(n);if("shape"===o.value.type){const o=n>0&&e<0||n<0&&e>0;c>a?l=o?s-e:s+e:t=o?i-n:i+n}else"line"===o.value.type&&(c>a?l=s:t=i)}a.value=[t,l]},document.onmouseup=e=>{var n,d;if(document.onmousemove=null,document.onmouseup=null,2===e.button)return void setTimeout(()=>l.setCreatingElement(null),0);r=!1;const u=e.pageX,b=e.pageY,m=30;if("line"===(null===(n=o.value)||void 0===n?void 0:n.type)&&(Math.abs(u-i)>=m||Math.abs(b-s)>=m))t("created",{start:c.value,end:a.value});else if("line"!==(null===(d=o.value)||void 0===d?void 0:d.type)&&Math.abs(u-i)>=m&&Math.abs(b-s)>=m)t("created",{start:c.value,end:a.value});else{const e=200,l=Math.min(u,i),o=Math.min(b,s),n=Math.max(u,i),c=Math.max(b,s),a=n-l>=m?n-l:e,r=c-o>=m?c-o:e;t("created",{start:[l,o],end:[l+a,o+r]})}}},d=Object(C["computed"])(()=>{if(!c.value||!a.value)return null;if(!o.value||"line"!==o.value.type)return null;const[e,t]=c.value,[l,n]=a.value,r=Math.min(e,l),i=Math.max(e,l),s=Math.min(t,n),d=Math.max(t,n),u=i-r>=24?i-r:24,b=d-s>=24?d-s:24,m=e===r?0:i-r,p=t===s?0:d-s,O=l===r?0:i-r,f=n===s?0:d-s,j=`M${m}, ${p} L${O}, ${f}`;return{svgWidth:u,svgHeight:b,startX:m,startY:p,endX:O,endY:f,path:j}}),u=Object(C["computed"])(()=>{if(!c.value||!a.value)return{};const[e,t]=c.value,[l,o]=a.value,n=Math.min(e,l),r=Math.max(e,l),s=Math.min(t,o),d=Math.max(t,o),u=r-n,b=d-s;return{left:n-i.value.x+"px",top:s-i.value.y+"px",width:u+"px",height:b+"px"}});return(e,t)=>{var l,n;return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-create-selection",ref_key:"selectionRef",ref:r,onMousedown:t[0]||(t[0]=Object(C["withModifiers"])(e=>s(e),["stop"])),onContextmenu:t[1]||(t[1]=Object(C["withModifiers"])(()=>{},["stop","prevent"]))},[c.value&&a.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:Object(C["normalizeClass"])(["selection",null===(l=Object(C["unref"])(o))||void 0===l?void 0:l.type]),style:Object(C["normalizeStyle"])(Object(C["unref"])(u))},["line"===(null===(n=Object(C["unref"])(o))||void 0===n?void 0:n.type)&&Object(C["unref"])(d)?(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{key:0,overflow:"visible",width:Object(C["unref"])(d).svgWidth,height:Object(C["unref"])(d).svgHeight},[Object(C["createElementVNode"])("path",{d:Object(C["unref"])(d).path,stroke:"#4f9346",fill:"none","stroke-width":"2"},null,8,Eu)],8,Nu)):Object(C["createCommentVNode"])("",!0)],6)):Object(C["createCommentVNode"])("",!0)],544)}}});l("16b1");const Vu=V()(wu,[["__scopeId","data-v-3c381af4"]]);var Iu=Vu,Bu=(e,t)=>{const l=Object(C["computed"])(()=>[{direction:mn.LEFT_TOP,style:{}},{direction:mn.TOP,style:{left:e.value/2+"px"}},{direction:mn.RIGHT_TOP,style:{left:e.value+"px"}},{direction:mn.LEFT,style:{top:t.value/2+"px"}},{direction:mn.RIGHT,style:{left:e.value+"px",top:t.value/2+"px"}},{direction:mn.LEFT_BOTTOM,style:{top:t.value+"px"}},{direction:mn.BOTTOM,style:{left:e.value/2+"px",top:t.value+"px"}},{direction:mn.RIGHT_BOTTOM,style:{left:e.value+"px",top:t.value+"px"}}]),o=Object(C["computed"])(()=>[{direction:mn.LEFT,style:{top:t.value/2+"px"}},{direction:mn.RIGHT,style:{left:e.value+"px",top:t.value/2+"px"}}]),n=Object(C["computed"])(()=>[{type:bn.T,style:{width:e.value+"px"}},{type:bn.B,style:{top:t.value+"px",width:e.value+"px"}},{type:bn.L,style:{height:t.value+"px"}},{type:bn.R,style:{left:e.value+"px",height:t.value+"px"}}]);return{resizeHandlers:l,textElementResizeHandlers:o,borderLines:n}},Su=Object(C["defineComponent"])({__name:"ResizeHandler",props:{type:{type:String,default:""},rotate:{type:Number,default:0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e="rotate-",l=t.rotate;return l>-22.5&&l<=22.5?e+0:l>22.5&&l<=67.5?e+45:l>67.5&&l<=112.5?e+90:l>112.5&&l<=157.5?e+135:l>157.5||l<=-157.5?e+0:l>-157.5&&l<=-112.5?e+45:l>-112.5&&l<=-67.5?e+90:l>-67.5&&l<=-22.5?e+135:e+0});return(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["resize-handler",Object(C["unref"])(l),e.type])},null,2))}});l("b510");const Lu=V()(Su,[["__scopeId","data-v-881ee3f8"]]);var _u=Lu,Tu=Object(C["defineComponent"])({__name:"BorderLine",props:{type:{type:String,required:!0},isWide:{type:Boolean,default:!1}},setup(e){return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["border-line",e.type,{wide:e.isWide}])},null,2))}});l("2460");const Mu=V()(Tu,[["__scopeId","data-v-7170d1be"]]);var Du=Mu,zu=Object(C["defineComponent"])({__name:"MultiSelectOperate",props:{elementList:{type:Array,required:!0},scaleMultiElement:{type:Function,required:!0}},setup(e){const t=e,{activeElementIdList:l,canvasScale:o}=Object(N["c"])(Yo()),n=Object(C["computed"])(()=>t.elementList.filter(e=>l.value.includes(e.id))),c=Object(C["ref"])({minX:0,maxX:0,minY:0,maxY:0}),a=Object(C["computed"])(()=>(c.value.maxX-c.value.minX)*o.value),r=Object(C["computed"])(()=>(c.value.maxY-c.value.minY)*o.value),{resizeHandlers:i,borderLines:s}=Bu(a,r),d=()=>{const{minX:e,maxX:t,minY:l,maxY:o}=Vn(n.value);c.value={minX:e,maxX:t,minY:l,maxY:o}};Object(C["watchEffect"])(d);const u=Object(C["computed"])(()=>n.value.some(e=>!!("image"!==e.type&&"shape"!==e.type||e.rotate)));return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"multi-select-operate",style:Object(C["normalizeStyle"])({left:c.value.minX*Object(C["unref"])(o)+"px",top:c.value.minY*Object(C["unref"])(o)+"px"})},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(s),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(Du,{key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),Object(C["unref"])(u)?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],{key:0},Object(C["renderList"])(Object(C["unref"])(i),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(_u,{key:t.direction,type:t.direction,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.scaleMultiElement(l,c.value,t.direction),["stop"])},null,8,["type","style","onMousedown"]))),128))],4))}});l("a669");const Fu=V()(zu,[["__scopeId","data-v-defbd922"]]);var Au=Fu;const $u={class:"rotate-handler"};function Ru(e,t){return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",$u)}l("1ebd");const Pu={},Hu=V()(Pu,[["render",Ru],["__scopeId","data-v-b99d8dae"]]);var qu=Hu;const Uu={inheritAttrs:!1};var Gu=Object(C["defineComponent"])({...Uu,__name:"ImageElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l,clipingImageElementId:o}=Object(N["c"])(Yo()),n=Object(C["computed"])(()=>o.value===t.elementInfo.id),c=Object(C["computed"])(()=>t.elementInfo.width*l.value),a=Object(C["computed"])(()=>t.elementInfo.height*l.value),{resizeHandlers:r,borderLines:i}=Bu(c,a);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["image-element-operate",{cliping:Object(C["unref"])(n)}])},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(i),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(Du,{class:"operate-border-line",key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(r),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(_u,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(C["createVNode"])(qu,{class:"operate-rotate-handler",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(c)/2+"px"}),onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"])],64)):Object(C["createCommentVNode"])("",!0)],2))}});l("ae9f");const Xu=V()(Gu,[["__scopeId","data-v-46b250c2"]]);var Yu=Xu;const Zu={class:"text-element-operate"},Wu={inheritAttrs:!1};var Ju=Object(C["defineComponent"])({...Wu,__name:"TextElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Yo()),o=Object(C["computed"])(()=>t.elementInfo.width*l.value),n=Object(C["computed"])(()=>t.elementInfo.height*l.value),{textElementResizeHandlers:c,borderLines:a}=Bu(o,n);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Zu,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(Du,{class:"operate-border-line",key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(c),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(_u,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(C["createVNode"])(qu,{class:"operate-rotate-handler",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(o)/2+"px"}),onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"])],64)):Object(C["createCommentVNode"])("",!0)]))}});const Ku=Ju;var Qu=Ku;const eb={class:"shape-element-operate"},tb={inheritAttrs:!1};var lb=Object(C["defineComponent"])({...tb,__name:"ShapeElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0},moveShapeKeypoint:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Yo()),o=Object(C["computed"])(()=>t.elementInfo.width*l.value),n=Object(C["computed"])(()=>t.elementInfo.height*l.value),{resizeHandlers:c,borderLines:a}=Bu(o,n),r=Object(C["computed"])(()=>{if(!t.elementInfo.pathFormula||!t.elementInfo.keypoint)return{};const e=An[t.elementInfo.pathFormula];if("editable"in e){const o=e.getBaseSize(t.elementInfo.width,t.elementInfo.height)*t.elementInfo.keypoint;if("left"===e.relative)return{left:o*l.value+"px"};if("right"===e.relative)return{left:(t.elementInfo.width-o)*l.value+"px"};if("center"===e.relative)return{left:(t.elementInfo.width-o)/2*l.value+"px"};if("top"===e.relative)return{top:o*l.value+"px"};if("bottom"===e.relative)return{top:(t.elementInfo.height-o)*l.value+"px"}}return{}});return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",eb,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(Du,{class:"operate-border-line",key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(c),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(_u,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(C["createVNode"])(qu,{class:"operate-rotate-handler",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(o)/2+"px"}),onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"]),void 0!==e.elementInfo.keypoint?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"operate-keypoint-handler",style:Object(C["normalizeStyle"])(Object(C["unref"])(r)),onMousedown:l[1]||(l[1]=Object(C["withModifiers"])(t=>e.moveShapeKeypoint(t,e.elementInfo),["stop"]))},null,36)):Object(C["createCommentVNode"])("",!0)],64)):Object(C["createCommentVNode"])("",!0)]))}});l("614e");const ob=V()(lb,[["__scopeId","data-v-fd38df18"]]);var nb=ob;const cb={class:"line-element-operate"},ab=["width","height","stroke"],rb={key:0},ib=["x1","y1","x2","y2"],sb=["x1","y1","x2","y2"],db=["x1","y1","x2","y2"],ub=["x1","y1","x2","y2"],bb={inheritAttrs:!1};var mb=Object(C["defineComponent"])({...bb,__name:"LineElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},dragLineElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Yo()),o=Object(C["computed"])(()=>Math.max(t.elementInfo.start[0],t.elementInfo.end[0])),n=Object(C["computed"])(()=>Math.max(t.elementInfo.start[1],t.elementInfo.end[1])),c=Object(C["computed"])(()=>{const e=[{handler:pn.START,style:{left:t.elementInfo.start[0]*l.value+"px",top:t.elementInfo.start[1]*l.value+"px"}},{handler:pn.END,style:{left:t.elementInfo.end[0]*l.value+"px",top:t.elementInfo.end[1]*l.value+"px"}}];if(t.elementInfo.curve||t.elementInfo.broken){const o=t.elementInfo.curve||t.elementInfo.broken;e.push({handler:pn.C,style:{left:o[0]*l.value+"px",top:o[1]*l.value+"px"}})}else if(t.elementInfo.cubic){const[o,n]=t.elementInfo.cubic;e.push({handler:pn.C1,style:{left:o[0]*l.value+"px",top:o[1]*l.value+"px"}}),e.push({handler:pn.C2,style:{left:n[0]*l.value+"px",top:n[1]*l.value+"px"}})}return e});return(t,a)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",cb,[e.handlerVisible?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(c),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(_u,{class:"operate-resize-handler",key:t.handler,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.dragLineElement(l,e.elementInfo,t.handler),["stop"])},null,8,["style","onMousedown"]))),128)),(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{width:Object(C["unref"])(o)||1,height:Object(C["unref"])(n)||1,stroke:e.elementInfo.color,overflow:"visible",style:Object(C["normalizeStyle"])({transform:`scale(${Object(C["unref"])(l)})`})},[e.elementInfo.curve?(Object(C["openBlock"])(),Object(C["createElementBlock"])("g",rb,[Object(C["createElementVNode"])("line",{class:"anchor-line",x1:e.elementInfo.start[0],y1:e.elementInfo.start[1],x2:e.elementInfo.curve[0],y2:e.elementInfo.curve[1]},null,8,ib),Object(C["createElementVNode"])("line",{class:"anchor-line",x1:e.elementInfo.end[0],y1:e.elementInfo.end[1],x2:e.elementInfo.curve[0],y2:e.elementInfo.curve[1]},null,8,sb)])):Object(C["createCommentVNode"])("",!0),e.elementInfo.cubic?(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],{key:1},Object(C["renderList"])(e.elementInfo.cubic,(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("g",{key:l},[0===l?(Object(C["openBlock"])(),Object(C["createElementBlock"])("line",{key:0,class:"anchor-line",x1:e.elementInfo.start[0],y1:e.elementInfo.start[1],x2:t[0],y2:t[1]},null,8,db)):Object(C["createCommentVNode"])("",!0),1===l?(Object(C["openBlock"])(),Object(C["createElementBlock"])("line",{key:1,class:"anchor-line",x1:e.elementInfo.end[0],y1:e.elementInfo.end[1],x2:t[0],y2:t[1]},null,8,ub)):Object(C["createCommentVNode"])("",!0)]))),128)):Object(C["createCommentVNode"])("",!0)],12,ab))],64)):Object(C["createCommentVNode"])("",!0)]))}});l("fac9");const pb=V()(mb,[["__scopeId","data-v-4659f395"]]);var Ob=pb;const fb={class:"table-element-operate"},jb={inheritAttrs:!1};var vb=Object(C["defineComponent"])({...jb,__name:"TableElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Yo()),o=Object(C["computed"])(()=>t.elementInfo.outline.width||1),n=Object(C["computed"])(()=>(t.elementInfo.width+o.value)*l.value),c=Object(C["computed"])(()=>t.elementInfo.height*l.value),{textElementResizeHandlers:a,borderLines:r}=Bu(n,c);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",fb,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(r),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(Du,{class:"operate-border-line",key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(_u,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(C["createVNode"])(qu,{class:"operate-rotate-handler",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(n)/2+"px"}),onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"])],64)):Object(C["createCommentVNode"])("",!0)]))}});const hb=vb;var yb=hb;const gb={class:"common-element-operate"},xb={inheritAttrs:!1};var kb=Object(C["defineComponent"])({...xb,__name:"CommonElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Yo()),o=Object(C["computed"])(()=>t.elementInfo.width*l.value),n=Object(C["computed"])(()=>t.elementInfo.height*l.value),{resizeHandlers:c,borderLines:a}=Bu(o,n),r=Object(C["computed"])(()=>["video","audio"].includes(t.elementInfo.type));return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",gb,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(Du,{class:"operate-border-line",key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(c),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(_u,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(C["unref"])(r)?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createBlock"])(qu,{key:0,class:"operate-rotate-handler",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(o)/2+"px"}),onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"]))],64)):Object(C["createCommentVNode"])("",!0)]))}});const Cb=kb;var Nb=Cb,Eb=()=>{const e=Uo(),{addHistorySnapshot:t}=Pn(),l=(l,o)=>{const n=/^(https?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/;if("web"===o.type&&!n.test(o.target))return qt["a"].error("不是正确的网页链接地址"),!1;const c={link:o};return e.updateElement({id:l.id,props:c}),t(),!0},o=l=>{e.removeElementProps({id:l.id,propName:"link"}),t()};return{setLink:l,removeLink:o}};const wb=["href"],Vb={key:1,class:"link"},Ib={class:"btns"};var Bb=Object(C["defineComponent"])({__name:"LinkHandler",props:{elementInfo:{type:Object,required:!0},link:{type:Object,required:!0},openLinkDialog:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Yo()),{removeLink:o}=Eb(),n=Object(C["computed"])(()=>"line"===t.elementInfo.type?0:t.elementInfo.height);return(t,c)=>{const a=Object(C["resolveComponent"])("Divider");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"link-handler",style:Object(C["normalizeStyle"])({top:Object(C["unref"])(n)*Object(C["unref"])(l)+10+"px"})},["web"===e.link.type?(Object(C["openBlock"])(),Object(C["createElementBlock"])("a",{key:0,class:"link",href:e.link.target,target:"_blank"},Object(C["toDisplayString"])(e.link.target),9,wb)):(Object(C["openBlock"])(),Object(C["createElementBlock"])("a",Vb,"幻灯片页面 "+Object(C["toDisplayString"])(e.link.target),1)),Object(C["createElementVNode"])("div",Ib,[Object(C["createElementVNode"])("div",{class:"btn",onClick:c[0]||(c[0]=t=>e.openLinkDialog())},"更换"),Object(C["createVNode"])(a,{type:"vertical"}),Object(C["createElementVNode"])("div",{class:"btn",onClick:c[1]||(c[1]=t=>Object(C["unref"])(o)(e.elementInfo))},"移除")])],4)}}});l("7851");const Sb=V()(Bb,[["__scopeId","data-v-bb722fc0"]]);var Lb=Sb;const _b={key:1,class:"animation-index"};var Tb=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},isSelected:{type:Boolean,required:!0},isActive:{type:Boolean,required:!0},isActiveGroupElement:{type:Boolean,required:!0},isMultiSelect:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0},dragLineElement:{type:Function,required:!0},moveShapeKeypoint:{type:Function,required:!0},openLinkDialog:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l,toolbarState:o}=Object(N["c"])(Yo()),{formatedAnimations:n}=Object(N["c"])(Uo()),c=Object(C["computed"])(()=>{const e={[Fn.IMAGE]:Yu,[Fn.TEXT]:Qu,[Fn.SHAPE]:nb,[Fn.LINE]:Ob,[Fn.TABLE]:yb,[Fn.CHART]:Nb,[Fn.LATEX]:Nb,[Fn.VIDEO]:Nb,[Fn.AUDIO]:Nb};return e[t.elementInfo.type]||null}),a=Object(C["computed"])(()=>{const e=[];for(let l=0;l<n.value.length;l++){const o=n.value[l].animations.map(e=>e.elId);o.includes(t.elementInfo.id)&&e.push(l)}return e}),r=Object(C["computed"])(()=>"rotate"in t.elementInfo?t.elementInfo.rotate:0),i=Object(C["computed"])(()=>"height"in t.elementInfo?t.elementInfo.height:0);return(t,n)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["operate",{"multi-select":e.isMultiSelect&&!e.isActive}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top*Object(C["unref"])(l)+"px",left:e.elementInfo.left*Object(C["unref"])(l)+"px",transform:`rotate(${Object(C["unref"])(r)}deg)`,transformOrigin:`${e.elementInfo.width*Object(C["unref"])(l)/2}px ${Object(C["unref"])(i)*Object(C["unref"])(l)/2}px`})},[e.isSelected?(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(c)),{key:0,elementInfo:e.elementInfo,handlerVisible:!e.elementInfo.lock&&(e.isActiveGroupElement||!e.isMultiSelect),rotateElement:e.rotateElement,scaleElement:e.scaleElement,dragLineElement:e.dragLineElement,moveShapeKeypoint:e.moveShapeKeypoint},null,8,["elementInfo","handlerVisible","rotateElement","scaleElement","dragLineElement","moveShapeKeypoint"])):Object(C["createCommentVNode"])("",!0),"elAnimation"===Object(C["unref"])(o)&&Object(C["unref"])(a).length?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",_b,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"index-item",key:e},Object(C["toDisplayString"])(e+1),1))),128))])):Object(C["createCommentVNode"])("",!0),e.isActive&&e.elementInfo.link?(Object(C["openBlock"])(),Object(C["createBlock"])(Lb,{key:2,elementInfo:e.elementInfo,link:e.elementInfo.link,openLinkDialog:e.openLinkDialog,onMousedown:n[0]||(n[0]=Object(C["withModifiers"])(()=>{},["stop"]))},null,8,["elementInfo","link","openLinkDialog"])):Object(C["createCommentVNode"])("",!0)],6))}});l("d2f3");const Mb=V()(Tb,[["__scopeId","data-v-27793fbf"]]);var Db=Mb;const zb=["src"];var Fb=Object(C["defineComponent"])({__name:"BaseImageElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:o}=Qa(l),n=Object(C["computed"])(()=>t.elementInfo.flipH),c=Object(C["computed"])(()=>t.elementInfo.flipV),{flipStyle:a}=er(n,c),r=Object(C["computed"])(()=>t.elementInfo.clip),{clipShape:i,imgPosition:s}=lr(r),d=Object(C["computed"])(()=>t.elementInfo.filters),{filter:u}=or(d);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-image",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({filter:Object(C["unref"])(o)?`drop-shadow(${Object(C["unref"])(o)})`:"",transform:Object(C["unref"])(a)})},[Object(C["createVNode"])(kr,{elementInfo:e.elementInfo},null,8,["elementInfo"]),Object(C["createElementVNode"])("div",{class:"image-content",style:Object(C["normalizeStyle"])({clipPath:Object(C["unref"])(i).style})},[Object(C["createElementVNode"])("img",{src:e.elementInfo.src,draggable:!1,style:Object(C["normalizeStyle"])({top:Object(C["unref"])(s).top,left:Object(C["unref"])(s).left,width:Object(C["unref"])(s).width,height:Object(C["unref"])(s).height,filter:Object(C["unref"])(u)}),alt:""},null,12,zb),e.elementInfo.colorMask?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"color-mask",style:Object(C["normalizeStyle"])({backgroundColor:e.elementInfo.colorMask.color,opacity:e.elementInfo.colorMask.opacity})},null,4)):Object(C["createCommentVNode"])("",!0)],4)],4)],4)],4))}});l("4c0e");const Ab=V()(Fb,[["__scopeId","data-v-c874e65e"]]);var $b=Ab;const Rb=["innerHTML"];var Pb=Object(C["defineComponent"])({__name:"BaseTextElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:o}=Qa(l),n=Object(C["computed"])(()=>({"--textIndent":(t.elementInfo.textIndent||0)+"px","--paragraphSpace":(void 0===t.elementInfo.paragraphSpace?5:t.elementInfo.paragraphSpace)+"px"}));return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-text",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({backgroundColor:e.elementInfo.fill,opacity:e.elementInfo.opacity,textShadow:Object(C["unref"])(o),lineHeight:e.elementInfo.lineHeight,letterSpacing:(e.elementInfo.wordSpace||0)+"px",color:e.elementInfo.defaultColor,fontFamily:e.elementInfo.defaultFontName})},[Object(C["createVNode"])(qr,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(C["createElementVNode"])("div",{class:"text ProseMirror-static",style:Object(C["normalizeStyle"])(Object(C["unref"])(n)),innerHTML:e.elementInfo.content},null,12,Rb)],4)],4)],4))}});l("07f0");const Hb=V()(Pb,[["__scopeId","data-v-659e869d"]]);var qb=Hb;const Ub=["width","height"],Gb={key:0},Xb=["transform"],Yb=["d","fill","stroke","stroke-width","stroke-dasharray"],Zb=["innerHTML"];var Wb=Object(C["defineComponent"])({__name:"BaseShapeElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>t.elementInfo.outline),{outlineWidth:o,outlineStyle:n,outlineColor:c}=nr(l),a=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:r}=Qa(a),i=Object(C["computed"])(()=>t.elementInfo.flipH),s=Object(C["computed"])(()=>t.elementInfo.flipV),{flipStyle:d}=er(i,s),u=Object(C["computed"])(()=>{const e={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"};return t.elementInfo.text?t.elementInfo.text:e});return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-shape",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({opacity:e.elementInfo.opacity,filter:Object(C["unref"])(r)?`drop-shadow(${Object(C["unref"])(r)})`:"",transform:Object(C["unref"])(d),color:Object(C["unref"])(u).defaultColor,fontFamily:Object(C["unref"])(u).defaultFontName})},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height},[e.elementInfo.gradient?(Object(C["openBlock"])(),Object(C["createElementBlock"])("defs",Gb,[Object(C["createVNode"])(ns,{id:"base-gradient-"+e.elementInfo.id,type:e.elementInfo.gradient.type,color1:e.elementInfo.gradient.color[0],color2:e.elementInfo.gradient.color[1],rotate:e.elementInfo.gradient.rotate},null,8,["id","type","color1","color2","rotate"])])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("g",{transform:`scale(${e.elementInfo.width/e.elementInfo.viewBox[0]}, ${e.elementInfo.height/e.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(C["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",d:e.elementInfo.path,fill:e.elementInfo.gradient?`url(#base-gradient-${e.elementInfo.id})`:e.elementInfo.fill,stroke:Object(C["unref"])(c),"stroke-width":Object(C["unref"])(o),"stroke-dasharray":"dashed"===Object(C["unref"])(n)?"10 5":"0 0"},null,8,Yb)],8,Xb)],8,Ub)),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["shape-text",Object(C["unref"])(u).align])},[Object(C["createElementVNode"])("div",{class:"ProseMirror-static",innerHTML:Object(C["unref"])(u).content},null,8,Zb)],2)],4)],4)],4))}});l("8683");const Jb=V()(Wb,[["__scopeId","data-v-073084bf"]]);var Kb=Jb;const Qb=["width","height"],em=["d","stroke","stroke-width","stroke-dasharray","marker-start","marker-end"];var tm=Object(C["defineComponent"])({__name:"BaseLineElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:o}=Qa(l),n=Object(C["computed"])(()=>{const e=Math.abs(t.elementInfo.start[0]-t.elementInfo.end[0]);return e<24?24:e}),c=Object(C["computed"])(()=>{const e=Math.abs(t.elementInfo.start[1]-t.elementInfo.end[1]);return e<24?24:e}),a=Object(C["computed"])(()=>"dashed"===t.elementInfo.style?"10, 5":"0, 0"),r=Object(C["computed"])(()=>Ln(t.elementInfo));return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-line",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px"})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({filter:Object(C["unref"])(o)?`drop-shadow(${Object(C["unref"])(o)})`:""})},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{overflow:"visible",width:Object(C["unref"])(n),height:Object(C["unref"])(c)},[Object(C["createElementVNode"])("defs",null,[e.elementInfo.points[0]?(Object(C["openBlock"])(),Object(C["createBlock"])(fs,{key:0,id:e.elementInfo.id,position:"start",type:e.elementInfo.points[0],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(C["createCommentVNode"])("",!0),e.elementInfo.points[1]?(Object(C["openBlock"])(),Object(C["createBlock"])(fs,{key:1,id:e.elementInfo.id,position:"end",type:e.elementInfo.points[1],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(C["createCommentVNode"])("",!0)]),Object(C["createElementVNode"])("path",{d:Object(C["unref"])(r),stroke:e.elementInfo.color,"stroke-width":e.elementInfo.width,"stroke-dasharray":Object(C["unref"])(a),fill:"none","marker-start":e.elementInfo.points[0]?`url(#${e.elementInfo.id}-${e.elementInfo.points[0]}-start)`:"","marker-end":e.elementInfo.points[1]?`url(#${e.elementInfo.id}-${e.elementInfo.points[1]}-end)`:""},null,8,em)],8,Qb))],4)],4))}});l("fbfe");const lm=V()(tm,[["__scopeId","data-v-340cdee8"]]);var om=lm,nm=Object(C["defineComponent"])({__name:"BaseChartElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=Object(C["inject"])(La)||Object(C["ref"])(1),l=Object(C["computed"])(()=>t.value<1),o=Object(C["computed"])(()=>l.value?1/t.value:1);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-chart",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({backgroundColor:e.elementInfo.fill})},[Object(C["createVNode"])(qr,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(C["createVNode"])(ws,{width:e.elementInfo.width*Object(C["unref"])(o),height:e.elementInfo.height*Object(C["unref"])(o),type:e.elementInfo.chartType,data:e.elementInfo.data,options:e.elementInfo.options,themeColor:e.elementInfo.themeColor,gridColor:e.elementInfo.gridColor,legends:e.elementInfo.data.legends,legend:e.elementInfo.legend||"",style:Object(C["normalizeStyle"])({zoom:1/Object(C["unref"])(o)})},null,8,["width","height","type","data","options","themeColor","gridColor","legends","legend","style"])],4)],4)],4))}});l("9b4d");const cm=V()(nm,[["__scopeId","data-v-7d2e5c4e"]]);var am=cm;const rm=["width"],im=["rowspan","colspan"],sm=["innerHTML"];var dm=Object(C["defineComponent"])({__name:"StaticTable",props:{data:{type:Array,required:!0},width:{type:Number,required:!0},colWidths:{type:Array,required:!0},outline:{type:Object,required:!0},theme:{type:Object},editable:{type:Boolean,default:!0}},setup(e){const t=e,l=Object(C["ref"])([]),o=Object(C["computed"])(()=>l.value.reduce((e,t)=>e+t));Object(C["watch"])([()=>t.colWidths,()=>t.width],()=>{l.value=t.colWidths.map(e=>e*t.width)},{immediate:!0});const n=Object(C["computed"])(()=>t.data),{hideCells:c}=_s(n),a=Object(C["computed"])(()=>t.theme),{subThemeColor:r}=Ts(a);return(t,n)=>{var i,s,d,u,b;return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"static-table",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(o)+"px"})},[Object(C["createElementVNode"])("table",{class:Object(C["normalizeClass"])({theme:Object(C["unref"])(a),"row-header":null===(i=Object(C["unref"])(a))||void 0===i?void 0:i.rowHeader,"row-footer":null===(s=Object(C["unref"])(a))||void 0===s?void 0:s.rowFooter,"col-header":null===(d=Object(C["unref"])(a))||void 0===d?void 0:d.colHeader,"col-footer":null===(u=Object(C["unref"])(a))||void 0===u?void 0:u.colFooter}),style:Object(C["normalizeStyle"])(`--themeColor: ${null===(b=Object(C["unref"])(a))||void 0===b?void 0:b.color}; --subThemeColor1: ${Object(C["unref"])(r)[0]}; --subThemeColor2: ${Object(C["unref"])(r)[1]}`)},[Object(C["createElementVNode"])("colgroup",null,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(l.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("col",{span:"1",key:t,width:e},null,8,rm))),128))]),Object(C["createElementVNode"])("tbody",null,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.data,(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("tr",{key:l},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t,(t,o)=>Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("td",{class:"cell",style:Object(C["normalizeStyle"])({borderStyle:e.outline.style,borderColor:e.outline.color,borderWidth:e.outline.width+"px",...Object(C["unref"])(Ss)(t.style)}),key:t.id,rowspan:t.rowspan,colspan:t.colspan},[Object(C["createElementVNode"])("div",{class:"cell-text",innerHTML:Object(C["unref"])(Ls)(t.text)},null,8,sm)],12,im)),[[C["vShow"],!Object(C["unref"])(c).includes(`${l}_${o}`)]])),128))]))),128))])],6)],4)}}});l("8628");const um=V()(dm,[["__scopeId","data-v-00712fa4"]]);var bm=um;const mm={class:"element-content"};var pm=Object(C["defineComponent"])({__name:"BaseTableElement",props:{elementInfo:{type:Object,required:!0}},setup(e){return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-table",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",mm,[Object(C["createVNode"])(bm,{data:e.elementInfo.data,width:e.elementInfo.width,colWidths:e.elementInfo.colWidths,outline:e.elementInfo.outline,theme:e.elementInfo.theme},null,8,["data","width","colWidths","outline","theme"])])],4)],4))}});l("a3205");const Om=V()(pm,[["__scopeId","data-v-53e0f1ba"]]);var fm=Om;const jm={class:"element-content"},vm=["width","height","stroke","stroke-width"],hm=["transform"],ym=["d"];var gm=Object(C["defineComponent"])({__name:"BaseLatexElement",props:{elementInfo:{type:Object,required:!0}},setup(e){return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-latex",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",jm,[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.strokeWidth,fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[Object(C["createElementVNode"])("g",{transform:`scale(${e.elementInfo.width/e.elementInfo.viewBox[0]}, ${e.elementInfo.height/e.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(C["createElementVNode"])("path",{d:e.elementInfo.path},null,8,ym)],8,hm)],8,vm))])],4)],4))}});l("58eb");const xm=V()(gm,[["__scopeId","data-v-9a47b5f4"]]);var km=xm,Cm=Object(C["defineComponent"])({__name:"BaseVideoElement",props:{elementInfo:{type:Object,required:!0}},setup(e){return(t,l)=>{const o=Object(C["resolveComponent"])("IconPlayOne");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-video",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({backgroundImage:`url(${e.elementInfo.poster})`})},[Object(C["createVNode"])(o,{class:"icon"})],4)],4)],4)}}});l("5a58");const Nm=V()(Cm,[["__scopeId","data-v-56b7f716"]]);var Em=Nm;const wm={class:"element-content"};var Vm=Object(C["defineComponent"])({__name:"BaseAudioElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>Math.min(t.elementInfo.width,t.elementInfo.height)+"px");return(t,o)=>{const n=Object(C["resolveComponent"])("IconVolumeNotice");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-audio",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",wm,[Object(C["createVNode"])(n,{class:"audio-icon",style:Object(C["normalizeStyle"])({fontSize:Object(C["unref"])(l),color:e.elementInfo.color})},null,8,["style"])])],4)],4)}}});l("0491");const Im=V()(Vm,[["__scopeId","data-v-5258e03b"]]);var Bm=Im,Sm=Object(C["defineComponent"])({__name:"ThumbnailElement",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e={[Fn.IMAGE]:$b,[Fn.TEXT]:qb,[Fn.SHAPE]:Kb,[Fn.LINE]:om,[Fn.CHART]:am,[Fn.TABLE]:fm,[Fn.LATEX]:km,[Fn.VIDEO]:Em,[Fn.AUDIO]:Bm};return e[t.elementInfo.type]||null});return(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["base-element","base-element-"+e.elementInfo.id]),style:Object(C["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(l)),{elementInfo:e.elementInfo,target:"thumbnail"},null,8,["elementInfo"]))],6))}});const Lm=Sm;var _m=Lm;const Tm={key:1,class:"placeholder"};var Mm=Object(C["defineComponent"])({__name:"index",props:{slide:{type:Object,required:!0},size:{type:Number,required:!0},visible:{type:Boolean,default:!0}},setup(e){const t=e,{viewportRatio:l}=Object(N["c"])(Uo()),o=Object(C["computed"])(()=>t.slide.background),{backgroundStyle:n}=pu(o),c=Object(C["computed"])(()=>t.size/Dn);return Object(C["provide"])(La,c),(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"thumbnail-slide",style:Object(C["normalizeStyle"])({width:e.size+"px",height:e.size*Object(C["unref"])(l)+"px"})},[e.visible?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"elements",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(Dn)+"px",height:Object(C["unref"])(Dn)*Object(C["unref"])(l)+"px",transform:`scale(${Object(C["unref"])(c)})`})},[Object(C["createElementVNode"])("div",{class:"background",style:Object(C["normalizeStyle"])(Object(C["unref"])(n))},null,4),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.slide.elements,(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(_m,{key:e.id,elementInfo:e,elementIndex:t+1},null,8,["elementInfo","elementIndex"]))),128))],4)):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Tm,"加载中 ..."))],4))}});l("b897");const Dm=V()(Mm,[["__scopeId","data-v-f69fb5b2"]]);var zm=Dm;const Fm=e=>(Object(C["pushScopeId"])("data-v-dfb654e8"),e=e(),Object(C["popScopeId"])(),e),Am={class:"link-dialog"},$m={class:"tabs"},Rm=["onClick"],Pm={key:2,class:"preview"},Hm=Fm(()=>Object(C["createElementVNode"])("div",null,"预览：",-1)),qm={class:"btns"},Um=Object(C["createTextVNode"])("取消"),Gm=Object(C["createTextVNode"])("确认");var Xm=Object(C["defineComponent"])({__name:"LinkDialog",emits:["close"],setup(e,{emit:t}){const{handleElement:l}=Object(N["c"])(Yo()),{slides:o}=Object(N["c"])(Uo()),n=Object(C["ref"])("web"),c=Object(C["ref"])(""),a=Object(C["ref"])("");a.value=o.value[0].id;const r=Object(C["computed"])(()=>a.value&&o.value.find(e=>e.id===a.value)||null),i=[{key:"web",label:"网页链接"},{key:"slide",label:"幻灯片页面"}],{setLink:s}=Eb();Object(C["onMounted"])(()=>{var e;null!==(e=l.value)&&void 0!==e&&e.link&&("web"===l.value.link.type?c.value=l.value.link.target:"slide"===l.value.link.type&&(a.value=l.value.link.target),n.value=l.value.link.type)});const d=()=>{const e={type:n.value,target:"web"===n.value?c.value:a.value};if(l.value){const o=s(l.value,e);o?t("close"):c.value=""}};return(e,l)=>{const s=Object(C["resolveComponent"])("Input"),u=Object(C["resolveComponent"])("SelectOption"),b=Object(C["resolveComponent"])("Select"),m=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Am,[Object(C["createElementVNode"])("div",$m,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(i,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tab",{active:n.value===e.key}]),key:e.key,onClick:t=>n.value=e.key},Object(C["toDisplayString"])(e.label),11,Rm)),64))]),"web"===n.value?(Object(C["openBlock"])(),Object(C["createBlock"])(s,{key:0,class:"input",value:c.value,"onUpdate:value":l[0]||(l[0]=e=>c.value=e),placeholder:"请输入网页链接地址"},null,8,["value"])):Object(C["createCommentVNode"])("",!0),"slide"===n.value?(Object(C["openBlock"])(),Object(C["createBlock"])(b,{key:1,class:"input",value:a.value,"onUpdate:value":l[1]||(l[1]=e=>a.value=e)},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(o),(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(u,{key:e.id,value:e.id},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])("幻灯片 "+Object(C["toDisplayString"])(t+1),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])):Object(C["createCommentVNode"])("",!0),"slide"===n.value&&Object(C["unref"])(r)?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Pm,[Hm,Object(C["createVNode"])(zm,{class:"thumbnail",slide:Object(C["unref"])(r),size:490},null,8,["slide"])])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",qm,[Object(C["createVNode"])(m,{onClick:l[2]||(l[2]=e=>t("close")),style:{"margin-right":"10px"}},{default:Object(C["withCtx"])(()=>[Um]),_:1}),Object(C["createVNode"])(m,{type:"primary",onClick:l[3]||(l[3]=e=>d())},{default:Object(C["withCtx"])(()=>[Gm]),_:1})])])}}});l("46fe");const Ym=V()(Xm,[["__scopeId","data-v-dfb654e8"]]);var Zm=Ym;const Wm={class:"operates"},Jm={key:1,class:"drag-mask"};var Km=Object(C["defineComponent"])({__name:"index",setup(e){const t=Yo(),{activeElementIdList:l,activeGroupElementId:o,handleElementId:n,editorAreaFocus:c,gridLineSize:a,showRuler:r,creatingElement:i,canvasScale:s}=Object(N["c"])(t),{currentSlide:d}=Object(N["c"])(Uo()),{ctrlKeyState:u,spaceKeyState:b}=Object(N["c"])(on()),m=Object(C["ref"])(),p=Object(C["ref"])([]),O=Object(C["ref"])(!1),f=()=>O.value=!0;Object(C["watch"])(n,()=>{t.setActiveGroupElementId("")});const j=Object(C["ref"])([]),v=()=>{j.value=d.value?JSON.parse(JSON.stringify(d.value.elements)):[]};Object(C["watchEffect"])(v);const h=Object(C["ref"])(),{dragViewport:y,viewportStyles:g}=Ma(h);za(h);const{mouseSelection:x,mouseSelectionVisible:k,mouseSelectionQuadrant:E,updateMouseSelection:w}=Da(j,m),{dragElement:V}=Ya(j,p,s),{dragLineElement:I}=Za(j),{selectElement:B}=Xa(j,V),{scaleElement:S,scaleMultiElement:L}=Ga(j,p,s),{rotateElement:_}=Aa(j,m),{moveShapeKeypoint:T}=Wa(j,s),{selectAllElement:M}=Jn(),{deleteAllElements:D}=Yn(),{pasteElement:z}=Wn(),{enterScreeningFromStart:F}=oc(),{updateSlideIndex:A}=Gn();Object(C["onMounted"])(()=>{l.value.length&&t.setActiveElementIdList([])});const $=e=>{t.setActiveElementIdList([]),b.value?y(e):w(e),c.value||t.setEditorareaFocus(!0),Ta()},R=()=>{c.value&&t.setEditorareaFocus(!1)},{scaleCanvas:P}=nc(),H=Object(Xt["throttle"])(P,100,{leading:!0,trailing:!1}),q=Object(Xt["throttle"])(A,300,{leading:!0,trailing:!1}),U=e=>{e.preventDefault(),u.value?e.deltaY>0?H("-"):e.deltaY<0&&H("+"):e.deltaY>0?q(On.DOWN):e.deltaY<0&&q(On.UP)},G=()=>{t.setRulerState(!r.value)},{insertElementFromCreateSelection:X}=Ja(m),Y=()=>[{text:"粘贴",subText:"Ctrl + V",handler:z},{text:"全选",subText:"Ctrl + A",handler:M},{text:"标尺",subText:r.value?"√":"",handler:G},{text:"网格线",handler:()=>t.setGridLineSize(a.value?0:50),children:[{text:"无",subText:0===a.value?"√":"",handler:()=>t.setGridLineSize(0)},{text:"小",subText:25===a.value?"√":"",handler:()=>t.setGridLineSize(25)},{text:"中",subText:50===a.value?"√":"",handler:()=>t.setGridLineSize(50)},{text:"大",subText:100===a.value?"√":"",handler:()=>t.setGridLineSize(100)}]},{text:"重置当前页",handler:D},{divider:!0},{text:"幻灯片放映",subText:"F5",handler:F}];return Object(C["provide"])(La,s),(e,t)=>{const c=Object(C["resolveComponent"])("Modal"),a=Object(C["resolveDirective"])("contextmenu"),d=Object(C["resolveDirective"])("click-outside");return Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"canvas",ref_key:"canvasRef",ref:h,onWheel:t[3]||(t[3]=e=>U(e)),onMousedown:t[4]||(t[4]=e=>$(e))},[Object(C["unref"])(i)?(Object(C["openBlock"])(),Object(C["createBlock"])(Iu,{key:0,onCreated:t[0]||(t[0]=e=>Object(C["unref"])(X)(e))})):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",{class:"viewport-wrapper",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(g).width*Object(C["unref"])(s)+"px",height:Object(C["unref"])(g).height*Object(C["unref"])(s)+"px",left:Object(C["unref"])(g).left+"px",top:Object(C["unref"])(g).top+"px"})},[Object(C["createElementVNode"])("div",Wm,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(p.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(yu,{key:t,type:e.type,axis:e.axis,length:e.length,canvasScale:Object(C["unref"])(s)},null,8,["type","axis","length","canvasScale"]))),128)),Object(C["unref"])(l).length>1?(Object(C["openBlock"])(),Object(C["createBlock"])(Au,{key:0,elementList:j.value,scaleMultiElement:Object(C["unref"])(L)},null,8,["elementList","scaleMultiElement"])):Object(C["createCommentVNode"])("",!0),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(j.value,e=>(Object(C["openBlock"])(),Object(C["createBlock"])(Db,{key:e.id,elementInfo:e,isSelected:Object(C["unref"])(l).includes(e.id),isActive:Object(C["unref"])(n)===e.id,isActiveGroupElement:Object(C["unref"])(o)===e.id,isMultiSelect:Object(C["unref"])(l).length>1,rotateElement:Object(C["unref"])(_),scaleElement:Object(C["unref"])(S),openLinkDialog:f,dragLineElement:Object(C["unref"])(I),moveShapeKeypoint:Object(C["unref"])(T)},null,8,["elementInfo","isSelected","isActive","isActiveGroupElement","isMultiSelect","rotateElement","scaleElement","dragLineElement","moveShapeKeypoint"]))),128)),Object(C["createVNode"])(ju)]),Object(C["createElementVNode"])("div",{class:"viewport",ref_key:"viewportRef",ref:m,style:Object(C["normalizeStyle"])({transform:`scale(${Object(C["unref"])(s)})`})},[Object(C["unref"])(k)?(Object(C["openBlock"])(),Object(C["createBlock"])(iu,{key:0,top:Object(C["unref"])(x).top,left:Object(C["unref"])(x).left,width:Object(C["unref"])(x).width,height:Object(C["unref"])(x).height,quadrant:Object(C["unref"])(E)},null,8,["top","left","width","height","quadrant"])):Object(C["createCommentVNode"])("",!0),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(j.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(cu,{key:e.id,elementInfo:e,elementIndex:t+1,isMultiSelect:Object(C["unref"])(l).length>1,selectElement:Object(C["unref"])(B),openLinkDialog:f},null,8,["elementInfo","elementIndex","isMultiSelect","selectElement"]))),128))],4)],4),Object(C["unref"])(b)?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Jm)):Object(C["createCommentVNode"])("",!0),Object(C["unref"])(r)?(Object(C["openBlock"])(),Object(C["createBlock"])(Cu,{key:2,viewportStyles:Object(C["unref"])(g)},null,8,["viewportStyles"])):Object(C["createCommentVNode"])("",!0),Object(C["createVNode"])(c,{visible:O.value,"onUpdate:visible":t[2]||(t[2]=e=>O.value=e),footer:null,centered:"",width:540,destroyOnClose:""},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Zm,{onClose:t[1]||(t[1]=e=>O.value=!1)})]),_:1},8,["visible"])],32)),[[a,Y],[d,R]])}}});l("0239");const Qm=V()(Km,[["__scopeId","data-v-27676bf3"]]);var ep=Qm;const tp={class:"shape-pool"},lp={class:"category-name"},op={class:"shape-list"},np=["onClick"],cp={overflow:"visible",width:"18",height:"18"},ap=["transform"],rp=["fill","stroke","d"];var ip=Object(C["defineComponent"])({__name:"ShapePool",emits:["select"],setup(e,{emit:t}){const l=e=>{t("select",e)};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",tp,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])($n),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"category",key:e.type},[Object(C["createElementVNode"])("div",lp,Object(C["toDisplayString"])(e.type),1),Object(C["createElementVNode"])("div",op,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.children,(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"shape-item",key:t},[Object(C["createElementVNode"])("div",{class:"shape-content",onClick:t=>l(e)},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",cp,[Object(C["createElementVNode"])("g",{transform:`scale(${18/e.viewBox[0]}, ${18/e.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(C["createElementVNode"])("path",{class:Object(C["normalizeClass"])(["shape-path",{outlined:e.outlined}]),"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:e.outlined?"#999":"transparent",stroke:e.outlined?"transparent":"#999","stroke-width":"2",d:e.path},null,10,rp)],8,ap)]))],8,np)]))),128))])]))),128))]))}});l("c24c");const sp=V()(ip,[["__scopeId","data-v-5788e0d2"]]);var dp=sp;const up=[{type:"直线",children:[{path:"M 0 0 L 20 20",style:"solid",points:["",""]},{path:"M 0 0 L 20 20",style:"dashed",points:["",""]},{path:"M 0 0 L 20 20",style:"solid",points:["","arrow"]},{path:"M 0 0 L 20 20",style:"dashed",points:["","arrow"]},{path:"M 0 0 L 20 20",style:"solid",points:["","dot"]}]},{type:"折线、曲线",children:[{path:"M 0 0 L 0 20 L 20 20",style:"solid",points:["","arrow"],isBroken:!0},{path:"M 0 0 Q 0 20 20 20",style:"solid",points:["","arrow"],isCurve:!0},{path:"M 0 0 C 20 0 0 20 20 20",style:"solid",points:["","arrow"],isCubic:!0}]}],bp={class:"line-pool"},mp={class:"category-name"},pp={class:"line-list"},Op=["onClick"],fp={overflow:"visible",width:"20",height:"20"},jp=["d","stroke-dasharray","marker-start","marker-end"];var vp=Object(C["defineComponent"])({__name:"LinePool",emits:["select"],setup(e,{emit:t}){const l=e=>{t("select",e)};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",bp,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(up),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"category",key:e.type},[Object(C["createElementVNode"])("div",mp,Object(C["toDisplayString"])(e.type),1),Object(C["createElementVNode"])("div",pp,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.children,(e,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"line-item",key:o},[Object(C["createElementVNode"])("div",{class:"line-content",onClick:t=>l(e)},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",fp,[Object(C["createElementVNode"])("defs",null,[e.points[0]?(Object(C["openBlock"])(),Object(C["createBlock"])(fs,{key:0,class:"line-marker",id:`preset-line-${t}-${o}`,position:"start",type:e.points[0],color:"currentColor",baseSize:2},null,8,["id","type"])):Object(C["createCommentVNode"])("",!0),e.points[1]?(Object(C["openBlock"])(),Object(C["createBlock"])(fs,{key:1,class:"line-marker",id:`preset-line-${t}-${o}`,position:"end",type:e.points[1],color:"currentColor",baseSize:2},null,8,["id","type"])):Object(C["createCommentVNode"])("",!0)]),Object(C["createElementVNode"])("path",{class:"line-path",d:e.path,stroke:"currentColor",fill:"none","stroke-width":"2","stroke-dasharray":"solid"===e.style?"0, 0":"4, 1","marker-start":e.points[0]?`url(#preset-line-${t}-${o}-${e.points[0]}-start)`:"","marker-end":e.points[1]?`url(#preset-line-${t}-${o}-${e.points[1]}-end)`:""},null,8,jp)]))],8,Op)]))),128))])]))),128))]))}});l("3836");const hp=V()(vp,[["__scopeId","data-v-bca68faa"]]);var yp=hp;const gp={class:"chart-pool"},xp=["onClick"];var kp=Object(C["defineComponent"])({__name:"ChartPool",emits:["select"],setup(e,{emit:t}){const l=["bar","horizontalBar","line","area","scatter","pie","ring"],o=e=>{t("select",e)};return(e,t)=>{const n=Object(C["resolveComponent"])("IconChartLine"),c=Object(C["resolveComponent"])("IconChartHistogram"),a=Object(C["resolveComponent"])("IconChartPie"),r=Object(C["resolveComponent"])("IconChartHistogramOne"),i=Object(C["resolveComponent"])("IconChartLineArea"),s=Object(C["resolveComponent"])("IconChartRing"),d=Object(C["resolveComponent"])("IconChartScatter");return Object(C["openBlock"])(),Object(C["createElementBlock"])("ul",gp,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(l,(e,t)=>Object(C["createElementVNode"])("li",{class:"chart-item",key:t},[Object(C["createElementVNode"])("div",{class:"chart-content",onClick:t=>o(e)},["line"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(n,{key:0,size:"24"})):"bar"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(c,{key:1,size:"24"})):"pie"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(a,{key:2,size:"24"})):"horizontalBar"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(r,{key:3,size:"24"})):"area"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(i,{key:4,size:"24"})):"ring"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(s,{key:5,size:"24"})):"scatter"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(d,{key:6,size:"24"})):Object(C["createCommentVNode"])("",!0)],8,xp)])),64))])}}});l("24bc");const Cp=V()(kp,[["__scopeId","data-v-3870b42e"]]);var Np=Cp;const Ep=e=>(Object(C["pushScopeId"])("data-v-144fbd05"),e=e(),Object(C["popScopeId"])(),e),wp={class:"table-generator"},Vp={class:"title"},Ip={class:"lef"},Bp=["onMouseenter"],Sp={key:1,class:"custom"},Lp={class:"row"},_p=Ep(()=>Object(C["createElementVNode"])("div",{class:"label",style:{flex:"1"}},"行数：",-1)),Tp={class:"row"},Mp=Ep(()=>Object(C["createElementVNode"])("div",{class:"label",style:{flex:"1"}},"列数：",-1)),Dp={class:"btns"},zp=Object(C["createTextVNode"])("取消"),Fp=Object(C["createTextVNode"])("确认");var Ap=Object(C["defineComponent"])({__name:"TableGenerator",emits:["insert","close"],setup(e,{emit:t}){const l=Object(C["ref"])([]),o=Object(C["ref"])(3),n=Object(C["ref"])(3),c=Object(C["ref"])(!1),a=()=>{if(!l.value.length)return;const[e,o]=l.value;t("insert",{row:e,col:o})},r=()=>o.value<1||o.value>20||n.value<1||n.value>20?qt["a"].warning("行数/列数必须在0~20之间！"):(t("insert",{row:o.value,col:n.value}),void(c.value=!1)),i=()=>{t("close"),c.value=!1};return(e,t)=>{const s=Object(C["resolveComponent"])("InputNumber"),d=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",wp,[Object(C["createElementVNode"])("div",Vp,[Object(C["createElementVNode"])("div",Ip,"表格 "+Object(C["toDisplayString"])(l.value.length?`${l.value[0]} x ${l.value[1]}`:""),1),Object(C["createElementVNode"])("div",{class:"right",onClick:t[0]||(t[0]=e=>c.value=!c.value)},Object(C["toDisplayString"])(c.value?"返回":"自定义"),1)]),c.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Sp,[Object(C["createElementVNode"])("div",Lp,[_p,Object(C["createVNode"])(s,{min:1,max:20,value:o.value,"onUpdate:value":t[3]||(t[3]=e=>o.value=e),style:{flex:"3"}},null,8,["value"])]),Object(C["createElementVNode"])("div",Tp,[Mp,Object(C["createVNode"])(s,{min:1,max:20,value:n.value,"onUpdate:value":t[4]||(t[4]=e=>n.value=e),style:{flex:"3"}},null,8,["value"])]),Object(C["createElementVNode"])("div",Dp,[Object(C["createVNode"])(d,{class:"btn",onClick:t[5]||(t[5]=e=>i())},{default:Object(C["withCtx"])(()=>[zp]),_:1}),Object(C["createVNode"])(d,{class:"btn",type:"primary",onClick:t[6]||(t[6]=e=>r())},{default:Object(C["withCtx"])(()=>[Fp]),_:1})])])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("table",{key:0,onMouseleave:t[1]||(t[1]=e=>l.value=[]),onClick:t[2]||(t[2]=e=>a())},[Object(C["createElementVNode"])("tbody",null,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(10,e=>Object(C["createElementVNode"])("tr",{key:e},[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(10,t=>Object(C["createElementVNode"])("td",{onMouseenter:o=>l.value=[e,t],key:t},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["cell",{active:l.value.length&&e<=l.value[0]&&t<=l.value[1]}])},null,2)],40,Bp)),64))])),64))])],32))])}}});l("307a");const $p=V()(Ap,[["__scopeId","data-v-144fbd05"]]);var Rp=$p;const Pp={class:"media-input"},Hp={class:"tabs"},qp=["onClick"],Up={class:"btns"},Gp=Object(C["createTextVNode"])("取消"),Xp=Object(C["createTextVNode"])("确认"),Yp={class:"btns"},Zp=Object(C["createTextVNode"])("取消"),Wp=Object(C["createTextVNode"])("确认");var Jp=Object(C["defineComponent"])({__name:"MediaInput",emits:["insertVideo","insertAudio","close"],setup(e,{emit:t}){const l=Object(C["ref"])("video"),o=Object(C["ref"])("https://mazwai.com/videvo_files/video/free/2019-01/small_watermarked/181004_04_Dolphins-Whale_06_preview.webm"),n=Object(C["ref"])("https://freesound.org/data/previews/614/614107_11861866-lq.mp3"),c=[{key:"video",label:"视频"},{key:"audio",label:"音频"}],a=()=>{if(!o.value)return qt["a"].error("请先输入正确的视频地址");t("insertVideo",o.value)},r=()=>{if(!n.value)return qt["a"].error("请先输入正确的音频地址");t("insertAudio",n.value)};return(e,i)=>{const s=Object(C["resolveComponent"])("Input"),d=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Pp,[Object(C["createElementVNode"])("div",Hp,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(c,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tab",{active:l.value===e.key}]),key:e.key,onClick:t=>l.value=e.key},Object(C["toDisplayString"])(e.label),11,qp)),64))]),"video"===l.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createVNode"])(s,{value:o.value,"onUpdate:value":i[0]||(i[0]=e=>o.value=e),placeholder:"请输入视频地址，e.g. https://xxx.mp4"},null,8,["value"]),Object(C["createElementVNode"])("div",Up,[Object(C["createVNode"])(d,{onClick:i[1]||(i[1]=e=>t("close")),style:{"margin-right":"10px"}},{default:Object(C["withCtx"])(()=>[Gp]),_:1}),Object(C["createVNode"])(d,{type:"primary",onClick:i[2]||(i[2]=e=>a())},{default:Object(C["withCtx"])(()=>[Xp]),_:1})])],64)):Object(C["createCommentVNode"])("",!0),"audio"===l.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:1},[Object(C["createVNode"])(s,{value:n.value,"onUpdate:value":i[3]||(i[3]=e=>n.value=e),placeholder:"请输入音频地址，e.g. https://xxx.mp3"},null,8,["value"]),Object(C["createElementVNode"])("div",Yp,[Object(C["createVNode"])(d,{onClick:i[4]||(i[4]=e=>t("close")),style:{"margin-right":"10px"}},{default:Object(C["withCtx"])(()=>[Zp]),_:1}),Object(C["createVNode"])(d,{type:"primary",onClick:i[5]||(i[5]=e=>r())},{default:Object(C["withCtx"])(()=>[Wp]),_:1})])],64)):Object(C["createCommentVNode"])("",!0)])}}});l("4675");const Kp=V()(Jp,[["__scopeId","data-v-b9437110"]]);var Qp=Kp,eO=l("2e06");eO["a"].SUB_SUP_SCALE=.5;const tO=[{label:"高斯公式",latex:"\\int\\int\\int _ { \\Omega } \\left( \\frac { \\partial {P} } { \\partial {x} } + \\frac { \\partial {Q} } { \\partial {y} } + \\frac { \\partial {R} }{ \\partial {z} } \\right) \\mathrm { d } V = \\oint _ { \\partial \\Omega } ( P \\cos \\alpha + Q \\cos \\beta + R \\cos \\gamma ) \\mathrm{ d} S"},{label:"傅里叶级数",latex:"f(x) = \\frac {a_0} 2 + \\sum_{n = 1}^\\infty {({a_n}\\cos {nx} + {b_n}\\sin {nx})}"},{label:"泰勒展开式",latex:"e ^ { x } = 1 + \\frac { x } { 1 ! } + \\frac { x ^ { 2 } } { 2 ! } + \\frac { x ^ { 3 } } { 3 ! } + ... , \\quad - \\infty < x < \\infty"},{label:"定积分",latex:"\\lim_ { n \\rightarrow + \\infty } \\sum _ { i = 1 } ^ { n } f \\left[ a + \\frac { i } { n } ( b - a ) \\right] \\frac { b - a } { n } = \\int _ { a } ^ { b } f ( x ) dx"},{label:"三角恒等式1",latex:"\\sin \\alpha \\pm \\sin \\beta = 2 \\sin \\frac { 1 } { 2 } ( \\alpha \\pm \\beta ) \\cos \\frac { 1 } { 2 } ( \\alpha \\mp \\beta )"},{label:"三角恒等式2",latex:"\\cos \\alpha + \\cos \\beta = 2 \\cos \\frac { 1 } { 2 } ( \\alpha + \\beta ) \\cos \\frac { 1 } { 2 } ( \\alpha - \\beta )"},{label:"和的展开式",latex:"( 1 + x ) ^ { n } = 1 + \\frac { n x } { 1 ! } + \\frac { n ( n - 1 ) x ^ { 2 } } { 2 ! } + ..."},{label:"欧拉公式",latex:" e^{ix} = \\cos {x} + i\\sin {x}"},{label:"贝努利方程",latex:"\\frac {dy} {dx} + P(x)y = Q(x) y^n ({n} \\not= {0,1})"},{label:"全微分方程",latex:"du(x,y) = P(x,y)dx + Q(x,y)dy = 0"},{label:"非齐次方程",latex:"y = (\\int Q(x) e^{\\int {P(x)dx}}dx + C)e^{-\\int {P(x)dx}}"},{label:"柯西中值定理",latex:"\\frac{{f(b) - f(a)}}{{F(b) - F(a)}} = \\frac{{f'(\\xi )}}{{F'(\\xi )}}"},{label:"拉格朗日中值定理",latex:"f(b) - f(a) = f'(\\xi )(b - a)"},{label:"导数公式",latex:"(\\arcsin x)' = \\frac{1}{{\\sqrt {1 - x^2} }}"},{label:"三角函数积分",latex:"\\int {tgxdx = - \\ln \\left| {\\cos x} \\right| + C}"},{label:"二次曲面",latex:"\\frac{{{x^2}}}{{{a^2}}} + \\frac{{{y^2}}}{{{b^2}}} - \\frac{{{z^2}}}{{{c^2}}} = 1"},{label:"二阶微分",latex:"\\frac {{d^2}y} {dx^2} + P(x) \\frac {dy} {dx} + Q(x)y = f(x)"},{label:"方向导数",latex:"\\frac{{\\partial f}}{{\\partial l}} = \\frac{{\\partial f}}{{\\partial x}}\\cos \\phi + \\frac{{\\partial f}}{{\\partial y}}\\sin \\phi"}],lO=[{type:"operators",label:"数学",children:[{latex:"\\cdot"},{latex:"\\pm"},{latex:"\\mp"},{latex:"+"},{latex:"-"},{latex:"\\times"},{latex:"\\div"},{latex:"<"},{latex:">"},{latex:"="},{latex:"\\neq\\ne"},{latex:"\\leqq"},{latex:"\\geqq"},{latex:"\\leq"},{latex:"\\geq"},{latex:"\\propto"},{latex:"\\sim"},{latex:"\\equiv"},{latex:"\\dagger"},{latex:"\\ddagger"},{latex:"\\ell"},{latex:"\\#"},{latex:"\\$"},{latex:"\\&"},{latex:"\\%"},{latex:"\\langle\\rangle"},{latex:"()"},{latex:"[]"},{latex:"\\{\\}"},{latex:"||"},{latex:"\\|"},{latex:"\\exists"},{latex:"\\in"},{latex:"\\subset"},{latex:"\\supset"},{latex:"\\cup"},{latex:"\\cap"},{latex:"\\infty"},{latex:"\\partial"},{latex:"\\nabla"},{latex:"\\aleph"},{latex:"\\wp"},{latex:"\\therefore"},{latex:"\\mid"},{latex:"\\sum"},{latex:"\\prod"},{latex:"\\bigoplus"},{latex:"\\bigodot"},{latex:"\\int"},{latex:"\\oint"},{latex:"\\oplus"},{latex:"\\odot"},{latex:"\\perp"},{latex:"\\angle"},{latex:"\\triangle"},{latex:"\\Box"},{latex:"\\rightarrow"},{latex:"\\to"},{latex:"\\leftarrow"},{latex:"\\gets"},{latex:"\\circ"},{latex:"\\bigcirc"},{latex:"\\bullet"},{latex:"\\star"},{latex:"\\diamond"},{latex:"\\ast"},{latex:","},{latex:"."},{latex:";"},{latex:"!"}]},{type:"group",label:"组合",children:[{latex:"\\frac{a}{b}"},{latex:"\\frac{dx}{dx}"},{latex:"\\frac{\\partial a}{\\partial b}"},{latex:"\\sqrt{x}"},{latex:"\\sqrt[n]{x}"},{latex:"x^{n}"},{latex:"x_{n}"},{latex:"x_a^b"},{latex:"\\int_{a}^{b}"},{latex:"\\oint_a^b"},{latex:"\\lim_{a \\rightarrow b}"},{latex:"\\prod_a^b"},{latex:"\\sum_a^b"},{latex:"\\left(\\begin{array}a \\\\ b\\end{array}\\right)"},{latex:"\\begin{bmatrix}a & b \\\\ c & d \\end{bmatrix}"},{latex:"\\begin{cases}a & x = 0 \\\\ b & x > 0\\end{cases}"},{latex:"\\hat{a}"},{latex:"\\breve{a}"},{latex:"\\acute{a}"},{latex:"\\grave{a}"},{latex:"\\tilde{a}"},{latex:"\\bar{a}"},{latex:"\\vec{a}"},{latex:"\\underline{a}"},{latex:"\\overline{a}"},{latex:"\\widehat{ab}"},{latex:"\\overleftarrow{ab}"},{latex:"\\overrightarrow{ab}"}]},{type:"verbatim",label:"函数",children:[{latex:"\\log"},{latex:"\\ln"},{latex:"\\exp"},{latex:"\\mod"},{latex:"\\lim"},{latex:"\\sin"},{latex:"\\cos"},{latex:"\\tan"},{latex:"\\csc"},{latex:"\\sec"},{latex:"\\cot"},{latex:"\\sinh"},{latex:"\\cosh"},{latex:"\\tanh"},{latex:"\\csch"},{latex:"\\sech"},{latex:"\\coth"},{latex:"\\arcsin"},{latex:"\\arccos"},{latex:"\\arctan"},{latex:"\\arccsc"},{latex:"\\arcsec"},{latex:"\\arccot"}]},{type:"greek",label:"希腊字母",children:[{latex:"\\alpha"},{latex:"\\beta"},{latex:"\\gamma"},{latex:"\\delta"},{latex:"\\varepsilon"},{latex:"\\zeta"},{latex:"\\eta"},{latex:"\\vartheta"},{latex:"\\iota"},{latex:"\\kappa"},{latex:"\\lambda"},{latex:"\\mu"},{latex:"\\nu"},{latex:"\\xi"},{latex:"\\omicron"},{latex:"\\pi"},{latex:"\\rho"},{latex:"\\sigma"},{latex:"\\tau"},{latex:"\\upsilon"},{latex:"\\varphi"},{latex:"\\chi"},{latex:"\\psi"},{latex:"\\omega"},{latex:"\\epsilon"},{latex:"\\theta"},{latex:"\\phi"},{latex:"\\varsigma"},{latex:"\\Alpha"},{latex:"\\Beta"},{latex:"\\Gamma"},{latex:"\\Delta"},{latex:"\\Epsilon"},{latex:"\\Zeta"},{latex:"\\Eta"},{latex:"\\Theta"},{latex:"\\Iota"},{latex:"\\Kappa"},{latex:"\\Lambda"},{latex:"\\Mu"},{latex:"\\Nu"},{latex:"\\Xi"},{latex:"\\Omicron"},{latex:"\\Pi"},{latex:"\\Rho"},{latex:"\\Sigma"},{latex:"\\Tau"},{latex:"\\Upsilon"},{latex:"\\Phi"},{latex:"\\Chi"},{latex:"\\Psi"},{latex:"\\Omega"}]}],oO=["width","height"],nO=["transform"],cO=["d"];var aO=Object(C["defineComponent"])({__name:"FormulaContent",props:{latex:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0}},setup(e){const t=e,l=Object(C["ref"])({x:0,y:0,w:0,h:0}),o=Object(C["ref"])("");Object(C["watch"])(()=>t.latex,()=>{const e=new eO["b"](t.latex);o.value=e.pathd({}),l.value=e.box({})},{immediate:!0});const n=Object(C["computed"])(()=>{const e=l.value.w+32,o=l.value.h+32;return e>t.width||o>t.height?e/o>t.width/t.height?t.width/e:t.height/o:1});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{class:"formula-content",overflow:"visible",width:l.value.w+32,height:l.value.h+32,stroke:"#000","stroke-width":"1",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[Object(C["createElementVNode"])("g",{transform:`scale(${Object(C["unref"])(n)}, ${Object(C["unref"])(n)}) translate(0,0) matrix(1,0,0,1,0,0)`,"transform-origin":"0 50%"},[Object(C["createElementVNode"])("path",{d:o.value},null,8,cO)],8,nO)],8,oO))}});l("e9df");const rO=V()(aO,[["__scopeId","data-v-1c41d9fe"]]);var iO=rO;const sO=["innerHTML"];var dO=Object(C["defineComponent"])({__name:"SymbolContent",props:{latex:{type:String,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e=new eO["b"](t.latex);return e.svg({SCALE_X:10,SCALE_Y:10})});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"symbol-content",innerHTML:Object(C["unref"])(l)},null,8,sO))}});const uO=dO;var bO=uO;const mO={class:"latex-editor"},pO={class:"container"},OO={class:"left"},fO={class:"input-area"},jO={class:"preview"},vO={key:0,class:"placeholder"},hO={key:1,class:"preview-content"},yO={class:"right"},gO={class:"tabs"},xO=["onClick"],kO={class:"content"},CO={key:0,class:"symbol"},NO={class:"symbol-tabs"},EO=["onClick"],wO={class:"symbol-pool"},VO=["onClick"],IO={key:1,class:"formula"},BO={class:"formula-title"},SO=["onClick"],LO={class:"footer"},_O=Object(C["createTextVNode"])("取消"),TO=Object(C["createTextVNode"])("确定");var MO=Object(C["defineComponent"])({__name:"index",props:{value:{type:String,default:""}},emits:["update","close"],setup(e,{emit:t}){const l=e,o=[{label:"常用符号",value:"symbol"},{label:"预置公式",value:"formula"}],n=tO,c=lO,a=Object(C["ref"])(""),r=Object(C["ref"])("symbol"),i=Object(C["ref"])(),s=Object(C["ref"])(lO[0].type),d=Object(C["computed"])(()=>{const e=lO.find(e=>e.type===s.value);return(null===e||void 0===e?void 0:e.children)||[]});Object(C["onMounted"])(()=>{l.value&&(a.value=l.value)});const u=()=>{if(!a.value)return qt["a"].error("公式不能为空");const e=new eO["b"](a.value),l=e.pathd({}),o=e.box({});t("update",{latex:a.value,path:l,w:o.w+32,h:o.h+32})},b=e=>{i.value&&(i.value.focus(),document.execCommand("insertText",!1,e))};return(e,l)=>{const m=Object(C["resolveComponent"])("TextArea"),p=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",mO,[Object(C["createElementVNode"])("div",pO,[Object(C["createElementVNode"])("div",OO,[Object(C["createElementVNode"])("div",fO,[Object(C["createVNode"])(m,{value:a.value,"onUpdate:value":l[0]||(l[0]=e=>a.value=e),placeholder:"输入 LaTeX 公式",ref_key:"textAreaRef",ref:i},null,8,["value"])]),Object(C["createElementVNode"])("div",jO,[a.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",hO,[Object(C["createVNode"])(iO,{width:518,height:138,latex:a.value},null,8,["latex"])])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",vO,"公式预览"))])]),Object(C["createElementVNode"])("div",yO,[Object(C["createElementVNode"])("div",gO,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(o,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tab",{active:e.value===r.value}]),key:e.value,onClick:t=>r.value=e.value},Object(C["toDisplayString"])(e.label),11,xO)),64))]),Object(C["createElementVNode"])("div",kO,["symbol"===r.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",CO,[Object(C["createElementVNode"])("div",NO,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(c),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["symbol-tab",{active:s.value===e.type}]),key:e.type,onClick:t=>s.value=e.type},Object(C["toDisplayString"])(e.label),11,EO))),128))]),Object(C["createElementVNode"])("div",wO,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(d),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"symbol-item",key:e.latex,onClick:t=>b(e.latex)},[Object(C["createVNode"])(bO,{latex:e.latex},null,8,["latex"])],8,VO))),128))])])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",IO,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(n),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"formula-item",key:e.label},[Object(C["createElementVNode"])("div",BO,Object(C["toDisplayString"])(e.label),1),Object(C["createElementVNode"])("div",{class:"formula-item-content",onClick:t=>a.value=e.latex},[Object(C["createVNode"])(iO,{width:236,height:60,latex:e.latex},null,8,["latex"])],8,SO)]))),128))]))])])]),Object(C["createElementVNode"])("div",LO,[Object(C["createVNode"])(p,{class:"btn",onClick:l[1]||(l[1]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[_O]),_:1}),Object(C["createVNode"])(p,{class:"btn",type:"primary",onClick:l[2]||(l[2]=e=>u())},{default:Object(C["withCtx"])(()=>[TO]),_:1})])])}}});l("1933");const DO=V()(MO,[["__scopeId","data-v-2d73bf28"]]);var zO=DO;const FO={class:"canvas-tool"},AO={class:"left-handler"},$O={class:"add-element-handler"},RO={class:"right-handler"},PO={class:"viewport-size-preset"},HO=["onClick"],qO={class:"text"};var UO=Object(C["defineComponent"])({__name:"index",setup(e){const t=Yo(),{creatingElement:l}=Object(N["c"])(t),{canUndo:o,canRedo:n}=Object(N["c"])(ln()),{redo:c,undo:a}=Pn(),{scaleCanvas:r,setCanvasScalePercentage:i,resetCanvas:s,canvasScalePercentage:d}=nc(),u=[200,150,100,80,50],b=Object(C["ref"])(!1),m=e=>{i(e),b.value=!1},{createImageElement:p,createChartElement:O,createTableElement:f,createLatexElement:j,createVideoElement:v,createAudioElement:h}=Hn(),y=e=>{const t=e[0];t&&Mn(t).then(e=>p(e))},g=Object(C["ref"])(!1),x=Object(C["ref"])(!1),k=Object(C["ref"])(!1),E=Object(C["ref"])(!1),w=Object(C["ref"])(!1),V=Object(C["ref"])(!1),I=()=>{t.setCreatingElement({type:"text"})},B=e=>{t.setCreatingElement({type:"shape",data:e}),g.value=!1},S=e=>{t.setCreatingElement({type:"line",data:e}),x.value=!1};return(e,t)=>{const i=Object(C["resolveComponent"])("IconBack"),p=Object(C["resolveComponent"])("Tooltip"),N=Object(C["resolveComponent"])("IconNext"),L=Object(C["resolveComponent"])("IconFontSize"),_=Object(C["resolveComponent"])("IconPicture"),T=Object(C["resolveComponent"])("FileInput"),M=Object(C["resolveComponent"])("IconGraphicDesign"),D=Object(C["resolveComponent"])("Popover"),z=Object(C["resolveComponent"])("IconConnection"),F=Object(C["resolveComponent"])("IconChartProportion"),A=Object(C["resolveComponent"])("IconInsertTable"),$=Object(C["resolveComponent"])("IconFormula"),R=Object(C["resolveComponent"])("IconVideoTwo"),P=Object(C["resolveComponent"])("IconMinus"),H=Object(C["resolveComponent"])("IconPlus"),q=Object(C["resolveComponent"])("IconFullScreen"),U=Object(C["resolveComponent"])("Modal");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",FO,[Object(C["createElementVNode"])("div",AO,[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"撤销"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{class:Object(C["normalizeClass"])(["handler-item",{disable:!Object(C["unref"])(o)}]),onClick:t[0]||(t[0]=e=>Object(C["unref"])(a)())},null,8,["class"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"重做"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{class:Object(C["normalizeClass"])(["handler-item",{disable:!Object(C["unref"])(n)}]),onClick:t[1]||(t[1]=e=>Object(C["unref"])(c)())},null,8,["class"])]),_:1},8,["mouseEnterDelay"])]),Object(C["createElementVNode"])("div",$O,[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入文字"},{default:Object(C["withCtx"])(()=>{var e;return[Object(C["createVNode"])(L,{class:Object(C["normalizeClass"])(["handler-item",{active:"text"===(null===(e=Object(C["unref"])(l))||void 0===e?void 0:e.type)}]),onClick:t[2]||(t[2]=e=>I())},null,8,["class"])]}),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(T,{onChange:t[3]||(t[3]=e=>y(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入图片"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_,{class:"handler-item"})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(D,{trigger:"click",visible:g.value,"onUpdate:visible":t[5]||(t[5]=e=>g.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(dp,{onSelect:t[4]||(t[4]=e=>B(e))})]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入形状"},{default:Object(C["withCtx"])(()=>{var e;return[Object(C["createVNode"])(M,{class:Object(C["normalizeClass"])(["handler-item",{active:"shape"===(null===(e=Object(C["unref"])(l))||void 0===e?void 0:e.type)}])},null,8,["class"])]}),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"]),Object(C["createVNode"])(D,{trigger:"click",visible:x.value,"onUpdate:visible":t[7]||(t[7]=e=>x.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(yp,{onSelect:t[6]||(t[6]=e=>S(e))})]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入线条"},{default:Object(C["withCtx"])(()=>{var e;return[Object(C["createVNode"])(z,{class:Object(C["normalizeClass"])(["handler-item",{active:"line"===(null===(e=Object(C["unref"])(l))||void 0===e?void 0:e.type)}])},null,8,["class"])]}),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"]),Object(C["createVNode"])(D,{trigger:"click",visible:k.value,"onUpdate:visible":t[9]||(t[9]=e=>k.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Np,{onSelect:t[8]||(t[8]=e=>{Object(C["unref"])(O)(e),k.value=!1})})]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入图表"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F,{class:"handler-item"})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"]),Object(C["createVNode"])(D,{trigger:"click",visible:E.value,"onUpdate:visible":t[12]||(t[12]=e=>E.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rp,{onClose:t[10]||(t[10]=e=>E.value=!1),onInsert:t[11]||(t[11]=({row:e,col:t})=>{Object(C["unref"])(f)(e,t),E.value=!1})})]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入表格"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{class:"handler-item"})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"]),Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入公式"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])($,{class:"handler-item",onClick:t[13]||(t[13]=e=>V.value=!0)})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(D,{trigger:"click",visible:w.value,"onUpdate:visible":t[17]||(t[17]=e=>w.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Qp,{onClose:t[14]||(t[14]=e=>w.value=!1),onInsertVideo:t[15]||(t[15]=e=>{Object(C["unref"])(v)(e),w.value=!1}),onInsertAudio:t[16]||(t[16]=e=>{Object(C["unref"])(h)(e),w.value=!1})})]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入音视频"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(R,{class:"handler-item"})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"])]),Object(C["createElementVNode"])("div",RO,[Object(C["createVNode"])(P,{class:"handler-item viewport-size",onClick:t[18]||(t[18]=e=>Object(C["unref"])(r)("-"))}),Object(C["createVNode"])(D,{trigger:"click",visible:b.value,"onUpdate:visible":t[19]||(t[19]=e=>b.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",PO,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(u,e=>Object(C["createElementVNode"])("div",{class:"preset-item",key:e,onClick:t=>m(e)},Object(C["toDisplayString"])(e)+"%",9,HO)),64))])]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",qO,Object(C["toDisplayString"])(Object(C["unref"])(d)),1)]),_:1},8,["visible"]),Object(C["createVNode"])(H,{class:"handler-item viewport-size",onClick:t[20]||(t[20]=e=>Object(C["unref"])(r)("+"))}),Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"适应屏幕"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(q,{class:"handler-item viewport-size-adaptation",onClick:t[21]||(t[21]=e=>Object(C["unref"])(s)())})]),_:1},8,["mouseEnterDelay"])]),Object(C["createVNode"])(U,{visible:V.value,"onUpdate:visible":t[24]||(t[24]=e=>V.value=e),footer:null,centered:"",width:880,destroyOnClose:""},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(zO,{onClose:t[22]||(t[22]=e=>V.value=!1),onUpdate:t[23]||(t[23]=e=>{Object(C["unref"])(j)(e),V.value=!1})})]),_:1},8,["visible"])])}}});l("9ff2");const GO=V()(UO,[["__scopeId","data-v-5d4eff54"]]);var XO=GO,YO=()=>{const{slides:e}=Object(N["c"])(Uo()),t=Object(C["ref"])(null),l=Object(C["ref"])(50),o=()=>{e.value.length>l.value?t.value=setTimeout(()=>{l.value=l.value+20,o()},600):l.value=9999};return Object(C["onMounted"])(o),Object(C["onUnmounted"])(()=>{t.value&&clearTimeout(t.value)}),{slidesLoadLimit:l}},ZO=l("f5ed"),WO=l.n(ZO);const JO={class:"layout-pool"},KO=["onClick"];var QO=Object(C["defineComponent"])({__name:"LayoutPool",emits:["select"],setup(e,{emit:t}){const{layouts:l}=Object(N["c"])(Uo()),o=e=>{t("select",e)};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",JO,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"layout-item",key:e.id,onClick:t=>o(e)},[Object(C["createVNode"])(zm,{class:"thumbnail",slide:e,size:180},null,8,["slide"])],8,KO))),128))]))}});l("3328");const ef=V()(QO,[["__scopeId","data-v-cc6b7dca"]]);var tf=ef;const lf={class:"add-slide"},of=Object(C["createTextVNode"])("添加幻灯片"),nf={class:"select-btn"},cf=["onMousedown"],af={class:"page-number"};var rf=Object(C["defineComponent"])({__name:"index",setup(e){const t=Yo(),l=Uo(),o=on(),{selectedSlidesIndex:n,thumbnailsFocus:c}=Object(N["c"])(t),{slides:a,slideIndex:r}=Object(N["c"])(l),{ctrlKeyState:i,shiftKeyState:s}=Object(N["c"])(o),{slidesLoadLimit:d}=YO(),u=Object(C["computed"])(()=>[...n.value,r.value]),b=Object(C["ref"])(!1),{copySlide:m,pasteSlide:p,createSlide:O,createSlideByTemplate:f,copyAndPasteSlide:j,deleteSlide:v,cutSlide:h,selectAllSlide:y}=Gn(),g=e=>{t.setActiveElementIdList([]),r.value!==e&&l.updateSlideIndex(e)},x=(e,l)=>{const o=u.value.length>1;if(!o||!u.value.includes(l)||0===e.button)if(i.value)if(r.value===l){if(!o)return;const e=u.value.filter(e=>e!==l);t.updateSelectedSlidesIndex(e),g(u.value[0])}else if(u.value.includes(l)){const e=u.value.filter(e=>e!==l);t.updateSelectedSlidesIndex(e)}else{const e=[...u.value,l];t.updateSelectedSlidesIndex(e),g(l)}else if(s.value){if(r.value===l&&!o)return;let e=Math.min(...u.value),n=l;l<e&&(n=Math.max(...u.value),e=l);const c=[];for(let t=e;t<=n;t++)c.push(t);t.updateSelectedSlidesIndex(c),g(l)}else t.updateSelectedSlidesIndex([]),g(l)},k=e=>{c.value!==e&&(t.setThumbnailsFocus(e),e||t.updateSelectedSlidesIndex([]))},E=e=>{const{newIndex:t,oldIndex:o}=e;if(o===t)return;const n=JSON.parse(JSON.stringify(a.value)),c=n[o];n.splice(o,1),n.splice(t,0,c),l.setSlides(n),l.updateSlideIndex(t)},{enterScreening:w,enterScreeningFromStart:V}=oc(),I=()=>[{text:"粘贴",subText:"Ctrl + V",handler:p},{text:"全选",subText:"Ctrl + A",handler:y},{text:"新建页面",subText:"Enter",handler:O},{text:"幻灯片放映",subText:"F5",handler:V}],B=()=>[{text:"剪切",subText:"Ctrl + X",handler:h},{text:"复制",subText:"Ctrl + C",handler:m},{text:"粘贴",subText:"Ctrl + V",handler:p},{text:"全选",subText:"Ctrl + A",handler:y},{divider:!0},{text:"新建页面",subText:"Enter",handler:O},{text:"复制页面",subText:"Ctrl + D",handler:j},{text:"删除页面",subText:"Delete",handler:()=>v()},{divider:!0},{text:"从当前放映",subText:"Shift + F5",handler:w}];return(e,t)=>{const l=Object(C["resolveComponent"])("IconPlus"),o=Object(C["resolveComponent"])("IconDown"),n=Object(C["resolveComponent"])("Popover"),c=Object(C["resolveDirective"])("contextmenu"),i=Object(C["resolveDirective"])("click-outside");return Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"thumbnails",onMousedown:t[3]||(t[3]=()=>k(!0))},[Object(C["createElementVNode"])("div",lf,[Object(C["createElementVNode"])("div",{class:"btn",onClick:t[0]||(t[0]=e=>Object(C["unref"])(O)())},[Object(C["createVNode"])(l,{class:"icon"}),of]),Object(C["createVNode"])(n,{trigger:"click",placement:"bottomLeft",visible:b.value,"onUpdate:visible":t[2]||(t[2]=e=>b.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(tf,{onSelect:t[1]||(t[1]=e=>{Object(C["unref"])(f)(e),b.value=!1})})]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",nf,[Object(C["createVNode"])(o)])]),_:1},8,["visible"])]),Object(C["createVNode"])(Object(C["unref"])(WO.a),{class:"thumbnail-list",modelValue:Object(C["unref"])(a),animation:300,scroll:!0,scrollSensitivity:50,setData:null,onEnd:E,itemKey:"id"},{item:Object(C["withCtx"])(({element:e,index:t})=>[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["thumbnail-item",{active:Object(C["unref"])(r)===t,selected:Object(C["unref"])(u).includes(t)}]),onMousedown:e=>x(e,t)},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["label",{"offset-left":t>=99}])},Object(C["toDisplayString"])(Object(C["unref"])(rn)(t+1,2)),3),Object(C["createVNode"])(zm,{class:"thumbnail",slide:e,size:120,visible:t<Object(C["unref"])(d)},null,8,["slide","visible"])],42,cf)),[[c,B]])]),_:1},8,["modelValue"]),Object(C["createElementVNode"])("div",af,"幻灯片 "+Object(C["toDisplayString"])(Object(C["unref"])(r)+1)+" / "+Object(C["toDisplayString"])(Object(C["unref"])(a).length),1)],32)),[[i,()=>k(!1)],[c,I]])}}});l("c3f5");const sf=V()(rf,[["__scopeId","data-v-7ae4174b"]]);var df=sf;const uf=e=>(Object(C["pushScopeId"])("data-v-22345a51"),e=e(),Object(C["popScopeId"])(),e),bf={class:"element-opacity"},mf={class:"row"},pf=uf(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"不透明度：",-1));var Of=Object(C["defineComponent"])({__name:"ElementOpacity",setup(e){const t=Uo(),{handleElement:l}=Object(N["c"])(Yo()),o=Object(C["ref"])(1);Object(C["watch"])(l,()=>{l.value&&(o.value="opacity"in l.value&&void 0!==l.value.opacity?l.value.opacity:1)},{deep:!0,immediate:!0});const{addHistorySnapshot:n}=Pn(),c=e=>{if(!l.value)return;const o={opacity:e};t.updateElement({id:l.value.id,props:o}),n()};return(e,t)=>{const l=Object(C["resolveComponent"])("Slider");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",bf,[Object(C["createElementVNode"])("div",mf,[pf,Object(C["createVNode"])(l,{class:"slider",min:0,max:1,step:.1,value:o.value,onChange:t[0]||(t[0]=e=>c(e))},null,8,["step","value"])])])}}});l("335c");const ff=V()(Of,[["__scopeId","data-v-22345a51"]]);var jf=ff;const vf={class:"color-block"};var hf=Object(C["defineComponent"])({__name:"ColorButton",props:{color:{type:String,required:!0}},setup(e){return(t,l)=>{const o=Object(C["resolveComponent"])("IconPlatte"),n=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createBlock"])(n,{class:"color-btn"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",vf,[Object(C["createElementVNode"])("div",{class:"content",style:Object(C["normalizeStyle"])({backgroundColor:e.color})},null,4)]),Object(C["createVNode"])(o,{class:"color-btn-icon"})]),_:1})}}});l("9300");const yf=V()(hf,[["__scopeId","data-v-ed8f2044"]]);var gf=yf;const xf=e=>(Object(C["pushScopeId"])("data-v-e91e3764"),e=e(),Object(C["popScopeId"])(),e),kf={class:"element-outline"},Cf={key:0,class:"row"},Nf=xf(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"启用边框：",-1)),Ef={class:"switch-wrapper",style:{flex:"3"}},wf={class:"row"},Vf=xf(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"边框样式：",-1)),If=Object(C["createTextVNode"])("实线边框"),Bf=Object(C["createTextVNode"])("虚线边框"),Sf={class:"row"},Lf=xf(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"边框颜色：",-1)),_f={class:"row"},Tf=xf(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"边框粗细：",-1));var Mf=Object(C["defineComponent"])({__name:"ElementOutline",props:{fixed:{type:Boolean,default:!1}},setup(e){const t=Uo(),{handleElement:l}=Object(N["c"])(Yo()),o=Object(C["ref"])(),n=Object(C["ref"])(!1);Object(C["watch"])(l,()=>{l.value&&(o.value="outline"in l.value?l.value.outline:void 0,n.value=!!o.value)},{deep:!0,immediate:!0});const{addHistorySnapshot:c}=Pn(),a=e=>{if(!l.value)return;const n={outline:{...o.value,...e}};t.updateElement({id:l.value.id,props:n}),c()},r=e=>{if(l.value){if(e){const e={width:2,color:"#000",style:"solid"};t.updateElement({id:l.value.id,props:{outline:e}})}else t.removeElementProps({id:l.value.id,propName:"outline"});c()}};return(t,l)=>{const c=Object(C["resolveComponent"])("Switch"),i=Object(C["resolveComponent"])("SelectOption"),s=Object(C["resolveComponent"])("Select"),d=Object(C["resolveComponent"])("ColorPicker"),u=Object(C["resolveComponent"])("Popover"),b=Object(C["resolveComponent"])("InputNumber");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",kf,[e.fixed?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Cf,[Nf,Object(C["createElementVNode"])("div",Ef,[Object(C["createVNode"])(c,{checked:n.value,onChange:l[0]||(l[0]=e=>r(e))},null,8,["checked"])])])),n.value&&o.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:1},[Object(C["createElementVNode"])("div",wf,[Vf,Object(C["createVNode"])(s,{style:{flex:"3"},value:o.value.style,onChange:l[1]||(l[1]=e=>a({style:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{value:"solid"},{default:Object(C["withCtx"])(()=>[If]),_:1}),Object(C["createVNode"])(i,{value:"dashed"},{default:Object(C["withCtx"])(()=>[Bf]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",Sf,[Lf,Object(C["createVNode"])(u,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{modelValue:o.value.color,"onUpdate:modelValue":l[2]||(l[2]=e=>a({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:o.value.color||"#000",style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",_f,[Tf,Object(C["createVNode"])(b,{value:o.value.width,onChange:l[3]||(l[3]=e=>a({width:e})),style:{flex:"3"}},null,8,["value"])])],64)):Object(C["createCommentVNode"])("",!0)])}}});l("f40d");const Df=V()(Mf,[["__scopeId","data-v-e91e3764"]]);var zf=Df;const Ff=e=>(Object(C["pushScopeId"])("data-v-053ed706"),e=e(),Object(C["popScopeId"])(),e),Af={class:"element-shadow"},$f={class:"row"},Rf=Ff(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"启用阴影：",-1)),Pf={class:"switch-wrapper",style:{flex:"3"}},Hf={class:"row"},qf=Ff(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"水平阴影：",-1)),Uf={class:"row"},Gf=Ff(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"垂直阴影：",-1)),Xf={class:"row"},Yf=Ff(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"模糊距离：",-1)),Zf={class:"row"},Wf=Ff(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"阴影颜色：",-1));var Jf=Object(C["defineComponent"])({__name:"ElementShadow",setup(e){const t=Uo(),{handleElement:l}=Object(N["c"])(Yo()),o=Object(C["ref"])(),n=Object(C["ref"])(!1);Object(C["watch"])(l,()=>{l.value&&(o.value="shadow"in l.value?l.value.shadow:void 0,n.value=!!o.value)},{deep:!0,immediate:!0});const{addHistorySnapshot:c}=Pn(),a=e=>{if(!l.value||!o.value)return;const n={...o.value,...e};t.updateElement({id:l.value.id,props:{shadow:n}}),c()},r=e=>{if(l.value){if(e){const e={h:1,v:1,blur:2,color:"#000"};t.updateElement({id:l.value.id,props:{shadow:e}})}else t.removeElementProps({id:l.value.id,propName:"shadow"});c()}};return(e,t)=>{const l=Object(C["resolveComponent"])("Switch"),c=Object(C["resolveComponent"])("Slider"),i=Object(C["resolveComponent"])("ColorPicker"),s=Object(C["resolveComponent"])("Popover");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Af,[Object(C["createElementVNode"])("div",$f,[Rf,Object(C["createElementVNode"])("div",Pf,[Object(C["createVNode"])(l,{checked:n.value,onChange:t[0]||(t[0]=e=>r(e))},null,8,["checked"])])]),n.value&&o.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",Hf,[qf,Object(C["createVNode"])(c,{class:"slider",min:-10,max:10,step:1,value:o.value.h,onChange:t[1]||(t[1]=e=>a({h:e}))},null,8,["value"])]),Object(C["createElementVNode"])("div",Uf,[Gf,Object(C["createVNode"])(c,{class:"slider",min:-10,max:10,step:1,value:o.value.v,onChange:t[2]||(t[2]=e=>a({v:e}))},null,8,["value"])]),Object(C["createElementVNode"])("div",Xf,[Yf,Object(C["createVNode"])(c,{class:"slider",min:1,max:20,step:1,value:o.value.blur,onChange:t[3]||(t[3]=e=>a({blur:e}))},null,8,["value"])]),Object(C["createElementVNode"])("div",Zf,[Wf,Object(C["createVNode"])(s,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:o.value.color,"onUpdate:modelValue":t[4]||(t[4]=e=>a({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:o.value.color,style:{flex:"3"}},null,8,["color"])]),_:1})])],64)):Object(C["createCommentVNode"])("",!0)])}}});l("34f1");const Kf=V()(Jf,[["__scopeId","data-v-053ed706"]]);var Qf=Kf;const ej=e=>(Object(C["pushScopeId"])("data-v-5830b9cf"),e=e(),Object(C["popScopeId"])(),e),tj={class:"text-style-panel"},lj={class:"preset-style"},oj=["onClick"],nj=Object(C["createTextVNode"])("+"),cj=Object(C["createTextVNode"])("-"),aj={class:"link-popover"},rj={class:"btns"},ij=Object(C["createTextVNode"])("移除"),sj=Object(C["createTextVNode"])("确认"),dj={class:"row"},uj=ej(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"行间距：",-1)),bj={class:"row"},mj=ej(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"段间距：",-1)),pj={class:"row"},Oj=ej(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"字间距：",-1)),fj={class:"row"},jj=ej(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"首行缩进：",-1)),vj={class:"row"},hj=ej(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"文本框填充：",-1));var yj=Object(C["defineComponent"])({__name:"TextStylePanel",setup(e){const t=[{label:"大标题",style:{fontSize:"26px",fontWeight:700},cmd:[{command:"clear"},{command:"fontsize",value:"48px"},{command:"align",value:"center"},{command:"bold"}]},{label:"小标题",style:{fontSize:"22px",fontWeight:700},cmd:[{command:"clear"},{command:"fontsize",value:"36px"},{command:"align",value:"center"},{command:"bold"}]},{label:"正文",style:{fontSize:"20px"},cmd:[{command:"clear"},{command:"fontsize",value:"20px"}]},{label:"正文[小]",style:{fontSize:"18px"},cmd:[{command:"clear"},{command:"fontsize",value:"18px"}]},{label:"注释 1",style:{fontSize:"16px",fontStyle:"italic"},cmd:[{command:"clear"},{command:"fontsize",value:"16px"},{command:"em"}]},{label:"注释 2",style:{fontSize:"16px",textDecoration:"underline"},cmd:[{command:"clear"},{command:"fontsize",value:"16px"},{command:"underline"}]}],l=Uo(),{handleElement:o,handleElementId:n,richTextAttrs:c,availableFonts:a}=Object(N["c"])(Yo()),{addHistorySnapshot:r}=Pn(),i=e=>{l.updateElement({id:n.value,props:e}),r()},s=Object(C["ref"])("#000"),d=Object(C["ref"])(),u=Object(C["ref"])(),b=Object(C["ref"])(),m=Object(C["ref"])();Object(C["watch"])(o,()=>{o.value&&"text"===o.value.type&&(s.value=o.value.fill||"#fff",d.value=o.value.lineHeight||1.5,u.value=o.value.wordSpace||0,b.value=o.value.textIndent||0,m.value=void 0===o.value.paragraphSpace?5:o.value.paragraphSpace)},{deep:!0,immediate:!0});const p=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],O=[.9,1,1.15,1.2,1.4,1.5,1.8,2,2.5,3],f=[0,1,2,3,4,5,6,8,10],j=[0,48,96,144,192,240,288,336],v=[0,5,10,15,20,25,30,40,50,80],h=e=>{i({lineHeight:e})},y=e=>{i({paragraphSpace:e})},g=e=>{i({wordSpace:e})},x=e=>{i({textIndent:e})},k=e=>{i({fill:e})},E=(e,t)=>{_i.emit(Bi.RICH_TEXT_COMMAND,{action:{command:e,value:t}})},w=e=>{_i.emit(Bi.RICH_TEXT_COMMAND,{action:e})},V=Object(C["ref"])(""),I=Object(C["ref"])(!1);Object(C["watch"])(c,()=>I.value=!1);const B=()=>{V.value=c.value.link,I.value=!0},S=e=>{if(e){const t=/^(https?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/;if(!t.test(e))return qt["a"].error("不是正确的网页链接地址")}E("link",e),I.value=!1};return(e,l)=>{const o=Object(C["resolveComponent"])("Divider"),n=Object(C["resolveComponent"])("IconFontSize"),r=Object(C["resolveComponent"])("SelectOption"),i=Object(C["resolveComponent"])("SelectOptGroup"),N=Object(C["resolveComponent"])("Select"),L=Object(C["resolveComponent"])("IconAddText"),_=Object(C["resolveComponent"])("InputGroup"),T=Object(C["resolveComponent"])("ColorPicker"),M=Object(C["resolveComponent"])("IconText"),D=Object(C["resolveComponent"])("Button"),z=Object(C["resolveComponent"])("Tooltip"),F=Object(C["resolveComponent"])("Popover"),A=Object(C["resolveComponent"])("IconHighLight"),$=Object(C["resolveComponent"])("ButtonGroup"),R=Object(C["resolveComponent"])("IconTextBold"),P=Object(C["resolveComponent"])("CheckboxButton"),H=Object(C["resolveComponent"])("IconTextItalic"),q=Object(C["resolveComponent"])("IconTextUnderline"),U=Object(C["resolveComponent"])("IconStrikethrough"),G=Object(C["resolveComponent"])("IconFormat"),X=Object(C["resolveComponent"])("CheckboxButtonGroup"),Y=Object(C["resolveComponent"])("IconUpOne"),Z=Object(C["resolveComponent"])("IconDownOne"),W=Object(C["resolveComponent"])("IconCode"),J=Object(C["resolveComponent"])("IconQuote"),K=Object(C["resolveComponent"])("Input"),Q=Object(C["resolveComponent"])("IconLinkOne"),ee=Object(C["resolveComponent"])("IconAlignTextLeft"),te=Object(C["resolveComponent"])("RadioButton"),le=Object(C["resolveComponent"])("IconAlignTextCenter"),oe=Object(C["resolveComponent"])("IconAlignTextRight"),ne=Object(C["resolveComponent"])("RadioGroup"),ce=Object(C["resolveComponent"])("IconList"),ae=Object(C["resolveComponent"])("IconOrderedList"),re=Object(C["resolveComponent"])("IconIndentLeft"),ie=Object(C["resolveComponent"])("IconIndentRight"),se=Object(C["resolveComponent"])("IconRowHeight"),de=Object(C["resolveComponent"])("IconVerticalSpacingBetweenItems"),ue=Object(C["resolveComponent"])("IconFullwidth");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",tj,[Object(C["createElementVNode"])("div",lj,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t,e=>Object(C["createElementVNode"])("div",{class:"preset-style-item",key:e.label,style:Object(C["normalizeStyle"])(e.style),onClick:t=>w(e.cmd)},Object(C["toDisplayString"])(e.label),13,oj)),64))]),Object(C["createVNode"])(o),Object(C["createVNode"])(_,{compact:"",class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{style:{flex:"3"},value:Object(C["unref"])(c).fontname,onChange:l[0]||(l[0]=e=>E("fontname",e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n)]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{label:"系统字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(r,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",{style:Object(C["normalizeStyle"])({fontFamily:e.value})},Object(C["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(C["createVNode"])(i,{label:"在线字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(xo),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(r,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"]),Object(C["createVNode"])(N,{style:{flex:"2"},value:Object(C["unref"])(c).fontsize,onChange:l[1]||(l[1]=e=>E("fontsize",e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(L)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(p,e=>Object(C["createVNode"])(r,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),Object(C["createVNode"])($,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T,{modelValue:Object(C["unref"])(c).color,"onUpdate:modelValue":l[2]||(l[2]=e=>E("color",e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{class:"text-color-btn",style:{flex:"3"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(c).color})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(F,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T,{modelValue:Object(C["unref"])(c).backcolor,"onUpdate:modelValue":l[3]||(l[3]=e=>E("backcolor",e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字高亮"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{class:"text-color-btn",style:{flex:"3"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(c).backcolor})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大字号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{class:"font-size-btn",style:{flex:"2"},onClick:l[4]||(l[4]=e=>E("fontsize-add"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n),nj]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小字号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{class:"font-size-btn",style:{flex:"2"},onClick:l[5]||(l[5]=e=>E("fontsize-reduce"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n),cj]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(X,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(c).bold,onClick:l[6]||(l[6]=e=>E("bold"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(R)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(c).em,onClick:l[7]||(l[7]=e=>E("em"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(H)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(c).underline,onClick:l[8]||(l[8]=e=>E("underline"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(q)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除线"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(c).strikethrough,onClick:l[9]||(l[9]=e=>E("strikethrough"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(U)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"清除格式"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},onClick:l[10]||(l[10]=e=>E("clear"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(G)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(X,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上标"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(c).superscript,onClick:l[11]||(l[11]=e=>E("superscript"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Y)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下标"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(c).subscript,onClick:l[12]||(l[12]=e=>E("subscript"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Z)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"行内代码"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(c).code,onClick:l[13]||(l[13]=e=>E("code"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(W)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"引用"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(c).blockquote,onClick:l[14]||(l[14]=e=>E("blockquote"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(J)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"超链接"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F,{placement:"bottomRight",trigger:"click",visible:I.value,"onUpdate:visible":l[19]||(l[19]=e=>I.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",aj,[Object(C["createVNode"])(K,{value:V.value,"onUpdate:value":l[15]||(l[15]=e=>V.value=e),placeholder:"请输入超链接"},null,8,["value"]),Object(C["createElementVNode"])("div",rj,[Object(C["createVNode"])(D,{size:"small",disabled:!Object(C["unref"])(c).link,onClick:l[16]||(l[16]=e=>S()),style:{"margin-right":"5px"}},{default:Object(C["withCtx"])(()=>[ij]),_:1},8,["disabled"]),Object(C["createVNode"])(D,{size:"small",type:"primary",onClick:l[17]||(l[17]=e=>S(V.value))},{default:Object(C["withCtx"])(()=>[sj]),_:1})])])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:!!Object(C["unref"])(c).link,onClick:l[18]||(l[18]=e=>B())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Q)]),_:1},8,["checked"])]),_:1},8,["visible"])]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(o),Object(C["createVNode"])(ne,{class:"row","button-style":"solid",value:Object(C["unref"])(c).align,onChange:l[20]||(l[20]=e=>E("align",e.target.value))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(te,{value:"left",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(ee)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(te,{value:"center",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(le)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(te,{value:"right",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(oe)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"]),Object(C["createVNode"])(X,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"项目符号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(c).bulletList,onClick:l[21]||(l[21]=e=>E("bulletList"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(ce)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"编号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(c).orderedList,onClick:l[22]||(l[22]=e=>E("orderedList"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(ae)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])($,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小缩进"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{style:{flex:"1"},onClick:l[23]||(l[23]=e=>E("indent","-1"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(re)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(z,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大缩进"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{style:{flex:"1"},onClick:l[24]||(l[24]=e=>E("indent","+1"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(ie)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(o),Object(C["createElementVNode"])("div",dj,[uj,Object(C["createVNode"])(N,{style:{flex:"3"},value:d.value,onChange:l[25]||(l[25]=e=>h(e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(se)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(O,e=>Object(C["createVNode"])(r,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e)+"倍",1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",bj,[mj,Object(C["createVNode"])(N,{style:{flex:"3"},value:m.value,onChange:l[26]||(l[26]=e=>y(e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(de)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(v,e=>Object(C["createVNode"])(r,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e)+"px",1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",pj,[Oj,Object(C["createVNode"])(N,{style:{flex:"3"},value:u.value,onChange:l[27]||(l[27]=e=>g(e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(ue)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(f,e=>Object(C["createVNode"])(r,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e)+"px",1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",fj,[jj,Object(C["createVNode"])(N,{style:{flex:"3"},value:b.value,onChange:l[28]||(l[28]=e=>x(e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(ie)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(j,e=>Object(C["createVNode"])(r,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e)+"px",1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",vj,[hj,Object(C["createVNode"])(F,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T,{modelValue:s.value,"onUpdate:modelValue":l[29]||(l[29]=e=>k(e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:s.value,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createVNode"])(o),Object(C["createVNode"])(zf),Object(C["createVNode"])(o),Object(C["createVNode"])(Qf),Object(C["createVNode"])(o),Object(C["createVNode"])(jf)])}}});l("197c");const gj=V()(yj,[["__scopeId","data-v-5830b9cf"]]);var xj=gj;const kj={class:"element-flip"},Cj=Object(C["createTextVNode"])(" 垂直翻转"),Nj=Object(C["createTextVNode"])(" 水平翻转");var Ej=Object(C["defineComponent"])({__name:"ElementFlip",setup(e){const t=Uo(),{handleElement:l}=Object(N["c"])(Yo()),o=Object(C["ref"])(!1),n=Object(C["ref"])(!1);Object(C["watch"])(l,()=>{!l.value||"image"!==l.value.type&&"shape"!==l.value.type||(o.value=!!l.value.flipH,n.value=!!l.value.flipV)},{deep:!0,immediate:!0});const{addHistorySnapshot:c}=Pn(),a=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),c())};return(e,t)=>{const l=Object(C["resolveComponent"])("IconFlipVertically"),c=Object(C["resolveComponent"])("CheckboxButton"),r=Object(C["resolveComponent"])("IconFlipHorizontally"),i=Object(C["resolveComponent"])("CheckboxButtonGroup");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",kj,[Object(C["createVNode"])(i,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{style:{flex:"1"},checked:n.value,onClick:t[0]||(t[0]=e=>a({flipV:!n.value}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l),Cj]),_:1},8,["checked"]),Object(C["createVNode"])(c,{style:{flex:"1"},checked:o.value,onClick:t[1]||(t[1]=e=>a({flipH:!o.value}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(r),Nj]),_:1},8,["checked"])]),_:1})])}}});l("02ca");const wj=V()(Ej,[["__scopeId","data-v-59a1646e"]]);var Vj=wj;const Ij=e=>(Object(C["pushScopeId"])("data-v-37fbdfde"),e=e(),Object(C["popScopeId"])(),e),Bj={class:"element-filter"},Sj={class:"row"},Lj=Ij(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"启用滤镜：",-1)),_j={class:"switch-wrapper",style:{flex:"3"}},Tj={key:0,class:"filter"},Mj={class:"name"};var Dj=Object(C["defineComponent"])({__name:"ElementFilter",setup(e){const t=[{label:"模糊",key:"blur",default:0,value:0,unit:"px",max:10,step:1},{label:"亮度",key:"brightness",default:100,value:100,unit:"%",max:200,step:5},{label:"对比度",key:"contrast",default:100,value:100,unit:"%",max:200,step:5},{label:"灰度",key:"grayscale",default:0,value:0,unit:"%",max:100,step:5},{label:"饱和度",key:"saturate",default:100,value:100,unit:"%",max:200,step:5},{label:"色相",key:"hue-rotate",default:0,value:0,unit:"deg",max:360,step:10},{label:"不透明度",key:"opacity",default:100,value:100,unit:"%",max:100,step:5}],l=Uo(),{handleElement:o,handleElementId:n}=Object(N["c"])(Yo()),c=Object(C["ref"])(JSON.parse(JSON.stringify(t))),a=Object(C["ref"])(!1),{addHistorySnapshot:r}=Pn();Object(C["watch"])(o,()=>{if(!o.value||"image"!==o.value.type)return;const e=o.value.filters;e?(c.value=t.map(t=>void 0!==e[t.key]?{...t,value:parseInt(e[t.key])}:t),a.value=!0):(c.value=JSON.parse(JSON.stringify(t)),a.value=!1)},{deep:!0,immediate:!0});const i=(e,t)=>{const c=o.value,a=c.filters||{},i={...a,[e.key]:`${t}${e.unit}`};l.updateElement({id:n.value,props:{filters:i}}),r()},s=e=>{o.value&&(e?l.updateElement({id:o.value.id,props:{filters:{}}}):l.removeElementProps({id:o.value.id,propName:"filters"}),r())};return(e,t)=>{const l=Object(C["resolveComponent"])("Switch"),o=Object(C["resolveComponent"])("Slider");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Bj,[Object(C["createElementVNode"])("div",Sj,[Lj,Object(C["createElementVNode"])("div",_j,[Object(C["createVNode"])(l,{checked:a.value,onChange:t[0]||(t[0]=e=>s(e))},null,8,["checked"])])]),a.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Tj,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(c.value,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"filter-item",key:e.key},[Object(C["createElementVNode"])("div",Mj,Object(C["toDisplayString"])(e.label),1),Object(C["createVNode"])(o,{class:"filter-slider",max:e.max,min:0,step:e.step,value:e.value,onChange:t=>i(e,t)},null,8,["max","step","value","onChange"])]))),128))])):Object(C["createCommentVNode"])("",!0)])}}});l("58de");const zj=V()(Dj,[["__scopeId","data-v-37fbdfde"]]);var Fj=zj;const Aj=e=>(Object(C["pushScopeId"])("data-v-f466867c"),e=e(),Object(C["popScopeId"])(),e),$j={class:"element-color-mask"},Rj={class:"row"},Pj=Aj(()=>Object(C["createElementVNode"])("div",{style:{flex:"1"}},"重新着色（蒙版）：",-1)),Hj={class:"switch-wrapper",style:{flex:"1"}},qj={class:"row",style:{"margin-top":"15px"}},Uj=Aj(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"蒙版颜色：",-1)),Gj={class:"row"},Xj=Aj(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"不透明度：",-1));var Yj=Object(C["defineComponent"])({__name:"ElementColorMask",setup(e){const t={color:"transparent",opacity:.3},l=Uo(),{handleElement:o,handleElementId:n}=Object(N["c"])(Yo()),c=Object(C["ref"])(t),a=Object(C["ref"])(!1),{addHistorySnapshot:r}=Pn();Object(C["watch"])(o,()=>{o.value&&"image"===o.value.type&&(o.value.colorMask?(c.value=o.value.colorMask,a.value=!0):a.value=!1)},{deep:!0,immediate:!0});const i=e=>{o.value&&(e?l.updateElement({id:o.value.id,props:{colorMask:t}}):l.removeElementProps({id:o.value.id,propName:"colorMask"}),r())},s=e=>{const t={...c.value,...e};l.updateElement({id:n.value,props:{colorMask:t}}),r()};return(e,t)=>{const l=Object(C["resolveComponent"])("Switch"),o=Object(C["resolveComponent"])("ColorPicker"),n=Object(C["resolveComponent"])("Popover"),r=Object(C["resolveComponent"])("Slider");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",$j,[Object(C["createElementVNode"])("div",Rj,[Pj,Object(C["createElementVNode"])("div",Hj,[Object(C["createVNode"])(l,{checked:a.value,onChange:t[0]||(t[0]=e=>i(e))},null,8,["checked"])])]),a.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",qj,[Uj,Object(C["createVNode"])(n,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{modelValue:c.value.color,"onUpdate:modelValue":t[1]||(t[1]=e=>s({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:c.value.color,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",Gj,[Xj,Object(C["createVNode"])(r,{class:"opacity-slider",max:1,min:0,step:.05,value:c.value.opacity,onChange:t[2]||(t[2]=e=>s({opacity:e}))},null,8,["step","value"])])],64)):Object(C["createCommentVNode"])("",!0)])}}});l("02bd");const Zj=V()(Yj,[["__scopeId","data-v-f466867c"]]);var Wj=Zj;const Jj=e=>(Object(C["pushScopeId"])("data-v-e8d702d2"),e=e(),Object(C["popScopeId"])(),e),Kj={class:"image-style-panel"},Qj=Object(C["createTextVNode"])(" 裁剪图片"),ev={class:"clip"},tv=Jj(()=>Object(C["createElementVNode"])("div",{class:"title"},"按形状：",-1)),lv={class:"shape-clip"},ov=["onClick"],nv={key:0,class:"title"},cv=Object(C["createTextVNode"])(" 替换图片"),av=Object(C["createTextVNode"])(" 重置样式"),rv=Object(C["createTextVNode"])(" 设为背景");var iv=Object(C["defineComponent"])({__name:"ImageStylePanel",setup(e){const t=tr,l=[{label:"纵横比（方形）",children:[{key:"1:1",ratio:1}]},{label:"纵横比（纵向）",children:[{key:"2:3",ratio:1.5},{key:"3:4",ratio:4/3},{key:"3:5",ratio:5/3},{key:"4:5",ratio:5/4}]},{label:"纵横比（横向）",children:[{key:"3:2",ratio:2/3},{key:"4:3",ratio:3/4},{key:"5:3",ratio:.6},{key:"5:4",ratio:.8}]},{children:[{key:"16:9",ratio:9/16},{key:"16:10",ratio:.625}]}],o=Yo(),n=Uo(),{handleElement:c,handleElementId:a}=Object(N["c"])(o),{currentSlide:r}=Object(N["c"])(n),i=c,s=Object(C["ref"])(!1),{addHistorySnapshot:d}=Pn(),u=()=>{o.setClipingImageElementId(a.value),s.value=!1},b=()=>{const e=c.value,t=e.width,l=e.height,o=e.left,n=e.top,a=e.clip?e.clip.range:[[0,0],[100,100]],r=t/((a[1][0]-a[0][0])/100),i=l/((a[1][1]-a[0][1])/100),s=o-r*(a[0][0]/100),d=n-i*(a[0][1]/100);return{originClipRange:a,originWidth:r,originHeight:i,originLeft:s,originTop:d}},m=(e,t=0)=>{const l=c.value,{originClipRange:o,originWidth:r,originHeight:i,originLeft:s,originTop:m}=b();if(t){const o=i/r,c=0,d=100;let u;if(o>t){const e=(1-t/o)/2*100;u=[[c,e],[d,d-e]]}else{const e=(1-o/t)/2*100;u=[[e,c],[d-e,d]]}n.updateElement({id:a.value,props:{clip:{...l.clip,shape:e,range:u},left:s+r*(u[0][0]/100),top:m+i*(u[0][1]/100),width:r*(u[1][0]-u[0][0])/100,height:i*(u[1][1]-u[0][1])/100}})}else n.updateElement({id:a.value,props:{clip:{...l.clip,shape:e,range:o}}});u(),d()},p=e=>{const t=e[0];t&&(Mn(t).then(e=>{const t={src:e};n.updateElement({id:a.value,props:t})}),d())},O=()=>{const e=c.value;if(e.clip){const{originWidth:e,originHeight:t,originLeft:l,originTop:o}=b();n.updateElement({id:a.value,props:{left:l,top:o,width:e,height:t}})}n.removeElementProps({id:a.value,propName:["clip","outline","flip","shadow","filters","colorMask"]}),d()},f=()=>{const e=c.value,t={...r.value.background,type:"image",image:e.src,imageSize:"cover"};n.updateSlide({background:t}),d()};return(e,o)=>{const n=Object(C["resolveComponent"])("IconTailoring"),c=Object(C["resolveComponent"])("Button"),a=Object(C["resolveComponent"])("ButtonGroup"),r=Object(C["resolveComponent"])("IconDown"),d=Object(C["resolveComponent"])("Popover"),b=Object(C["resolveComponent"])("Divider"),j=Object(C["resolveComponent"])("IconTransform"),v=Object(C["resolveComponent"])("FileInput"),h=Object(C["resolveComponent"])("IconUndo"),y=Object(C["resolveComponent"])("IconTheme");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Kj,[Object(C["createElementVNode"])("div",{class:"origin-image",style:Object(C["normalizeStyle"])({backgroundImage:`url(${Object(C["unref"])(i).src})`})},null,4),Object(C["createVNode"])(Vj),Object(C["createVNode"])(a,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{style:{flex:"5"},onClick:o[0]||(o[0]=e=>u())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{class:"btn-icon"}),Qj]),_:1}),Object(C["createVNode"])(d,{trigger:"click",visible:s.value,"onUpdate:visible":o[1]||(o[1]=e=>s.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",ev,[tv,Object(C["createElementVNode"])("div",lv,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(t),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"shape-clip-item",key:t,onClick:e=>m(t)},[Object(C["createElementVNode"])("div",{class:"shape",style:Object(C["normalizeStyle"])({clipPath:e.style})},null,4)],8,ov))),128))]),(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(l,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:e.label},[e.label?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",nv,"按"+Object(C["toDisplayString"])(e.label)+"：",1)):Object(C["createCommentVNode"])("",!0),Object(C["createVNode"])(a,{class:"row"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.children,e=>(Object(C["openBlock"])(),Object(C["createBlock"])(c,{style:{flex:"1"},key:e.key,onClick:t=>m("rect",e.ratio)},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e.key),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)],64))),64))])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{class:"no-padding",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(r)]),_:1})]),_:1},8,["visible"])]),_:1}),Object(C["createVNode"])(b),Object(C["createVNode"])(Wj),Object(C["createVNode"])(b),Object(C["createVNode"])(Fj),Object(C["createVNode"])(b),Object(C["createVNode"])(zf),Object(C["createVNode"])(b),Object(C["createVNode"])(Qf),Object(C["createVNode"])(b),Object(C["createVNode"])(v,{onChange:o[2]||(o[2]=e=>p(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{class:"full-width-btn"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j,{class:"btn-icon"}),cv]),_:1})]),_:1}),Object(C["createVNode"])(c,{class:"full-width-btn",onClick:o[3]||(o[3]=e=>O())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(h,{class:"btn-icon"}),av]),_:1}),Object(C["createVNode"])(c,{class:"full-width-btn",onClick:o[4]||(o[4]=e=>f())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y,{class:"btn-icon"}),rv]),_:1})])}}});l("6e11");const sv=V()(iv,[["__scopeId","data-v-e8d702d2"]]);var dv=sv;const uv=e=>(Object(C["pushScopeId"])("data-v-02998580"),e=e(),Object(C["popScopeId"])(),e),bv={class:"shape-style-panel"},mv={class:"row"},pv=Object(C["createTextVNode"])("纯色填充"),Ov=Object(C["createTextVNode"])("渐变填充"),fv=uv(()=>Object(C["createElementVNode"])("div",{style:{flex:"1"}},null,-1)),jv=Object(C["createTextVNode"])("线性渐变"),vv=Object(C["createTextVNode"])("径向渐变"),hv={class:"row"},yv=uv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"起点颜色：",-1)),gv={class:"row"},xv=uv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"终点颜色：",-1)),kv={key:0,class:"row"},Cv=uv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"渐变角度：",-1)),Nv=Object(C["createTextVNode"])("+"),Ev=Object(C["createTextVNode"])("-");var wv=Object(C["defineComponent"])({__name:"ShapeStylePanel",setup(e){const t=Yo(),l=Uo(),{handleElement:o,handleElementId:n,richTextAttrs:c,availableFonts:a}=Object(N["c"])(t),r=o,i=Object(C["ref"])("#000"),s=Object(C["ref"])({type:"linear",rotate:0,color:["#fff","#fff"]}),d=Object(C["ref"])("fill"),u=Object(C["ref"])("middle");Object(C["watch"])(o,()=>{var e,t;o.value&&"shape"===o.value.type&&(i.value=o.value.fill||"#fff",s.value=o.value.gradient||{type:"linear",rotate:0,color:[i.value,"#fff"]},d.value=o.value.gradient?"gradient":"fill",u.value=(null===(e=o.value)||void 0===e||null===(t=e.text)||void 0===t?void 0:t.align)||"middle")},{deep:!0,immediate:!0});const{addHistorySnapshot:b}=Pn(),m=e=>{l.updateElement({id:n.value,props:e}),b()},p=e=>{"fill"===e?(l.removeElementProps({id:n.value,propName:"gradient"}),b()):m({gradient:s.value})},O=e=>{if(!s.value)return;const t={...s.value,...e};m({gradient:t})},f=e=>{m({fill:e})},j=e=>{const t=o.value,l={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"},n=t.text||l;m({text:{...n,align:e}})},v=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],h=(e,t)=>{_i.emit(Bi.RICH_TEXT_COMMAND,{action:{command:e,value:t}})};return(e,t)=>{var l;const o=Object(C["resolveComponent"])("SelectOption"),n=Object(C["resolveComponent"])("Select"),b=Object(C["resolveComponent"])("ColorPicker"),m=Object(C["resolveComponent"])("Popover"),y=Object(C["resolveComponent"])("Slider"),g=Object(C["resolveComponent"])("Divider"),x=Object(C["resolveComponent"])("IconFontSize"),k=Object(C["resolveComponent"])("SelectOptGroup"),N=Object(C["resolveComponent"])("IconAddText"),E=Object(C["resolveComponent"])("InputGroup"),w=Object(C["resolveComponent"])("IconText"),V=Object(C["resolveComponent"])("Button"),I=Object(C["resolveComponent"])("Tooltip"),B=Object(C["resolveComponent"])("IconHighLight"),S=Object(C["resolveComponent"])("ButtonGroup"),L=Object(C["resolveComponent"])("IconTextBold"),_=Object(C["resolveComponent"])("CheckboxButton"),T=Object(C["resolveComponent"])("IconTextItalic"),M=Object(C["resolveComponent"])("IconTextUnderline"),D=Object(C["resolveComponent"])("IconFormat"),z=Object(C["resolveComponent"])("CheckboxButtonGroup"),F=Object(C["resolveComponent"])("IconAlignTextLeft"),A=Object(C["resolveComponent"])("RadioButton"),$=Object(C["resolveComponent"])("IconAlignTextCenter"),R=Object(C["resolveComponent"])("IconAlignTextRight"),P=Object(C["resolveComponent"])("RadioGroup"),H=Object(C["resolveComponent"])("IconAlignTextTopOne"),q=Object(C["resolveComponent"])("IconAlignTextMiddleOne"),U=Object(C["resolveComponent"])("IconAlignTextBottomOne");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",bv,[Object(C["createElementVNode"])("div",mv,[Object(C["createVNode"])(n,{style:{flex:"10"},value:d.value,onChange:t[0]||(t[0]=e=>p(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{value:"fill"},{default:Object(C["withCtx"])(()=>[pv]),_:1}),Object(C["createVNode"])(o,{value:"gradient"},{default:Object(C["withCtx"])(()=>[Ov]),_:1})]),_:1},8,["value"]),fv,"fill"===d.value?(Object(C["openBlock"])(),Object(C["createBlock"])(m,{key:0,trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=e=>f(e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:i.value,style:{flex:"10"}},null,8,["color"])]),_:1})):(Object(C["openBlock"])(),Object(C["createBlock"])(n,{key:1,style:{flex:"10"},value:s.value.type,onChange:t[2]||(t[2]=e=>O({type:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{value:"linear"},{default:Object(C["withCtx"])(()=>[jv]),_:1}),Object(C["createVNode"])(o,{value:"radial"},{default:Object(C["withCtx"])(()=>[vv]),_:1})]),_:1},8,["value"]))]),"gradient"===d.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",hv,[yv,Object(C["createVNode"])(m,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b,{modelValue:s.value.color[0],"onUpdate:modelValue":t[3]||(t[3]=e=>O({color:[e,s.value.color[1]]}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:s.value.color[0],style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",gv,[xv,Object(C["createVNode"])(m,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b,{modelValue:s.value.color[1],"onUpdate:modelValue":t[4]||(t[4]=e=>O({color:[s.value.color[0],e]}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:s.value.color[1],style:{flex:"3"}},null,8,["color"])]),_:1})]),"linear"===s.value.type?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",kv,[Cv,Object(C["createVNode"])(y,{class:"slider",min:0,max:360,step:15,value:s.value.rotate,onChange:t[5]||(t[5]=e=>O({rotate:e}))},null,8,["value"])])):Object(C["createCommentVNode"])("",!0)],64)):Object(C["createCommentVNode"])("",!0),Object(C["createVNode"])(Vj),Object(C["createVNode"])(g),null!==(l=Object(C["unref"])(r).text)&&void 0!==l&&l.content?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:1},[Object(C["createVNode"])(E,{compact:"",class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{style:{flex:"3"},value:Object(C["unref"])(c).fontname,onChange:t[6]||(t[6]=e=>h("fontname",e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(x)]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k,{label:"系统字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",{style:Object(C["normalizeStyle"])({fontFamily:e.value})},Object(C["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(C["createVNode"])(k,{label:"在线字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(xo),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"]),Object(C["createVNode"])(n,{style:{flex:"2"},value:Object(C["unref"])(c).fontsize,onChange:t[7]||(t[7]=e=>h("fontsize",e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(v,e=>Object(C["createVNode"])(o,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),Object(C["createVNode"])(S,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b,{modelValue:Object(C["unref"])(c).color,"onUpdate:modelValue":t[8]||(t[8]=e=>h("color",e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V,{class:"text-color-btn",style:{flex:"3"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(w),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(c).color})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(m,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b,{modelValue:Object(C["unref"])(c).backcolor,"onUpdate:modelValue":t[9]||(t[9]=e=>h("backcolor",e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字高亮"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V,{class:"text-color-btn",style:{flex:"3"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(B),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(c).backcolor})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大字号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V,{class:"font-size-btn",style:{flex:"2"},onClick:t[10]||(t[10]=e=>h("fontsize-add"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(x),Nv]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小字号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V,{class:"font-size-btn",style:{flex:"2"},onClick:t[11]||(t[11]=e=>h("fontsize-reduce"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(x),Ev]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(z,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_,{style:{flex:"1"},checked:Object(C["unref"])(c).bold,onClick:t[12]||(t[12]=e=>h("bold"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(L)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_,{style:{flex:"1"},checked:Object(C["unref"])(c).em,onClick:t[13]||(t[13]=e=>h("em"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_,{style:{flex:"1"},checked:Object(C["unref"])(c).underline,onClick:t[14]||(t[14]=e=>h("underline"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"清除格式"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_,{style:{flex:"1"},onClick:t[15]||(t[15]=e=>h("clear"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(P,{class:"row","button-style":"solid",value:Object(C["unref"])(c).align,onChange:t[16]||(t[16]=e=>h("align",e.target.value))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{value:"left",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{value:"center",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])($)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{value:"right",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(R)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"]),Object(C["createVNode"])(P,{class:"row","button-style":"solid",value:u.value,onChange:t[17]||(t[17]=e=>j(e.target.value))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"顶对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{value:"top",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(H)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{value:"middle",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(q)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"底对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{value:"bottom",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(U)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"]),Object(C["createVNode"])(g)],64)):Object(C["createCommentVNode"])("",!0),Object(C["createVNode"])(zf),Object(C["createVNode"])(g),Object(C["createVNode"])(Qf),Object(C["createVNode"])(g),Object(C["createVNode"])(jf)])}}});l("de23");const Vv=V()(wv,[["__scopeId","data-v-02998580"]]);var Iv=Vv;const Bv=e=>(Object(C["pushScopeId"])("data-v-938968a2"),e=e(),Object(C["popScopeId"])(),e),Sv={class:"line-style-panel"},Lv={class:"row"},_v=Bv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"线条样式：",-1)),Tv=Object(C["createTextVNode"])("实线"),Mv=Object(C["createTextVNode"])("虚线"),Dv={class:"row"},zv=Bv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"线条颜色：",-1)),Fv={class:"row"},Av=Bv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"线条宽度：",-1)),$v={class:"row"},Rv=Bv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"起点样式：",-1)),Pv=Object(C["createTextVNode"])("无"),Hv=Object(C["createTextVNode"])("箭头"),qv=Object(C["createTextVNode"])("圆点"),Uv={class:"row"},Gv=Bv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"终点样式：",-1)),Xv=Object(C["createTextVNode"])("无"),Yv=Object(C["createTextVNode"])("箭头"),Zv=Object(C["createTextVNode"])("圆点");var Wv=Object(C["defineComponent"])({__name:"LineStylePanel",setup(e){const t=Uo(),{handleElement:l}=Object(N["c"])(Yo()),o=l,{addHistorySnapshot:n}=Pn(),c=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),n())};return(e,t)=>{const l=Object(C["resolveComponent"])("SelectOption"),n=Object(C["resolveComponent"])("Select"),a=Object(C["resolveComponent"])("ColorPicker"),r=Object(C["resolveComponent"])("Popover"),i=Object(C["resolveComponent"])("InputNumber"),s=Object(C["resolveComponent"])("Divider");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Sv,[Object(C["createElementVNode"])("div",Lv,[_v,Object(C["createVNode"])(n,{style:{flex:"3"},value:Object(C["unref"])(o).style,onChange:t[0]||(t[0]=e=>c({style:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l,{value:"solid"},{default:Object(C["withCtx"])(()=>[Tv]),_:1}),Object(C["createVNode"])(l,{value:"dashed"},{default:Object(C["withCtx"])(()=>[Mv]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",Dv,[zv,Object(C["createVNode"])(r,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(a,{modelValue:Object(C["unref"])(o).color,"onUpdate:modelValue":t[1]||(t[1]=e=>c({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:Object(C["unref"])(o).color,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",Fv,[Av,Object(C["createVNode"])(i,{value:Object(C["unref"])(o).width,onChange:t[2]||(t[2]=e=>c({width:e})),style:{flex:"3"}},null,8,["value"])]),Object(C["createElementVNode"])("div",$v,[Rv,Object(C["createVNode"])(n,{style:{flex:"3"},value:Object(C["unref"])(o).points[0],onChange:t[3]||(t[3]=e=>c({points:[e,Object(C["unref"])(o).points[1]]}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l,{value:""},{default:Object(C["withCtx"])(()=>[Pv]),_:1}),Object(C["createVNode"])(l,{value:"arrow"},{default:Object(C["withCtx"])(()=>[Hv]),_:1}),Object(C["createVNode"])(l,{value:"dot"},{default:Object(C["withCtx"])(()=>[qv]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",Uv,[Gv,Object(C["createVNode"])(n,{style:{flex:"3"},value:Object(C["unref"])(o).points[1],onChange:t[4]||(t[4]=e=>c({points:[Object(C["unref"])(o).points[0],e]}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l,{value:""},{default:Object(C["withCtx"])(()=>[Xv]),_:1}),Object(C["createVNode"])(l,{value:"arrow"},{default:Object(C["withCtx"])(()=>[Yv]),_:1}),Object(C["createVNode"])(l,{value:"dot"},{default:Object(C["withCtx"])(()=>[Zv]),_:1})]),_:1},8,["value"])]),Object(C["createVNode"])(s),Object(C["createVNode"])(Qf)])}}});l("d806");const Jv=V()(Wv,[["__scopeId","data-v-938968a2"]]);var Kv=Jv;const Qv={class:"chart-data-editor"},eh={class:"editor-content"},th={class:"range-box"},lh=["id","onFocus","onPaste"],oh={class:"btns"},nh={class:"left"},ch=Object(C["createTextVNode"])("清空"),ah={class:"right"},rh=Object(C["createTextVNode"])("取消"),ih=Object(C["createTextVNode"])("确认");var sh=Object(C["defineComponent"])({__name:"ChartDataEditor",props:{data:{type:Object,required:!0}},emits:["save","close"],setup(e,{emit:t}){const l=e,o=100,n=32,c=Object(C["ref"])([0,0]),a=Object(C["ref"])({width:0,height:0}),r=Object(C["ref"])(null),i=Object(C["computed"])(()=>{const e=c.value[0]*o,t=c.value[1]*n;return[{type:"t",style:{width:e+"px"}},{type:"b",style:{top:t+"px",width:e+"px"}},{type:"l",style:{height:t+"px"}},{type:"r",style:{left:e+"px",height:t+"px"}}]}),s=Object(C["computed"])(()=>{const e=c.value[0]*o,t=c.value[1]*n;return{left:e+"px",top:t+"px"}}),d=()=>{const e=[],{labels:t,legends:o,series:n}=l.data,a=t.length,r=n.length;e.push(["",...o]);for(let l=0;l<a;l++){const o=[t[l]];for(let e=0;e<r;e++)o.push(n[e][l]+"");e.push(o)}for(let l=0;l<a+1;l++)for(let t=0;t<r+1;t++){const o=document.querySelector(`#cell-${l}-${t}`);o&&(o.value=e[l][t]+"")}c.value=[r+1,a+1]};Object(C["onMounted"])(d);const u=()=>{if(!r.value)return;const[e,t]=r.value,l=document.querySelector(`#cell-${e+1}-${t}`);l&&l.focus()},b=e=>{const t=e.key.toUpperCase();t===On.ENTER&&u()};Object(C["onMounted"])(()=>{document.addEventListener("keydown",b)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("keydown",b)});const m=()=>{const[e,l]=c.value,o=[],n=[],a=[];for(let t=1;t<l;t++){let e="类别"+t;const l=document.querySelector(`#cell-${t}-0`);l&&l.value&&(e=l.value),o.push(e)}for(let t=1;t<e;t++){let e="系列"+t;const l=document.querySelector("#cell-0-"+t);l&&l.value&&(e=l.value),n.push(e)}for(let t=1;t<e;t++){const e=[];for(let o=1;o<l;o++){const l=document.querySelector(`#cell-${o}-${t}`);let n=0;l&&l.value&&+l.value&&(n=+l.value),e.push(n)}a.push(e)}t("save",{labels:o,legends:n,series:a})},p=()=>{for(let e=1;e<31;e++)for(let t=1;t<7;t++){const l=document.querySelector(`#cell-${e}-${t}`);l&&(l.value="")}},O=(e,t,l)=>{if(e.preventDefault(),!e.clipboardData)return;const o=e.clipboardData.items[0];o&&"string"===o.kind&&"text/plain"===o.type&&o.getAsString(e=>{const o=kn(e);if("object"===typeof o)return;const n=Cn(e);if(n){const e=t+n.length,o=l+n[0].length;for(let c=t;c<e;c++)for(let e=l;e<o;e++){const o=document.querySelector(`#cell-${c}-${e}`);o&&(o.value=n[c-t][e-l])}}})},f=()=>t("close"),j=e=>{let t=!0;const l=e.pageX,r=e.pageY,i=c.value[0]*o,s=c.value[1]*n;document.onmousemove=e=>{if(!t)return;const o=e.pageX,n=e.pageY,c=o-l,d=n-r,u=i+c,b=s+d;a.value={width:u,height:b}},document.onmouseup=e=>{t=!1,document.onmousemove=null,document.onmouseup=null;const i=e.pageX,s=e.pageY;if(l===i&&r===s)return;let d=a.value.width,u=a.value.height;d%o>.5*o&&(d+=o-d%o),u%n>.5*n&&(u+=n-u%n);let b=Math.round(u/n),m=Math.round(d/o);b<3&&(b=3),m<2&&(m=2),c.value=[m,b],a.value={width:0,height:0}}};return(e,t)=>{const l=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Qv,[Object(C["createElementVNode"])("div",eh,[Object(C["createElementVNode"])("div",th,[Object(C["createElementVNode"])("div",{class:"temp-range",style:Object(C["normalizeStyle"])({width:a.value.width+"px",height:a.value.height+"px"})},null,4),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(i),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["range-line",e.type]),key:e.type,style:Object(C["normalizeStyle"])(e.style)},null,6))),128)),Object(C["createElementVNode"])("div",{class:"resizable",style:Object(C["normalizeStyle"])(Object(C["unref"])(s)),onMousedown:t[0]||(t[0]=Object(C["withModifiers"])(e=>j(e),["stop"]))},null,36)]),Object(C["createElementVNode"])("table",null,[Object(C["createElementVNode"])("tbody",null,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(31,e=>Object(C["createElementVNode"])("tr",{key:e},[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(7,t=>Object(C["createElementVNode"])("td",{key:t,class:Object(C["normalizeClass"])({head:1===t&&e<=c.value[1]||1===e&&t<=c.value[0]})},[Object(C["createElementVNode"])("input",{class:Object(C["normalizeClass"])(["item",{selected:e<=c.value[1]&&t<=c.value[0]}]),id:`cell-${e-1}-${t-1}`,autocomplete:"off",onFocus:l=>r.value=[e-1,t-1],onPaste:l=>O(l,e-1,t-1)},null,42,lh)],2)),64))])),64))])])]),Object(C["createElementVNode"])("div",oh,[Object(C["createElementVNode"])("div",nh,[Object(C["createVNode"])(l,{class:"btn",onClick:t[1]||(t[1]=e=>p())},{default:Object(C["withCtx"])(()=>[ch]),_:1})]),Object(C["createElementVNode"])("div",ah,[Object(C["createVNode"])(l,{class:"btn",onClick:t[2]||(t[2]=e=>f())},{default:Object(C["withCtx"])(()=>[rh]),_:1}),Object(C["createVNode"])(l,{type:"primary",class:"btn",onClick:t[3]||(t[3]=e=>m()),style:{"margin-left":"10px"}},{default:Object(C["withCtx"])(()=>[ih]),_:1})])])])}}});l("ca17");const dh=V()(sh,[["__scopeId","data-v-53b32689"]]);var uh=dh;const bh=e=>(Object(C["pushScopeId"])("data-v-769d6876"),e=e(),Object(C["popScopeId"])(),e),mh={class:"chart-style-panel"},ph=Object(C["createTextVNode"])(" 编辑图表数据 "),Oh={class:"row"},fh=Object(C["createTextVNode"])("面积图样式"),jh=Object(C["createTextVNode"])("散点图样式"),vh={class:"row"},hh=Object(C["createTextVNode"])("使用平滑曲线"),yh={key:1,class:"row"},gh=Object(C["createTextVNode"])("条形图样式"),xh=Object(C["createTextVNode"])("堆叠样式"),kh={key:2,class:"row"},Ch=Object(C["createTextVNode"])("环形图样式"),Nh={class:"row"},Eh=bh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"图例：",-1)),wh=Object(C["createTextVNode"])("不显示"),Vh=Object(C["createTextVNode"])("显示在上方"),Ih=Object(C["createTextVNode"])("显示在下方"),Bh={class:"row"},Sh=bh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"背景填充：",-1)),Lh={class:"row"},_h=bh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"网格颜色：",-1)),Th={style:{flex:"2"}},Mh={class:"color-btn-wrap",style:{flex:"3"}},Dh=["onClick"],zh={class:"preset-themes"},Fh=["onClick","onMouseenter"],Ah=Object(C["createTextVNode"])("推荐主题"),$h=Object(C["createTextVNode"])(" 添加主题色 ");var Rh=Object(C["defineComponent"])({__name:"index",setup(e){const t=[["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d"],["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78"],["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],["#893448","#d95850","#eb8146","#ffb248","#f2d643","#ebdba4"],["#4ea397","#22c3aa","#7bd9a5","#d0648a","#f58db2","#f2b3c9"],["#3fb1e3","#6be6c1","#626c91","#a0a7e6","#c4ebad","#96dee8"],["#fc97af","#87f7cf","#f7f494","#72ccff","#f7c5a0","#d4a4eb"],["#c1232b","#27727b","#fcce10","#e87c25","#b5c334","#fe8463"],["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3"],["#e01f54","#001852","#f5e8c8","#b8d2c7","#c6b38e","#a4d8c2"],["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8"],["#8a7ca8","#e098c7","#8fd3e8","#71669e","#cc70af","#7cb4cc"]],l=Yo(),o=Uo(),{handleElement:n,handleElementId:c}=Object(N["c"])(l),{theme:a}=Object(N["c"])(o),r=n,i=Object(C["ref"])(!1),s=Object(C["ref"])(!1),d=Object(C["ref"])([-1,-1]),{addHistorySnapshot:u}=Pn(),b=Object(C["ref"])("#000"),m=Object(C["ref"])([]),p=Object(C["ref"])(""),O=Object(C["ref"])(""),f=Object(C["ref"])(!0),j=Object(C["ref"])(!0),v=Object(C["ref"])(!1),h=Object(C["ref"])(!1),y=Object(C["ref"])(!1),g=Object(C["ref"])(!1);Object(C["watch"])(n,()=>{if(n.value&&"chart"===n.value.type){if(b.value=n.value.fill||"#fff",n.value.options){const{lineSmooth:e,showLine:t,showArea:l,horizontalBars:o,donut:c,stackBars:a}=n.value.options;void 0!==e&&(f.value=e),void 0!==t&&(j.value=t),void 0!==l&&(v.value=l),void 0!==o&&(h.value=o),void 0!==c&&(y.value=c),void 0!==a&&(g.value=a)}m.value=n.value.themeColor,p.value=n.value.gridColor||"#333",O.value=n.value.legend||""}},{deep:!0,immediate:!0});const x=e=>{o.updateElement({id:c.value,props:e}),u()},k=e=>{i.value=!1,x({data:e})},E=e=>{x({fill:e})},w=e=>{const t=n.value,l={...t.options,...e};x({options:l})},V=(e,t)=>{const l={themeColor:m.value.map((l,o)=>o===t?e:l)};x(l)},I=()=>{const e={themeColor:[...m.value,a.value.themeColor]};x(e)},B=(e,t)=>{const l=e.slice(0,t+1);x({themeColor:l}),s.value=!1},S=e=>{const t={themeColor:m.value.filter((t,l)=>l!==e)};x(t)},L=e=>{x({gridColor:e})},_=e=>{x({legend:e})},T=()=>i.value=!0;return _i.on(Bi.OPEN_CHART_DATA_EDITOR,T),Object(C["onUnmounted"])(()=>{_i.off(Bi.OPEN_CHART_DATA_EDITOR,T)}),(e,l)=>{const o=Object(C["resolveComponent"])("IconEdit"),n=Object(C["resolveComponent"])("Button"),c=Object(C["resolveComponent"])("Divider"),a=Object(C["resolveComponent"])("Checkbox"),u=Object(C["resolveComponent"])("SelectOption"),x=Object(C["resolveComponent"])("Select"),N=Object(C["resolveComponent"])("ColorPicker"),T=Object(C["resolveComponent"])("Popover"),M=Object(C["resolveComponent"])("IconCloseSmall"),D=Object(C["resolveComponent"])("Tooltip"),z=Object(C["resolveComponent"])("IconPlus"),F=Object(C["resolveComponent"])("ButtonGroup"),A=Object(C["resolveComponent"])("Modal");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",mh,[Object(C["createVNode"])(n,{class:"full-width-btn",onClick:l[0]||(l[0]=e=>i.value=!0)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{class:"btn-icon"}),ph]),_:1}),Object(C["createVNode"])(c),"line"===Object(C["unref"])(r).chartType?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",Oh,[Object(C["createVNode"])(a,{onChange:l[1]||(l[1]=e=>w({showArea:e.target.checked})),checked:v.value,style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[fh]),_:1},8,["checked"]),Object(C["createVNode"])(a,{onChange:l[2]||(l[2]=e=>w({showLine:!e.target.checked})),checked:!j.value,style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[jh]),_:1},8,["checked"])]),Object(C["createElementVNode"])("div",vh,[Object(C["createVNode"])(a,{onChange:l[3]||(l[3]=e=>w({lineSmooth:e.target.checked})),checked:f.value},{default:Object(C["withCtx"])(()=>[hh]),_:1},8,["checked"])])],64)):Object(C["createCommentVNode"])("",!0),"bar"===Object(C["unref"])(r).chartType?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",yh,[Object(C["createVNode"])(a,{onChange:l[4]||(l[4]=e=>w({horizontalBars:e.target.checked})),checked:h.value},{default:Object(C["withCtx"])(()=>[gh]),_:1},8,["checked"]),Object(C["createVNode"])(a,{onChange:l[5]||(l[5]=e=>w({stackBars:e.target.checked})),checked:g.value},{default:Object(C["withCtx"])(()=>[xh]),_:1},8,["checked"])])):Object(C["createCommentVNode"])("",!0),"pie"===Object(C["unref"])(r).chartType?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",kh,[Object(C["createVNode"])(a,{onChange:l[6]||(l[6]=e=>w({donut:e.target.checked})),checked:y.value},{default:Object(C["withCtx"])(()=>[Ch]),_:1},8,["checked"])])):Object(C["createCommentVNode"])("",!0),Object(C["createVNode"])(c),Object(C["createElementVNode"])("div",Nh,[Eh,Object(C["createVNode"])(x,{style:{flex:"3"},value:O.value,onChange:l[7]||(l[7]=e=>_(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(u,{value:""},{default:Object(C["withCtx"])(()=>[wh]),_:1}),Object(C["createVNode"])(u,{value:"top"},{default:Object(C["withCtx"])(()=>[Vh]),_:1}),Object(C["createVNode"])(u,{value:"bottom"},{default:Object(C["withCtx"])(()=>[Ih]),_:1})]),_:1},8,["value"])]),Object(C["createVNode"])(c),Object(C["createElementVNode"])("div",Bh,[Sh,Object(C["createVNode"])(T,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{modelValue:b.value,"onUpdate:modelValue":l[8]||(l[8]=e=>E(e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:b.value,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",Lh,[_h,Object(C["createVNode"])(T,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{modelValue:p.value,"onUpdate:modelValue":l[9]||(l[9]=e=>L(e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:p.value,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createVNode"])(c),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(m.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"row",key:t},[Object(C["createElementVNode"])("div",Th,Object(C["toDisplayString"])(0===t?"主题配色：":""),1),Object(C["createVNode"])(T,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{modelValue:e,"onUpdate:modelValue":e=>V(e,t)},null,8,["modelValue","onUpdate:modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",Mh,[Object(C["createVNode"])(gf,{color:e,style:{width:"100%"}},null,8,["color"]),Object(C["createVNode"])(D,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除"},{default:Object(C["withCtx"])(()=>[0!==t?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"delete-color-btn",onClick:Object(C["withModifiers"])(e=>S(t),["stop"])},[Object(C["createVNode"])(M)],8,Dh)):Object(C["createCommentVNode"])("",!0)]),_:2},1032,["mouseEnterDelay"])])]),_:2},1024)]))),128)),Object(C["createVNode"])(F,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T,{trigger:"click",visible:s.value,"onUpdate:visible":l[11]||(l[11]=e=>s.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",zh,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t,(e,t)=>Object(C["createElementVNode"])("div",{class:"preset-theme",key:t},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e,(o,n)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["preset-theme-color",{select:d.value[0]===t&&n<=d.value[1]}]),key:o,style:Object(C["normalizeStyle"])({backgroundColor:o}),onClick:t=>B(e,n),onMouseenter:e=>d.value=[t,n],onMouseleave:l[10]||(l[10]=e=>d.value=[-1,-1])},null,46,Fh))),128))])),64))])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{class:"no-padding",style:{flex:"2"}},{default:Object(C["withCtx"])(()=>[Ah]),_:1})]),_:1},8,["visible"]),Object(C["createVNode"])(n,{class:"no-padding",disabled:m.value.length>=10,style:{flex:"3"},onClick:l[12]||(l[12]=e=>I())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{class:"btn-icon"}),$h]),_:1},8,["disabled"])]),_:1}),Object(C["createVNode"])(c),Object(C["createVNode"])(zf),Object(C["createVNode"])(A,{visible:i.value,"onUpdate:visible":l[15]||(l[15]=e=>i.value=e),footer:null,centered:"",closable:!1,width:648,destroyOnClose:""},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(uh,{data:Object(C["unref"])(r).data,onClose:l[13]||(l[13]=e=>i.value=!1),onSave:l[14]||(l[14]=e=>k(e))},null,8,["data"])]),_:1},8,["visible"])])}}});l("d074");const Ph=V()(Rh,[["__scopeId","data-v-769d6876"]]);var Hh=Ph;const qh=e=>(Object(C["pushScopeId"])("data-v-7e28e1d8"),e=e(),Object(C["popScopeId"])(),e),Uh={class:"table-style-panel"},Gh={class:"row"},Xh=qh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"行数：",-1)),Yh={class:"set-count",style:{flex:"3"}},Zh={class:"count-text"},Wh={class:"row"},Jh=qh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"列数：",-1)),Kh={class:"set-count",style:{flex:"3"}},Qh={class:"count-text"},ey={class:"row theme-switch"},ty=qh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"启用主题表格：",-1)),ly={class:"switch-wrapper",style:{flex:"3"}},oy={class:"row"},ny=Object(C["createTextVNode"])("标题行"),cy=Object(C["createTextVNode"])("汇总行"),ay={class:"row"},ry=Object(C["createTextVNode"])("第一列"),iy=Object(C["createTextVNode"])("最后一列"),sy={class:"row"},dy=qh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"主题颜色：",-1));var uy=Object(C["defineComponent"])({__name:"TableStylePanel",setup(e){const t=Uo(),{handleElement:l,handleElementId:o,selectedTableCells:n,availableFonts:c}=Object(N["c"])(Yo()),a=Object(C["computed"])(()=>t.theme.themeColor),r=["12px","14px","16px","18px","20px","22px","24px","28px","32px"],i=Object(C["ref"])({bold:!1,em:!1,underline:!1,strikethrough:!1,color:"#000",backcolor:"#000",fontsize:"12px",fontname:"微软雅黑",align:"left"}),s=Object(C["ref"])(),d=Object(C["ref"])(!1),u=Object(C["ref"])(0),b=Object(C["ref"])(0),m=Object(C["ref"])(0),p=Object(C["ref"])(0);Object(C["watch"])(l,()=>{l.value&&"table"===l.value.type&&(s.value=l.value.theme,d.value=!!s.value,u.value=l.value.data.length,b.value=l.value.data[0].length,m.value=l.value.data.length,p.value=l.value.data[0].length)},{deep:!0,immediate:!0});const{addHistorySnapshot:O}=Pn(),f=()=>{if(!l.value||"table"!==l.value.type)return;let e=0,t=0;if(n.value.length){const l=n.value[0];e=+l.split("_")[0],t=+l.split("_")[1]}const o=l.value.data[e][t].style;i.value=o?{bold:!!o.bold,em:!!o.em,underline:!!o.underline,strikethrough:!!o.strikethrough,color:o.color||"#000",backcolor:o.backcolor||"#000",fontsize:o.fontsize||"12px",fontname:o.fontname||"微软雅黑",align:o.align||"left"}:{bold:!1,em:!1,underline:!1,strikethrough:!1,color:"#000",backcolor:"#000",fontsize:"12px",fontname:"微软雅黑",align:"left"}};Object(C["onMounted"])(()=>{n.value.length&&f()}),Object(C["watch"])(n,f);const j=e=>{t.updateElement({id:o.value,props:e}),O()},v=e=>{const t=l.value,o=JSON.parse(JSON.stringify(t.data));for(let l=0;l<o.length;l++)for(let t=0;t<o[l].length;t++)if(!n.value.length||n.value.includes(`${l}_${t}`)){const n=o[l][t].style||{};o[l][t].style={...n,...e}}j({data:o}),f()},h=e=>{if(!s.value)return;const t={...s.value,...e};j({theme:t})},y=e=>{if(e){const e={theme:{color:a.value,rowHeader:!0,rowFooter:!1,colHeader:!1,colFooter:!1}};j(e)}else t.removeElementProps({id:o.value,propName:"theme"}),O()},g=e=>{const t=l.value,o=t.data.length;if(e>o){const l=new Array(b.value).fill({id:Object(yo["b"])(10),colspan:1,rowspan:1,text:""}),n=new Array(e-o).fill(l),c=JSON.parse(JSON.stringify(t.data));c.push(...n),j({data:c})}else{const l=t.data.slice(0,e);j({data:l})}},x=e=>{const t=l.value,o=t.data[0].length;let n=t.data,c=t.colWidths.map(e=>e*t.width);if(e>o){n=n.map(t=>{const l=new Array(e-o).fill({id:Object(yo["b"])(10),colspan:1,rowspan:1,text:""});return t.push(...l),t});const t=new Array(e-o).fill(100);c.push(...t)}else n=n.map(t=>t.slice(0,e)),c=c.slice(0,e);const a=c.reduce((e,t)=>e+t),r=c.map(e=>e/a),i={width:a,data:n,colWidths:r};j(i)};return(e,t)=>{const l=Object(C["resolveComponent"])("IconFontSize"),o=Object(C["resolveComponent"])("SelectOption"),n=Object(C["resolveComponent"])("SelectOptGroup"),a=Object(C["resolveComponent"])("Select"),m=Object(C["resolveComponent"])("IconAddText"),p=Object(C["resolveComponent"])("InputGroup"),O=Object(C["resolveComponent"])("ColorPicker"),f=Object(C["resolveComponent"])("IconText"),j=Object(C["resolveComponent"])("Button"),k=Object(C["resolveComponent"])("Tooltip"),N=Object(C["resolveComponent"])("Popover"),E=Object(C["resolveComponent"])("IconFill"),w=Object(C["resolveComponent"])("ButtonGroup"),V=Object(C["resolveComponent"])("IconTextBold"),I=Object(C["resolveComponent"])("CheckboxButton"),B=Object(C["resolveComponent"])("IconTextItalic"),S=Object(C["resolveComponent"])("IconTextUnderline"),L=Object(C["resolveComponent"])("IconStrikethrough"),_=Object(C["resolveComponent"])("CheckboxButtonGroup"),T=Object(C["resolveComponent"])("IconAlignTextLeft"),M=Object(C["resolveComponent"])("RadioButton"),D=Object(C["resolveComponent"])("IconAlignTextCenter"),z=Object(C["resolveComponent"])("IconAlignTextRight"),F=Object(C["resolveComponent"])("RadioGroup"),A=Object(C["resolveComponent"])("Divider"),$=Object(C["resolveComponent"])("IconMinus"),R=Object(C["resolveComponent"])("IconPlus"),P=Object(C["resolveComponent"])("Switch"),H=Object(C["resolveComponent"])("Checkbox");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Uh,[Object(C["createVNode"])(p,{compact:"",class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(a,{style:{flex:"3"},value:i.value.fontname,onChange:t[0]||(t[0]=e=>v({fontname:e}))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l)]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{label:"系统字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(c),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",{style:Object(C["normalizeStyle"])({fontFamily:e.value})},Object(C["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(C["createVNode"])(n,{label:"在线字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(xo),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"]),Object(C["createVNode"])(a,{style:{flex:"2"},value:i.value.fontsize,onChange:t[1]||(t[1]=e=>v({fontsize:e}))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(r,e=>Object(C["createVNode"])(o,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),Object(C["createVNode"])(w,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(O,{modelValue:i.value.color,"onUpdate:modelValue":t[2]||(t[2]=e=>v({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j,{class:"text-color-btn",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:i.value.color})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(N,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(O,{modelValue:i.value.backcolor,"onUpdate:modelValue":t[3]||(t[3]=e=>v({backcolor:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"单元格填充"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j,{class:"text-color-btn",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(E),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:i.value.backcolor})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1})]),_:1}),Object(C["createVNode"])(_,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{style:{flex:"1"},checked:i.value.bold,onClick:t[4]||(t[4]=e=>v({bold:!i.value.bold}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{style:{flex:"1"},checked:i.value.em,onClick:t[5]||(t[5]=e=>v({em:!i.value.em}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(B)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{style:{flex:"1"},checked:i.value.underline,onClick:t[6]||(t[6]=e=>v({underline:!i.value.underline}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(S)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除线"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{style:{flex:"1"},checked:i.value.strikethrough,onClick:t[7]||(t[7]=e=>v({strikethrough:!i.value.strikethrough}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(L)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(F,{class:"row","button-style":"solid",value:i.value.align,onChange:t[8]||(t[8]=e=>v({align:e.target.value}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M,{value:"left",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M,{value:"center",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M,{value:"right",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"]),Object(C["createVNode"])(A),Object(C["createVNode"])(zf,{fixed:!0}),Object(C["createVNode"])(A),Object(C["createElementVNode"])("div",Gh,[Xh,Object(C["createElementVNode"])("div",Yh,[Object(C["createVNode"])(j,{class:"btn",disabled:u.value<=1,onClick:t[9]||(t[9]=e=>g(u.value-1))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])($)]),_:1},8,["disabled"]),Object(C["createElementVNode"])("div",Zh,Object(C["toDisplayString"])(u.value),1),Object(C["createVNode"])(j,{class:"btn",disabled:u.value>=30,onClick:t[10]||(t[10]=e=>g(u.value+1))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(R)]),_:1},8,["disabled"])])]),Object(C["createElementVNode"])("div",Wh,[Jh,Object(C["createElementVNode"])("div",Kh,[Object(C["createVNode"])(j,{class:"btn",disabled:b.value<=1,onClick:t[11]||(t[11]=e=>x(b.value-1))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])($)]),_:1},8,["disabled"]),Object(C["createElementVNode"])("div",Qh,Object(C["toDisplayString"])(b.value),1),Object(C["createVNode"])(j,{class:"btn",disabled:b.value>=30,onClick:t[12]||(t[12]=e=>x(b.value+1))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(R)]),_:1},8,["disabled"])])]),Object(C["createVNode"])(A),Object(C["createElementVNode"])("div",ey,[ty,Object(C["createElementVNode"])("div",ly,[Object(C["createVNode"])(P,{checked:d.value,onChange:t[13]||(t[13]=e=>y(e))},null,8,["checked"])])]),s.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",oy,[Object(C["createVNode"])(H,{onChange:t[14]||(t[14]=e=>h({rowHeader:e.target.checked})),checked:s.value.rowHeader,style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[ny]),_:1},8,["checked"]),Object(C["createVNode"])(H,{onChange:t[15]||(t[15]=e=>h({rowFooter:e.target.checked})),checked:s.value.rowFooter,style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[cy]),_:1},8,["checked"])]),Object(C["createElementVNode"])("div",ay,[Object(C["createVNode"])(H,{onChange:t[16]||(t[16]=e=>h({colHeader:e.target.checked})),checked:s.value.colHeader,style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[ry]),_:1},8,["checked"]),Object(C["createVNode"])(H,{onChange:t[17]||(t[17]=e=>h({colFooter:e.target.checked})),checked:s.value.colFooter,style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[iy]),_:1},8,["checked"])]),Object(C["createElementVNode"])("div",sy,[dy,Object(C["createVNode"])(N,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(O,{modelValue:s.value.color,"onUpdate:modelValue":t[18]||(t[18]=e=>h({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:s.value.color,style:{flex:"3"}},null,8,["color"])]),_:1})])],64)):Object(C["createCommentVNode"])("",!0)])}}});l("dcd4");const by=V()(uy,[["__scopeId","data-v-7e28e1d8"]]);var my=by;const py=e=>(Object(C["pushScopeId"])("data-v-546adf8c"),e=e(),Object(C["popScopeId"])(),e),Oy={class:"latex-style-panel"},fy={class:"row"},jy=Object(C["createTextVNode"])("编辑 LaTeX"),vy={class:"row"},hy=py(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"颜色：",-1)),yy={class:"row"},gy=py(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"粗细：",-1));var xy=Object(C["defineComponent"])({__name:"LatexStylePanel",setup(e){const t=Uo(),{handleElement:l}=Object(N["c"])(Yo()),o=l,n=Object(C["ref"])(!1),{addHistorySnapshot:c}=Pn(),a=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),c())},r=e=>{a({path:e.path,latex:e.latex,width:e.w,height:e.h,viewBox:[e.w,e.h]})},i=()=>n.value=!0;return _i.on(Bi.OPEN_LATEX_EDITOR,i),Object(C["onUnmounted"])(()=>{_i.off(Bi.OPEN_LATEX_EDITOR,i)}),(e,t)=>{const l=Object(C["resolveComponent"])("Button"),c=Object(C["resolveComponent"])("Divider"),i=Object(C["resolveComponent"])("ColorPicker"),s=Object(C["resolveComponent"])("Popover"),d=Object(C["resolveComponent"])("InputNumber"),u=Object(C["resolveComponent"])("Modal");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Oy,[Object(C["createElementVNode"])("div",fy,[Object(C["createVNode"])(l,{style:{flex:"1"},onClick:t[0]||(t[0]=e=>n.value=!0)},{default:Object(C["withCtx"])(()=>[jy]),_:1})]),Object(C["createVNode"])(c),Object(C["createElementVNode"])("div",vy,[hy,Object(C["createVNode"])(s,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(o).color,"onUpdate:modelValue":t[1]||(t[1]=e=>a({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:Object(C["unref"])(o).color,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",yy,[gy,Object(C["createVNode"])(d,{min:1,max:3,value:Object(C["unref"])(o).strokeWidth,onChange:t[2]||(t[2]=e=>a({strokeWidth:e})),style:{flex:"3"}},null,8,["value"])]),Object(C["createVNode"])(u,{visible:n.value,"onUpdate:visible":t[5]||(t[5]=e=>n.value=e),footer:null,centered:"",width:880,destroyOnClose:""},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(zO,{value:Object(C["unref"])(o).latex,onClose:t[3]||(t[3]=e=>n.value=!1),onUpdate:t[4]||(t[4]=e=>{r(e),n.value=!1})},null,8,["value"])]),_:1},8,["visible"])])}}});l("c041");const ky=V()(xy,[["__scopeId","data-v-546adf8c"]]);var Cy=ky;const Ny=e=>(Object(C["pushScopeId"])("data-v-ff7125dc"),e=e(),Object(C["popScopeId"])(),e),Ey={class:"video-style-panel"},wy=Ny(()=>Object(C["createElementVNode"])("div",{class:"title"},"视频预览封面",-1)),Vy={class:"background-image-wrapper"},Iy={class:"background-image"},By={class:"row"},Sy=Object(C["createTextVNode"])("重置封面");var Ly=Object(C["defineComponent"])({__name:"VideoStylePanel",setup(e){const t=Uo(),{handleElement:l}=Object(N["c"])(Yo()),o=l,{addHistorySnapshot:n}=Pn(),c=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),n())},a=e=>{const t=e[0];t&&Mn(t).then(e=>c({poster:e}))};return(e,t)=>{const l=Object(C["resolveComponent"])("IconPlus"),n=Object(C["resolveComponent"])("FileInput"),r=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Ey,[wy,Object(C["createElementVNode"])("div",Vy,[Object(C["createVNode"])(n,{onChange:t[0]||(t[0]=e=>a(e))},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",Iy,[Object(C["createElementVNode"])("div",{class:"content",style:Object(C["normalizeStyle"])({backgroundImage:`url(${Object(C["unref"])(o).poster})`})},[Object(C["createVNode"])(l)],4)])]),_:1})]),Object(C["createElementVNode"])("div",By,[Object(C["createVNode"])(r,{style:{flex:"1"},onClick:t[1]||(t[1]=e=>c({poster:""}))},{default:Object(C["withCtx"])(()=>[Sy]),_:1})])])}}});l("a81a");const _y=V()(Ly,[["__scopeId","data-v-ff7125dc"]]);var Ty=_y;const My=e=>(Object(C["pushScopeId"])("data-v-5d723d50"),e=e(),Object(C["popScopeId"])(),e),Dy={class:"audio-style-panel"},zy={class:"row"},Fy=My(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"图标颜色：",-1)),Ay={class:"row switch-row"},$y=My(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"自动播放：",-1)),Ry={class:"switch-wrapper",style:{flex:"3"}},Py={class:"row switch-row"},Hy=My(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"循环播放：",-1)),qy={class:"switch-wrapper",style:{flex:"3"}};var Uy=Object(C["defineComponent"])({__name:"AudioStylePanel",setup(e){const t=Uo(),{handleElement:l}=Object(N["c"])(Yo()),o=l,{addHistorySnapshot:n}=Pn(),c=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),n())};return(e,t)=>{const l=Object(C["resolveComponent"])("ColorPicker"),n=Object(C["resolveComponent"])("Popover"),a=Object(C["resolveComponent"])("Switch");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Dy,[Object(C["createElementVNode"])("div",zy,[Fy,Object(C["createVNode"])(n,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l,{modelValue:Object(C["unref"])(o).color,"onUpdate:modelValue":t[0]||(t[0]=e=>c({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:Object(C["unref"])(o).color,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",Ay,[$y,Object(C["createElementVNode"])("div",Ry,[Object(C["createVNode"])(a,{checked:Object(C["unref"])(o).autoplay,onChange:t[1]||(t[1]=e=>c({autoplay:e}))},null,8,["checked"])])]),Object(C["createElementVNode"])("div",Py,[Hy,Object(C["createElementVNode"])("div",qy,[Object(C["createVNode"])(a,{checked:Object(C["unref"])(o).loop,onChange:t[2]||(t[2]=e=>c({loop:e}))},null,8,["checked"])])])])}}});l("795e");const Gy=V()(Uy,[["__scopeId","data-v-5d723d50"]]);var Xy=Gy;const Yy=e=>(Object(C["pushScopeId"])("data-v-71469855"),e=e(),Object(C["popScopeId"])(),e),Zy={class:"multi-style-panel"},Wy={class:"row"},Jy=Yy(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"填充颜色：",-1)),Ky={class:"row"},Qy=Yy(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"边框样式：",-1)),eg=Object(C["createTextVNode"])("实线边框"),tg=Object(C["createTextVNode"])("虚线边框"),lg={class:"row"},og=Yy(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"边框颜色：",-1)),ng={class:"row"},cg=Yy(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"边框粗细：",-1)),ag=Object(C["createTextVNode"])("+"),rg=Object(C["createTextVNode"])("-");var ig=Object(C["defineComponent"])({__name:"MultiStylePanel",setup(e){const t=Uo(),{richTextAttrs:l,availableFonts:o,activeElementList:n}=Object(N["c"])(Yo()),{addHistorySnapshot:c}=Pn(),a=(e,l)=>{t.updateElement({id:e,props:l}),c()},r=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],i=Object(C["ref"])("#fff"),s=Object(C["ref"])({width:0,color:"#fff",style:"solid"}),d=e=>{for(const t of n.value){if("text"!==t.type&&"shape"!==t.type&&"chart"!==t.type||a(t.id,{fill:e}),"table"===t.type){const l=JSON.parse(JSON.stringify(t.data));for(let t=0;t<l.length;t++)for(let o=0;o<l[t].length;o++){const n=l[t][o].style||{};l[t][o].style={...n,backcolor:e}}a(t.id,{data:l})}"audio"===t.type&&a(t.id,{color:e})}i.value=e},u=e=>{for(const t of n.value){if("text"===t.type||"image"===t.type||"shape"===t.type||"table"===t.type||"chart"===t.type){const l=t.outline||{width:2,color:"#000",style:"solid"},o={outline:{...l,...e}};a(t.id,o)}"line"===t.type&&a(t.id,e)}s.value={...s.value,...e}},b=(e,t)=>{for(const o of n.value){var l;if(("text"===o.type||"shape"===o.type&&null!==(l=o.text)&&void 0!==l&&l.content)&&_i.emit(Bi.RICH_TEXT_COMMAND,{target:o.id,action:{command:e,value:t}}),"table"===o.type){const l=JSON.parse(JSON.stringify(o.data));for(let o=0;o<l.length;o++)for(let n=0;n<l[o].length;n++){const c=l[o][n].style||{};l[o][n].style={...c,[e]:t}}a(o.id,{data:l})}"latex"===o.type&&"color"===e&&a(o.id,{color:t})}};return(e,t)=>{const n=Object(C["resolveComponent"])("ColorPicker"),c=Object(C["resolveComponent"])("Popover"),a=Object(C["resolveComponent"])("Divider"),m=Object(C["resolveComponent"])("SelectOption"),p=Object(C["resolveComponent"])("Select"),O=Object(C["resolveComponent"])("InputNumber"),f=Object(C["resolveComponent"])("IconFontSize"),j=Object(C["resolveComponent"])("SelectOptGroup"),v=Object(C["resolveComponent"])("IconAddText"),h=Object(C["resolveComponent"])("InputGroup"),y=Object(C["resolveComponent"])("IconText"),g=Object(C["resolveComponent"])("Button"),x=Object(C["resolveComponent"])("Tooltip"),k=Object(C["resolveComponent"])("IconHighLight"),N=Object(C["resolveComponent"])("ButtonGroup"),E=Object(C["resolveComponent"])("IconAlignTextLeft"),w=Object(C["resolveComponent"])("RadioButton"),V=Object(C["resolveComponent"])("IconAlignTextCenter"),I=Object(C["resolveComponent"])("IconAlignTextRight"),B=Object(C["resolveComponent"])("RadioGroup");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Zy,[Object(C["createElementVNode"])("div",Wy,[Jy,Object(C["createVNode"])(c,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d(e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:i.value,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createVNode"])(a),Object(C["createElementVNode"])("div",Ky,[Qy,Object(C["createVNode"])(p,{style:{flex:"3"},value:s.value.style,onChange:t[1]||(t[1]=e=>u({style:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{value:"solid"},{default:Object(C["withCtx"])(()=>[eg]),_:1}),Object(C["createVNode"])(m,{value:"dashed"},{default:Object(C["withCtx"])(()=>[tg]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",lg,[og,Object(C["createVNode"])(c,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{modelValue:s.value.color,"onUpdate:modelValue":t[2]||(t[2]=e=>u({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:s.value.color||"#000",style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",ng,[cg,Object(C["createVNode"])(O,{value:s.value.width,onChange:t[3]||(t[3]=e=>u({width:e})),style:{flex:"3"}},null,8,["value"])]),Object(C["createVNode"])(a),Object(C["createVNode"])(h,{compact:"",class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{style:{flex:"3"},value:Object(C["unref"])(l).fontname,onChange:t[4]||(t[4]=e=>b("fontname",e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f)]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j,{label:"系统字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(o),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(m,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",{style:Object(C["normalizeStyle"])({fontFamily:e.value})},Object(C["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(C["createVNode"])(j,{label:"在线字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(xo),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(m,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"]),Object(C["createVNode"])(p,{style:{flex:"2"},value:Object(C["unref"])(l).fontsize,onChange:t[5]||(t[5]=e=>b("fontsize",e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(v)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(r,e=>Object(C["createVNode"])(m,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),Object(C["createVNode"])(N,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{modelValue:Object(C["unref"])(l).color,"onUpdate:modelValue":t[6]||(t[6]=e=>b("color",e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{class:"text-color-btn",style:{flex:"3"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(l).color})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(c,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{modelValue:Object(C["unref"])(l).backcolor,"onUpdate:modelValue":t[7]||(t[7]=e=>b("backcolor",e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字高亮"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{class:"text-color-btn",style:{flex:"3"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(l).backcolor})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大字号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{class:"font-size-btn",style:{flex:"2"},onClick:t[8]||(t[8]=e=>b("fontsize-add","2"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f),ag]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小字号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{class:"font-size-btn",style:{flex:"2"},onClick:t[9]||(t[9]=e=>b("fontsize-reduce","2"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f),rg]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(B,{class:"row","button-style":"solid",value:Object(C["unref"])(l).align,onChange:t[10]||(t[10]=e=>b("align",e.target.value))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(w,{value:"left",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(E)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(w,{value:"center",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(w,{value:"right",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"])])}}});l("1222");const sg=V()(ig,[["__scopeId","data-v-71469855"]]);var dg=sg;const ug={class:"element-style-panel"};var bg=Object(C["defineComponent"])({__name:"index",setup(e){const t={[Fn.TEXT]:xj,[Fn.IMAGE]:dv,[Fn.SHAPE]:Iv,[Fn.LINE]:Kv,[Fn.CHART]:Hh,[Fn.TABLE]:my,[Fn.LATEX]:Cy,[Fn.VIDEO]:Ty,[Fn.AUDIO]:Xy},{activeElementIdList:l,activeElementList:o,handleElement:n,activeGroupElementId:c}=Object(N["c"])(Yo()),a=Object(C["computed"])(()=>{if(l.value.length>1){if(!c.value)return dg;const e=o.value.find(e=>e.id===c.value);return e&&t[e.type]||null}return n.value&&t[n.value.type]||null});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",ug,[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(a))))]))}});const mg=bg;var pg=mg;const Og=e=>(Object(C["pushScopeId"])("data-v-43e5f476"),e=e(),Object(C["popScopeId"])(),e),fg={class:"element-positopn-panel"},jg=Og(()=>Object(C["createElementVNode"])("div",{class:"title"},"层级：",-1)),vg=Object(C["createTextVNode"])(" 置于顶层"),hg=Object(C["createTextVNode"])(" 置于底层"),yg=Object(C["createTextVNode"])(" 上移一层"),gg=Object(C["createTextVNode"])(" 下移一层"),xg=Og(()=>Object(C["createElementVNode"])("div",{class:"title"},"对齐：",-1)),kg={class:"row"},Cg=Og(()=>Object(C["createElementVNode"])("div",{style:{flex:"3"}},"位置：",-1)),Ng=Og(()=>Object(C["createElementVNode"])("div",{style:{flex:"1"}},null,-1)),Eg=Object(C["createStaticVNode"])('<div class="row" data-v-43e5f476><div style="flex:3;" data-v-43e5f476></div><div style="flex:4;" class="label" data-v-43e5f476>X</div><div style="flex:1;" data-v-43e5f476></div><div style="flex:4;" class="label" data-v-43e5f476>Y</div></div>',1),wg={class:"row"},Vg=Og(()=>Object(C["createElementVNode"])("div",{style:{flex:"3"}},"大小：",-1)),Ig={key:1,style:{flex:"1"}},Bg=Object(C["createStaticVNode"])('<div class="row" data-v-43e5f476><div style="flex:3;" data-v-43e5f476></div><div style="flex:4;" class="label" data-v-43e5f476>宽</div><div style="flex:1;" data-v-43e5f476></div><div style="flex:4;" class="label" data-v-43e5f476>高</div></div>',1),Sg={class:"row"},Lg=Og(()=>Object(C["createElementVNode"])("div",{style:{flex:"3"}},"旋转：",-1)),_g=Og(()=>Object(C["createElementVNode"])("div",{style:{flex:"1"}},null,-1));var Tg=Object(C["defineComponent"])({__name:"ElementPositionPanel",setup(e){const t=Uo(),{handleElement:l,handleElementId:o}=Object(N["c"])(Yo()),n=Object(C["ref"])(0),c=Object(C["ref"])(0),a=Object(C["ref"])(0),r=Object(C["ref"])(0),i=Object(C["ref"])(0),s=Object(C["ref"])(!1),d=Object(C["computed"])(()=>l.value&&Ra[l.value.type]||20);Object(C["watch"])(l,()=>{l.value&&(n.value=Object(Xt["round"])(l.value.left,1),c.value=Object(Xt["round"])(l.value.top,1),s.value="fixedRatio"in l.value&&!!l.value.fixedRatio,"line"!==l.value.type&&(a.value=Object(Xt["round"])(l.value.width,1),r.value=Object(Xt["round"])(l.value.height,1),i.value="rotate"in l.value&&void 0!==l.value.rotate?Object(Xt["round"])(l.value.rotate,1):0))},{deep:!0,immediate:!0});const{orderElement:u}=Qn(),{alignElementToCanvas:b}=Ka(),{addHistorySnapshot:m}=Pn(),p=e=>{const l={left:e};t.updateElement({id:o.value,props:l}),m()},O=e=>{const l={top:e};t.updateElement({id:o.value,props:l}),m()},f=(e,t)=>{if(l.value&&"shape"===l.value.type&&"pathFormula"in l.value&&l.value.pathFormula){const o=An[l.value.pathFormula];let n="";return n="editable"in o?o.formula(e,t,l.value.keypoint):o.formula(e,t),{viewBox:[e,t],path:n}}return null},j=e=>{let l={width:e};const n=f(e,r.value);n&&(l={...l,...n}),t.updateElement({id:o.value,props:l}),m()},v=e=>{let l={height:e};const n=f(a.value,e);n&&(l={...l,...n}),t.updateElement({id:o.value,props:l}),m()},h=e=>{const l={rotate:e};t.updateElement({id:o.value,props:l}),m()},y=e=>{const l={fixedRatio:e};t.updateElement({id:o.value,props:l}),m()},g=e=>{let l=45*Math.floor(i.value/45);"+"===e?l+=45:"-"===e&&(l-=45),l<-180&&(l=-180),l>180&&(l=180);const n={rotate:l};t.updateElement({id:o.value,props:n}),m()};return(e,t)=>{const o=Object(C["resolveComponent"])("IconSendToBack"),m=Object(C["resolveComponent"])("Button"),f=Object(C["resolveComponent"])("IconBringToFrontOne"),x=Object(C["resolveComponent"])("ButtonGroup"),k=Object(C["resolveComponent"])("IconBringToFront"),N=Object(C["resolveComponent"])("IconSentToBack"),E=Object(C["resolveComponent"])("Divider"),w=Object(C["resolveComponent"])("IconAlignLeft"),V=Object(C["resolveComponent"])("Tooltip"),I=Object(C["resolveComponent"])("IconAlignVertically"),B=Object(C["resolveComponent"])("IconAlignRight"),S=Object(C["resolveComponent"])("IconAlignTop"),L=Object(C["resolveComponent"])("IconAlignHorizontally"),_=Object(C["resolveComponent"])("IconAlignBottom"),T=Object(C["resolveComponent"])("InputNumber"),M=Object(C["resolveComponent"])("IconLock"),D=Object(C["resolveComponent"])("IconUnlock"),z=Object(C["resolveComponent"])("IconRotate");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",fg,[jg,Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[0]||(t[0]=e=>Object(C["unref"])(u)(Object(C["unref"])(l),Object(C["unref"])(dn).TOP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{class:"btn-icon"}),vg]),_:1}),Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[1]||(t[1]=e=>Object(C["unref"])(u)(Object(C["unref"])(l),Object(C["unref"])(dn).BOTTOM))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f,{class:"btn-icon"}),hg]),_:1})]),_:1}),Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[2]||(t[2]=e=>Object(C["unref"])(u)(Object(C["unref"])(l),Object(C["unref"])(dn).UP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k,{class:"btn-icon"}),yg]),_:1}),Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[3]||(t[3]=e=>Object(C["unref"])(u)(Object(C["unref"])(l),Object(C["unref"])(dn).DOWN))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{class:"btn-icon"}),gg]),_:1})]),_:1}),Object(C["createVNode"])(E),xg,Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[4]||(t[4]=e=>Object(C["unref"])(b)(Object(C["unref"])(un).LEFT))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(w)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"水平居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[5]||(t[5]=e=>Object(C["unref"])(b)(Object(C["unref"])(un).HORIZONTAL))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[6]||(t[6]=e=>Object(C["unref"])(b)(Object(C["unref"])(un).RIGHT))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(B)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[7]||(t[7]=e=>Object(C["unref"])(b)(Object(C["unref"])(un).TOP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(S)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"垂直居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[8]||(t[8]=e=>Object(C["unref"])(b)(Object(C["unref"])(un).VERTICAL))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(L)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[9]||(t[9]=e=>Object(C["unref"])(b)(Object(C["unref"])(un).BOTTOM))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(E),Object(C["createElementVNode"])("div",kg,[Cg,Object(C["createVNode"])(T,{step:5,value:n.value,onChange:t[10]||(t[10]=e=>p(e)),style:{flex:"4"}},null,8,["value"]),Ng,Object(C["createVNode"])(T,{step:5,value:c.value,onChange:t[11]||(t[11]=e=>O(e)),style:{flex:"4"}},null,8,["value"])]),Eg,"line"!==Object(C["unref"])(l).type?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",wg,[Vg,Object(C["createVNode"])(T,{min:Object(C["unref"])(d),max:1500,step:5,value:a.value,onChange:t[12]||(t[12]=e=>j(e)),style:{flex:"4"}},null,8,["min","value"]),["image","shape","audio"].includes(Object(C["unref"])(l).type)?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[s.value?(Object(C["openBlock"])(),Object(C["createBlock"])(V,{key:0,mouseLeaveDelay:0,mouseEnterDelay:.5,title:"解除宽高比锁定"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M,{style:{flex:"1"},class:"icon-btn",onClick:t[13]||(t[13]=e=>y(!1))})]),_:1},8,["mouseEnterDelay"])):(Object(C["openBlock"])(),Object(C["createBlock"])(V,{key:1,mouseLeaveDelay:0,mouseEnterDelay:.5,title:"宽高比锁定"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{style:{flex:"1"},class:"icon-btn",onClick:t[14]||(t[14]=e=>y(!0))})]),_:1},8,["mouseEnterDelay"]))],64)):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Ig)),Object(C["createVNode"])(T,{min:Object(C["unref"])(d),max:800,step:5,disabled:"text"===Object(C["unref"])(l).type,value:r.value,onChange:t[15]||(t[15]=e=>v(e)),style:{flex:"4"}},null,8,["min","disabled","value"])]),Bg],64)):Object(C["createCommentVNode"])("",!0),["line","video","audio"].includes(Object(C["unref"])(l).type)?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:1},[Object(C["createVNode"])(E),Object(C["createElementVNode"])("div",Sg,[Lg,Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"逆时针旋转"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{class:"icon-btn",onClick:t[16]||(t[16]=e=>g("-")),style:{flex:"2"}})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"顺时针旋转"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{class:"icon-btn",onClick:t[17]||(t[17]=e=>g("+")),style:Object(C["normalizeStyle"])({flex:2,transform:"rotateY(180deg)"})},null,8,["style"])]),_:1},8,["mouseEnterDelay"]),_g,Object(C["createVNode"])(T,{min:-180,max:180,step:5,value:i.value,onChange:t[18]||(t[18]=e=>h(e)),style:{flex:"4"}},null,8,["value"])])],64))])}}});l("cb45");const Mg=V()(Tg,[["__scopeId","data-v-43e5f476"]]);var Dg=Mg;const zg=1e3,Fg="click",Ag="animate__",$g=[{type:"bounce",name:"弹跳",children:[{name:"弹入",value:"bounceIn"},{name:"向右弹入",value:"bounceInLeft"},{name:"向左弹入",value:"bounceInRight"},{name:"向上弹入",value:"bounceInUp"},{name:"向下弹入",value:"bounceInDown"}]},{type:"fade",name:"浮现",children:[{name:"浮入",value:"fadeIn"},{name:"向下浮入",value:"fadeInDown"},{name:"向下长距浮入",value:"fadeInDownBig"},{name:"向右浮入",value:"fadeInLeft"},{name:"向右长距浮入",value:"fadeInLeftBig"},{name:"向左浮入",value:"fadeInRight"},{name:"向左长距浮入",value:"fadeInRightBig"},{name:"向上浮入",value:"fadeInUp"},{name:"向上长距浮入",value:"fadeInUpBig"},{name:"从左上浮入",value:"fadeInTopLeft"},{name:"从右上浮入",value:"fadeInTopRight"},{name:"从左下浮入",value:"fadeInBottomLeft"},{name:"从右下浮入",value:"fadeInBottomRight"}]},{type:"rotate",name:"旋转",children:[{name:"旋转进入",value:"rotateIn"},{name:"绕左下进入",value:"rotateInDownLeft"},{name:"绕右下进入",value:"rotateInDownRight"},{name:"绕左上进入",value:"rotateInUpLeft"},{name:"绕右上进入",value:"rotateInUpRight"}]},{type:"zoom",name:"缩放",children:[{name:"放大进入",value:"zoomIn"},{name:"向下放大进入",value:"zoomInDown"},{name:"从左放大进入",value:"zoomInLeft"},{name:"从右放大进入",value:"zoomInRight"},{name:"向上放大进入",value:"zoomInUp"}]},{type:"slide",name:"滑入",children:[{name:"向下滑入",value:"slideInDown"},{name:"从右滑入",value:"slideInLeft"},{name:"从左滑入",value:"slideInRight"},{name:"向上滑入",value:"slideInUp"}]},{type:"flip",name:"翻转",children:[{name:"X轴翻转进入",value:"flipInX"},{name:"Y轴翻转进入",value:"flipInY"}]},{type:"back",name:"放大滑入",children:[{name:"向下放大滑入",value:"backInDown"},{name:"从左放大滑入",value:"backInLeft"},{name:"从右放大滑入",value:"backInRight"},{name:"向上放大滑入",value:"backInUp"}]},{type:"lightSpeed",name:"飞入",children:[{name:"从右飞入",value:"lightSpeedInRight"},{name:"从左飞入",value:"lightSpeedInLeft"}]}],Rg=[{type:"bounce",name:"弹跳",children:[{name:"弹出",value:"bounceOut"},{name:"向左弹出",value:"bounceOutLeft"},{name:"向右弹出",value:"bounceOutRight"},{name:"向上弹出",value:"bounceOutUp"},{name:"向下弹出",value:"bounceOutDown"}]},{type:"fade",name:"浮现",children:[{name:"浮出",value:"fadeOut"},{name:"向下浮出",value:"fadeOutDown"},{name:"向下长距浮出",value:"fadeOutDownBig"},{name:"向左浮出",value:"fadeOutLeft"},{name:"向左长距浮出",value:"fadeOutLeftBig"},{name:"向右浮出",value:"fadeOutRight"},{name:"向右长距浮出",value:"fadeOutRightBig"},{name:"向上浮出",value:"fadeOutUp"},{name:"向上长距浮出",value:"fadeOutUpBig"},{name:"从左上浮出",value:"fadeOutTopLeft"},{name:"从右上浮出",value:"fadeOutTopRight"},{name:"从左下浮出",value:"fadeOutBottomLeft"},{name:"从右下浮出",value:"fadeOutBottomRight"}]},{type:"rotate",name:"旋转",children:[{name:"旋转退出",value:"rotateOut"},{name:"绕左下退出",value:"rotateOutDownLeft"},{name:"绕右下退出",value:"rotateOutDownRight"},{name:"绕左上退出",value:"rotateOutUpLeft"},{name:"绕右上退出",value:"rotateOutUpRight"}]},{type:"zoom",name:"缩放",children:[{name:"缩小退出",value:"zoomOut"},{name:"向下缩小退出",value:"zoomOutDown"},{name:"从左缩小退出",value:"zoomOutLeft"},{name:"从右缩小退出",value:"zoomOutRight"},{name:"向上缩小退出",value:"zoomOutUp"}]},{type:"slide",name:"滑出",children:[{name:"向下滑出",value:"slideOutDown"},{name:"从左滑出",value:"slideOutLeft"},{name:"从右滑出",value:"slideOutRight"},{name:"向上滑出",value:"slideOutUp"}]},{type:"flip",name:"翻转",children:[{name:"X轴翻转退出",value:"flipOutX"},{name:"Y轴翻转退出",value:"flipOutY"}]},{type:"back",name:"缩小滑出",children:[{name:"向下缩小滑出",value:"backOutDown"},{name:"从左缩小滑出",value:"backOutLeft"},{name:"从右缩小滑出",value:"backOutRight"},{name:"向上缩小滑出",value:"backOutUp"}]},{type:"lightSpeed",name:"飞出",children:[{name:"从右飞出",value:"lightSpeedOutRight"},{name:"从左飞出",value:"lightSpeedOutLeft"}]}],Pg=[{type:"shake",name:"晃动",children:[{name:"左右摇晃",value:"shakeX"},{name:"上下摇晃",value:"shakeY"},{name:"摇头",value:"headShake"},{name:"摆动",value:"swing"},{name:"晃动",value:"wobble"},{name:"惊恐",value:"tada"},{name:"果冻",value:"jello"}]},{type:"other",name:"其他",children:[{name:"弹跳",value:"bounce"},{name:"闪烁",value:"flash"},{name:"脉搏",value:"pulse"},{name:"橡皮筋",value:"rubberBand"},{name:"心跳（快）",value:"heartBeat"}]}],Hg=e=>(Object(C["pushScopeId"])("data-v-2f69234f"),e=e(),Object(C["popScopeId"])(),e),qg={class:"element-animation-panel"},Ug={key:0,class:"element-animation"},Gg={class:"tabs"},Xg=["onClick"],Yg={class:"type-title"},Zg={class:"pool-item-wrapper"},Wg=["onMouseenter","onClick"],Jg={key:0,class:"mask"},Kg=Object(C["createTextVNode"])(" 添加动画 "),Qg={key:1,class:"tip"},ex=Object(C["createTextVNode"])(" 选中画布中的元素添加动画"),tx={class:"sequence-content"},lx={class:"index"},ox={class:"text"},nx={class:"handler"},cx={key:0,class:"configs"},ax={class:"config-item"},rx=Hg(()=>Object(C["createElementVNode"])("div",{style:{flex:"3"}},"持续时长：",-1)),ix={class:"config-item"},sx=Hg(()=>Object(C["createElementVNode"])("div",{style:{flex:"3"}},"触发方式：",-1)),dx=Object(C["createTextVNode"])("主动触发"),ux=Object(C["createTextVNode"])("与上一动画同时"),bx=Object(C["createTextVNode"])("上一动画之后"),mx={class:"config-item"},px=Object(C["createTextVNode"])("更换动画");var Ox=Object(C["defineComponent"])({__name:"ElementAnimationPanel",setup(e){const t={};for(const C of $g)for(const e of C.children)t[e.value]=e.name;for(const C of Rg)for(const e of C.children)t[e.value]=e.name;for(const C of Pg)for(const e of C.children)t[e.value]=e.name;const l=["in","out","attention"],o=Uo(),{handleElement:n,handleElementId:c}=Object(N["c"])(Yo()),{currentSlide:a,formatedAnimations:r,currentSlideAnimations:i}=Object(N["c"])(o),s=[{key:"in",label:"入场"},{key:"out",label:"退场"},{key:"attention",label:"强调"}],d=Object(C["ref"])("in");Object(C["watch"])(()=>c.value,()=>{b.value=!1});const u=Object(C["ref"])(""),b=Object(C["ref"])(!1),{addHistorySnapshot:m}=Pn(),p=Object(C["computed"])(()=>{const e=[];for(let l=0;l<r.value.length;l++){const o=r.value[l];for(let n=0;n<o.animations.length;n++){const c=o.animations[n],r=a.value.elements.find(e=>e.id===c.elId);if(!r)continue;const i=$a[r.type],s=t[c.effect];e.push({...c,index:0===n?l+1:"",elType:i,animationEffect:s})}}return e}),O=Object(C["computed"])(()=>{const e=i.value,t=e.filter(e=>e.elId===c.value);return t||[]}),f=e=>{const t=i.value.filter(t=>t.id!==e);o.updateSlide({animations:t}),m()},j=e=>{const{newIndex:t,oldIndex:l}=e;if(l===t)return;const n=JSON.parse(JSON.stringify(i.value)),c=n[l];n.splice(l,1),n.splice(t,0,c),o.updateSlide({animations:n}),m()},v=(e,t,l)=>{const o=document.querySelector(`#editable-element-${e} [class^=editable-element-]`);if(o){const e=`${Ag}${t}`;document.documentElement.style.setProperty("--animate-duration",l+"ms"),o.classList.add(Ag+"animated",e);const n=()=>{document.documentElement.style.removeProperty("--animate-duration"),o.classList.remove(Ag+"animated",e)};o.addEventListener("animationend",n,{once:!0})}},h=(e,t)=>{if(t<100||t>5e3)return;const l=i.value.map(l=>l.id===e?{...l,duration:t}:l);o.updateSlide({animations:l}),m()},y=(e,t)=>{const l=i.value.map(l=>l.id===e?{...l,trigger:t}:l);o.updateSlide({animations:l}),m()},g=(e,t)=>{const l=i.value.map(l=>l.id===x.value?{...l,type:e,effect:t}:l);o.updateSlide({animations:l}),b.value=!1,m();const n=i.value.find(e=>e.elId===c.value),a=(null===n||void 0===n?void 0:n.duration)||zg;v(c.value,t,a)},x=Object(C["ref"])(""),k=(e,t)=>{if(x.value)return void g(e,t);const l=JSON.parse(JSON.stringify(i.value));l.push({id:Object(yo["b"])(10),elId:c.value,type:e,effect:t,duration:zg,trigger:Fg}),o.updateSlide({animations:l}),b.value=!1,m(),v(c.value,t,zg)},E=Object(C["ref"])(!1),w=e=>{e?setTimeout(()=>E.value=!0,600):E.value=!1},V=e=>{b.value=!0,x.value=e,w(!0)},I={in:$g,out:Rg,attention:Pg};return(e,t)=>{const o=Object(C["resolveComponent"])("IconEffects"),c=Object(C["resolveComponent"])("Button"),a=Object(C["resolveComponent"])("Popover"),r=Object(C["resolveComponent"])("IconClick"),i=Object(C["resolveComponent"])("Divider"),m=Object(C["resolveComponent"])("IconPlayOne"),g=Object(C["resolveComponent"])("Tooltip"),N=Object(C["resolveComponent"])("IconCloseSmall"),B=Object(C["resolveComponent"])("InputNumber"),S=Object(C["resolveComponent"])("SelectOption"),L=Object(C["resolveComponent"])("Select");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",qg,[Object(C["unref"])(n)?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Ug,[Object(C["createVNode"])(a,{trigger:"click",visible:b.value,"onUpdate:visible":t[2]||(t[2]=e=>b.value=e),onVisibleChange:t[3]||(t[3]=e=>w(e))},{content:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",Gg,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(s,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tab",e.key,{active:d.value===e.key}]),key:e.key,onClick:t=>d.value=e.key},Object(C["toDisplayString"])(e.label),11,Xg)),64))]),(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(l,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,[d.value===e?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["animation-pool",e]),key:e},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(I[e],l=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"pool-type",key:l.name},[Object(C["createElementVNode"])("div",Yg,Object(C["toDisplayString"])(l.name)+"：",1),Object(C["createElementVNode"])("div",Zg,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(l.children,l=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"pool-item",key:l.name,onMouseenter:e=>u.value=l.value,onMouseleave:t[0]||(t[0]=e=>u.value=""),onClick:t=>k(e,l.value)},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["animation-box",[Object(C["unref"])(Ag)+"animated",Object(C["unref"])(Ag)+"fast",u.value===l.value&&`${Object(C["unref"])(Ag)}${l.value}`]])},Object(C["toDisplayString"])(l.name),3)],40,Wg))),128))])]))),128)),E.value?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Jg))],2)):Object(C["createCommentVNode"])("",!0)],64))),64))]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{class:"element-animation-btn",onClick:t[1]||(t[1]=e=>x.value="")},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{style:{"margin-right":"5px"}}),Kg]),_:1})]),_:1},8,["visible"])])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Qg,[Object(C["createVNode"])(r,{style:{"margin-right":"5px"}}),ex])),Object(C["createVNode"])(i),Object(C["createVNode"])(Object(C["unref"])(WO.a),{class:"animation-sequence",modelValue:Object(C["unref"])(p),animation:300,scroll:!0,scrollSensitivity:50,handle:".sequence-content",onEnd:j,itemKey:"id"},{item:Object(C["withCtx"])(({element:e})=>{var t,l;return[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["sequence-item",[e.type,{active:(null===(t=Object(C["unref"])(n))||void 0===t?void 0:t.id)===e.elId}]])},[Object(C["createElementVNode"])("div",tx,[Object(C["createElementVNode"])("div",lx,Object(C["toDisplayString"])(e.index),1),Object(C["createElementVNode"])("div",ox,"【"+Object(C["toDisplayString"])(e.elType)+"】"+Object(C["toDisplayString"])(e.animationEffect),1),Object(C["createElementVNode"])("div",nx,[Object(C["createVNode"])(g,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"预览"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{class:"handler-btn",onClick:t=>v(e.elId,e.effect,e.duration)},null,8,["onClick"])]),_:2},1032,["mouseEnterDelay"]),Object(C["createVNode"])(g,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{class:"handler-btn",onClick:t=>f(e.id)},null,8,["onClick"])]),_:2},1032,["mouseEnterDelay"])])]),(null===(l=Object(C["unref"])(O)[0])||void 0===l?void 0:l.elId)===e.elId?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",cx,[Object(C["createVNode"])(i,{style:{margin:"16px 0"}}),Object(C["createElementVNode"])("div",ax,[rx,Object(C["createVNode"])(B,{min:500,max:3e3,step:500,value:e.duration,onChange:t=>h(e.id,t),style:{flex:"5"}},null,8,["value","onChange"])]),Object(C["createElementVNode"])("div",ix,[sx,Object(C["createVNode"])(L,{value:e.trigger,onChange:t=>y(e.id,t),style:{flex:"5"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(S,{value:"click"},{default:Object(C["withCtx"])(()=>[dx]),_:1}),Object(C["createVNode"])(S,{value:"meantime"},{default:Object(C["withCtx"])(()=>[ux]),_:1}),Object(C["createVNode"])(S,{value:"auto"},{default:Object(C["withCtx"])(()=>[bx]),_:1})]),_:2},1032,["value","onChange"])]),Object(C["createElementVNode"])("div",mx,[Object(C["createVNode"])(c,{style:{flex:"1"},onClick:t=>V(e.id)},{default:Object(C["withCtx"])(()=>[px]),_:2},1032,["onClick"])])])):Object(C["createCommentVNode"])("",!0)],2)]}),_:1},8,["modelValue"])])}}});l("cc39");const fx=V()(Ox,[["__scopeId","data-v-2f69234f"]]);var jx=fx;const vx=[{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#5b9bd5","#ed7d31","#a5a5a5","#ffc000","#4472c4","#70ad47"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#83992a","#3c9670","#44709d","#a23b32","#d87728","#deb340"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#e48312","#bd582c","#865640","#9b8357","#c2bc80","#94a088"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#bdc8df","#003fa9","#f5ba00","#ff7567","#7676d9","#923ffc"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#90c225","#54a121","#e6b91e","#e86618","#c42f19","#918756"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#1cade4","#2683c6","#27ced7","#42ba97","#3e8853","#62a39f"]},{background:"#e9efd6",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#a5300f","#de7e18","#9f8351","#728653","#92aa4c","#6aac91"]},{background:"#17444e",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#b01513","#ea6312","#e6b729","#6bab90","#55839a","#9e5d9d"]},{background:"#36234d",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#b31166","#e33d6f","#e45f3c","#e9943a","#9b6bf2","#d63cd0"]},{background:"#247fad",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#052f61","#a50e82","#14967c","#6a9e1f","#e87d37","#c62324"]},{background:"#103f55",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#40aebd","#97e8d5","#a1cf49","#628f3e","#f2df3a","#fcb01c"]},{background:"#242367",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#ac3ec1","#477bd1","#46b298","#90ba4c","#dd9d31","#e25345"]},{background:"#e4b75e",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#f0a22e","#a5644e","#b58b80","#c3986d","#a19574","#c17529"]},{background:"#333333",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#bdc8df","#003fa9","#f5ba00","#ff7567","#7676d9","#923ffc"]}];var hx=()=>{const e=Uo(),{slides:t,currentSlide:l,theme:o}=Object(N["c"])(e),{addHistorySnapshot:n}=Pn(),c=e=>{const t=[];for(const l of e.elements){if("shape"===l.type&&0!==Gt()(l.fill).getAlpha()){const e=Gt()(l.fill).toRgbString();t.includes(e)||t.push(e)}if("text"===l.type&&l.fill&&0!==Gt()(l.fill).getAlpha()){const e=Gt()(l.fill).toRgbString();t.includes(e)||t.push(e)}if("table"===l.type&&l.theme&&0!==Gt()(l.theme.color).getAlpha()){const e=Gt()(l.theme.color).toRgbString();t.includes(e)||t.push(e)}if("chart"===l.type&&l.fill&&0!==Gt()(l.fill).getAlpha()){const e=Gt()(l.fill).toRgbString();t.includes(e)||t.push(e)}if("line"===l.type&&0!==Gt()(l.color).getAlpha()){const e=Gt()(l.color).toRgbString();t.includes(e)||t.push(e)}if("audio"===l.type&&0!==Gt()(l.color).getAlpha()){const e=Gt()(l.color).toRgbString();t.includes(e)||t.push(e)}}return t},a=(e,t)=>{const l=c(e),o={};if(l.length>t.length){const e=Gt()(t[0]).analogous(l.length-t.length+10),o=e.map(e=>e.toHexString()).slice(1);t.push(...o)}for(let n=0;n<l.length;n++)o[l[n]]=t[n];return o},r=(e,t)=>{const l=a(e,t.colors);e.background&&"image"===e.background.type||(e.background={type:"solid",color:t.background});for(const o of e.elements){if("shape"===o.type&&(o.fill=l[Gt()(o.fill).toRgbString()]||o.fill,o.gradient&&delete o.gradient),"text"===o.type&&(o.fill&&(o.fill=l[Gt()(o.fill).toRgbString()]||o.fill),o.defaultColor=t.fontColor,o.defaultFontName=t.fontname),"table"===o.type){o.theme&&(o.theme.color=l[Gt()(o.theme.color).toRgbString()]||o.theme.color);for(const e of o.data)for(const l of e)l.style&&(l.style.color=t.fontColor,l.style.fontname=t.fontname)}"chart"===o.type&&(o.themeColor=[l[Gt()(o.themeColor[0]).toRgbString()]]||!1,o.gridColor=t.fontColor),"line"===o.type&&(o.color=l[Gt()(o.color).toRgbString()]||o.color),"audio"===o.type&&(o.color=l[Gt()(o.color).toRgbString()]||o.color),"latex"===o.type&&(o.color=t.fontColor)}},i=t=>{const o=JSON.parse(JSON.stringify(l.value));r(o,t),e.updateSlide({background:o.background,elements:o.elements}),n()},s=l=>{const o=JSON.parse(JSON.stringify(t.value));for(const e of o)r(e,l);e.setTheme({backgroundColor:l.background,themeColor:l.colors[0],fontColor:l.fontColor,fontName:l.fontname}),e.setSlides(o),n()},d=()=>{const l=JSON.parse(JSON.stringify(t.value)),{themeColor:c,backgroundColor:a,fontColor:r,fontName:i}=o.value;for(const e of l){e.background&&"image"===e.background.type||(e.background={type:"solid",color:a});for(const t of e.elements)if("shape"===t.type)t.fill=c;else if("line"===t.type)t.color=c;else if("text"===t.type)t.defaultColor=r,t.defaultFontName=i,t.fill&&(t.fill=c);else if("table"===t.type){t.theme&&(t.theme.color=c);for(const e of t.data)for(const t of e)t.style&&(t.style.color=r,t.style.fontname=i)}else"chart"===t.type?(t.themeColor=[c],t.gridColor=r):"latex"===t.type?t.color=r:"audio"===t.type&&(t.color=c)}e.setSlides(l),n()};return{applyPresetThemeToSingleSlide:i,applyPresetThemeToAllSlides:s,applyThemeToAllSlides:d}};const yx=e=>(Object(C["pushScopeId"])("data-v-8c16beae"),e=e(),Object(C["popScopeId"])(),e),gx={class:"slide-design-panel"},xx=yx(()=>Object(C["createElementVNode"])("div",{class:"title"},"背景填充",-1)),kx={class:"row"},Cx=Object(C["createTextVNode"])("纯色填充"),Nx=Object(C["createTextVNode"])("图片填充"),Ex=Object(C["createTextVNode"])("渐变填充"),wx=yx(()=>Object(C["createElementVNode"])("div",{style:{flex:"1"}},null,-1)),Vx=Object(C["createTextVNode"])("缩放"),Ix=Object(C["createTextVNode"])("拼贴"),Bx=Object(C["createTextVNode"])("缩放铺满"),Sx=Object(C["createTextVNode"])("线性渐变"),Lx=Object(C["createTextVNode"])("径向渐变"),_x={key:0,class:"background-image-wrapper"},Tx={class:"background-image"},Mx={key:1,class:"background-gradient-wrapper"},Dx={class:"row"},zx=yx(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"起点颜色：",-1)),Fx={class:"row"},Ax=yx(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"终点颜色：",-1)),$x={key:0,class:"row"},Rx=yx(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"渐变角度：",-1)),Px={class:"row"},Hx=Object(C["createTextVNode"])("应用背景到全部"),qx={class:"row"},Ux=yx(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"画布尺寸：",-1)),Gx=Object(C["createTextVNode"])("宽屏 16 : 9"),Xx=Object(C["createTextVNode"])("宽屏 16 ：10"),Yx=Object(C["createTextVNode"])("标准 4 ：3"),Zx=yx(()=>Object(C["createElementVNode"])("div",{class:"title"},"全局主题",-1)),Wx={class:"row"},Jx=yx(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"字体：",-1)),Kx={class:"row"},Qx=yx(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"字体颜色：",-1)),ek={class:"row"},tk=yx(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"背景颜色：",-1)),lk={class:"row"},ok=yx(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"主题色：",-1)),nk={class:"row"},ck=Object(C["createTextVNode"])("应用主题到全部"),ak=yx(()=>Object(C["createElementVNode"])("div",{class:"title"},"预置主题",-1)),rk={class:"theme-list"},ik={class:"theme-item-content"},sk={class:"colors"},dk={class:"btns"},uk=["onClick"],bk=["onClick"];var mk=Object(C["defineComponent"])({__name:"SlideDesignPanel",setup(e){const t=Uo(),{availableFonts:l}=Object(N["c"])(Yo()),{slides:o,currentSlide:n,viewportRatio:c,theme:a}=Object(N["c"])(t),r=Object(C["computed"])(()=>n.value.background?n.value.background:{type:"solid",value:"#fff"}),{addHistorySnapshot:i}=Pn(),{applyPresetThemeToSingleSlide:s,applyPresetThemeToAllSlides:d,applyThemeToAllSlides:u}=hx(),b=e=>{if("solid"===e){const e={...r.value,type:"solid",color:r.value.color||"#fff"};t.updateSlide({background:e})}else if("image"===e){const e={...r.value,type:"image",image:r.value.image||"",imageSize:r.value.imageSize||"cover"};t.updateSlide({background:e})}else{const e={...r.value,type:"gradient",gradientType:r.value.gradientType||"linear",gradientColor:r.value.gradientColor||["#fff","#fff"],gradientRotate:r.value.gradientRotate||0};t.updateSlide({background:e})}i()},m=e=>{t.updateSlide({background:{...r.value,...e}}),i()},p=e=>{const t=e[0];t&&Mn(t).then(e=>m({image:e}))},O=()=>{const e=o.value.map(e=>({...e,background:n.value.background}));t.setSlides(e),i()},f=e=>{t.setTheme(e)},j=e=>{t.setViewportRatio(e)};return(e,t)=>{const o=Object(C["resolveComponent"])("SelectOption"),n=Object(C["resolveComponent"])("Select"),i=Object(C["resolveComponent"])("ColorPicker"),v=Object(C["resolveComponent"])("Popover"),h=Object(C["resolveComponent"])("IconPlus"),y=Object(C["resolveComponent"])("FileInput"),g=Object(C["resolveComponent"])("Slider"),x=Object(C["resolveComponent"])("Button"),k=Object(C["resolveComponent"])("Divider"),N=Object(C["resolveComponent"])("SelectOptGroup");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",gx,[xx,Object(C["createElementVNode"])("div",kx,[Object(C["createVNode"])(n,{style:{flex:"10"},value:Object(C["unref"])(r).type,onChange:t[0]||(t[0]=e=>b(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{value:"solid"},{default:Object(C["withCtx"])(()=>[Cx]),_:1}),Object(C["createVNode"])(o,{value:"image"},{default:Object(C["withCtx"])(()=>[Nx]),_:1}),Object(C["createVNode"])(o,{value:"gradient"},{default:Object(C["withCtx"])(()=>[Ex]),_:1})]),_:1},8,["value"]),wx,"solid"===Object(C["unref"])(r).type?(Object(C["openBlock"])(),Object(C["createBlock"])(v,{key:0,trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(r).color,"onUpdate:modelValue":t[1]||(t[1]=e=>m({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:Object(C["unref"])(r).color||"#fff",style:{flex:"10"}},null,8,["color"])]),_:1})):"image"===Object(C["unref"])(r).type?(Object(C["openBlock"])(),Object(C["createBlock"])(n,{key:1,style:{flex:"10"},value:Object(C["unref"])(r).imageSize||"cover",onChange:t[2]||(t[2]=e=>m({imageSize:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{value:"contain"},{default:Object(C["withCtx"])(()=>[Vx]),_:1}),Object(C["createVNode"])(o,{value:"repeat"},{default:Object(C["withCtx"])(()=>[Ix]),_:1}),Object(C["createVNode"])(o,{value:"cover"},{default:Object(C["withCtx"])(()=>[Bx]),_:1})]),_:1},8,["value"])):(Object(C["openBlock"])(),Object(C["createBlock"])(n,{key:2,style:{flex:"10"},value:Object(C["unref"])(r).gradientType,onChange:t[3]||(t[3]=e=>m({gradientType:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{value:"linear"},{default:Object(C["withCtx"])(()=>[Sx]),_:1}),Object(C["createVNode"])(o,{value:"radial"},{default:Object(C["withCtx"])(()=>[Lx]),_:1})]),_:1},8,["value"]))]),"image"===Object(C["unref"])(r).type?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",_x,[Object(C["createVNode"])(y,{onChange:t[4]||(t[4]=e=>p(e))},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",Tx,[Object(C["createElementVNode"])("div",{class:"content",style:Object(C["normalizeStyle"])({backgroundImage:`url(${Object(C["unref"])(r).image})`})},[Object(C["createVNode"])(h)],4)])]),_:1})])):Object(C["createCommentVNode"])("",!0),"gradient"===Object(C["unref"])(r).type?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Mx,[Object(C["createElementVNode"])("div",Dx,[zx,Object(C["createVNode"])(v,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(r).gradientColor[0],"onUpdate:modelValue":t[5]||(t[5]=e=>m({gradientColor:[e,Object(C["unref"])(r).gradientColor[1]]}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:Object(C["unref"])(r).gradientColor[0],style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",Fx,[Ax,Object(C["createVNode"])(v,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(r).gradientColor[1],"onUpdate:modelValue":t[6]||(t[6]=e=>m({gradientColor:[Object(C["unref"])(r).gradientColor[0],e]}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:Object(C["unref"])(r).gradientColor[1],style:{flex:"3"}},null,8,["color"])]),_:1})]),"linear"===Object(C["unref"])(r).gradientType?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",$x,[Rx,Object(C["createVNode"])(g,{class:"slider",min:0,max:360,step:15,value:Object(C["unref"])(r).gradientRotate,onChange:t[7]||(t[7]=e=>m({gradientRotate:e}))},null,8,["value"])])):Object(C["createCommentVNode"])("",!0)])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",Px,[Object(C["createVNode"])(x,{style:{flex:"1"},onClick:t[8]||(t[8]=e=>O())},{default:Object(C["withCtx"])(()=>[Hx]),_:1})]),Object(C["createVNode"])(k),Object(C["createElementVNode"])("div",qx,[Ux,Object(C["createVNode"])(n,{style:{flex:"3"},value:Object(C["unref"])(c),onChange:t[9]||(t[9]=e=>j(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{value:.5625},{default:Object(C["withCtx"])(()=>[Gx]),_:1},8,["value"]),Object(C["createVNode"])(o,{value:.625},{default:Object(C["withCtx"])(()=>[Xx]),_:1},8,["value"]),Object(C["createVNode"])(o,{value:.75},{default:Object(C["withCtx"])(()=>[Yx]),_:1},8,["value"])]),_:1},8,["value"])]),Object(C["createVNode"])(k),Zx,Object(C["createElementVNode"])("div",Wx,[Jx,Object(C["createVNode"])(n,{style:{flex:"3"},value:Object(C["unref"])(a).fontName,onChange:t[10]||(t[10]=e=>f({fontName:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{label:"系统字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",{style:Object(C["normalizeStyle"])({fontFamily:e.value})},Object(C["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(C["createVNode"])(N,{label:"在线字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(xo),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",Kx,[Qx,Object(C["createVNode"])(v,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(a).fontColor,"onUpdate:modelValue":t[11]||(t[11]=e=>f({fontColor:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:Object(C["unref"])(a).fontColor,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",ek,[tk,Object(C["createVNode"])(v,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(a).backgroundColor,"onUpdate:modelValue":t[12]||(t[12]=e=>f({backgroundColor:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:Object(C["unref"])(a).backgroundColor,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",lk,[ok,Object(C["createVNode"])(v,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(a).themeColor,"onUpdate:modelValue":t[13]||(t[13]=e=>f({themeColor:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(gf,{color:Object(C["unref"])(a).themeColor,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",nk,[Object(C["createVNode"])(x,{style:{flex:"1"},onClick:t[14]||(t[14]=e=>Object(C["unref"])(u)())},{default:Object(C["withCtx"])(()=>[ck]),_:1})]),Object(C["createVNode"])(k),ak,Object(C["createElementVNode"])("div",rk,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(vx),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"theme-item",key:t,style:Object(C["normalizeStyle"])({backgroundColor:e.background,fontFamily:e.fontname})},[Object(C["createElementVNode"])("div",ik,[Object(C["createElementVNode"])("div",{class:"text",style:Object(C["normalizeStyle"])({color:e.fontColor})},"文字 Aa",4),Object(C["createElementVNode"])("div",sk,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.colors,(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"color-block",key:t,style:Object(C["normalizeStyle"])({backgroundColor:e})},null,4))),128))]),Object(C["createElementVNode"])("div",dk,[Object(C["createElementVNode"])("div",{class:"btn",onClick:t=>Object(C["unref"])(s)(e)},"应用",8,uk),Object(C["createElementVNode"])("div",{class:"btn",onClick:t=>Object(C["unref"])(d)(e)},"应用全局",8,bk)])])],4))),128))])])}}});l("a330");const pk=V()(mk,[["__scopeId","data-v-8c16beae"]]);var Ok=pk;const fk={class:"slide-animation-panel"},jk={class:"animation-pool"},vk=["onClick"],hk={class:"animation-text"},yk=Object(C["createTextVNode"])("应用到全部");var gk=Object(C["defineComponent"])({__name:"SlideAnimationPanel",setup(e){const t=Uo(),{slides:l,currentSlide:o}=Object(N["c"])(t),n=Object(C["computed"])(()=>o.value.turningMode||"slideY"),c=[{label:"无",value:"no"},{label:"淡入淡出",value:"fade"},{label:"左右推移",value:"slideX"},{label:"上下推移",value:"slideY"}],{addHistorySnapshot:a}=Pn(),r=e=>{e!==n.value&&(t.updateSlide({turningMode:e}),a())},i=()=>{const e=l.value.map(e=>({...e,turningMode:o.value.turningMode}));t.setSlides(e),a()};return(e,t)=>{const l=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",fk,[Object(C["createElementVNode"])("div",jk,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(c,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["animation-item",{active:Object(C["unref"])(n)===e.value}]),key:e.label,onClick:t=>r(e.value)},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["animation-block",e.value])},null,2),Object(C["createElementVNode"])("div",hk,Object(C["toDisplayString"])(e.label),1)],10,vk)),64))]),Object(C["createVNode"])(l,{style:{width:"100%"},onClick:t[0]||(t[0]=e=>i())},{default:Object(C["withCtx"])(()=>[yk]),_:1})])}}});l("cc76");const xk=V()(gk,[["__scopeId","data-v-577ae912"]]);var kk=xk,Ck=()=>{const e=Uo(),{activeElementIdList:t,activeElementList:l}=Object(N["c"])(Yo()),{currentSlide:o}=Object(N["c"])(e),{addHistorySnapshot:n}=Pn(),c=c=>{const{minX:a,maxX:r,minY:i,maxY:s}=Vn(l.value),d=JSON.parse(JSON.stringify(o.value.elements)),u={};for(const e of l.value)if(e.groupId&&!u[e.groupId]){const t=l.value.filter(t=>t.groupId===e.groupId);u[e.groupId]=Vn(t)}if(c===un.LEFT)d.forEach(e=>{if(t.value.includes(e.id))if(e.groupId){const t=u[e.groupId],l=t.minX-a;e.left=e.left-l}else if("rotate"in e&&e.rotate){const{offsetX:t}=En({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.left=a-t}else e.left=a});else if(c===un.RIGHT)d.forEach(e=>{if(t.value.includes(e.id))if(e.groupId){const t=u[e.groupId],l=t.maxX-r;e.left=e.left-l}else{const t="line"===e.type?Math.max(e.start[0],e.end[0]):e.width;if("rotate"in e&&e.rotate){const{offsetX:l}=En({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.left=r-t+l}else e.left=r-t}});else if(c===un.TOP)d.forEach(e=>{if(t.value.includes(e.id))if(e.groupId){const t=u[e.groupId],l=t.minY-i;e.top=e.top-l}else if("rotate"in e&&e.rotate){const{offsetY:t}=En({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.top=i-t}else e.top=i});else if(c===un.BOTTOM)d.forEach(e=>{if(t.value.includes(e.id))if(e.groupId){const t=u[e.groupId],l=t.maxY-s;e.top=e.top-l}else{const t="line"===e.type?Math.max(e.start[1],e.end[1]):e.height;if("rotate"in e&&e.rotate){const{offsetY:l}=En({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.top=s-t+l}else e.top=s-t}});else if(c===un.HORIZONTAL){const e=(a+r)/2;d.forEach(l=>{if(t.value.includes(l.id))if(l.groupId){const t=u[l.groupId],o=(t.maxX+t.minX)/2,n=o-e;l.left=l.left-n}else{const t="line"===l.type?Math.max(l.start[0],l.end[0]):l.width;l.left=e-t/2}})}else if(c===un.VERTICAL){const e=(i+s)/2;d.forEach(l=>{if(t.value.includes(l.id))if(l.groupId){const t=u[l.groupId],o=(t.maxY+t.minY)/2,n=o-e;l.top=l.top-n}else{const t="line"===l.type?Math.max(l.start[1],l.end[1]):l.height;l.top=e-t/2}})}e.updateSlide({elements:d}),n()};return{alignActiveElement:c}},Nk=()=>{const e=Uo(),{activeElementIdList:t,activeElementList:l}=Object(N["c"])(Yo()),{currentSlide:o}=Object(N["c"])(e),{addHistorySnapshot:n}=Pn(),c=Object(C["computed"])(()=>{let e=0;const t=[];for(const o of l.value)o.groupId?t.includes(o.groupId)||(t.push(o.groupId),e+=1):e+=1;return e}),a=()=>{const{minX:c,maxX:a}=Vn(l.value),r=JSON.parse(JSON.stringify(l.value)),i=JSON.parse(JSON.stringify(o.value.elements)),s=[];let d=[];for(const e of r)if(e.groupId){const t=d.find(t=>t.groupId===e.groupId);t?d=d.map(t=>t.groupId===e.groupId?{...t,els:[...t.els,e]}:t):d.push({groupId:e.groupId,els:[e]})}else{const{minX:t,maxX:l}=wn(e);s.push({min:t,max:l,el:e})}const u=[];for(const e of d){const{minX:t,maxX:l}=Vn(e.els);u.push({min:t,max:l,els:e.els})}const b=[...s,...u];b.sort((e,t)=>e.min-t.min);let m=0;for(const e of b){const t=e.max-e.min;m+=t}const p=(a-c-m)/(b.length-1),O=[],f=b[0];let j={min:f.min,max:f.max};if("el"in f)O.push({pos:f.min,el:f.el});else for(const e of f.els){const{minX:t}=wn(e);O.push({pos:t,el:e})}for(let e=1;e<b.length;e++){const t=b[e],l=j.max-j.min,o=j.min+l+p,n=t.max-t.min;if(j={min:o,max:o+n},"el"in t)O.push({pos:o,el:t.el});else for(const e of t.els){const{minX:l}=wn(e),n=l-t.min;O.push({pos:o+n,el:e})}}for(const e of i)if(t.value.includes(e.id))for(const t of O)if(t.el.id===e.id)if("rotate"in e&&e.rotate){const{offsetX:l}=En({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.left=t.pos-l}else e.left=t.pos;e.updateSlide({elements:i}),n()},r=()=>{const{minY:c,maxY:a}=Vn(l.value),r=JSON.parse(JSON.stringify(l.value)),i=JSON.parse(JSON.stringify(o.value.elements)),s=[];let d=[];for(const e of r)if(e.groupId){const t=d.find(t=>t.groupId===e.groupId);t?d=d.map(t=>t.groupId===e.groupId?{...t,els:[...t.els,e]}:t):d.push({groupId:e.groupId,els:[e]})}else{const{minY:t,maxY:l}=wn(e);s.push({min:t,max:l,el:e})}const u=[];for(const e of d){const{minY:t,maxY:l}=Vn(e.els);u.push({min:t,max:l,els:e.els})}const b=[...s,...u];b.sort((e,t)=>e.min-t.min);let m=0;for(const e of b){const t=e.max-e.min;m+=t}const p=(a-c-m)/(b.length-1),O=[],f=b[0];let j={min:f.min,max:f.max};if("el"in f)O.push({pos:f.min,el:f.el});else for(const e of f.els){const{minY:t}=wn(e);O.push({pos:t,el:e})}for(let e=1;e<b.length;e++){const t=b[e],l=j.max-j.min,o=j.min+l+p,n=t.max-t.min;if(j={min:o,max:o+n},"el"in t)O.push({pos:o,el:t.el});else for(const e of t.els){const{minY:l}=wn(e),n=l-t.min;O.push({pos:o+n,el:e})}}for(const e of i)if(t.value.includes(e.id))for(const t of O)if(t.el.id===e.id)if("rotate"in e&&e.rotate){const{offsetY:l}=En({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.top=t.pos-l}else e.top=t.pos;e.updateSlide({elements:i}),n()};return{displayItemCount:c,uniformHorizontalDisplay:a,uniformVerticalDisplay:r}};const Ek={class:"multi-position-panel"},wk=Object(C["createTextVNode"])("水平均匀分布"),Vk=Object(C["createTextVNode"])("垂直均匀分布"),Ik=Object(C["createTextVNode"])("组合"),Bk=Object(C["createTextVNode"])("取消组合");var Sk=Object(C["defineComponent"])({__name:"MultiPositionPanel",setup(e){const{canCombine:t,combineElements:l,uncombineElements:o}=Zn(),{alignActiveElement:n}=Ck(),{alignElementToCanvas:c}=Ka(),{displayItemCount:a,uniformHorizontalDisplay:r,uniformVerticalDisplay:i}=Nk(),s=e=>{t.value?n(e):c(e)};return(e,n)=>{const c=Object(C["resolveComponent"])("IconAlignLeft"),d=Object(C["resolveComponent"])("Button"),u=Object(C["resolveComponent"])("Tooltip"),b=Object(C["resolveComponent"])("IconAlignHorizontally"),m=Object(C["resolveComponent"])("IconAlignRight"),p=Object(C["resolveComponent"])("ButtonGroup"),O=Object(C["resolveComponent"])("IconAlignTop"),f=Object(C["resolveComponent"])("IconAlignVertically"),j=Object(C["resolveComponent"])("IconAlignBottom"),v=Object(C["resolveComponent"])("Divider"),h=Object(C["resolveComponent"])("IconGroup"),y=Object(C["resolveComponent"])("IconUngroup");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Ek,[Object(C["createVNode"])(p,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:n[0]||(n[0]=e=>s(Object(C["unref"])(un).LEFT))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"水平居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:n[1]||(n[1]=e=>s(Object(C["unref"])(un).HORIZONTAL))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:n[2]||(n[2]=e=>s(Object(C["unref"])(un).RIGHT))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(p,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:n[3]||(n[3]=e=>s(Object(C["unref"])(un).TOP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(O)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"垂直居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:n[4]||(n[4]=e=>s(Object(C["unref"])(un).VERTICAL))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:n[5]||(n[5]=e=>s(Object(C["unref"])(un).BOTTOM))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["unref"])(a)>2?(Object(C["openBlock"])(),Object(C["createBlock"])(p,{key:0,class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:n[6]||(n[6]=e=>Object(C["unref"])(r)())},{default:Object(C["withCtx"])(()=>[wk]),_:1}),Object(C["createVNode"])(d,{style:{flex:"1"},onClick:n[7]||(n[7]=e=>Object(C["unref"])(i)())},{default:Object(C["withCtx"])(()=>[Vk]),_:1})]),_:1})):Object(C["createCommentVNode"])("",!0),Object(C["createVNode"])(v),Object(C["createVNode"])(p,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{disabled:!Object(C["unref"])(t),onClick:n[8]||(n[8]=e=>Object(C["unref"])(l)()),style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(h,{style:{"margin-right":"3px"}}),Ik]),_:1},8,["disabled"]),Object(C["createVNode"])(d,{disabled:Object(C["unref"])(t),onClick:n[9]||(n[9]=e=>Object(C["unref"])(o)()),style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y,{style:{"margin-right":"3px"}}),Bk]),_:1},8,["disabled"])]),_:1})])}}});l("1855");const Lk=V()(Sk,[["__scopeId","data-v-0d3881c5"]]);var _k=Lk;const Tk=[{key:"letter",label:"字母",children:["α","β","γ","δ","ϵ","ε","ζ","η","θ","ϑ","ι","κ","λ","μ","ν","ξ","π","ϖ","ρ","ϱ","σ","ς","τ","υ","ϕ","φ","χ","ψ","ω","Γ","Δ","Θ","Λ","Ξ","Π","Σ","Υ","Φ","Ψ","Ω","𝐀","𝐁","𝐂","𝐃","𝐄","𝐅","𝐆","𝐇","𝐈","𝐉","𝐊","𝐋","𝐌","𝐍","𝐎","𝐏","𝐐","𝐑","𝐒","𝐓","𝐔","𝐕","𝐖","𝐗","𝐘","𝐙","𝐚","𝐛","𝐜","𝐝","𝐞","𝐟","𝐠","𝐡","𝐢","𝐣","𝐤","𝐥","𝐦","𝐧","𝐨","𝐩","𝐪","𝐫","𝐬","𝐭","𝐮","𝐯","𝐰","𝐱","𝐲","𝐳","𝓐","𝓑","𝓒","𝓓","𝓔","𝓕","𝓖","𝓗","𝓘","𝓙","𝓚","𝓛","𝓜","𝓝","𝓞","𝓟","𝓠","𝓡","𝓢","𝓣","𝓤","𝓥","𝓦","𝓧","𝓨","𝓩","𝓪","𝓫","𝓬","𝓭","𝓮","𝓯","𝓰","𝓱","𝓲","𝓳","𝓴","𝓵","𝓶","𝓷","𝓸","𝓹","𝓺","𝓻","𝓼","𝓽","𝓾","𝓿","𝔀","𝔁","𝔂","𝔃"]},{key:"number",label:"序号",children:["①","②","③","④","⑤","⑥","⑦","⑧","⑨","⑩","⑪","⑫","⑬","⑭","⑮","⑯","⑰","⑱","⑲","⑳","⑴","⑵","⑶","⑷","⑸","⑹","⑺","⑻","⑼","⑽","⑾","⑿","⒀","⒁","⒂","⒃","⒄","⒅","⒆","⒇","º","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹","₀","₁","₂","₃","₄","₅","₆","₇","₈","₉","Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ","Ⅼ","Ⅽ","Ⅾ","Ⅿ","ⅰ","ⅱ","ⅲ","ⅳ","ⅴ","ⅵ","ⅶ","ⅷ","ⅸ","ⅹ","ⅺ","ⅻ","ⅼ","ⅽ","ⅾ","ⅿ","ↀ","ↁ","ↂ","㊀","㊁","㊂","㊃","㊄","㊅","㊆","㊇","㊈","㊉","㈠","㈡","㈢","㈣","㈤","㈥","㈦","㈧","㈨","㈩","𝟘","𝟙","𝟚","𝟛","𝟜","𝟝","𝟞","𝟟","𝟠","𝟡"]},{key:"math",label:"数学",children:["+","-","×","÷","=","~","¬","±","%","°","ǃ","‰","‱","½","⅓","⅔","¼","¾","<",">","l","o","g","l","g","l","n","⨂","⨁","⨄","⨃","⨅","⨆","√","∛","∜","∝","∞","∟","∠","∡","∢","∧","∨","∩","∪","∫","∬","∭","∮","∯","∰","∱","∲","∳","∴","∵","∼","∽","∾","∿","≃","≄","≅","≆","≇","≈","≊","≋","≌","≍","≎","≏","≐","≑","≒","≓","≔","≕","≤","≥","≦","≧","≨","≩","≪","≫","≺","≻","≼","≽","≾","≿","⊀","⊁","⊂","⊃","⊄","⊅","⊆","⊇","⊈","⊉","⊊","⊋","⊏","⊐","⊑","⊒","⊓","⊔","⊢","⊣","⊤","⊥","⊦","⊧","⊨","⊩","⊪","⊫","⊬","⊭","⊮","⊯","⊲","⊳","⊴","⊵","⋀","⋁","⋂","⋃","⋉","⋊","⋋","⋌","⟨","⟩","⟪","⟫","⟮","⟯","⧼","⧽","⦰"]},{key:"arrow",label:"箭头",children:["←","↑","→","↓","↔","↕","↖","↗","↘","↙","↚","↛","↜","↝","↞","↟","↠","↡","↢","↣","↤","↥","↦","↧","↨","↫","↬","↭","↮","↯","↰","↱","↲","↳","↴","↵","↶","↷","↸","↹","↺","↻","↼","↽","↾","↿","⇀","⇁","⇂","⇃","⇄","⇅","⇆","⇇","⇈","⇉","⇊","⇋","⇌","⇍","⇎","⇏","⇐","⇑","⇒","⇓","⇔","⇕","⇖","⇗","⇘","⇙","⇚","⇛","⇜","⇝","⇞","⇟","⇠","⇡","⇢","⇣","⇤","⇥","⇦","⇧","⇨","⇩","⇪","⇫","⇬","⇭","⇮","⇯","⇰","⇱","⇲","⇳","⇴","⇵","⇶","⇷","⇸","⇹","⇺","⇻","⇼","⇽","⇾","⇿"]},{key:"graph",label:"图形",children:["▢","▣","▤","▥","▦","▧","▨","▩","▭","▮","▯","▰","▱","▲","▷","▼","◁","◈","◉","◍","◐","◑","◒","◓","◔","◕","◧","◨","◩","◪","◫","◬","◭","◮"]}],Mk={class:"symbol-panel"},Dk={class:"tabs"},zk=["onClick"],Fk={class:"pool"},Ak=["onClick"],$k={class:"symbol"};var Rk=Object(C["defineComponent"])({__name:"SymbolPanel",setup(e){const t=Object(C["ref"])(Tk[0].key),l=Object(C["computed"])(()=>{const e=Tk.find(e=>e.key===t.value);return(null===e||void 0===e?void 0:e.children)||[]}),o=e=>{_i.emit(Bi.RICH_TEXT_COMMAND,{action:{command:"insert",value:e}})};return(e,n)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Mk,[Object(C["createElementVNode"])("div",Dk,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(Tk),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["tab",{active:t.value===e.key}]),key:e.key,onClick:l=>t.value=e.key},Object(C["toDisplayString"])(e.label),11,zk))),128))]),Object(C["createElementVNode"])("div",Fk,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"symbol-item",key:t,onClick:t=>o(e)},[Object(C["createElementVNode"])("div",$k,Object(C["toDisplayString"])(e),1)],8,Ak))),128))])]))}});l("1126");const Pk=V()(Rk,[["__scopeId","data-v-ba0c96fc"]]);var Hk=Pk;const qk={class:"toolbar"},Uk={class:"tabs"},Gk=["onClick"],Xk={class:"content"};var Yk=Object(C["defineComponent"])({__name:"index",setup(e){const t=Yo(),{activeElementIdList:l,handleElement:o,toolbarState:n}=Object(N["c"])(t),c=Object(C["computed"])(()=>{var e;return"text"===(null===(e=o.value)||void 0===e?void 0:e.type)?[{label:"样式",value:fo.EL_STYLE},{label:"符号",value:fo.SYMBOL},{label:"位置",value:fo.EL_POSITION},{label:"动画",value:fo.EL_ANIMATION}]:[{label:"样式",value:fo.EL_STYLE},{label:"位置",value:fo.EL_POSITION},{label:"动画",value:fo.EL_ANIMATION}]}),a=[{label:"设计",value:fo.SLIDE_DESIGN},{label:"切换",value:fo.SLIDE_ANIMATION},{label:"动画",value:fo.EL_ANIMATION}],r=[{label:"样式",value:fo.EL_STYLE},{label:"位置",value:fo.MULTI_POSITION}],i=e=>{t.setToolbarState(e)},s=Object(C["computed"])(()=>l.value.length?l.value.length>1?r:c.value:a);Object(C["watch"])(s,()=>{const e=s.value.map(e=>e.value);e.includes(n.value)||t.setToolbarState(e[0])});const d=Object(C["computed"])(()=>{const e={[fo.EL_STYLE]:pg,[fo.EL_POSITION]:Dg,[fo.EL_ANIMATION]:jx,[fo.SLIDE_DESIGN]:Ok,[fo.SLIDE_ANIMATION]:kk,[fo.MULTI_POSITION]:_k,[fo.SYMBOL]:Hk};return e[n.value]||null});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",qk,[Object(C["createElementVNode"])("div",Uk,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(s),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["tab",{active:e.value===Object(C["unref"])(n)}]),key:e.value,onClick:t=>i(e.value)},Object(C["toDisplayString"])(e.label),11,Gk))),128))]),Object(C["createElementVNode"])("div",Xk,[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(d))))])]))}});l("cd7e");const Zk=V()(Yk,[["__scopeId","data-v-5303bd17"]]);var Wk=Zk;const Jk={class:"remark"},Kk=["value"];var Qk=Object(C["defineComponent"])({__name:"index",props:{height:{type:Number,required:!0}},emits:["update:height"],setup(e,{emit:t}){const l=e,o=Uo(),{currentSlide:n}=Object(N["c"])(o),c=Object(C["computed"])(()=>{var e;return(null===(e=n.value)||void 0===e?void 0:e.remark)||""}),a=e=>{const t=e.target.value;o.updateSlide({remark:t})},r=e=>{let o=!0;const n=e.pageY,c=l.height;document.onmousemove=e=>{if(!o)return;const l=e.pageY,a=l-n;let r=-a+c;r<40&&(r=40),r>120&&(r=120),t("update:height",r)},document.onmouseup=()=>{o=!1,document.onmousemove=null,document.onmouseup=null}};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Jk,[Object(C["createElementVNode"])("div",{class:"resize-handler",onMousedown:t[0]||(t[0]=e=>r(e))},null,32),Object(C["createElementVNode"])("textarea",{value:Object(C["unref"])(c),placeholder:"点击输入演讲者备注",onInput:t[1]||(t[1]=e=>a(e))},null,40,Kk)]))}});l("ec27");const eC=V()(Qk,[["__scopeId","data-v-82b674f6"]]);var tC=eC;const lC=e=>(Object(C["pushScopeId"])("data-v-60a953a0"),e=e(),Object(C["popScopeId"])(),e),oC={class:"export-img-dialog"},nC={class:"thumbnails-view"},cC={class:"configs"},aC={class:"row"},rC=lC(()=>Object(C["createElementVNode"])("div",{class:"title"},"导出格式：",-1)),iC=Object(C["createTextVNode"])("JPEG"),sC=Object(C["createTextVNode"])("PNG"),dC={class:"row"},uC=lC(()=>Object(C["createElementVNode"])("div",{class:"title"},"导出范围：",-1)),bC=Object(C["createTextVNode"])("全部"),mC=Object(C["createTextVNode"])("当前页"),pC=Object(C["createTextVNode"])("自定义"),OC={key:0,class:"row"},fC=["data-range"],jC={class:"row"},vC=lC(()=>Object(C["createElementVNode"])("div",{class:"title"},"图片质量：",-1)),hC={class:"row"},yC=lC(()=>Object(C["createElementVNode"])("div",{class:"title"},"忽略在线字体：",-1)),gC={class:"config-item"},xC={class:"btns"},kC=Object(C["createTextVNode"])("导出图片"),CC=Object(C["createTextVNode"])("关闭");var NC=Object(C["defineComponent"])({__name:"ExportImage",emits:["close"],setup(e,{emit:t}){const{slides:l,currentSlide:o}=Object(N["c"])(Uo()),n=Object(C["ref"])(),c=Object(C["ref"])("all"),a=Object(C["ref"])([1,l.value.length]),r=Object(C["ref"])("jpeg"),i=Object(C["ref"])(1),s=Object(C["ref"])(!0),d=Object(C["computed"])(()=>"all"===c.value?l.value:"current"===c.value?[o.value]:l.value.filter((e,t)=>{const[l,o]=a.value;return t>=l-1&&t<=o-1})),{exportImage:u,exporting:b}=Pc(),m=()=>{n.value&&u(n.value,r.value,i.value,s.value)};return(e,o)=>{const u=Object(C["resolveComponent"])("RadioButton"),p=Object(C["resolveComponent"])("RadioGroup"),O=Object(C["resolveComponent"])("Slider"),f=Object(C["resolveComponent"])("Switch"),j=Object(C["resolveComponent"])("Tooltip"),v=Object(C["resolveComponent"])("Button"),h=Object(C["resolveComponent"])("FullscreenSpin");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",oC,[Object(C["createElementVNode"])("div",nC,[Object(C["createElementVNode"])("div",{class:"thumbnails",ref_key:"imageThumbnailsRef",ref:n},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(d),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(zm,{class:"thumbnail",key:e.id,slide:e,size:1600},null,8,["slide"]))),128))],512)]),Object(C["createElementVNode"])("div",cC,[Object(C["createElementVNode"])("div",aC,[rC,Object(C["createVNode"])(p,{class:"config-item",value:r.value,"onUpdate:value":o[0]||(o[0]=e=>r.value=e)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(u,{style:{width:"50%"},value:"jpeg"},{default:Object(C["withCtx"])(()=>[iC]),_:1}),Object(C["createVNode"])(u,{style:{width:"50%"},value:"png"},{default:Object(C["withCtx"])(()=>[sC]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",dC,[uC,Object(C["createVNode"])(p,{class:"config-item",value:c.value,"onUpdate:value":o[1]||(o[1]=e=>c.value=e)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(u,{style:{width:"33.33%"},value:"all"},{default:Object(C["withCtx"])(()=>[bC]),_:1}),Object(C["createVNode"])(u,{style:{width:"33.33%"},value:"current"},{default:Object(C["withCtx"])(()=>[mC]),_:1}),Object(C["createVNode"])(u,{style:{width:"33.33%"},value:"custom"},{default:Object(C["withCtx"])(()=>[pC]),_:1})]),_:1},8,["value"])]),"custom"===c.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",OC,[Object(C["createElementVNode"])("div",{class:"title","data-range":`（${a.value[0]} ~ ${a.value[1]}）`},"自定义范围：",8,fC),Object(C["createVNode"])(O,{class:"config-item",range:"",min:1,max:Object(C["unref"])(l).length,step:1,value:a.value,"onUpdate:value":o[2]||(o[2]=e=>a.value=e)},null,8,["max","value"])])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",jC,[vC,Object(C["createVNode"])(O,{class:"config-item",min:0,max:1,step:.1,value:i.value,"onUpdate:value":o[3]||(o[3]=e=>i.value=e)},null,8,["step","value"])]),Object(C["createElementVNode"])("div",hC,[yC,Object(C["createElementVNode"])("div",gC,[Object(C["createVNode"])(j,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"导出时默认忽略在线字体，若您在幻灯片中使用了在线字体，且希望导出后保留相关样式，可选择关闭【忽略在线字体】选项，但要注意这将会增加导出用时。"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f,{checked:s.value,"onUpdate:checked":o[4]||(o[4]=e=>s.value=e)},null,8,["checked"])]),_:1},8,["mouseEnterDelay"])])])]),Object(C["createElementVNode"])("div",xC,[Object(C["createVNode"])(v,{class:"btn export",type:"primary",onClick:o[5]||(o[5]=e=>m())},{default:Object(C["withCtx"])(()=>[kC]),_:1}),Object(C["createVNode"])(v,{class:"btn close",onClick:o[6]||(o[6]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[CC]),_:1})]),Object(C["createVNode"])(h,{loading:Object(C["unref"])(b),tip:"正在导出..."},null,8,["loading"])])}}});l("e303");const EC=V()(NC,[["__scopeId","data-v-60a953a0"]]);var wC=EC;const VC={class:"export-json-dialog"},IC={class:"preview"},BC={class:"btns"},SC=Object(C["createTextVNode"])("导出 JSON"),LC=Object(C["createTextVNode"])("关闭");var _C=Object(C["defineComponent"])({__name:"ExportJSON",emits:["close"],setup(e,{emit:t}){const{slides:l}=Object(N["c"])(Uo()),{exportJSON:o}=Pc();return(e,n)=>{const c=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",VC,[Object(C["createElementVNode"])("div",IC,[Object(C["createElementVNode"])("pre",null,Object(C["toDisplayString"])(Object(C["unref"])(l)),1)]),Object(C["createElementVNode"])("div",BC,[Object(C["createVNode"])(c,{class:"btn export",type:"primary",onClick:n[0]||(n[0]=e=>Object(C["unref"])(o)())},{default:Object(C["withCtx"])(()=>[SC]),_:1}),Object(C["createVNode"])(c,{class:"btn close",onClick:n[1]||(n[1]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[LC]),_:1})])])}}});l("eba1");const TC=V()(_C,[["__scopeId","data-v-1bc24666"]]);var MC=TC;const DC=()=>{const e=document.createElement("iframe");return e.style.width="0",e.style.height="0",e.style.position="absolute",e.style.right="0",e.style.top="0",e.style.border="0",document.body.appendChild(e),e},zC=(e,t,l)=>{const o="<!DOCTYPE html>";let n="";const c=document.styleSheets;if(c)for(const u of c)if(u.cssRules)for(const e of u.cssRules)n+=e.cssText;const{width:a,height:r,margin:i}=l,s=`\n    <head>\n      <style type="text/css">\n        ${n} \n        html, body {\n          height: auto;\n          overflow: auto;\n        }\n        @media print {\n          @page {\n            size: ${a+2*i}px ${r+2*i}px;\n            margin: ${i}px;\n          }\n        }\n      </style>\n    </head>\n  `,d="<body>"+t.innerHTML+"</body>";e.open(),e.write(`\n    ${o}\n    <html>\n      ${s}\n      ${d}\n    </html>\n  `),e.close()},FC=(e,t)=>{const l=DC(),o=l.contentWindow;if(!l.contentDocument||!o)return;zC(l.contentDocument,e,t);const n=()=>{o.focus(),o.print()},c=()=>{l.removeEventListener("load",n),o.removeEventListener("afterprint",c),document.body.removeChild(l)};l.addEventListener("load",n),o.addEventListener("afterprint",c)},AC=e=>(Object(C["pushScopeId"])("data-v-15b57798"),e=e(),Object(C["popScopeId"])(),e),$C={class:"export-pdf-dialog"},RC={class:"thumbnails-view"},PC={class:"configs"},HC={class:"row"},qC=AC(()=>Object(C["createElementVNode"])("div",{class:"title"},"导出范围：",-1)),UC=Object(C["createTextVNode"])("全部幻灯片"),GC=Object(C["createTextVNode"])("当前幻灯片"),XC={class:"row"},YC=AC(()=>Object(C["createElementVNode"])("div",{class:"title"},"每页数量：",-1)),ZC=Object(C["createTextVNode"])("1"),WC=Object(C["createTextVNode"])("2"),JC=Object(C["createTextVNode"])("3"),KC={class:"row"},QC=AC(()=>Object(C["createElementVNode"])("div",{class:"title"},"边缘留白：",-1)),eN={class:"config-item"},tN=AC(()=>Object(C["createElementVNode"])("div",{class:"tip"}," 注意：若打印预览与实际样式不一致，请在弹出的打印窗口中勾选【背景图形】选项。 ",-1)),lN={class:"btns"},oN=Object(C["createTextVNode"])("打印 / 导出 PDF"),nN=Object(C["createTextVNode"])("关闭");var cN=Object(C["defineComponent"])({__name:"ExportPDF",emits:["close"],setup(e,{emit:t}){const{slides:l,currentSlide:o}=Object(N["c"])(Uo()),n=Object(C["ref"])(),c=Object(C["ref"])("all"),a=Object(C["ref"])(1),r=Object(C["ref"])(!0),i=()=>{if(!n.value)return;const e={width:1600,height:"all"===c.value?900*a.value:900,margin:r.value?50:0};FC(n.value,e)};return(e,s)=>{const d=Object(C["resolveComponent"])("RadioButton"),u=Object(C["resolveComponent"])("RadioGroup"),b=Object(C["resolveComponent"])("SelectOption"),m=Object(C["resolveComponent"])("Select"),p=Object(C["resolveComponent"])("Switch"),O=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",$C,[Object(C["createElementVNode"])("div",RC,[Object(C["createElementVNode"])("div",{class:"thumbnails",ref_key:"pdfThumbnailsRef",ref:n},["current"===c.value?(Object(C["openBlock"])(),Object(C["createBlock"])(zm,{key:0,class:"thumbnail",slide:Object(C["unref"])(o),size:1600},null,8,["slide"])):(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],{key:1},Object(C["renderList"])(Object(C["unref"])(l),(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(zm,{class:Object(C["normalizeClass"])(["thumbnail",{"break-page":(t+1)%a.value===0}]),key:e.id,slide:e,size:1600},null,8,["class","slide"]))),128))],512)]),Object(C["createElementVNode"])("div",PC,[Object(C["createElementVNode"])("div",HC,[qC,Object(C["createVNode"])(u,{class:"config-item",value:c.value,"onUpdate:value":s[0]||(s[0]=e=>c.value=e)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{width:"50%"},value:"all"},{default:Object(C["withCtx"])(()=>[UC]),_:1}),Object(C["createVNode"])(d,{style:{width:"50%"},value:"current"},{default:Object(C["withCtx"])(()=>[GC]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",XC,[YC,Object(C["createVNode"])(m,{class:"config-item",value:a.value,"onUpdate:value":s[1]||(s[1]=e=>a.value=e)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b,{value:1},{default:Object(C["withCtx"])(()=>[ZC]),_:1}),Object(C["createVNode"])(b,{value:2},{default:Object(C["withCtx"])(()=>[WC]),_:1}),Object(C["createVNode"])(b,{value:3},{default:Object(C["withCtx"])(()=>[JC]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",KC,[QC,Object(C["createElementVNode"])("div",eN,[Object(C["createVNode"])(p,{checked:r.value,"onUpdate:checked":s[2]||(s[2]=e=>r.value=e)},null,8,["checked"])])]),tN]),Object(C["createElementVNode"])("div",lN,[Object(C["createVNode"])(O,{class:"btn export",type:"primary",onClick:s[3]||(s[3]=e=>i())},{default:Object(C["withCtx"])(()=>[oN]),_:1}),Object(C["createVNode"])(O,{class:"btn close",onClick:s[4]||(s[4]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[nN]),_:1})])])}}});l("7239");const aN=V()(cN,[["__scopeId","data-v-15b57798"]]);var rN=aN;const iN=e=>(Object(C["pushScopeId"])("data-v-3fef9be0"),e=e(),Object(C["popScopeId"])(),e),sN={class:"export-pptx-dialog"},dN={class:"configs"},uN={class:"row"},bN=iN(()=>Object(C["createElementVNode"])("div",{class:"title"},"导出范围：",-1)),mN=Object(C["createTextVNode"])("全部"),pN=Object(C["createTextVNode"])("当前页"),ON=Object(C["createTextVNode"])("自定义"),fN={key:0,class:"row"},jN=["data-range"],vN={class:"row"},hN=iN(()=>Object(C["createElementVNode"])("div",{class:"title"},"覆盖默认母版：",-1)),yN={class:"config-item"},gN={class:"btns"},xN=Object(C["createTextVNode"])("导出 PPTX"),kN=Object(C["createTextVNode"])("关闭");var CN=Object(C["defineComponent"])({__name:"ExportPPTX",emits:["close"],setup(e,{emit:t}){const{slides:l,currentSlide:o}=Object(N["c"])(Uo()),{exportPPTX:n,exporting:c}=Pc(),a=Object(C["ref"])("all"),r=Object(C["ref"])([1,l.value.length]),i=Object(C["ref"])(!0),s=Object(C["computed"])(()=>"all"===a.value?l.value:"current"===a.value?[o.value]:l.value.filter((e,t)=>{const[l,o]=r.value;return t>=l-1&&t<=o-1}));return(e,o)=>{const d=Object(C["resolveComponent"])("RadioButton"),u=Object(C["resolveComponent"])("RadioGroup"),b=Object(C["resolveComponent"])("Slider"),m=Object(C["resolveComponent"])("Switch"),p=Object(C["resolveComponent"])("Button"),O=Object(C["resolveComponent"])("FullscreenSpin");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",sN,[Object(C["createElementVNode"])("div",dN,[Object(C["createElementVNode"])("div",uN,[bN,Object(C["createVNode"])(u,{class:"config-item",value:a.value,"onUpdate:value":o[0]||(o[0]=e=>a.value=e)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{width:"33.33%"},value:"all"},{default:Object(C["withCtx"])(()=>[mN]),_:1}),Object(C["createVNode"])(d,{style:{width:"33.33%"},value:"current"},{default:Object(C["withCtx"])(()=>[pN]),_:1}),Object(C["createVNode"])(d,{style:{width:"33.33%"},value:"custom"},{default:Object(C["withCtx"])(()=>[ON]),_:1})]),_:1},8,["value"])]),"custom"===a.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",fN,[Object(C["createElementVNode"])("div",{class:"title","data-range":`（${r.value[0]} ~ ${r.value[1]}）`},"自定义范围：",8,jN),Object(C["createVNode"])(b,{class:"config-item",range:"",min:1,max:Object(C["unref"])(l).length,step:1,value:r.value,"onUpdate:value":o[1]||(o[1]=e=>r.value=e)},null,8,["max","value"])])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",vN,[hN,Object(C["createElementVNode"])("div",yN,[Object(C["createVNode"])(m,{checked:i.value,"onUpdate:checked":o[2]||(o[2]=e=>i.value=e)},null,8,["checked"])])])]),Object(C["createElementVNode"])("div",gN,[Object(C["createVNode"])(p,{class:"btn export",type:"primary",onClick:o[3]||(o[3]=e=>Object(C["unref"])(n)(Object(C["unref"])(s),i.value))},{default:Object(C["withCtx"])(()=>[xN]),_:1}),Object(C["createVNode"])(p,{class:"btn close",onClick:o[4]||(o[4]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[kN]),_:1})]),Object(C["createVNode"])(O,{loading:Object(C["unref"])(c),tip:"正在导出..."},null,8,["loading"])])}}});l("fef8");const NN=V()(CN,[["__scopeId","data-v-3fef9be0"]]);var EN=NN;const wN=e=>(Object(C["pushScopeId"])("data-v-e2b465d2"),e=e(),Object(C["popScopeId"])(),e),VN={class:"export-pptist-dialog"},IN={class:"configs"},BN={class:"row"},SN=wN(()=>Object(C["createElementVNode"])("div",{class:"title"},"导出范围：",-1)),LN=Object(C["createTextVNode"])("全部"),_N=Object(C["createTextVNode"])("当前页"),TN=Object(C["createTextVNode"])("自定义"),MN={key:0,class:"row"},DN=["data-range"],zN=wN(()=>Object(C["createElementVNode"])("div",{class:"tip"}," 提示：.pptist 是本应用的特有文件后缀，支持将该类型的文件导入回应用中。 ",-1)),FN={class:"btns"},AN=Object(C["createTextVNode"])("导出 .pptist 文件"),$N=Object(C["createTextVNode"])("关闭");var RN=Object(C["defineComponent"])({__name:"ExportSpecificFile",emits:["close"],setup(e,{emit:t}){const{slides:l,currentSlide:o}=Object(N["c"])(Uo()),{exportSpecificFile:n}=Pc(),c=Object(C["ref"])("all"),a=Object(C["ref"])([1,l.value.length]),r=Object(C["computed"])(()=>"all"===c.value?l.value:"current"===c.value?[o.value]:l.value.filter((e,t)=>{const[l,o]=a.value;return t>=l-1&&t<=o-1}));return(e,o)=>{const i=Object(C["resolveComponent"])("RadioButton"),s=Object(C["resolveComponent"])("RadioGroup"),d=Object(C["resolveComponent"])("Slider"),u=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",VN,[Object(C["createElementVNode"])("div",IN,[Object(C["createElementVNode"])("div",BN,[SN,Object(C["createVNode"])(s,{class:"config-item",value:c.value,"onUpdate:value":o[0]||(o[0]=e=>c.value=e)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{style:{width:"33.33%"},value:"all"},{default:Object(C["withCtx"])(()=>[LN]),_:1}),Object(C["createVNode"])(i,{style:{width:"33.33%"},value:"current"},{default:Object(C["withCtx"])(()=>[_N]),_:1}),Object(C["createVNode"])(i,{style:{width:"33.33%"},value:"custom"},{default:Object(C["withCtx"])(()=>[TN]),_:1})]),_:1},8,["value"])]),"custom"===c.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",MN,[Object(C["createElementVNode"])("div",{class:"title","data-range":`（${a.value[0]} ~ ${a.value[1]}）`},"自定义范围：",8,DN),Object(C["createVNode"])(d,{class:"config-item",range:"",min:1,max:Object(C["unref"])(l).length,step:1,value:a.value,"onUpdate:value":o[1]||(o[1]=e=>a.value=e)},null,8,["max","value"])])):Object(C["createCommentVNode"])("",!0),zN]),Object(C["createElementVNode"])("div",FN,[Object(C["createVNode"])(u,{class:"btn export",type:"primary",onClick:o[2]||(o[2]=e=>Object(C["unref"])(n)(Object(C["unref"])(r)))},{default:Object(C["withCtx"])(()=>[AN]),_:1}),Object(C["createVNode"])(u,{class:"btn close",onClick:o[3]||(o[3]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[$N]),_:1})])])}}});l("bf43");const PN=V()(RN,[["__scopeId","data-v-e2b465d2"]]);var HN=PN;const qN={class:"export-dialog"},UN={class:"tabs"},GN=["onClick"],XN={class:"content"};var YN=Object(C["defineComponent"])({__name:"index",setup(e){const t=Yo(),{dialogForExport:l}=Object(N["c"])(t),o=t.setDialogForExport,n=[{key:"pptist",label:"导出 pptist 文件"},{key:"pptx",label:"导出 PPTX"},{key:"image",label:"导出图片"},{key:"json",label:"导出 JSON"},{key:"pdf",label:"打印 / 导出 PDF"}],c=Object(C["computed"])(()=>{const e={image:wC,json:MC,pdf:rN,pptx:EN,pptist:HN};return e[l.value]||null});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",qN,[Object(C["createElementVNode"])("div",UN,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(n,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tab",{active:e.key===Object(C["unref"])(l)}]),key:e.key,onClick:t=>Object(C["unref"])(o)(e.key)},Object(C["toDisplayString"])(e.label),11,GN)),64))]),Object(C["createElementVNode"])("div",XN,[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(c)),{onClose:t[0]||(t[0]=e=>Object(C["unref"])(o)(""))},null,32))])]))}});l("d970");const ZN=V()(YN,[["__scopeId","data-v-1f8f1a8b"]]);var WN=ZN;const JN={class:"pptist-editor"},KN={class:"layout-content"},QN={class:"layout-content-center"};var eE=Object(C["defineComponent"])({__name:"index",setup(e){const t=Yo(),{dialogForExport:l}=Object(N["c"])(t),o=()=>t.setDialogForExport(""),n=Object(C["ref"])(40);return cc(),ac(),(e,t)=>{const c=Object(C["resolveComponent"])("Modal");return Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,[Object(C["createElementVNode"])("div",JN,[Object(C["createVNode"])(Sa,{class:"layout-header"}),Object(C["createElementVNode"])("div",KN,[Object(C["createVNode"])(df,{class:"layout-content-left"}),Object(C["createElementVNode"])("div",QN,[Object(C["createVNode"])(XO,{class:"center-top"}),Object(C["createVNode"])(ep,{class:"center-body",style:Object(C["normalizeStyle"])({height:`calc(100% - ${n.value+40}px)`})},null,8,["style"]),Object(C["createVNode"])(tC,{class:"center-bottom",height:n.value,"onUpdate:height":t[0]||(t[0]=e=>n.value=e),style:Object(C["normalizeStyle"])({height:n.value+"px"})},null,8,["height","style"])]),Object(C["createVNode"])(Wk,{class:"layout-content-right"})])]),Object(C["createVNode"])(c,{visible:!!Object(C["unref"])(l),footer:null,centered:"",closable:!1,width:680,destroyOnClose:"",onCancel:t[1]||(t[1]=e=>o())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(WN)]),_:1},8,["visible"])],64)}}});l("0be5");const tE=V()(eE,[["__scopeId","data-v-328e1a4e"]]);var lE=tE,oE=()=>{const e=Uo(),{slides:t,slideIndex:l,formatedAnimations:o}=Object(N["c"])(e),n=Object(C["ref"])(0),c=Object(C["ref"])(!1),a=Object(C["ref"])(l.value),r=()=>{if(c.value)return;const{animations:e,autoNext:t}=o.value[n.value];n.value+=1,c.value=!0;let l=0;for(const o of e){const n=document.querySelector(`#screen-element-${o.elId} [class^=base-element-]`);if(!n){l+=1;continue}const a=`${Ag}${o.effect}`;n.style.removeProperty("--animate-duration");for(const e of n.classList)-1!==e.indexOf(Ag)&&n.classList.remove(e,Ag+"animated");n.style.setProperty("--animate-duration",o.duration+"ms"),n.classList.add(a,Ag+"animated");const i=()=>{"out"!==o.type&&(n.style.removeProperty("--animate-duration"),n.classList.remove(a,Ag+"animated")),l+=1,l===e.length&&(c.value=!1,t&&r())};n.addEventListener("animationend",i,{once:!0})}},i=()=>{n.value-=1;const{animations:e}=o.value[n.value];for(const t of e){const e=document.querySelector(`#screen-element-${t.elId} [class^=base-element-]`);if(e){e.style.removeProperty("--animate-duration");for(const t of e.classList)-1!==t.indexOf(Ag)&&e.classList.remove(t,Ag+"animated")}}e.every(e=>"attention"===e.type)&&b()},s=Object(C["ref"])(0),d=()=>{s.value&&(clearInterval(s.value),s.value=0)};Object(C["onUnmounted"])(d);const u=Object(Xt["throttle"])((function(e){qt["a"].success(e)}),1e3,{leading:!0,trailing:!1}),b=()=>{o.value.length&&n.value>0?i():l.value>0?(e.updateSlideIndex(l.value-1),l.value<a.value?(n.value=0,a.value=l.value):n.value=o.value.length):u("已经是第一页了"),c.value=!1},m=()=>{o.value.length&&n.value<o.value.length?r():l.value<t.value.length-1?(e.updateSlideIndex(l.value+1),n.value=0,c.value=!1):(u("已经是最后一页了"),d(),c.value=!1)},p=()=>{d(),qt["a"].success("开始自动放映"),s.value=setInterval(m,2500)},O=Object(Xt["throttle"])((function(e){e.deltaY<0?b():e.deltaY>0&&m()}),500,{leading:!0,trailing:!1}),f=Object(C["ref"])(null),j=e=>{f.value={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}},v=e=>{if(!f.value)return;const t=Math.abs(f.value.x-e.changedTouches[0].pageX),l=e.changedTouches[0].pageY-f.value.y;Math.abs(l)>t&&Math.abs(l)>50&&(f.value=null,l>0?b():m())},h=e=>{const t=e.key.toUpperCase();t===On.UP||t===On.LEFT||t===On.PAGEUP?b():t!==On.DOWN&&t!==On.RIGHT&&t!==On.SPACE&&t!==On.ENTER&&t!==On.PAGEDOWN||m()};Object(C["onMounted"])(()=>document.addEventListener("keydown",h)),Object(C["onUnmounted"])(()=>document.removeEventListener("keydown",h));const y=()=>{e.updateSlideIndex(l.value-1),n.value=0},g=()=>{e.updateSlideIndex(l.value+1),n.value=0},x=t=>{e.updateSlideIndex(t),n.value=0},k=l=>{const o=t.value.findIndex(e=>e.id===l);-1!==o&&(e.updateSlideIndex(o),n.value=0)};return{autoPlayTimer:s,autoPlay:p,closeAutoPlay:d,mousewheelListener:O,touchStartListener:j,touchEndListener:v,turnPrevSlide:y,turnNextSlide:g,turnSlideToIndex:x,turnSlideToId:k,execPrev:b,execNext:m,animationIndex:n}},nE=e=>{const t=Uo(),{viewportRatio:l}=Object(N["c"])(t),o=Object(C["ref"])(0),n=Object(C["ref"])(0),c=()=>{const t=(null===e||void 0===e?void 0:e.value)||document.body,c=t.clientWidth,a=t.clientHeight;let r,i;a/c===l.value?(r=c,i=a):a/c>l.value?(r=c,i=c*l.value):(r=a/l.value,i=a),o.value=r,n.value=i};return Object(C["onMounted"])(()=>{c(),window.addEventListener("resize",c)}),Object(C["onUnmounted"])(()=>{window.removeEventListener("resize",c)}),{slideWidth:o,slideHeight:n}},cE=()=>{const e=Object(C["ref"])(!0),t=Object(C["ref"])(!0),{exitScreening:l}=oc(),o=()=>{e.value=lc(),!e.value&&t.value&&l(),t.value=!0};Object(C["onMounted"])(()=>{e.value=lc(),document.addEventListener("fullscreenchange",o),document.addEventListener("webkitfullscreenchange",o)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("fullscreenchange",o),document.removeEventListener("webkitfullscreenchange",o)});const n=()=>{e.value&&(t.value=!1,tc())};return{fullscreenState:e,manualExitFullscreen:n}},aE=Object(C["defineComponent"])({__name:"ScreenChartElement",props:{elementInfo:{type:Object,required:!0}},setup(e){return(t,l)=>(Object(C["openBlock"])(),Object(C["createBlock"])(am,{class:"screen-element-chart",elementInfo:e.elementInfo},null,8,["elementInfo"]))}});const rE=aE;var iE=rE;const sE={class:"element-content"};var dE=Object(C["defineComponent"])({__name:"ScreenVideoElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const{currentSlide:t}=Object(N["c"])(Uo()),l=Object(C["inject"])(La)||Object(C["ref"])(1),o=Object(C["inject"])(_a)||Object(C["ref"])(""),n=Object(C["computed"])(()=>t.value.id===o.value);return(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"screen-element-video",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",sE,[Object(C["unref"])(n)?(Object(C["openBlock"])(),Object(C["createBlock"])(Bd,{key:0,width:e.elementInfo.width,height:e.elementInfo.height,src:e.elementInfo.src,poster:e.elementInfo.poster,scale:Object(C["unref"])(l)},null,8,["width","height","src","poster","scale"])):Object(C["createCommentVNode"])("",!0)])],4)],4))}});l("7a78");const uE=V()(dE,[["__scopeId","data-v-76457308"]]);var bE=uE;const mE={class:"element-content"};var pE=Object(C["defineComponent"])({__name:"ScreenAudioElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,{viewportRatio:l,currentSlide:o}=Object(N["c"])(Uo()),n=Object(C["inject"])(La)||Object(C["ref"])(1),c=Object(C["inject"])(_a)||Object(C["ref"])(""),a=Object(C["computed"])(()=>o.value.id===c.value),r=Object(C["computed"])(()=>Math.min(t.elementInfo.width,t.elementInfo.height)+"px"),i=Object(C["computed"])(()=>{const e=Dn,o=Dn*l.value,c=280/n.value,a=50/n.value,r=t.elementInfo.width,i=t.elementInfo.height,s=t.elementInfo.left,d=t.elementInfo.top;let u=0,b=i;return s+c>=e&&(u=r-c),d+i+a>=o&&(b=-a),{left:u+"px",top:b+"px"}}),s=Object(C["ref"])(),d=()=>{s.value&&s.value.toggle()};return(t,l)=>{const o=Object(C["resolveComponent"])("IconVolumeNotice");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"screen-element-audio",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",mE,[Object(C["createVNode"])(o,{class:"audio-icon",style:Object(C["normalizeStyle"])({fontSize:Object(C["unref"])(r),color:e.elementInfo.color}),onClick:l[0]||(l[0]=e=>d())},null,8,["style"]),Object(C["unref"])(a)?(Object(C["openBlock"])(),Object(C["createBlock"])(Kd,{key:0,class:"audio-player",ref_key:"audioPlayerRef",ref:s,style:Object(C["normalizeStyle"])({...Object(C["unref"])(i)}),src:e.elementInfo.src,loop:e.elementInfo.loop,autoplay:e.elementInfo.autoplay,scale:Object(C["unref"])(n)},null,8,["style","src","loop","autoplay","scale"])):Object(C["createCommentVNode"])("",!0)])],4)],4)}}});l("3010");const OE=V()(pE,[["__scopeId","data-v-1172b8ee"]]);var fE=OE;const jE=["id","title"];var vE=Object(C["defineComponent"])({__name:"ScreenElement",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},animationIndex:{type:Number,required:!0},turnSlideToId:{type:Function,required:!0},manualExitFullscreen:{type:Function,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e={[Fn.IMAGE]:$b,[Fn.TEXT]:qb,[Fn.SHAPE]:Kb,[Fn.LINE]:om,[Fn.CHART]:iE,[Fn.TABLE]:fm,[Fn.LATEX]:km,[Fn.VIDEO]:bE,[Fn.AUDIO]:fE};return e[t.elementInfo.type]||null}),{formatedAnimations:o,theme:n}=Object(N["c"])(Uo()),c=Object(C["computed"])(()=>{const e=o.value.findIndex(e=>{const l=e.animations.map(e=>e.elId);return l.includes(t.elementInfo.id)});if(-1===e)return!1;if(e<t.animationIndex)return!1;const l=o.value[e].animations.find(e=>e.elId===t.elementInfo.id);return"in"===(null===l||void 0===l?void 0:l.type)}),a=()=>{const e=t.elementInfo.link;e&&("web"===e.type?(t.manualExitFullscreen(),window.open(e.target)):"slide"===e.type&&t.turnSlideToId(e.target))};return(t,o)=>{var r;return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["screen-element",{link:e.elementInfo.link}]),id:"screen-element-"+e.elementInfo.id,style:Object(C["normalizeStyle"])({zIndex:e.elementIndex,color:Object(C["unref"])(n).fontColor,fontFamily:Object(C["unref"])(n).fontName,visibility:Object(C["unref"])(c)?"hidden":"visible"}),title:(null===(r=e.elementInfo.link)||void 0===r?void 0:r.target)||"",onClick:o[0]||(o[0]=e=>a())},[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(l)),{elementInfo:e.elementInfo},null,8,["elementInfo"]))],14,jE)}}});l("d2ee");const hE=V()(vE,[["__scopeId","data-v-a15cc1d8"]]);var yE=hE,gE=Object(C["defineComponent"])({__name:"ScreenSlide",props:{slide:{type:Object,required:!0},scale:{type:Number,required:!0},animationIndex:{type:Number,required:!0},turnSlideToId:{type:Function,required:!0},manualExitFullscreen:{type:Function,required:!0}},setup(e){const t=e,{viewportRatio:l}=Object(N["c"])(Uo()),o=Object(C["computed"])(()=>t.slide.background),{backgroundStyle:n}=pu(o),c=Object(C["computed"])(()=>t.slide.id);return Object(C["provide"])(_a,c),(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"screen-slide",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(Dn)+"px",height:Object(C["unref"])(Dn)*Object(C["unref"])(l)+"px",transform:`scale(${e.scale})`})},[Object(C["createElementVNode"])("div",{class:"background",style:Object(C["normalizeStyle"])({...Object(C["unref"])(n)})},null,4),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.slide.elements,(t,l)=>(Object(C["openBlock"])(),Object(C["createBlock"])(yE,{key:t.id,elementInfo:t,elementIndex:l+1,animationIndex:e.animationIndex,turnSlideToId:e.turnSlideToId,manualExitFullscreen:e.manualExitFullscreen},null,8,["elementInfo","elementIndex","animationIndex","turnSlideToId","manualExitFullscreen"]))),128))],4))}});l("a060");const xE=V()(gE,[["__scopeId","data-v-7cf7f9e7"]]);var kE=xE;const CE={class:"screen-slide-list"};var NE=Object(C["defineComponent"])({__name:"ScreenSlideList",props:{slideWidth:{type:Number,required:!0},slideHeight:{type:Number,required:!0},animationIndex:{type:Number,required:!0},turnSlideToId:{type:Function,required:!0},manualExitFullscreen:{type:Function,required:!0}},setup(e){const t=e,{slides:l,slideIndex:o,currentSlide:n}=Object(N["c"])(Uo()),c=Object(C["computed"])(()=>t.slideWidth/Dn);return Object(C["provide"])(La,c),(t,a)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",CE,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),(t,l)=>{var a;return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["slide-item","turning-mode-"+(t.turningMode||"slideY"),{current:l===Object(C["unref"])(o),before:l<Object(C["unref"])(o),after:l>Object(C["unref"])(o),hide:(l===Object(C["unref"])(o)-1||l===Object(C["unref"])(o)+1)&&t.turningMode!==Object(C["unref"])(n).turningMode}]),key:t.id},[Math.abs(Object(C["unref"])(o)-l)<2||null!==(a=t.animations)&&void 0!==a&&a.length?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"slide-content",style:Object(C["normalizeStyle"])({width:e.slideWidth+"px",height:e.slideHeight+"px"})},[Object(C["createVNode"])(kE,{slide:t,scale:Object(C["unref"])(c),animationIndex:e.animationIndex,turnSlideToId:e.turnSlideToId,manualExitFullscreen:e.manualExitFullscreen},null,8,["slide","scale","animationIndex","turnSlideToId","manualExitFullscreen"])],4)):Object(C["createCommentVNode"])("",!0)],2)}),128))]))}});l("9557");const EE=V()(NE,[["__scopeId","data-v-77a3e620"]]);var wE=EE;const VE={class:"slide-thumbnails"},IE={class:"return-button"},BE={class:"slide-thumbnails-content"},SE=["onClick"];var LE=Object(C["defineComponent"])({__name:"SlideThumbnails",props:{turnSlideToIndex:{type:Function,required:!0}},emits:["close"],setup(e,{emit:t}){const l=e,{slides:o,slideIndex:n}=Object(N["c"])(Uo()),{slidesLoadLimit:c}=YO(),a=e=>{l.turnSlideToIndex(e),t("close")};return(e,l)=>{const r=Object(C["resolveComponent"])("IconArrowCircleLeft");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",VE,[Object(C["createElementVNode"])("div",IE,[Object(C["createVNode"])(r,{class:"icon",onClick:l[0]||(l[0]=e=>t("close"))})]),Object(C["createElementVNode"])("div",BE,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(o),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["thumbnail",{active:t===Object(C["unref"])(n)}]),key:e.id,onClick:e=>a(t)},[Object(C["createVNode"])(zm,{slide:e,size:150,visible:t<Object(C["unref"])(c)},null,8,["slide","visible"])],10,SE))),128))])])}}});l("2803");const _E=V()(LE,[["__scopeId","data-v-b7c6c0cc"]]);var TE=_E;const ME={key:0,class:"blackboard"};var DE=Object(C["defineComponent"])({__name:"WritingBoard",props:{color:{type:String,default:"#ffcc00"},model:{type:String,default:"pen"},blackboard:{type:Boolean,default:!1}},setup(e,{expose:t}){const l=e;let o=null;const n=Object(C["ref"])(),c=Object(C["ref"])(),a=Object(C["ref"])(6),r=Object(C["ref"])(80),i=Object(C["ref"])(24);let s={x:0,y:0},d=!1,u=0,b=-1;const m=Object(C["ref"])({x:0,y:0}),p=Object(C["ref"])(!1),O=Object(C["ref"])(0),f=Object(C["ref"])(0),j=Object(C["computed"])(()=>c.value?O.value/c.value.width:1),v=Object(C["computed"])(()=>c.value?f.value/c.value.height:1),h=()=>{n.value&&(O.value=n.value.clientWidth,f.value=n.value.clientHeight)},y=new ResizeObserver(h);Object(C["onMounted"])(()=>{n.value&&y.observe(n.value)}),Object(C["onUnmounted"])(()=>{n.value&&y.unobserve(n.value)});const g=()=>{c.value&&n.value&&(o=c.value.getContext("2d"),o&&(c.value.width=n.value.clientWidth,c.value.height=n.value.clientHeight,o.lineCap="round",o.lineJoin="round"))};Object(C["onMounted"])(g);const x=()=>{o&&("mark"===l.model?(o.globalCompositeOperation="xor",o.globalAlpha=.5):"pen"===l.model&&(o.globalCompositeOperation="source-over",o.globalAlpha=1))};Object(C["watch"])(()=>l.model,x);const k=(e,t,n)=>{if(!o)return;const c=s.x,a=s.y;o.lineWidth=n,o.strokeStyle=l.color,o.beginPath(),o.moveTo(c,a),o.lineTo(e,t),o.stroke(),o.closePath()},N=(e,t)=>{if(!o||!c.value)return;const l=s.x,n=s.y,a=r.value/2,i=a*Math.sin(Math.atan((t-n)/(e-l))),d=a*Math.cos(Math.atan((t-n)/(e-l))),u=[l+i,n-d],b=[l-i,n+d],m=[e+i,t-d],p=[e-i,t+d];o.save(),o.beginPath(),o.arc(e,t,a,0,2*Math.PI),o.clip(),o.clearRect(0,0,c.value.width,c.value.height),o.restore(),o.save(),o.beginPath(),o.moveTo(...u),o.lineTo(...m),o.lineTo(...p),o.lineTo(...b),o.closePath(),o.clip(),o.clearRect(0,0,c.value.width,c.value.height),o.restore()},E=(e,t)=>{const l=s.x,o=s.y;return Math.sqrt((e-l)*(e-l)+(t-o)*(t-o))},w=(e,t)=>{const l=10,o=.1,n=a.value,c=3,r=e/t;let i;return i=r<=o?n:r>=l?c:n-r/l*n,-1===b?i:1*i/3+2*b/3},V=(e,t)=>{const o=(new Date).getTime();if("pen"===l.model){const l=E(e,t),n=o-u,c=w(l,n);k(e,t,c),b=c}else"mark"===l.model?k(e,t,i.value):N(e,t);s={x:e,y:t},u=(new Date).getTime()},I=e=>{if(!c.value)return[0,0];const t=e instanceof MouseEvent?e:e.changedTouches[0],l=c.value.getBoundingClientRect(),o=t.pageX-l.x,n=t.pageY-l.y;return[o,n]},B=e=>{const[t,l]=I(e),o=t/j.value,n=l/v.value;d=!0,s={x:o,y:n},u=(new Date).getTime(),e instanceof MouseEvent||(m.value={x:t,y:l},p.value=!0)},S=e=>{const[t,l]=I(e),o=t/j.value,n=l/v.value;m.value={x:t,y:l},d&&V(o,n)},L=()=>{d&&(d=!1)},_=()=>{o&&c.value&&o.clearRect(0,0,c.value.width,c.value.height)},T=()=>{var e;return null===(e=c.value)||void 0===e?void 0:e.toDataURL()},M=e=>{const t=new Image;t.src=e,t.onload=()=>{o&&o.drawImage(t,0,0)}},D=Object(Xt["throttle"])((function(e){"eraser"===l.model&&(e.deltaY<0&&r.value<200?r.value+=20:e.deltaY>0&&r.value>20&&(r.value-=20)),"pen"===l.model&&(e.deltaY<0&&a.value<10?a.value+=2:e.deltaY>0&&a.value>4&&(a.value-=2)),"mark"===l.model&&(e.deltaY<0&&i.value<40?i.value+=4:e.deltaY>0&&i.value>16&&(i.value-=4))}),300,{leading:!0,trailing:!1});return t({clearCanvas:_,getImageDataURL:T,setImageDataURL:M}),(t,l)=>{const o=Object(C["resolveComponent"])("IconWrite"),s=Object(C["resolveComponent"])("IconHighLight");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"writing-board",ref_key:"writingBoardRef",ref:n},[e.blackboard?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",ME)):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("canvas",{class:"canvas",ref_key:"canvasRef",ref:c,style:Object(C["normalizeStyle"])({width:O.value+"px",height:f.value+"px"}),onMousedown:l[0]||(l[0]=e=>B(e)),onMousemove:l[1]||(l[1]=e=>S(e)),onMouseup:l[2]||(l[2]=e=>L()),onTouchstart:l[3]||(l[3]=e=>B(e)),onTouchmove:l[4]||(l[4]=e=>S(e)),onTouchend:l[5]||(l[5]=e=>{L(),p.value=!1}),onMouseleave:l[6]||(l[6]=e=>{L(),p.value=!1}),onMouseenter:l[7]||(l[7]=e=>p.value=!0),onWheel:l[8]||(l[8]=e=>Object(C["unref"])(D)(e))},null,36),p.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:1},["eraser"===e.model?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"eraser",style:Object(C["normalizeStyle"])({left:m.value.x-r.value/2+"px",top:m.value.y-r.value/2+"px",width:r.value+"px",height:r.value+"px"})},null,4)):Object(C["createCommentVNode"])("",!0),"pen"===e.model?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:1,class:"pen",style:Object(C["normalizeStyle"])({left:m.value.x-a.value/2+"px",top:m.value.y-6*a.value+a.value/2+"px",color:e.color})},["pen"===e.model?(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:0,class:"icon",size:6*a.value},null,8,["size"])):Object(C["createCommentVNode"])("",!0)],4)):Object(C["createCommentVNode"])("",!0),"mark"===e.model?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:2,class:"pen",style:Object(C["normalizeStyle"])({left:m.value.x-i.value/2+"px",top:m.value.y+"px",color:e.color})},["mark"===e.model?(Object(C["openBlock"])(),Object(C["createBlock"])(s,{key:0,class:"icon",size:1.5*i.value},null,8,["size"])):Object(C["createCommentVNode"])("",!0)],4)):Object(C["createCommentVNode"])("",!0)],64)):Object(C["createCommentVNode"])("",!0)],512)}}});l("5fa4");const zE=V()(DE,[["__scopeId","data-v-1d4eb7f0"]]);var FE=zE;const AE={class:"writing-board-tool"},$E={class:"colors"},RE=["onClick"];var PE=Object(C["defineComponent"])({__name:"WritingBoardTool",props:{slideWidth:{type:Number,required:!0},slideHeight:{type:Number,required:!0},position:{type:Object,default:()=>({right:"5px",bottom:"5px"})}},emits:["close"],setup(e,{emit:t}){const l=["#000000","#ffffff","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c","#ffff3a"],o=Object(C["ref"])(),n=Object(C["ref"])("#e2534d"),c=Object(C["ref"])("pen"),a=Object(C["ref"])(!1),r=e=>{c.value=e},i=()=>{o.value.clearCanvas()},s=e=>{"eraser"===c.value&&(c.value="pen"),n.value=e},d=()=>{t("close")};return(t,u)=>{const b=Object(C["resolveComponent"])("IconWrite"),m=Object(C["resolveComponent"])("Tooltip"),p=Object(C["resolveComponent"])("IconHighLight"),O=Object(C["resolveComponent"])("IconErase"),f=Object(C["resolveComponent"])("IconClear"),j=Object(C["resolveComponent"])("IconFill"),v=Object(C["resolveComponent"])("IconClose");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",AE,[Object(C["createElementVNode"])("div",{class:"writing-board-wrap",style:Object(C["normalizeStyle"])({width:e.slideWidth+"px",height:e.slideHeight+"px"})},[Object(C["createVNode"])(FE,{ref_key:"writingBoardRef",ref:o,color:n.value,blackboard:a.value,model:c.value},null,8,["color","blackboard","model"])],4),Object(C["createElementVNode"])("div",{class:"tools",style:Object(C["normalizeStyle"])(e.position)},[Object(C["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"画笔"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["btn",{active:"pen"===c.value}]),onClick:u[0]||(u[0]=e=>r("pen"))},[Object(C["createVNode"])(b,{class:"icon"})],2)]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"荧光笔"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["btn",{active:"mark"===c.value}]),onClick:u[1]||(u[1]=e=>r("mark"))},[Object(C["createVNode"])(p,{class:"icon"})],2)]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"橡皮擦"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["btn",{active:"eraser"===c.value}]),onClick:u[2]||(u[2]=e=>r("eraser"))},[Object(C["createVNode"])(O,{class:"icon"})],2)]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"清除墨迹"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:"btn",onClick:u[3]||(u[3]=e=>i())},[Object(C["createVNode"])(f,{class:"icon"})])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"黑板"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["btn",{active:a.value}]),onClick:u[4]||(u[4]=e=>a.value=!a.value)},[Object(C["createVNode"])(j,{class:"icon"})],2)]),_:1},8,["mouseEnterDelay"]),Object(C["createElementVNode"])("div",$E,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(l,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["color",{active:e===n.value}]),key:e,style:Object(C["normalizeStyle"])({backgroundColor:e}),onClick:t=>s(e)},null,14,RE)),64))]),Object(C["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"关闭画笔"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:"btn",onClick:u[5]||(u[5]=e=>d())},[Object(C["createVNode"])(v,{class:"icon"})])]),_:1},8,["mouseEnterDelay"])],4)])}}});l("4f60");const HE=V()(PE,[["__scopeId","data-v-876081a6"]]);var qE=HE;const UE={class:"tools-left"},GE={class:"content"};var XE=Object(C["defineComponent"])({__name:"BaseView",props:{changeViewMode:{type:Function,required:!0}},setup(e){const t=e,{slides:l,slideIndex:o}=Object(N["c"])(Uo()),{autoPlayTimer:n,autoPlay:c,closeAutoPlay:a,mousewheelListener:r,touchStartListener:i,touchEndListener:s,turnPrevSlide:d,turnNextSlide:u,turnSlideToIndex:b,turnSlideToId:m,execPrev:p,execNext:O,animationIndex:f}=oE(),{slideWidth:j,slideHeight:v}=nE(),{exitScreening:h}=oc(),{fullscreenState:y,manualExitFullscreen:g}=cE(),x=Object(C["ref"])(!1),k=Object(C["ref"])(!1),E=Object(C["ref"])(!1),w=Object(C["ref"])(!1),V=()=>[{text:"上一页",subText:"↑ ←",disable:o.value<=0,handler:()=>d()},{text:"下一页",subText:"↓ →",disable:o.value>=l.value.length-1,handler:()=>u()},{text:"第一页",disable:0===o.value,handler:()=>b(0)},{text:"最后一页",disable:o.value===l.value.length-1,handler:()=>b(l.value.length-1)},{divider:!0},{text:"显示工具栏",handler:()=>x.value=!0},{text:"查看所有幻灯片",handler:()=>E.value=!0},{text:"画笔工具",handler:()=>k.value=!0},{text:"演讲者视图",handler:()=>t.changeViewMode("presenter")},{divider:!0},{text:n.value?"取消自动放映":"自动放映",handler:n.value?a:c},{text:"结束放映",subText:"ESC",handler:h}];return(t,n)=>{const c=Object(C["resolveComponent"])("IconLeftTwo"),a=Object(C["resolveComponent"])("IconRightTwo"),d=Object(C["resolveComponent"])("IconWrite"),u=Object(C["resolveComponent"])("Tooltip"),N=Object(C["resolveComponent"])("IconMagic"),I=Object(C["resolveComponent"])("IconListView"),B=Object(C["resolveComponent"])("IconOffScreenOne"),S=Object(C["resolveComponent"])("IconFullScreenOne"),L=Object(C["resolveComponent"])("IconPower"),_=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["base-view",{"laser-pen":w.value}])},[Object(C["withDirectives"])(Object(C["createVNode"])(wE,{slideWidth:Object(C["unref"])(j),slideHeight:Object(C["unref"])(v),animationIndex:Object(C["unref"])(f),turnSlideToId:Object(C["unref"])(m),manualExitFullscreen:Object(C["unref"])(g),onWheel:n[0]||(n[0]=e=>Object(C["unref"])(r)(e)),onTouchstart:n[1]||(n[1]=e=>Object(C["unref"])(i)(e)),onTouchend:n[2]||(n[2]=e=>Object(C["unref"])(s)(e))},null,8,["slideWidth","slideHeight","animationIndex","turnSlideToId","manualExitFullscreen"]),[[_,V]]),E.value?(Object(C["openBlock"])(),Object(C["createBlock"])(TE,{key:0,turnSlideToIndex:Object(C["unref"])(b),onClose:n[3]||(n[3]=e=>E.value=!1)},null,8,["turnSlideToIndex"])):Object(C["createCommentVNode"])("",!0),k.value?(Object(C["openBlock"])(),Object(C["createBlock"])(qE,{key:1,slideWidth:Object(C["unref"])(j),slideHeight:Object(C["unref"])(v),onClose:n[4]||(n[4]=e=>k.value=!1)},null,8,["slideWidth","slideHeight"])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",UE,[Object(C["createVNode"])(c,{class:"tool-btn",theme:"two-tone",fill:["#111","#fff"],onClick:n[5]||(n[5]=e=>Object(C["unref"])(p)())}),Object(C["createVNode"])(a,{class:"tool-btn",theme:"two-tone",fill:["#111","#fff"],onClick:n[6]||(n[6]=e=>Object(C["unref"])(O)())})]),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tools-right",{visible:x.value}]),onMouseleave:n[14]||(n[14]=e=>x.value=!1),onMouseenter:n[15]||(n[15]=e=>x.value=!0)},[Object(C["createElementVNode"])("div",GE,[Object(C["createElementVNode"])("div",{class:"tool-btn page-number",onClick:n[7]||(n[7]=e=>E.value=!0)},"幻灯片 "+Object(C["toDisplayString"])(Object(C["unref"])(o)+1)+" / "+Object(C["toDisplayString"])(Object(C["unref"])(l).length),1),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"画笔工具"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{class:"tool-btn",onClick:n[8]||(n[8]=e=>k.value=!0)})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"激光笔"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{class:Object(C["normalizeClass"])(["tool-btn",{active:w.value}]),onClick:n[9]||(n[9]=e=>w.value=!w.value)},null,8,["class"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"演讲者视图"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{class:"tool-btn",onClick:n[10]||(n[10]=t=>e.changeViewMode("presenter"))})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:Object(C["unref"])(y)?"退出全屏":"进入全屏"},{default:Object(C["withCtx"])(()=>[Object(C["unref"])(y)?(Object(C["openBlock"])(),Object(C["createBlock"])(B,{key:0,class:"tool-btn",onClick:n[11]||(n[11]=e=>Object(C["unref"])(g)())})):(Object(C["openBlock"])(),Object(C["createBlock"])(S,{key:1,class:"tool-btn",onClick:n[12]||(n[12]=e=>Object(C["unref"])(ec)())}))]),_:1},8,["mouseEnterDelay","title"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"结束放映"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(L,{class:"tool-btn",onClick:n[13]||(n[13]=e=>Object(C["unref"])(h)())})]),_:1},8,["mouseEnterDelay"])])],34)],2)}}});l("4a2e");const YE=V()(XE,[["__scopeId","data-v-d72d6626"]]);var ZE=YE;const WE=e=>(Object(C["pushScopeId"])("data-v-5fba3eec"),e=e(),Object(C["popScopeId"])(),e),JE={class:"presenter-view"},KE={class:"toolbar"},QE=WE(()=>Object(C["createElementVNode"])("span",null,"普通视图",-1)),ew=WE(()=>Object(C["createElementVNode"])("span",null,"画笔",-1)),tw=WE(()=>Object(C["createElementVNode"])("span",null,"激光笔",-1)),lw=WE(()=>Object(C["createElementVNode"])("span",null,"结束放映",-1)),ow={class:"content"},nw=["onClick"],cw={class:"remark"},aw={class:"header"},rw=WE(()=>Object(C["createElementVNode"])("span",null,"演讲者备注",-1)),iw=["innerHTML"],sw={class:"remark-scale"};var dw=Object(C["defineComponent"])({__name:"PresenterView",props:{changeViewMode:{type:Function,required:!0}},setup(e){const t=e,{slides:l,slideIndex:o,viewportRatio:n,currentSlide:c}=Object(N["c"])(Uo()),a=Object(C["ref"])(),r=Object(C["ref"])(),i=Object(C["ref"])(!1),s=Object(C["ref"])(!1),{mousewheelListener:d,touchStartListener:u,touchEndListener:b,turnPrevSlide:m,turnNextSlide:p,turnSlideToIndex:O,turnSlideToId:f,animationIndex:j}=oE(),{slideWidth:v,slideHeight:h}=nE(a),{exitScreening:y}=oc(),{slidesLoadLimit:g}=YO(),{fullscreenState:x,manualExitFullscreen:k}=cE(),E=Object(C["ref"])(16),w=Object(C["computed"])(()=>_n(c.value.remark||"无备注")),V=e=>{r.value&&r.value.scrollBy(e.deltaY,0)},I=e=>{e<12||e>40||(E.value=e)};Object(C["watch"])(o,()=>{Object(C["nextTick"])(()=>{if(!r.value)return;const e=r.value.querySelector(".thumbnail.active");if(!e)return;const t=r.value.offsetWidth,l=e.offsetLeft;r.value.scrollTo({left:l-t/2,behavior:"smooth"})})});const B=()=>[{text:"上一页",subText:"↑ ←",disable:o.value<=0,handler:()=>m()},{text:"下一页",subText:"↓ →",disable:o.value>=l.value.length-1,handler:()=>p()},{text:"第一页",disable:0===o.value,handler:()=>O(0)},{text:"最后一页",disable:o.value===l.value.length-1,handler:()=>O(l.value.length-1)},{divider:!0},{text:"画笔工具",handler:()=>i.value=!0},{text:"普通视图",handler:()=>t.changeViewMode("base")},{divider:!0},{text:"结束放映",subText:"ESC",handler:y}];return(t,c)=>{const m=Object(C["resolveComponent"])("IconListView"),p=Object(C["resolveComponent"])("IconWrite"),N=Object(C["resolveComponent"])("IconMagic"),S=Object(C["resolveComponent"])("IconOffScreenOne"),L=Object(C["resolveComponent"])("Divider"),_=Object(C["resolveComponent"])("IconPower"),T=Object(C["resolveComponent"])("IconMinus"),M=Object(C["resolveComponent"])("IconPlus"),D=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",JE,[Object(C["createElementVNode"])("div",KE,[Object(C["createElementVNode"])("div",{class:"tool-btn",onClick:c[0]||(c[0]=t=>e.changeViewMode("base"))},[Object(C["createVNode"])(m,{class:"tool-icon"}),QE]),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tool-btn",{active:i.value}]),onClick:c[1]||(c[1]=e=>i.value=!i.value)},[Object(C["createVNode"])(p,{class:"tool-icon"}),ew],2),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tool-btn",{active:s.value}]),onClick:c[2]||(c[2]=e=>s.value=!s.value)},[Object(C["createVNode"])(N,{class:"tool-icon"}),tw],2),Object(C["createElementVNode"])("div",{class:"tool-btn",onClick:c[3]||(c[3]=()=>Object(C["unref"])(x)?Object(C["unref"])(k)():Object(C["unref"])(ec)())},[Object(C["unref"])(x)?(Object(C["openBlock"])(),Object(C["createBlock"])(S,{key:0,class:"tool-icon"})):(Object(C["openBlock"])(),Object(C["createBlock"])(S,{key:1,class:"tool-icon"})),Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(Object(C["unref"])(x)?"退出全屏":"全屏"),1)]),Object(C["createVNode"])(L,{class:"divider"}),Object(C["createElementVNode"])("div",{class:"tool-btn",onClick:c[4]||(c[4]=e=>Object(C["unref"])(y)())},[Object(C["createVNode"])(_,{class:"tool-icon"}),lw])]),Object(C["createElementVNode"])("div",ow,[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["slide-list-wrap",{"laser-pen":s.value}]),ref_key:"slideListWrapRef",ref:a},[Object(C["withDirectives"])(Object(C["createVNode"])(wE,{slideWidth:Object(C["unref"])(v),slideHeight:Object(C["unref"])(h),animationIndex:Object(C["unref"])(j),turnSlideToId:Object(C["unref"])(f),manualExitFullscreen:Object(C["unref"])(k),onWheel:c[5]||(c[5]=e=>Object(C["unref"])(d)(e)),onTouchstart:c[6]||(c[6]=e=>Object(C["unref"])(u)(e)),onTouchend:c[7]||(c[7]=e=>Object(C["unref"])(b)(e))},null,8,["slideWidth","slideHeight","animationIndex","turnSlideToId","manualExitFullscreen"]),[[D,B]]),i.value?(Object(C["openBlock"])(),Object(C["createBlock"])(qE,{key:0,slideWidth:Object(C["unref"])(v),slideHeight:Object(C["unref"])(h),position:{left:"75px",top:"5px"},onClose:c[8]||(c[8]=e=>i.value=!1)},null,8,["slideWidth","slideHeight"])):Object(C["createCommentVNode"])("",!0)],2),Object(C["createElementVNode"])("div",{class:"thumbnails",ref_key:"thumbnailsRef",ref:r,onWheel:c[9]||(c[9]=Object(C["withModifiers"])(e=>V(e),["prevent"]))},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["thumbnail",{active:t===Object(C["unref"])(o)}]),key:e.id,onClick:e=>Object(C["unref"])(O)(t)},[Object(C["createVNode"])(zm,{slide:e,size:120/Object(C["unref"])(n),visible:t<Object(C["unref"])(g)},null,8,["slide","size","visible"])],10,nw))),128))],544)]),Object(C["createElementVNode"])("div",cw,[Object(C["createElementVNode"])("div",aw,[rw,Object(C["createElementVNode"])("span",null,"P "+Object(C["toDisplayString"])(Object(C["unref"])(o)+1)+" / "+Object(C["toDisplayString"])(Object(C["unref"])(l).length),1)]),Object(C["createElementVNode"])("div",{class:"remark-content",style:Object(C["normalizeStyle"])({fontSize:E.value+"px"}),innerHTML:Object(C["unref"])(w)},null,12,iw),Object(C["createElementVNode"])("div",sw,[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["scale-btn",{disable:12===E.value}]),onClick:c[10]||(c[10]=e=>I(E.value-2))},[Object(C["createVNode"])(T)],2),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["scale-btn",{disable:40===E.value}]),onClick:c[11]||(c[11]=e=>I(E.value+2))},[Object(C["createVNode"])(M)],2)])])])}}});l("7a60");const uw=V()(dw,[["__scopeId","data-v-5fba3eec"]]);var bw=uw;const mw={class:"pptist-screen"};var pw=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(C["ref"])("base"),l=e=>{t.value=e},{exitScreening:o}=oc(),n=e=>{const t=e.key.toUpperCase();t===On.ESC&&o()};return Object(C["onMounted"])(()=>document.addEventListener("keydown",n)),Object(C["onUnmounted"])(()=>document.removeEventListener("keydown",n)),(e,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",mw,["base"===t.value?(Object(C["openBlock"])(),Object(C["createBlock"])(ZE,{key:0,changeViewMode:l})):"presenter"===t.value?(Object(C["openBlock"])(),Object(C["createBlock"])(bw,{key:1,changeViewMode:l})):Object(C["createCommentVNode"])("",!0)]))}});l("4764");const Ow=V()(pw,[["__scopeId","data-v-6bf3d190"]]);var fw=Ow,jw=Object(C["defineComponent"])({__name:"MobileEditableElement",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},selectElement:{type:Function,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e={[Fn.IMAGE]:Ar,[Fn.TEXT]:Zi,[Fn.SHAPE]:us,[Fn.LINE]:xs,[Fn.CHART]:Bs,[Fn.TABLE]:Ws,[Fn.LATEX]:ld,[Fn.VIDEO]:_d,[Fn.AUDIO]:tu};return e[t.elementInfo.type]||null});return(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"mobile-editable-element",style:Object(C["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(l)),{elementInfo:e.elementInfo,selectElement:e.selectElement,contextmenus:()=>null},null,8,["elementInfo","selectElement","contextmenus"]))],4))}});const vw=jw;var hw=vw,yw=Object(C["defineComponent"])({__name:"MobileOperate",props:{elementInfo:{type:Object,required:!0},isSelected:{type:Boolean,required:!0},canvasScale:{type:Number,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>"rotate"in t.elementInfo?t.elementInfo.rotate:0),o=Object(C["computed"])(()=>t.elementInfo.width*t.canvasScale),n=Object(C["computed"])(()=>t.elementInfo.height*t.canvasScale),{borderLines:c,resizeHandlers:a,textElementResizeHandlers:r}=Bu(o,n),i="text"===t.elementInfo.type||"table"===t.elementInfo.type?r:a;return(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"mobile-operate",style:Object(C["normalizeStyle"])({top:e.elementInfo.top*e.canvasScale+"px",left:e.elementInfo.left*e.canvasScale+"px",transform:`rotate(${Object(C["unref"])(l)}deg)`,transformOrigin:`${e.elementInfo.width*e.canvasScale/2}px ${e.elementInfo.height*e.canvasScale/2}px`})},[e.isSelected?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(c),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(Du,{class:"operate-border-line",key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(i),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(_u,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(C["normalizeStyle"])(t.style),onTouchstart:Object(C["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onTouchstart"]))),128))],64)):Object(C["createCommentVNode"])("",!0)],4))}});l("dd03");const gw=V()(yw,[["__scopeId","data-v-7fdc6c04"]]);var xw=gw;const kw={class:"mobile-thumbnails"},Cw=["onClick"],Nw={class:"label"};var Ew=Object(C["defineComponent"])({__name:"MobileThumbnails",setup(e){const t=Uo(),{slides:l,slideIndex:o}=Object(N["c"])(t),{slidesLoadLimit:n}=YO(),c=e=>{t.updateSlideIndex(e)};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",kw,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["thumbnail-item",{active:Object(C["unref"])(o)===t}]),key:e.id,onClick:e=>c(t)},[Object(C["createElementVNode"])("div",Nw,Object(C["toDisplayString"])(t+1),1),Object(C["createVNode"])(zm,{class:"thumbnail",slide:e,size:120,visible:t<Object(C["unref"])(n)},null,8,["slide","visible"])],10,Cw))),128))]))}});l("dd28");const ww=V()(Ew,[["__scopeId","data-v-4a0c7aa7"]]);var Vw=ww;const Iw={class:"slide-toolbar"},Bw={class:"remark"},Sw=["value"],Lw={class:"toolbar"},_w=Object(C["createTextVNode"])(" 新幻灯片"),Tw=Object(C["createTextVNode"])(" 复制"),Mw=Object(C["createTextVNode"])(" 删除"),Dw=Object(C["createTextVNode"])(" 文字"),zw=Object(C["createTextVNode"])("图片 "),Fw=Object(C["createTextVNode"])(" 矩形"),Aw=Object(C["createTextVNode"])(" 圆形");var $w=Object(C["defineComponent"])({__name:"SlideToolbar",setup(e){const t=Uo(),{viewportRatio:l,currentSlide:o}=Object(N["c"])(t),{createSlide:n,copyAndPasteSlide:c,deleteSlide:a}=Gn(),{createTextElement:r,createImageElement:i,createShapeElement:s}=Hn(),d=()=>{const e=400,t=56;r({left:(Dn-e)/2,top:(Dn*l.value-t)/2,width:e,height:t},"<p>新添加文本</p>")},u=e=>{e&&e[0]&&Mn(e[0]).then(e=>i(e))},b=e=>{const t={viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z"},o={viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z"},n={square:t,round:o},c=200;s({left:(Dn-c)/2,top:(Dn*l.value-c)/2,width:c,height:c},n[e])},m=Object(C["computed"])(()=>{var e;return(null===(e=o.value)||void 0===e?void 0:e.remark)||""}),p=e=>{const l=e.target.value;t.updateSlide({remark:l})};return(e,t)=>{const l=Object(C["resolveComponent"])("IconPlus"),o=Object(C["resolveComponent"])("Button"),r=Object(C["resolveComponent"])("IconCopy"),i=Object(C["resolveComponent"])("IconDelete"),s=Object(C["resolveComponent"])("ButtonGroup"),O=Object(C["resolveComponent"])("IconFontSize"),f=Object(C["resolveComponent"])("IconPicture"),j=Object(C["resolveComponent"])("FileInput"),v=Object(C["resolveComponent"])("IconSquare"),h=Object(C["resolveComponent"])("IconRound");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Iw,[Object(C["createElementVNode"])("div",Bw,[Object(C["createElementVNode"])("textarea",{value:Object(C["unref"])(m),placeholder:"点击输入演讲者备注",onInput:t[0]||(t[0]=e=>p(e))},null,40,Sw)]),Object(C["createElementVNode"])("div",Lw,[Object(C["createVNode"])(s,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{style:{flex:"1"},onClick:t[1]||(t[1]=e=>Object(C["unref"])(n)())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l,{class:"icon"}),_w]),_:1}),Object(C["createVNode"])(o,{style:{flex:"1"},onClick:t[2]||(t[2]=e=>Object(C["unref"])(c)())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(r,{class:"icon"}),Tw]),_:1}),Object(C["createVNode"])(o,{style:{flex:"1"},onClick:t[3]||(t[3]=e=>Object(C["unref"])(a)())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{class:"icon"}),Mw]),_:1})]),_:1}),Object(C["createVNode"])(s,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{style:{flex:"1"},onClick:t[4]||(t[4]=e=>d())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(O,{class:"icon"}),Dw]),_:1}),Object(C["createVNode"])(o,{style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j,{onChange:t[5]||(t[5]=e=>u(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f,{class:"icon"}),zw]),_:1})]),_:1}),Object(C["createVNode"])(o,{style:{flex:"1"},onClick:t[6]||(t[6]=e=>b("square"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(v,{class:"icon"}),Fw]),_:1}),Object(C["createVNode"])(o,{style:{flex:"1"},onClick:t[7]||(t[7]=e=>b("round"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(h,{class:"icon"}),Aw]),_:1})]),_:1})]),Object(C["createVNode"])(Vw)])}}});l("e62b");const Rw=V()($w,[["__scopeId","data-v-5c24a24d"]]);var Pw=Rw;const Hw=e=>(Object(C["pushScopeId"])("data-v-446388c6"),e=e(),Object(C["popScopeId"])(),e),qw={class:"element-toolbar"},Uw={class:"tabs"},Gw=["onClick"],Xw={class:"content"},Yw={key:0,class:"style"},Zw=Object(C["createTextVNode"])("+"),Ww=Object(C["createTextVNode"])("-"),Jw={class:"row-block"},Kw=Hw(()=>Object(C["createElementVNode"])("div",{class:"label"},"文字颜色：",-1)),Qw={class:"colors"},eV=["onClick"],tV={class:"row-block"},lV=Hw(()=>Object(C["createElementVNode"])("div",{class:"label"},"填充色：",-1)),oV={class:"colors"},nV=["onClick"],cV={key:1,class:"common"},aV=Object(C["createTextVNode"])(" 复制"),rV=Object(C["createTextVNode"])(" 删除"),iV=Object(C["createTextVNode"])(" 置顶"),sV=Object(C["createTextVNode"])(" 置底"),dV=Object(C["createTextVNode"])(" 上移"),uV=Object(C["createTextVNode"])(" 下移"),bV=Object(C["createTextVNode"])(" 左对齐"),mV=Object(C["createTextVNode"])(" 水平居中"),pV=Object(C["createTextVNode"])(" 右对齐"),OV=Object(C["createTextVNode"])(" 上对齐"),fV=Object(C["createTextVNode"])(" 垂直居中"),jV=Object(C["createTextVNode"])(" 下对齐");var vV=Object(C["defineComponent"])({__name:"ElementToolbar",setup(e){const t=["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c","#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57"],l=Yo(),o=Uo(),{handleElement:n,handleElementId:c,richTextAttrs:a}=Object(N["c"])(l),{addHistorySnapshot:r}=Pn(),i=(e,t)=>{o.updateElement({id:e,props:t}),r()},s=[{key:"style",label:"样式"},{key:"common",label:"布局"}],d=Object(C["ref"])("common"),{orderElement:u}=Qn(),{alignElementToCanvas:b}=Ka(),{addElementsFromData:m}=qn(),{deleteElement:p}=Yn(),O=()=>{const e=JSON.parse(JSON.stringify(n.value));m([e])},f=(e,t)=>{_i.emit(Bi.RICH_TEXT_COMMAND,{action:{command:e,value:t}})},j=e=>{var t;if(n.value){if(("text"===n.value.type||"shape"===n.value.type&&null!==(t=n.value.text)&&void 0!==t&&t.content)&&_i.emit(Bi.RICH_TEXT_COMMAND,{action:{command:"color",value:e}}),"table"===n.value.type){const t=JSON.parse(JSON.stringify(n.value.data));for(let l=0;l<t.length;l++)for(let o=0;o<t[l].length;o++){const n=t[l][o].style||{};t[l][o].style={...n,color:e}}i(c.value,{data:t})}"latex"===n.value.type&&i(c.value,{color:e})}},v=e=>{if(n.value){if("text"!==n.value.type&&"shape"!==n.value.type&&"chart"!==n.value.type||i(c.value,{fill:e}),"table"===n.value.type){const t=JSON.parse(JSON.stringify(n.value.data));for(let l=0;l<t.length;l++)for(let o=0;o<t[l].length;o++){const n=t[l][o].style||{};t[l][o].style={...n,backcolor:e}}i(c.value,{data:t})}"audio"===n.value.type&&i(c.value,{color:e})}};return(e,l)=>{const o=Object(C["resolveComponent"])("IconTextBold"),c=Object(C["resolveComponent"])("CheckboxButton"),r=Object(C["resolveComponent"])("IconTextItalic"),i=Object(C["resolveComponent"])("IconTextUnderline"),m=Object(C["resolveComponent"])("IconStrikethrough"),h=Object(C["resolveComponent"])("CheckboxButtonGroup"),y=Object(C["resolveComponent"])("IconFontSize"),g=Object(C["resolveComponent"])("Button"),x=Object(C["resolveComponent"])("ButtonGroup"),k=Object(C["resolveComponent"])("Divider"),N=Object(C["resolveComponent"])("IconAlignTextLeft"),E=Object(C["resolveComponent"])("RadioButton"),w=Object(C["resolveComponent"])("IconAlignTextCenter"),V=Object(C["resolveComponent"])("IconAlignTextRight"),I=Object(C["resolveComponent"])("RadioGroup"),B=Object(C["resolveComponent"])("IconCopy"),S=Object(C["resolveComponent"])("IconDelete"),L=Object(C["resolveComponent"])("IconSendToBack"),_=Object(C["resolveComponent"])("IconBringToFrontOne"),T=Object(C["resolveComponent"])("IconBringToFront"),M=Object(C["resolveComponent"])("IconSentToBack"),D=Object(C["resolveComponent"])("IconAlignLeft"),z=Object(C["resolveComponent"])("IconAlignVertically"),F=Object(C["resolveComponent"])("IconAlignRight"),A=Object(C["resolveComponent"])("IconAlignTop"),$=Object(C["resolveComponent"])("IconAlignHorizontally"),R=Object(C["resolveComponent"])("IconAlignBottom");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",qw,[Object(C["createElementVNode"])("div",Uw,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(s,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tab",{active:d.value===e.key}]),key:e.key,onClick:t=>d.value=e.key},Object(C["toDisplayString"])(e.label),11,Gw)),64))]),Object(C["createElementVNode"])("div",Xw,["style"===d.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Yw,[Object(C["createVNode"])(h,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{style:{flex:"1"},checked:Object(C["unref"])(a).bold,onClick:l[0]||(l[0]=e=>f("bold"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o)]),_:1},8,["checked"]),Object(C["createVNode"])(c,{style:{flex:"1"},checked:Object(C["unref"])(a).em,onClick:l[1]||(l[1]=e=>f("em"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(r)]),_:1},8,["checked"]),Object(C["createVNode"])(c,{style:{flex:"1"},checked:Object(C["unref"])(a).underline,onClick:l[2]||(l[2]=e=>f("underline"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i)]),_:1},8,["checked"]),Object(C["createVNode"])(c,{style:{flex:"1"},checked:Object(C["unref"])(a).strikethrough,onClick:l[3]||(l[3]=e=>f("strikethrough"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m)]),_:1},8,["checked"])]),_:1}),Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{style:{flex:"2"},onClick:l[4]||(l[4]=e=>f("fontsize-add"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y),Zw]),_:1}),Object(C["createVNode"])(g,{style:{flex:"2"},onClick:l[5]||(l[5]=e=>f("fontsize-reduce"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y),Ww]),_:1})]),_:1}),Object(C["createVNode"])(k,{style:{margin:"20px 0"}}),Object(C["createVNode"])(I,{class:"row","button-style":"solid",value:Object(C["unref"])(a).align,onChange:l[6]||(l[6]=e=>f("align",e.target.value))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(E,{value:"left",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N)]),_:1}),Object(C["createVNode"])(E,{value:"center",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(w)]),_:1}),Object(C["createVNode"])(E,{value:"right",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V)]),_:1})]),_:1},8,["value"]),Object(C["createVNode"])(k,{style:{margin:"20px 0"}}),Object(C["createElementVNode"])("div",Jw,[Kw,Object(C["createElementVNode"])("div",Qw,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t,e=>Object(C["createElementVNode"])("div",{class:"color",key:e,onClick:t=>j(e)},[Object(C["createElementVNode"])("div",{class:"color-block",style:Object(C["normalizeStyle"])({backgroundColor:e})},null,4)],8,eV)),64))])]),Object(C["createElementVNode"])("div",tV,[lV,Object(C["createElementVNode"])("div",oV,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t,e=>Object(C["createElementVNode"])("div",{class:"color",key:e,onClick:t=>v(e)},[Object(C["createElementVNode"])("div",{class:"color-block",style:Object(C["normalizeStyle"])({backgroundColor:e})},null,4)],8,nV)),64))])])])):Object(C["createCommentVNode"])("",!0),"common"===d.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",cV,[Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[7]||(l[7]=e=>O())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(B,{class:"icon"}),aV]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[8]||(l[8]=e=>Object(C["unref"])(p)())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(S,{class:"icon"}),rV]),_:1})]),_:1}),Object(C["createVNode"])(k,{style:{margin:"20px 0"}}),Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[9]||(l[9]=e=>Object(C["unref"])(u)(Object(C["unref"])(n),Object(C["unref"])(dn).TOP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(L,{class:"icon"}),iV]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[10]||(l[10]=e=>Object(C["unref"])(u)(Object(C["unref"])(n),Object(C["unref"])(dn).BOTTOM))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_,{class:"icon"}),sV]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[11]||(l[11]=e=>Object(C["unref"])(u)(Object(C["unref"])(n),Object(C["unref"])(dn).UP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T,{class:"icon"}),dV]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[12]||(l[12]=e=>Object(C["unref"])(u)(Object(C["unref"])(n),Object(C["unref"])(dn).DOWN))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M,{class:"icon"}),uV]),_:1})]),_:1}),Object(C["createVNode"])(k,{style:{margin:"20px 0"}}),Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[13]||(l[13]=e=>Object(C["unref"])(b)(Object(C["unref"])(un).LEFT))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{class:"icon"}),bV]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[14]||(l[14]=e=>Object(C["unref"])(b)(Object(C["unref"])(un).HORIZONTAL))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{class:"icon"}),mV]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[15]||(l[15]=e=>Object(C["unref"])(b)(Object(C["unref"])(un).RIGHT))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F,{class:"icon"}),pV]),_:1})]),_:1}),Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[16]||(l[16]=e=>Object(C["unref"])(b)(Object(C["unref"])(un).TOP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{class:"icon"}),OV]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[17]||(l[17]=e=>Object(C["unref"])(b)(Object(C["unref"])(un).VERTICAL))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])($,{class:"icon"}),fV]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[18]||(l[18]=e=>Object(C["unref"])(b)(Object(C["unref"])(un).BOTTOM))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(R,{class:"icon"}),jV]),_:1})]),_:1})])):Object(C["createCommentVNode"])("",!0)])])}}});l("1c65");const hV=V()(vV,[["__scopeId","data-v-446388c6"]]);var yV=hV;const gV={class:"mobile-editor-header"},xV={class:"history"},kV=Object(C["createTextVNode"])(" 撤销"),CV=Object(C["createTextVNode"])(" 重做"),NV=Object(C["createTextVNode"])(" 退出编辑");var EV=Object(C["defineComponent"])({__name:"Header",props:{changeMode:{type:Function,required:!0}},setup(e){const{canUndo:t,canRedo:l}=Object(N["c"])(ln()),{redo:o,undo:n}=Pn();return(c,a)=>{const r=Object(C["resolveComponent"])("IconBack"),i=Object(C["resolveComponent"])("IconNext"),s=Object(C["resolveComponent"])("IconLogout");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",gV,[Object(C["createElementVNode"])("div",xV,[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["history-item",{disable:!Object(C["unref"])(t)}]),onClick:a[0]||(a[0]=Object(C["withModifiers"])(e=>Object(C["unref"])(n)(),["stop"]))},[Object(C["createVNode"])(r),kV],2),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["history-item",{disable:!Object(C["unref"])(l)}]),onClick:a[1]||(a[1]=Object(C["withModifiers"])(e=>Object(C["unref"])(o)(),["stop"]))},[Object(C["createVNode"])(i),CV],2)]),Object(C["createElementVNode"])("div",{class:"back",onClick:a[2]||(a[2]=t=>e.changeMode("preview"))},[Object(C["createVNode"])(s),NV])])}}});l("601c");const wV=V()(EV,[["__scopeId","data-v-8639f30e"]]);var VV=wV;const IV={class:"mobile-editor"};var BV=Object(C["defineComponent"])({__name:"index",props:{changeMode:{type:Function,required:!0}},setup(e){const t=Uo(),l=Yo(),{slideIndex:o,currentSlide:n,viewportRatio:c}=Object(N["c"])(t),{activeElementIdList:a,handleElement:r}=Object(N["c"])(l),i=Object(C["ref"])(),s=Object(C["ref"])([]),d=Object(C["computed"])(()=>n.value.background),{backgroundStyle:u}=pu(d),b=Object(C["computed"])(()=>{if(!i.value)return 1;const e=i.value.clientWidth,t=i.value.clientHeight,l=t/e;return l>=c.value?(e-20)/Dn:(t-20)/c.value/Dn});Object(C["onMounted"])(()=>{a.value.length&&l.setActiveElementIdList([]),0!==o.value&&t.updateSlideIndex(0)});const m=Object(C["computed"])(()=>({width:Dn*b.value+"px",height:Dn*c.value*b.value+"px"})),p=Object(C["ref"])([]),O=()=>{p.value=n.value?JSON.parse(JSON.stringify(n.value.elements)):[]};Object(C["watchEffect"])(O);const{dragElement:f}=Ya(p,s,b),{scaleElement:j}=Ga(p,s,b),v=(e,t,o=!0)=>{a.value.includes(t.id)||(l.setActiveElementIdList([t.id]),l.setHandleElementId(t.id)),o&&f(e,t)},h=()=>{l.setActiveElementIdList([])};return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",IV,[Object(C["createVNode"])(VV,{changeMode:e.changeMode},null,8,["changeMode"]),Object(C["createElementVNode"])("div",{class:"content",ref_key:"contentRef",ref:i,onTouchstart:l[0]||(l[0]=e=>h())},[Object(C["createElementVNode"])("div",{class:"viewport-wrapper",style:Object(C["normalizeStyle"])(Object(C["unref"])(m))},[Object(C["createElementVNode"])("div",{class:"background",style:Object(C["normalizeStyle"])(Object(C["unref"])(u))},null,4),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(s.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(yu,{key:t,type:e.type,axis:e.axis,length:e.length,canvasScale:Object(C["unref"])(b)},null,8,["type","axis","length","canvasScale"]))),128)),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(p.value,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:e.id},["line"!==e.type?(Object(C["openBlock"])(),Object(C["createBlock"])(xw,{key:0,elementInfo:e,isSelected:Object(C["unref"])(a).includes(e.id),canvasScale:Object(C["unref"])(b),scaleElement:Object(C["unref"])(j)},null,8,["elementInfo","isSelected","canvasScale","scaleElement"])):Object(C["createCommentVNode"])("",!0)],64))),128)),Object(C["createElementVNode"])("div",{class:"viewport",style:Object(C["normalizeStyle"])({transform:`scale(${Object(C["unref"])(b)})`})},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(p.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(hw,{key:e.id,elementInfo:e,elementIndex:t+1,selectElement:v},null,8,["elementInfo","elementIndex"]))),128))],4)],4)],544),Object(C["createVNode"])(Pw),Object(C["unref"])(r)?(Object(C["openBlock"])(),Object(C["createBlock"])(yV,{key:0})):Object(C["createCommentVNode"])("",!0)]))}});l("2d86");const SV=V()(BV,[["__scopeId","data-v-8cdcde82"]]);var LV=SV;const _V={class:"header"},TV=Object(C["createTextVNode"])(" 退出播放");var MV=Object(C["defineComponent"])({__name:"MobilePlayer",props:{changeMode:{type:Function,required:!0}},setup(e){const t=Uo(),{slides:l,slideIndex:o,currentSlide:n,viewportRatio:c}=Object(N["c"])(t),a=Object(C["ref"])(!1),r=Object(C["ref"])({width:0,height:0});Object(C["onMounted"])(()=>{0!==o.value&&t.updateSlideIndex(0),r.value={width:document.body.clientHeight,height:document.body.clientWidth}});const i=Object(C["computed"])(()=>{const e=r.value.height/r.value.width;let t=0,l=0;return e>=c.value?(t=r.value.width,l=t*c.value):(l=r.value.height,t=l/c.value),{width:t,height:l}}),s=Object(C["ref"])(null),d=e=>{s.value={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}},u=e=>{if(!s.value)return;const n=Math.abs(s.value.y-e.changedTouches[0].pageY),c=e.changedTouches[0].pageX-s.value.x;Math.abs(c)>n&&Math.abs(c)>50&&(s.value=null,c<0&&o.value>0&&t.updateSlideIndex(o.value-1),c>0&&o.value<l.value.length-1&&t.updateSlideIndex(o.value+1))};return(t,c)=>{const s=Object(C["resolveComponent"])("IconLogout");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"mobile-player",style:Object(C["normalizeStyle"])({width:r.value.width+"px",height:r.value.height+"px",transform:`rotate(90deg) translateY(-${r.value.height}px)`})},[Object(C["createElementVNode"])("div",{class:"screen-slide-list",onClick:c[0]||(c[0]=e=>a.value=!a.value),onTouchstart:c[1]||(c[1]=e=>d(e)),onTouchend:c[2]||(c[2]=e=>u(e))},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["slide-item","turning-mode-"+(e.turningMode||"slideY"),{current:t===Object(C["unref"])(o),before:t<Object(C["unref"])(o),after:t>Object(C["unref"])(o),hide:(t===Object(C["unref"])(o)-1||t===Object(C["unref"])(o)+1)&&e.turningMode!==Object(C["unref"])(n).turningMode}]),key:e.id},[Math.abs(Object(C["unref"])(o)-t)<2?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"slide-content",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(i).width+"px",height:Object(C["unref"])(i).height+"px"})},[Object(C["createVNode"])(zm,{slide:e,size:Object(C["unref"])(i).width},null,8,["slide","size"])],4)):Object(C["createCommentVNode"])("",!0)],2))),128))],32),a.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",_V,[Object(C["createElementVNode"])("div",{class:"back",onClick:c[3]||(c[3]=t=>e.changeMode("preview"))},[Object(C["createVNode"])(s),TV])]),Object(C["createVNode"])(Vw,{class:"thumbnails"})],64)):Object(C["createCommentVNode"])("",!0)],4)}}});l("4f8b");const DV=V()(MV,[["__scopeId","data-v-5293de3b"]]);var zV=DV;const FV={class:"thumbnail-list"},AV={class:"menu"},$V=Object(C["createTextVNode"])(" 编辑"),RV=Object(C["createTextVNode"])(" 播放");var PV=Object(C["defineComponent"])({__name:"MobilePreview",props:{changeMode:{type:Function,required:!0}},setup(e){const{slides:t}=Object(N["c"])(Uo()),{slidesLoadLimit:l}=YO(),o=Object(C["ref"])(),n=Object(C["ref"])(0);return Object(C["onMounted"])(()=>{o.value&&(n.value=o.value.clientWidth)}),(c,a)=>{const r=Object(C["resolveComponent"])("IconEdit"),i=Object(C["resolveComponent"])("Divider"),s=Object(C["resolveComponent"])("IconFullScreenPlay");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"mobile-preview",ref_key:"mobileRef",ref:o},[Object(C["createElementVNode"])("div",FV,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(t),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"thumbnail-item",key:e.id},[Object(C["createVNode"])(zm,{slide:e,size:n.value-20,visible:t<Object(C["unref"])(l)},null,8,["slide","size","visible"])]))),128))]),Object(C["createElementVNode"])("div",AV,[Object(C["createElementVNode"])("div",{class:"menu-item",onClick:a[0]||(a[0]=t=>e.changeMode("editor"))},[Object(C["createVNode"])(r,{class:"icon"}),$V]),Object(C["createVNode"])(i,{type:"vertical",style:{height:"30px"}}),Object(C["createElementVNode"])("div",{class:"menu-item",onClick:a[1]||(a[1]=t=>e.changeMode("player"))},[Object(C["createVNode"])(s,{class:"icon"}),RV])])],512)}}});l("9670");const HV=V()(PV,[["__scopeId","data-v-6414f8a8"]]);var qV=HV;const UV={class:"mobile"};var GV=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(C["ref"])("preview"),l=e=>t.value=e,o=Object(C["computed"])(()=>{const e={editor:LV,player:zV,preview:qV};return e[t.value]||null});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",UV,[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(o)),{changeMode:l}))]))}});l("be01");const XV=V()(GV,[["__scopeId","data-v-1fb24d48"]]);var YV=XV,ZV=Object(C["defineComponent"])({__name:"PptistEditor",setup(e){const t=sn(),l=Yo(),o=ln(),{databaseId:n}=Object(N["c"])(l),{screening:c}=Object(N["c"])(nn());return window.onbeforeunload=()=>!1,Object(C["onMounted"])(()=>{o.initSnapshotDatabase(),l.setAvailableFonts()}),window.addEventListener("unload",()=>{const e=localStorage.getItem(Jo),t=e?JSON.parse(e):[];t.push(n.value);const l=JSON.stringify(t);localStorage.setItem(Jo,l)}),(e,l)=>Object(C["unref"])(c)?(Object(C["openBlock"])(),Object(C["createBlock"])(fw,{key:0})):Object(C["unref"])(t)?(Object(C["openBlock"])(),Object(C["createBlock"])(lE,{key:1})):(Object(C["openBlock"])(),Object(C["createBlock"])(YV,{key:2}))}});l("7e20");const WV=ZV;var JV=WV,KV=l("6026"),QV=l("7c10"),eI=l("6257"),tI=l("b7a8"),lI=l.n(tI),oI=()=>{async function e(e,t,l){const o=localStorage.getItem("token"),n=await lI()({method:e,url:t,data:l,headers:{authentication:"Bearer "+o}});return n}lI.a.defaults.baseURL="https://storyboard-api.aside.fun",lI.a.interceptors.response.use(e=>{var t,l,o;return null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.code?200!==e.data.code?(qt["a"].warning((null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message)||"网络错误"),null):null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data:e});const t=(t,l)=>e("POST",t,l),l=(t,l)=>e("GET",t,l);return{client:lI.a,post:t,get:l}};const{get:nI}=oI();function cI(){return nI("/api/files/token",{})}var aI=()=>{const e=async()=>{const e=await cI();return e};return{getToken:e}},rI=l("5c0c");const iI={key:0,class:"preview"},sI=["src"],dI={key:1,class:"preview"};var uI=Object(C["defineComponent"])({__name:"UploadImage",props:{initFileList:{type:Array,require:!1}},emits:["change"],setup(e,{emit:t}){const l=e;Object(C["onMounted"])(()=>{var e;null!==(e=l.initFileList)&&void 0!==e&&e.length&&(n.value=l.initFileList.map(e=>({fileName:e,uid:e,name:e,url:e})))});const{getToken:o}=aI(),n=Object(C["ref"])([]);async function c(e){const{file:l,onSuccess:c,onProgress:a,onError:r}=e,i="/shot/"+l.name,s=await o(),d=rI["a"](l,i,s);d.subscribe({next:e=>{const{percent:t}=(null===e||void 0===e?void 0:e.total)||{};null===a||void 0===a||a({percent:t})},error:e=>{null===r||void 0===r||r(e)},complete:e=>{const{hash:o,key:a}=e,r=l.name,i="https://static.aside.fun/"+a;null===c||void 0===c||c(i),n.value=[{fileName:r,uid:o,name:r,url:i}],t("change",i)}})}function a(e){"uploading"!==e.file.status&&(n.value=e.fileList)}return(e,t)=>{const l=Object(C["resolveComponent"])("Upload");return Object(C["openBlock"])(),Object(C["createBlock"])(l,{onChange:a,"custom-request":c,"file-list":n.value,"max-count":1},{itemRender:Object(C["withCtx"])(()=>[]),default:Object(C["withCtx"])(()=>{var e;return[n.value.length?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",iI,[Object(C["createElementVNode"])("img",{src:null===(e=n.value[0])||void 0===e?void 0:e.url,draggable:"false"},null,8,sI)])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",dI,[Object(C["createVNode"])(Object(C["unref"])(eI["a"]))]))]}),_:1},8,["file-list"])}}});l("c743");const bI=V()(uI,[["__scopeId","data-v-13982f72"]]);var mI=bI;const pI={class:"wrapper"},OI={class:"left"},fI=Object(C["createElementVNode"])("div",{class:"title"},"创建新团队",-1),jI=Object(C["createElementVNode"])("div",{class:"subtitle",style:{marginBottom:"36px"}},"与团队成员一同协作",-1),vI={class:"form"},hI={class:"item"},yI=Object(C["createElementVNode"])("div",{class:"title"},"团队名称",-1),gI={class:"box"},xI={class:"item"},kI=Object(C["createElementVNode"])("div",{class:"title"},"团队描述（可选）",-1),CI={class:"box"},NI={class:"item"},EI=Object(C["createElementVNode"])("div",{class:"title"},"LOGO（可选）",-1),wI={class:"box"},VI={class:"buttons"},II=Object(C["createTextVNode"])("创建团队"),BI=Object(C["createTextVNode"])("取消");var SI=Object(C["defineComponent"])({__name:"CreateTeamModal",props:{visible:{type:Boolean,require:!0}},emits:["close","ok"],setup(e,{emit:t}){const l=e,o=Object(C["ref"])(""),n=Object(C["ref"])(""),c=Object(C["ref"])("");function a(){o.value?t("ok",{name:o.value,description:n.value,logoUrl:c.value}):qt["a"].warning("请输入团队名称")}return Object(C["watch"])([()=>l.visible],()=>{o.value="",n.value="",c.value=""}),(e,r)=>{const i=Object(C["resolveComponent"])("Input"),s=Object(C["resolveComponent"])("TextArea"),d=Object(C["resolveComponent"])("Button"),u=Object(C["resolveComponent"])("Modal");return Object(C["openBlock"])(),Object(C["createBlock"])(u,{visible:l.visible,centered:"",footer:null,width:550,class:"create-team-modal",closable:!1},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",pI,[Object(C["createElementVNode"])("div",OI,[fI,jI,Object(C["createElementVNode"])("div",vI,[Object(C["createElementVNode"])("div",hI,[yI,Object(C["createElementVNode"])("div",gI,[Object(C["createVNode"])(i,{class:"input",placeholder:"请输入团队名称",value:o.value,"onUpdate:value":r[0]||(r[0]=e=>o.value=e)},null,8,["value"])])]),Object(C["createElementVNode"])("div",xI,[kI,Object(C["createElementVNode"])("div",CI,[Object(C["createVNode"])(s,{class:"input textarea",placeholder:"请输入团队描述",value:n.value,"onUpdate:value":r[1]||(r[1]=e=>n.value=e)},null,8,["value"])])]),Object(C["createElementVNode"])("div",NI,[EI,Object(C["createElementVNode"])("div",wI,[Object(C["createVNode"])(mI,{onChange:r[2]||(r[2]=e=>c.value=e),"init-file-list":c.value?[c.value]:void 0},null,8,["init-file-list"])])])]),Object(C["createElementVNode"])("div",VI,[Object(C["createVNode"])(d,{type:"primary",class:"primary-btn-large",onClick:r[3]||(r[3]=e=>a())},{default:Object(C["withCtx"])(()=>[II]),_:1}),Object(C["createVNode"])(d,{class:"primary-btn-large",onClick:r[4]||(r[4]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[BI]),_:1})])])])]),_:1},8,["visible"])}}});l("9359");const LI=SI;var _I=LI;const{post:TI,get:MI}=oI();var DI;function zI(e){return TI("/api/teams/create",e)}function FI(){return MI("/api/teams",{})}function AI(e){return MI(`/api/teams/${e}/detail`)}function $I(e){return MI("/api/teams/invites/"+e)}function RI(e){return MI(`/api/teams/${e}/members`)}function PI(e,t,l){return TI("/api/teams/invites/"+e,{inviterUserId:t,targetUserId:l})}function HI(e){return TI(`/api/teams/invites/${e}/accept`,{})}(function(e){e[e["INDIVIDUAL"]=1]="INDIVIDUAL",e[e["PUBLIC"]=2]="PUBLIC"})(DI||(DI={}));const qI={class:"sidebar"},UI=Object(C["createElementVNode"])("div",{class:"logo-bar"},[Object(C["createElementVNode"])("div",{class:"logo"}),Object(C["createElementVNode"])("h1",null,"StoryBoard")],-1),GI={class:"menus"},XI=["onClick"],YI={class:"icon"},ZI={key:0,class:"divider"};var WI=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(C["ref"])(!1),{sidebarKey:l,menuItems:o,activeMenuItem:n}=Object(N["c"])(an()),c=[{title:"首页",icon:KV["a"],key:"home",type:"menu"},{title:"回收站",icon:QV["a"],key:"recycle",type:"menu"}],a=Object(C["ref"])([]);function r(){o.value={baseMenuItems:c,teamMenuItems:a.value,tools:[{title:"新建团队",icon:eI["a"],onClick:()=>t.value=!0,key:"new",type:"button"}]}}function i(e){const t=cn(e,o.value)||null;"team"===(null===t||void 0===t?void 0:t.type)&&eL.push({path:"/team/"+t.key}),"menu"===(null===t||void 0===t?void 0:t.type)&&eL.push({path:"/home"}),l.value=e,n.value=t}function s(e){return e===l.value?"menu-item active":"menu-item"}async function d(e){const l=await zI(e);l&&(qt["a"].success("创建成功"),t.value=!1,u())}async function u(){const e=await FI();a.value=e.map(e=>({title:e.name,imageUrl:e.logo,key:e.id,type:"team"})),r()}async function b(){await u()}return Object(C["onMounted"])(()=>{b(),l.value="home",n.value=c[0]}),(e,l)=>{const n=Object(C["resolveComponent"])("Avatar"),c=Object(C["resolveComponent"])("Tooltip");return Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,[Object(C["createElementVNode"])("div",qI,[UI,Object(C["createElementVNode"])("div",GI,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(o),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:t,class:"menu-container"},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e,e=>(Object(C["openBlock"])(),Object(C["createBlock"])(c,{key:e.key,title:e.title,placement:"right"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(s(e.key)),onClick:t=>e.onClick?e.onClick():i(e.key)},[Object(C["createElementVNode"])("div",YI,[e.icon?(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(e.icon),{key:0})):Object(C["createCommentVNode"])("",!0),e.imageUrl?(Object(C["openBlock"])(),Object(C["createBlock"])(n,{key:1,size:16,src:e.imageUrl,shape:"circle"},null,8,["src"])):Object(C["createCommentVNode"])("",!0)]),Object(C["createElementVNode"])("div",{class:"title",style:Object(C["normalizeStyle"])(e.parentNode?{fontWeight:400}:{})},Object(C["toDisplayString"])(e.title),5)],10,XI)]),_:2},1032,["title"]))),128)),"tools"!==t&&e.length?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",ZI)):Object(C["createCommentVNode"])("",!0)]))),128))])]),Object(C["createVNode"])(_I,{visible:t.value,onClose:l[0]||(l[0]=e=>t.value=!1),onOk:d},null,8,["visible"])],64)}}});l("475c");const JI=WI;var KI=JI,QI=l("cdc3");const eB=new QI["a"]({domain:"https://storyboard.authing.cn",appId:"62dba4a3e1ad8483f1d98045",redirectUri:"https://aside.fun/login"});function tB(e){return(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.nickname)||(null===e||void 0===e?void 0:e.phone)||(null===e||void 0===e?void 0:e.email)||"匿名用户"}var lB=l("d7f9");const oB={class:"header-bar"},nB={style:{flexShrink:0}},cB={class:"userinfo"},aB=Object(C["createTextVNode"])("设置"),rB=Object(C["createTextVNode"])("退出登录");var iB=Object(C["defineComponent"])({__name:"DashboardHeaderBar",emits:["search"],setup(e,{emit:t}){const l=Object(C["ref"])(""),{user:o}=Object(N["c"])(an());function n(){eB.logoutWithRedirect({redirectUri:"https://aside.fun/login"}).then(()=>{localStorage.clear()})}return(e,c)=>{const a=Object(C["resolveComponent"])("Input"),r=Object(C["resolveComponent"])("Avatar"),i=Object(C["resolveComponent"])("MenuItem"),s=Object(C["resolveComponent"])("MenuDivider"),d=Object(C["resolveComponent"])("Menu"),u=Object(C["resolveComponent"])("Dropdown");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",oB,[Object(C["createVNode"])(a,{placeholder:"搜索 (⌘ + K)",class:"cover-radius input",value:l.value,"onUpdate:value":c[0]||(c[0]=e=>l.value=e),onChange:c[1]||(c[1]=e=>t("search",l.value))},{prefix:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Object(C["unref"])(lB["a"]))]),_:1},8,["value"]),Object(C["createElementVNode"])("div",nB,[Object(C["createVNode"])(u,null,{overlay:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{class:"user-dropdown"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{class:"disabled-menu"},{default:Object(C["withCtx"])(()=>{var e,t,l;return[Object(C["createElementVNode"])("div",cB,[Object(C["createVNode"])(r,{size:36,src:null===(e=Object(C["unref"])(o))||void 0===e?void 0:e.picture},null,8,["src"]),Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])((null===(t=Object(C["unref"])(o))||void 0===t?void 0:t.name)||(null===(l=Object(C["unref"])(o))||void 0===l?void 0:l.nickname)||"匿名用户"),1)])]}),_:1}),Object(C["createVNode"])(s),Object(C["createVNode"])(i,null,{default:Object(C["withCtx"])(()=>[aB]),_:1}),Object(C["createVNode"])(i,{onClick:c[2]||(c[2]=e=>n())},{default:Object(C["withCtx"])(()=>[rB]),_:1})]),_:1})]),default:Object(C["withCtx"])(()=>{var e;return[Object(C["createVNode"])(r,{size:36,src:null===(e=Object(C["unref"])(o))||void 0===e?void 0:e.picture},null,8,["src"])]}),_:1})])])}}});l("d142");const sB=iB;var dB=sB;const uB={class:"dashboard"},bB={class:"right-side"};var mB=Object(C["defineComponent"])({__name:"index",setup(e){return Object(C["onBeforeMount"])(()=>{var e;null!==(e=window.history.state)&&void 0!==e&&e.token&&localStorage.setItem("token",window.history.state.token)}),(e,t)=>{const l=Object(C["resolveComponent"])("router-view");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",uB,[Object(C["createVNode"])(KI),Object(C["createElementVNode"])("div",bB,[Object(C["createVNode"])(dB),Object(C["createVNode"])(l)])])}}});l("e843");const pB=V()(mB,[["__scopeId","data-v-51a2b274"]]);var OB=pB;l("9b2a");const fB={class:"login-page"};var jB=Object(C["defineComponent"])({__name:"Login",setup(e){const{user:t,loginState:l}=Object(N["c"])(an()),o=()=>{eB.loginWithRedirect()};function n(){const e=localStorage.getItem("inviteId");if(e)return localStorage.removeItem("inviteId"),void eL.push({path:"/join-team/"+e});eL.push({name:"home"})}const c=async()=>{try{const e=await eB.getLoginState();if(l.value=e,null===e||void 0===e||!e.accessToken)throw new Error;r(),n()}catch{o()}};async function a(){if(!eB.isRedirectCallback())return void c();const e=await eB.handleRedirectCallback();l.value=e;let t="";null!==e&&void 0!==e&&e.idToken&&(t=e.idToken,localStorage.setItem("token",t)),await r(),n()}async function r(){try{const e=await eB.getUserInfo();e&&(t.value=e)}catch{o()}}return Object(C["onMounted"])(()=>{a()}),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",fB," 跳转中，请稍后... "))}});l("56d8");const vB=V()(jB,[["__scopeId","data-v-b9d69db2"]]);var hB=vB;function yB(e){document.title=e+" - 纷镜"}function gB(e){const t=6e4,l=60*t,o=24*l,n=30*o,c=(new Date).getTime(),a=c-e;if(a<0)return;const r=a/n,i=a/(7*o),s=a/o,d=a/l,u=a/t;let b="";function m(e){return` ${parseInt(e.toString()).toString()} `}return b=r>=1?m(r)+"月前":i>=1?m(i)+"周前":s>=1?m(s)+"天前":d>=1?m(d)+"小时前":u>=1?m(u)+"分钟前":"刚刚",b}const xB={class:"project"},kB=["src"],CB={class:"info"},NB={class:"title"},EB={class:"extra"};var wB=Object(C["defineComponent"])({__name:"Project",props:{item:{type:Object,require:!0}},setup(e){const t=e,{id:l,title:o,cover:n,updateTimestamp:c,type:a}=t.item||{};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",xB,[Object(C["createElementVNode"])("img",{src:Object(C["unref"])(n),class:"cover",draggable:"false"},null,8,kB),Object(C["createElementVNode"])("div",CB,[Object(C["createElementVNode"])("div",NB,Object(C["toDisplayString"])(Object(C["unref"])(o)),1),Object(C["createElementVNode"])("div",EB,"2022年会演讲 · 更新于"+Object(C["toDisplayString"])(Object(C["unref"])(gB)(Object(C["unref"])(c)||0)),1)])]))}});l("ec55");const VB=V()(wB,[["__scopeId","data-v-0ed46f5c"]]);var IB=VB;const BB={class:"project-wrapper"};var SB=Object(C["defineComponent"])({__name:"ProjectWrapper",props:{items:{type:Array,require:!0}},setup(e){const t=e;return(e,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",BB,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t.items||[],e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:e.id},[Object(C["createVNode"])(IB,{item:e},null,8,["item"])]))),128))]))}});l("76db");const LB=V()(SB,[["__scopeId","data-v-06405870"]]);var _B=LB;const TB={class:"homepage"},MB={class:"group-info"},DB=Object(C["createElementVNode"])("div",{class:"title"},"首页",-1),zB={class:"buttons"},FB=Object(C["createTextVNode"])("导入文件"),AB=Object(C["createTextVNode"])("新建"),$B={class:"group"},RB={class:"title-bar"},PB=Object(C["createElementVNode"])("h1",{style:{marginBottom:"16px"}},"最近访问",-1);var HB=Object(C["defineComponent"])({__name:"index",setup(e){const t={title:"哈哈哈",id:"111",cover:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.1ppt.com%2Fuploads%2Fallimg%2F2101%2F1_210117170406_1.jpg&refer=http%3A%2F%2Fimg.1ppt.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1662995600&t=785c41813f7598c6ace873d03624a921",updateTimestamp:1660403604521,type:1};async function l(){}return Object(C["onMounted"])(()=>{l()}),(e,l)=>{const o=Object(C["resolveComponent"])("Button"),n=Object(C["resolveComponent"])("router-link");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",TB,[Object(C["createElementVNode"])("div",MB,[DB,Object(C["createElementVNode"])("div",zB,[Object(C["createVNode"])(o,{class:"primary-btn"},{default:Object(C["withCtx"])(()=>[FB]),_:1}),Object(C["createVNode"])(n,{to:{name:"editor"},target:"_blank"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{type:"primary",class:"primary-btn"},{default:Object(C["withCtx"])(()=>[AB]),_:1})]),_:1})])]),Object(C["createElementVNode"])("div",$B,[Object(C["createElementVNode"])("div",RB,[PB,Object(C["createVNode"])(_B,{items:[t]},null,8,["items"])])])])}}});l("3c2d");const qB=HB;var UB=qB;const GB=e=>(Object(C["pushScopeId"])("data-v-7ab3c788"),e=e(),Object(C["popScopeId"])(),e),XB={class:"team-member"},YB={class:"userinfo"},ZB={class:"content"},WB={class:"name"},JB={key:0,class:"me"},KB=GB(()=>Object(C["createElementVNode"])("div",{class:"role"},"成员",-1));var QB=Object(C["defineComponent"])({__name:"TeamMember",props:{teamId:{type:String,required:!0}},setup(e){const t=e,{user:l}=Object(N["c"])(an()),o=Object(C["ref"])([]);async function n(){const e=t.teamId,{list:l}=await RI(e);o.value=l}return Object(C["onMounted"])(()=>{n()}),(e,t)=>{const n=Object(C["resolveComponent"])("Avatar");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",XB,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(o.value,e=>{var t;return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"user",key:e.id},[Object(C["createElementVNode"])("div",YB,[Object(C["createVNode"])(n,{size:36,src:e.user.photo,draggable:!1},null,8,["src"]),Object(C["createElementVNode"])("div",ZB,[Object(C["createElementVNode"])("span",WB,Object(C["toDisplayString"])(Object(C["unref"])(tB)(e.user)),1),(null===(t=Object(C["unref"])(l))||void 0===t?void 0:t.sub)===e.user.id?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",JB,"我")):Object(C["createCommentVNode"])("",!0)])]),KB])}),128))])}}});l("d7be");const eS=V()(QB,[["__scopeId","data-v-7ab3c788"]]);var tS=eS,lS=l("9cd3");const{get:oS,post:nS}=oI();function cS(e){return oS("/api/users/"+e,{})}function aS(e){return nS("/api/users/search",{keyword:e})}const rS=e=>(Object(C["pushScopeId"])("data-v-44c4bb54"),e=e(),Object(C["popScopeId"])(),e),iS={class:"invite-modal-container"},sS={class:"invite-by-search"},dS={class:"search-bar"},uS=Object(C["createTextVNode"])("搜索"),bS={class:"searched-users"},mS={class:"userinfo"},pS={class:"content"},OS={class:"name"},fS={class:"role"},jS={key:0,class:"me"},vS=["onClick"],hS={class:"invite-by-link"},yS={class:"title"},gS=Object(C["createTextVNode"])(" 使用链接邀请 "),xS=rS(()=>Object(C["createElementVNode"])("div",{class:"subtitle"},"成员同意后将加入团队",-1)),kS=Object(C["createTextVNode"])("复制链接");var CS=Object(C["defineComponent"])({__name:"InviteModal",props:{visible:{type:Boolean,required:!0},teamId:{type:String,required:!0},teamName:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const l=e,o=Object(C["ref"])(""),n=Object(C["ref"])([]),{user:c}=Object(N["c"])(an());async function a(){const e=await aS(o.value);n.value=e}async function r(e){var t;const o=l.teamId,n=(null===(t=c.value)||void 0===t?void 0:t.sub)||"",a=await PI(o,n,e);await gn(a),qt["a"].success("已复制邀请链接")}return(e,i)=>{const s=Object(C["resolveComponent"])("Input"),d=Object(C["resolveComponent"])("Button"),u=Object(C["resolveComponent"])("Avatar"),b=Object(C["resolveComponent"])("Modal");return Object(C["openBlock"])(),Object(C["createBlock"])(b,{visible:l.visible,title:"邀请成员",width:500,footer:null,onCancel:i[4]||(i[4]=e=>t("close")),centered:""},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",iS,[Object(C["createElementVNode"])("div",sS,[Object(C["createElementVNode"])("div",dS,[Object(C["createVNode"])(s,{value:o.value,"onUpdate:value":i[0]||(i[0]=e=>o.value=e),placeholder:"搜索用户昵称、手机号或邮箱",class:"input","allow-clear":"",onPressEnter:i[1]||(i[1]=e=>a())},{prefix:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Object(C["unref"])(lB["a"]))]),_:1},8,["value"]),Object(C["createVNode"])(d,{type:"primary",disabled:!o.value,onClick:i[2]||(i[2]=e=>a())},{default:Object(C["withCtx"])(()=>[uS]),_:1},8,["disabled"])]),Object(C["createElementVNode"])("div",bS,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(n.value,e=>{var t;return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"user",key:e.id},[Object(C["createElementVNode"])("div",mS,[Object(C["createVNode"])(u,{size:24,src:e.photo||"",draggable:!1},null,8,["src"]),Object(C["createElementVNode"])("div",pS,[Object(C["createElementVNode"])("span",OS,Object(C["toDisplayString"])(e.name||e.nickname||e.phone||e.email),1)])]),Object(C["createElementVNode"])("div",fS,[(null===(t=Object(C["unref"])(c))||void 0===t?void 0:t.sub)===e.id?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",jS,"我")):(Object(C["openBlock"])(),Object(C["createElementBlock"])("a",{key:1,onClick:t=>r(e.id)},"邀请",8,vS))])])}),128))])]),Object(C["createElementVNode"])("div",hS,[Object(C["createElementVNode"])("div",null,[Object(C["createElementVNode"])("div",yS,[Object(C["createVNode"])(Object(C["unref"])(lS["a"]),{class:"link"}),gS]),xS]),Object(C["createVNode"])(d,{type:"primary",class:"primary-btn",onClick:i[3]||(i[3]=e=>r())},{default:Object(C["withCtx"])(()=>[kS]),_:1})])])]),_:1},8,["visible"])}}});l("e831");const NS=V()(CS,[["__scopeId","data-v-44c4bb54"]]);var ES=NS;const wS={class:"team-page"},VS={class:"info"},IS={class:"content"},BS={class:"left"},SS={class:"title"},LS={class:"desc"},_S={class:"right"},TS=Object(C["createTextVNode"])("新建文档"),MS=Object(C["createTextVNode"])("邀请成员");var DS=Object(C["defineComponent"])({__name:"Team",setup(e){const{activeMenuItem:t,sidebarKey:l,menuItems:o}=Object(N["c"])(an()),n=Object(C["ref"])(),c=Object(C["ref"])(!1),a=Object(C["ref"])("brief"),r=Object(ho["c"])();async function i(){const{id:e}=r.params;l.value=e,t.value=cn(e,o.value)||null,n.value=await AI(e),yB(n.value.team.name)}return Object(C["watch"])([()=>{var e;return null===(e=r.params)||void 0===e?void 0:e.id}],()=>{var e;null!==(e=r.params)&&void 0!==e&&e.id&&i()}),Object(C["onMounted"])(()=>{i()}),(e,t)=>{var l,o,r,i,s,d,u;const b=Object(C["resolveComponent"])("Avatar"),m=Object(C["resolveComponent"])("Button"),p=Object(C["resolveComponent"])("router-link"),O=Object(C["resolveComponent"])("Empty"),f=Object(C["resolveComponent"])("TabPane"),j=Object(C["resolveComponent"])("Tabs");return Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,[Object(C["createElementVNode"])("div",wS,[Object(C["createElementVNode"])("div",VS,[Object(C["createVNode"])(b,{size:84,src:null===(l=n.value)||void 0===l?void 0:l.team.logo,draggable:!1,class:"icon"},null,8,["src"]),Object(C["createElementVNode"])("div",IS,[Object(C["createElementVNode"])("div",BS,[Object(C["createElementVNode"])("div",SS,Object(C["toDisplayString"])(null===(o=n.value)||void 0===o?void 0:o.team.name),1),Object(C["createElementVNode"])("div",LS,Object(C["toDisplayString"])(null===(r=n.value)||void 0===r?void 0:r.team.description),1)]),Object(C["createElementVNode"])("div",_S,[Object(C["createVNode"])(p,{to:{name:"editor"},target:"_blank"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{class:"primary-btn"},{default:Object(C["withCtx"])(()=>[TS]),_:1})]),_:1}),Object(C["createVNode"])(m,{class:"primary-btn",onClick:t[0]||(t[0]=e=>c.value=!0)},{default:Object(C["withCtx"])(()=>[MS]),_:1})])])]),Object(C["createVNode"])(j,{activeKey:a.value,"onUpdate:activeKey":t[1]||(t[1]=e=>a.value=e),class:"tabs"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f,{key:"brief",tab:"文档"},{default:Object(C["withCtx"])(()=>{var e,t;return[null!==(e=n.value)&&void 0!==e&&null!==(t=e.docsMetaDatas)&&void 0!==t&&t.length?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createBlock"])(O,{key:0,style:{marginTop:"200px"}}))]}),_:1}),Object(C["createVNode"])(f,{key:"member",tab:"成员"},{default:Object(C["withCtx"])(()=>{var e;return[Object(C["createVNode"])(tS,{"team-id":null===(e=n.value)||void 0===e?void 0:e.team.id},null,8,["team-id"])]}),_:1}),Object(C["createVNode"])(f,{key:"settings",tab:"设置"})]),_:1},8,["activeKey"])]),Object(C["createVNode"])(ES,{visible:c.value,onClose:t[2]||(t[2]=e=>c.value=!1),"team-id":null===(i=n.value)||void 0===i||null===(s=i.team)||void 0===s?void 0:s.id,"team-name":null===(d=n.value)||void 0===d||null===(u=d.team)||void 0===u?void 0:u.name},null,8,["visible","team-id","team-name"])],64)}}});l("ca17e");const zS=DS;var FS=zS;const AS=e=>(Object(C["pushScopeId"])("data-v-4691cd0c"),e=e(),Object(C["popScopeId"])(),e),$S={class:"join-invite-page"},RS={key:0,class:"invite-card"},PS={class:"content"},HS={class:"bold"},qS=AS(()=>Object(C["createElementVNode"])("span",null," 的 ",-1)),US={class:"bold"},GS=AS(()=>Object(C["createElementVNode"])("div",null," 正在邀请你加入团队 ",-1)),XS={key:0,class:"tips"},YS=Object(C["createTextVNode"])("加入团队");var ZS=Object(C["defineComponent"])({__name:"JoinTeam",setup(e){const t=Object(ho["c"])(),{inviteId:l}=t.params,o=Object(C["ref"])(),n=Object(C["ref"])(),c=Object(C["ref"])(),{loginState:a}=Object(N["c"])(an());async function r(){const{team:e,invite:t}=await $I(l);o.value=e,n.value=t;const a=await cS(null===t||void 0===t?void 0:t.inviterUserId);c.value=a}function i(){m["a"].confirm({title:"未登录",content:"加入团队前，请先登录账号",okText:"去登录",cancelText:"取消",centered:!0,onOk:()=>{localStorage.setItem("inviteId",l),eL.push({name:"login"})}})}async function s(){if(!a.value&&!localStorage.getItem("token"))return void i();const e=await HI(l);var t;e&&(qt["a"].success("你已成功加入 "+(null===(t=o.value)||void 0===t?void 0:t.name)),setTimeout(()=>{var e;eL.push({path:"/team/"+(null===(e=o.value)||void 0===e?void 0:e.id)})},1e3))}return Object(C["onMounted"])(()=>{r()}),(e,t)=>{var l,a,r;const i=Object(C["resolveComponent"])("Avatar"),d=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",$S,[o.value&&n.value&&c.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",RS,[Object(C["createVNode"])(i,{size:100,src:null===(l=o.value)||void 0===l?void 0:l.logo,draggable:!1},null,8,["src"]),Object(C["createElementVNode"])("div",PS,[Object(C["createElementVNode"])("div",null,[Object(C["createElementVNode"])("span",HS,Object(C["toDisplayString"])(null===(a=o.value)||void 0===a?void 0:a.name),1),qS,Object(C["createElementVNode"])("span",US,Object(C["toDisplayString"])(Object(C["unref"])(tB)(c.value)),1)]),GS,null!==(r=n.value)&&void 0!==r&&r.outdateTimestamp?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",XS,"这个邀请链接将在 "+Object(C["toDisplayString"])(Math.ceil((n.value.outdateTimestamp-Date.now())/864e5))+" 天后过期",1)):Object(C["createCommentVNode"])("",!0)]),Object(C["createVNode"])(d,{type:"primary",class:"primary-btn-large",onClick:t[0]||(t[0]=e=>s())},{default:Object(C["withCtx"])(()=>[YS]),_:1})])):Object(C["createCommentVNode"])("",!0)])}}});l("3564");const WS=V()(ZS,[["__scopeId","data-v-4691cd0c"]]);var JS=WS;const KS=Object(ho["a"])({history:Object(ho["b"])("/"),routes:[{name:"home",component:OB,path:"/",meta:{title:"首页"},children:[{component:UB,path:"home"},{component:FS,path:"team/:id"}]},{component:JV,path:"/editor",name:"editor",meta:{title:"文档"}},{name:"login",path:"/login",component:hB,meta:{title:"登录中..."}},{name:"join-team",path:"/join-team/:inviteId",component:JS,meta:{title:"加入团队"}}]}),QS=["login","join-team"];KS.beforeEach((e,t,l)=>{const{user:o}=Object(N["c"])(an());var n;if(QS.includes(null===e||void 0===e?void 0:e.name))return null!==e&&void 0!==e&&null!==(n=e.meta)&&void 0!==n&&n.title&&yB(e.meta.title),void l();eB.getUserInfo().then(t=>{var n;t?(o.value=t,null!==e&&void 0!==e&&null!==(n=e.meta)&&void 0!==n&&n.title&&yB(e.meta.title),l()):l({name:"login"})}).catch(e=>{l({name:"login"})})});var eL=KS;const tL=Object(C["createApp"])(S);tL.component("InputNumber",k["a"]),tL.component("Divider",x["a"]),tL.component("Button",g["a"]),tL.component("ButtonGroup",g["a"].Group),tL.component("Tooltip",y["a"]),tL.component("Popover",h["a"]),tL.component("Slider",v["a"]),tL.component("Select",j["a"]),tL.component("SelectOption",j["a"].Option),tL.component("SelectOptGroup",j["a"].OptGroup),tL.component("Switch",f["a"]),tL.component("Radio",O["a"]),tL.component("RadioGroup",O["a"].Group),tL.component("RadioButton",O["a"].Button),tL.component("Input",p["a"]),tL.component("InputGroup",p["a"].Group),tL.component("TextArea",p["a"].TextArea),tL.component("Modal",m["a"]),tL.component("Dropdown",b["a"]),tL.component("Menu",u["a"]),tL.component("MenuItem",u["a"].Item),tL.component("MenuItemGroup",u["a"].ItemGroup),tL.component("Checkbox",d["a"]),tL.component("Drawer",s["a"]),tL.component("Spin",i["a"]),tL.component("SubMenu",u["a"].SubMenu),tL.component("Avatar",r["a"]),tL.component("ConfigProvider",a["a"]),tL.component("MenuDivider",u["a"].Divider),tL.component("Upload",c["a"]),tL.component("Tabs",n["a"]),tL.component("TabPane",n["a"].TabPane),tL.component("Empty",o["a"]),tL.use(St),tL.use(Jl),tL.use(vo),tL.use(eL),tL.use(Object(N["a"])()),tL.mount("#app")},cd7e:function(e,t,l){"use strict";l("1873")},cf72:function(e,t,l){},cffb:function(e,t,l){},d074:function(e,t,l){"use strict";l("15da")},d142:function(e,t,l){"use strict";l("2971")},d2ee:function(e,t,l){"use strict";l("4604")},d2f3:function(e,t,l){"use strict";l("caec")},d301:function(e,t,l){},d7be:function(e,t,l){"use strict";l("a405")},d7e4:function(e,t,l){},d806:function(e,t,l){"use strict";l("17a5")},d970:function(e,t,l){"use strict";l("b2b2")},da34:function(e,t,l){},dbc2:function(e,t,l){},dc4c:function(e,t,l){},dcd4:function(e,t,l){"use strict";l("8b85")},dd03:function(e,t,l){"use strict";l("5ea3")},dd28:function(e,t,l){"use strict";l("3062")},dd7b:function(e,t,l){"use strict";l("920e")},de23:function(e,t,l){"use strict";l("058c")},def1:function(e,t,l){},dfc5:function(e,t,l){},e03e:function(e,t,l){},e25c:function(e,t,l){"use strict";l("4156")},e303:function(e,t,l){"use strict";l("b5cd")},e62b:function(e,t,l){"use strict";l("ccec")},e7e7:function(e,t,l){},e831:function(e,t,l){"use strict";l("6095")},e83e:function(e,t,l){"use strict";l("89f7")},e843:function(e,t,l){"use strict";l("f205")},e9df:function(e,t,l){"use strict";l("5711")},eba1:function(e,t,l){"use strict";l("b9d2")},ebfd:function(e,t,l){},ec27:function(e,t,l){"use strict";l("f23c")},ec55:function(e,t,l){"use strict";l("5c8d")},ec94:function(e,t,l){},ece8:function(e,t,l){},ecf8:function(e,t,l){"use strict";l("c5f0")},edef:function(e,t,l){},f087:function(e,t,l){},f205:function(e,t,l){},f20a:function(e,t,l){},f23c:function(e,t,l){},f2c3:function(e,t,l){},f40d:function(e,t,l){"use strict";l("fb1e")},f630:function(e,t,l){"use strict";l("0dd9")},f705:function(e,t,l){},f766:function(e,t,l){},f8c2:function(e,t,l){},f9b2:function(e,t,l){},fac9:function(e,t,l){"use strict";l("b2f3")},fb1e:function(e,t,l){},fbfe:function(e,t,l){"use strict";l("cafd")},fd6d:function(e,t,l){},fef7:function(e,t,l){"use strict";l("184e")},fef8:function(e,t,l){"use strict";l("c521")}});
//# sourceMappingURL=app.b47277c1.js.map