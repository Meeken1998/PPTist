(function(e){function t(t){for(var o,c,r=t[0],i=t[1],s=t[2],d=0,u=[];d<r.length;d++)c=r[d],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&u.push(n[c][0]),n[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);b&&b(t);while(u.length)u.shift()();return a.push.apply(a,s||[]),l()}function l(){for(var e,t=0;t<a.length;t++){for(var l=a[t],o=!0,c=1;c<l.length;c++){var r=l[c];0!==n[r]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=l[0]))}return e}var o={},c={app:0},n={app:0},a=[];function r(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-40567b6e":"73f701d2"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var l=o[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.e=function(e){var t=[],l={"chunk-40567b6e":1};c[e]?t.push(c[e]):0!==c[e]&&l[e]&&t.push(c[e]=new Promise((function(t,l){for(var o="css/"+({}[e]||e)+"."+{"chunk-40567b6e":"b26a14ba"}[e]+".css",n=i.p+o,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var s=a[r],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===o||d===n))return t()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){s=u[r],d=s.getAttribute("data-href");if(d===o||d===n)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var o=t&&t.target&&t.target.src||n,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete c[e],b.parentNode.removeChild(b),l(a)},b.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(b)})).then((function(){c[e]=0})));var o=n[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,l){o=n[e]=[t,l]}));t.push(o[2]=a);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=r(e);var u=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(b);var l=n[e];if(0!==l){if(l){var o=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+c+")",u.name="ChunkLoadError",u.type=o,u.request=c,l[1](u)}n[e]=void 0}};var b=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,l){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(l,o,function(t){return e[t]}.bind(null,o));return l},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var b=d;a.push([1,"chunk-vendors"]),l()})({0:function(e,t){},"0017":function(e,t,l){},"0045":function(e,t,l){},"0239":function(e,t,l){"use strict";l("95e8")},"02bd":function(e,t,l){"use strict";l("82dc")},"02ca":function(e,t,l){"use strict";l("729c")},"02e1":function(e,t,l){},"03ea":function(e,t,l){},"0401":function(e,t,l){},"047a":function(e,t,l){},"0491":function(e,t,l){"use strict";l("4302")},"04c7":function(e,t,l){"use strict";(function(e){l("7fa4");var o=l("3f13"),c=l("3eb2"),n=l("518b"),a=l("bcba"),r=l("e7dc"),i=l("b2f2"),s=l("6dcd"),d=l.n(s),u=l("33f7"),b=l("0613"),m=l("806f"),p=l("2ef4"),O=l("05c7"),j=l("823e"),f=l("a0a8"),v=l("5d81"),h=l("f101"),y=l.n(h);t["a"]=()=>{const t=Object(b["e"])(),{slides:l,theme:s,viewportRatio:h}=Object(n["c"])(t),{addSlidesFromData:g}=Object(v["a"])(),x=Object(c["ref"])(!1),k=(e,t,l,c=!0)=>{x.value=!0;const n="png"===t?u["c"]:u["b"],a=e.querySelectorAll("foreignObject [xmlns]");a.forEach(e=>e.removeAttribute("xmlns")),setTimeout(()=>{const a={quality:l,width:1600};c&&(a.fontEmbedCSS=""),n(e,a).then(e=>{x.value=!1,Object(r["saveAs"])(e,"pptist_slides."+t)}).catch(()=>{x.value=!1,o["a"].error("导出图片失败")})},200)},C=e=>{const t=new Blob([Object(j["b"])(JSON.stringify(e))],{type:""});Object(r["saveAs"])(t,"pptist_slides.pptist")},N=(e,l=!1)=>{const c=e[0],n=new FileReader;n.addEventListener("load",()=>{try{const e=JSON.parse(Object(j["a"])(n.result));l?t.setSlides(e):g(e)}catch{o["a"].error("无法正确读取 / 解析该文件")}}),n.readAsText(c)},E=()=>{const e=new Blob([JSON.stringify(l.value)],{type:""});Object(r["saveAs"])(e,"pptist_slides.json")},w=e=>{const t=d()(e),l=t.getAlpha(),o=0===l?"#ffffff":t.setAlpha(1).toHexString();return{alpha:l,color:o}},V=async t=>{const l=/(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/;if(l.test(t)){const l=await y()({url:t,method:"GET",responseType:"blob"}),o=new Blob([l.data]),c=await o.arrayBuffer();return e.from(c).toString("base64")}return Promise.resolve(t)},I=e=>{const t=Object(p["a"])(e);let l=!1,o=0;const c=[],n=(e,t={})=>{for(const r of e){const e="tagName"in r&&["div","li","p"].includes(r.tagName);if(e&&c.length){const e=c[c.length-1];e.options||(e.options={}),e.options.breakLine=!0}const i={...t},s="attributes"in r?r.attributes.find(e=>"style"===e.key):null;if(s&&s.value){const e=s.value.split(";");for(const t of e){const[e,l]=t.split(": "),[o,c]=[Object(a["trim"])(e),Object(a["trim"])(l)];o&&c&&(i[o]=c)}}if("tagName"in r){if("em"===r.tagName&&(i["font-style"]="italic"),"strong"===r.tagName&&(i["font-weight"]="bold"),"sup"===r.tagName&&(i["vertical-align"]="super"),"sub"===r.tagName&&(i["vertical-align"]="sub"),"a"===r.tagName){const e=r.attributes.find(e=>"href"===e.key);i["href"]=(null===e||void 0===e?void 0:e.value)||""}if("ul"===r.tagName&&(i["list-type"]="ul"),"ol"===r.tagName&&(i["list-type"]="ol"),"li"===r.tagName&&(l=!0),"p"===r.tagName&&"attributes"in r){const e=r.attributes.find(e=>"data-indent"===e.key);e&&e.value&&(o=+e.value)}}if("tagName"in r&&"br"===r.tagName)c.push({text:"",options:{breakLine:!0}});else if("content"in r){const e=r.content.replace(/&nbsp;/g," ").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/\n/g,""),t={};i["font-size"]&&(t.fontSize=.75*parseInt(i["font-size"])),i["color"]&&(t.color=w(i["color"]).color),i["background-color"]&&(t.highlight=w(i["background-color"]).color),i["text-decoration-line"]&&(-1!==i["text-decoration-line"].indexOf("underline")&&(t.underline={color:t.color||"#000000",style:"sng"}),-1!==i["text-decoration-line"].indexOf("line-through")&&(t.strike="sngStrike")),i["text-decoration"]&&(-1!==i["text-decoration"].indexOf("underline")&&(t.underline={color:t.color||"#000000",style:"sng"}),-1!==i["text-decoration"].indexOf("line-through")&&(t.strike="sngStrike")),i["vertical-align"]&&("super"===i["vertical-align"]&&(t.superscript=!0),"sub"===i["vertical-align"]&&(t.subscript=!0)),i["text-align"]&&(t.align=i["text-align"]),i["font-weight"]&&(t.bold="bold"===i["font-weight"]),i["font-style"]&&(t.italic="italic"===i["font-style"]),i["font-family"]&&(t.fontFace=i["font-family"]),i["href"]&&(t.hyperlink={url:i["href"]}),l&&"ol"===i["list-type"]&&(t.bullet={type:"number",indent:15},t.paraSpaceBefore=.1,l=!1),l&&"ul"===i["list-type"]&&(t.bullet={indent:15},t.paraSpaceBefore=.1,l=!1),o&&(t.indentLevel=o,o=0),c.push({text:e,options:t})}else"children"in r&&n(r.children,i)}};return n(t),c},B=(e,t={x:1,y:1})=>e.map(e=>{if(void 0!==e.close)return{close:!0};if("M"===e.type)return{x:e.x/100*t.x,y:e.y/100*t.y,moveTo:!0};if(e.curve){if("cubic"===e.curve.type)return{x:e.x/100*t.x,y:e.y/100*t.y,curve:{type:"cubic",x1:e.curve.x1/100*t.x,y1:e.curve.y1/100*t.y,x2:e.curve.x2/100*t.x,y2:e.curve.y2/100*t.y}};if("quadratic"===e.curve.type)return{x:e.x/100*t.x,y:e.y/100*t.y,curve:{type:"quadratic",x1:e.curve.x1/100*t.x,y1:e.curve.y1/100*t.y}}}return{x:e.x/100*t.x,y:e.y/100*t.y}}),S=e=>{const t=w(e.color),{h:l,v:o}=e;let c=4,n=45;return 0===l&&0===o?(c=4,n=45):0===l?o>0?(c=o,n=90):(c=-o,n=270):0===o?l>0?(c=l,n=1):(c=-l,n=180):l>0&&o>0?(c=Math.max(l,o),n=45):l>0&&o<0?(c=Math.max(l,-o),n=315):l<0&&o>0?(c=Math.max(-l,o),n=135):l<0&&o<0&&(c=Math.max(-l,-o),n=225),{type:"outer",color:t.color.replace("#",""),opacity:t.alpha,blur:.75*e.blur,offset:c,angle:n}},L=e=>{const t=w((null===e||void 0===e?void 0:e.color)||"#000000");return{color:t.color,transparency:100*(1-t.alpha),width:.75*(e.width||1),dashType:"solid"===e.style?"solid":"dash"}},_=e=>{const{type:t,target:o}=e;if("web"===t)return{url:o};if("slide"===t){const e=l.value.findIndex(e=>e.id===o);if(-1!==e)return{slide:e+1}}return null},T=async(e,t)=>{x.value=!0;const l=new i["a"];if(.625===h.value?l.layout="LAYOUT_16x10":.75===h.value?l.layout="LAYOUT_4x3":l.layout="LAYOUT_16x9",t){const{color:e,alpha:t}=w(s.value.backgroundColor);l.defineSlideMaster({title:"PPTIST_MASTER",background:{color:e,transparency:100*(1-t)}})}for(const o of e){const e=l.addSlide();if(o.background){const t=o.background;if("image"===t.type&&t.image){const l=await V(t.image);e.background={data:l}}else if("solid"===t.type&&t.color){const l=w(t.color);e.background={color:l.color,transparency:100*(1-l.alpha)}}else if("gradient"===t.type&&t.gradientColor){const[l,o]=t.gradientColor,c=d.a.mix(l,o).toHexString(),n=w(c);e.background={color:n.color,transparency:100*(1-n.alpha)}}}if(o.remark&&e.addNotes(o.remark),o.elements)for(const t of o.elements)if("text"===t.type){var c;const l=I(t.content),o={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,fontSize:15,fontFace:"微软雅黑",color:"#000000",valign:"top",margin:7.5,paraSpaceBefore:3.75,lineSpacingMultiple:1.2,autoFit:!0};if(t.rotate&&(o.rotate=t.rotate),t.wordSpace&&(o.charSpacing=.75*t.wordSpace),t.lineHeight&&(o.lineSpacingMultiple=t.lineHeight/1.25),t.fill){const e=w(t.fill),l=void 0===t.opacity?1:t.opacity;o.fill={color:e.color,transparency:100*(1-e.alpha*l)}}t.defaultColor&&(o.color=w(t.defaultColor).color),t.defaultFontName&&(o.fontFace=t.defaultFontName),t.shadow&&(o.shadow=S(t.shadow)),null!==(c=t.outline)&&void 0!==c&&c.width&&(o.line=L(t.outline)),void 0!==t.opacity&&(o.transparency=100*(1-t.opacity)),void 0!==t.paragraphSpace&&(o.paraSpaceBefore=.75*t.paragraphSpace),e.addText(l,o)}else if("image"===t.type){var n,a;const l={data:await V(t.src),x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100};if(t.flipH&&(l.flipH=t.flipH),t.flipV&&(l.flipV=t.flipV),t.rotate&&(l.rotate=t.rotate),t.link){const e=_(t.link);e&&(l.hyperlink=e)}if(null!==(n=t.filters)&&void 0!==n&&n.opacity&&(l.transparency=100-parseInt(null===(a=t.filters)||void 0===a?void 0:a.opacity)),t.clip){"ellipse"===t.clip.shape&&(l.rounding=!0);const[e,o]=t.clip.range,[c,n]=e,[a,r]=o,i=t.width/((a-c)/100),s=t.height/((r-n)/100);l.w=i/100,l.h=s/100,l.sizing={type:"crop",x:c/100*i/100,y:n/100*s/100,w:(a-c)/100*i/100,h:(r-n)/100*s/100}}e.addImage(l)}else if("shape"===t.type){if(t.special){const l=document.querySelector(`.thumbnail-list .base-element-${t.id} svg`),o=Object(f["a"])(l),c={data:o,x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100};if(t.rotate&&(c.rotate=t.rotate),t.link){const e=_(t.link);e&&(c.hyperlink=e)}e.addImage(c)}else{var r;const l={x:t.width/t.viewBox[0],y:t.height/t.viewBox[1]},o=B(Object(O["a"])(t.path),l),c=w(t.fill),n=void 0===t.opacity?1:t.opacity,a={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,fill:{color:c.color,transparency:100*(1-c.alpha*n)},points:o};if(t.flipH&&(a.flipH=t.flipH),t.flipV&&(a.flipV=t.flipV),t.shadow&&(a.shadow=S(t.shadow)),null!==(r=t.outline)&&void 0!==r&&r.width&&(a.line=L(t.outline)),t.link){const e=_(t.link);e&&(a.hyperlink=e)}e.addShape("custGeom",a)}if(t.text){const l=I(t.text.content),o={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,fontSize:15,fontFace:"微软雅黑",color:"#000000",paraSpaceBefore:3.75,valign:t.text.align};t.rotate&&(o.rotate=t.rotate),t.text.defaultColor&&(o.color=w(t.text.defaultColor).color),t.text.defaultFontName&&(o.fontFace=t.text.defaultFontName),e.addText(l,o)}}else if("line"===t.type){const l=Object(m["d"])(t),o=B(Object(O["a"])(l)),{minX:c,maxX:n,minY:a,maxY:r}=Object(m["c"])(t),i=w(t.color),s={x:t.left/100,y:t.top/100,w:(n-c)/100,h:(r-a)/100,line:{color:i.color,transparency:100*(1-i.alpha),width:.75*t.width,dashType:"solid"===t.style?"solid":"dash",beginArrowType:t.points[0]?"arrow":"none",endArrowType:t.points[1]?"arrow":"none"},points:o};t.shadow&&(s.shadow=S(t.shadow)),e.addShape("custGeom",s)}else if("chart"===t.type){const o=[];for(let e=0;e<t.data.series.length;e++){const l=t.data.series[e];o.push({name:"系列"+(e+1),labels:t.data.labels,values:l})}let c=[];if(10===t.themeColor.length)c=t.themeColor.map(e=>w(e).color);else if(1===t.themeColor.length)c=d()(t.themeColor[0]).analogous(10).map(e=>w(e.toHexString()).color);else{const e=t.themeColor.length,l=d()(t.themeColor[e-1]).analogous(11-e).map(e=>e.toHexString());c=[...t.themeColor.slice(0,e-1),...l].map(e=>w(e).color)}const n={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,chartColors:"pie"===t.chartType?c:c.slice(0,t.data.series.length)};t.fill&&(n.fill=w(t.fill).color),t.legend&&(n.showLegend=!0,n.legendPos="top"===t.legend?"t":"b",n.legendColor=w(t.gridColor||"#000000").color,n.legendFontSize=10.5);let a=l.ChartType.bar;var u;if("bar"===t.chartType)a=l.ChartType.bar,n.barDir=null!==(u=t.options)&&void 0!==u&&u.horizontalBars?"bar":"col";else if("line"===t.chartType){var b,p,j;null!==(b=t.options)&&void 0!==b&&b.showArea?a=l.ChartType.area:!1===(null===(p=t.options)||void 0===p?void 0:p.showLine)?(a=l.ChartType.scatter,o.unshift({name:"X-Axis",values:Array(t.data.series[0].length).fill(0).map((e,t)=>t)}),n.lineSize=0):a=l.ChartType.line,null!==(j=t.options)&&void 0!==j&&j.lineSmooth&&(n.lineSmooth=!0)}else if("pie"===t.chartType){var v;null!==(v=t.options)&&void 0!==v&&v.donut?(a=l.ChartType.doughnut,n.holeSize=75):a=l.ChartType.pie}e.addChart(a,o,n)}else if("table"===t.type){const l=[];for(let e=0;e<t.data.length;e++){const o=t.data[e];for(let t=0;t<o.length;t++){const c=o[t];if(c.colspan>1||c.rowspan>1)for(let o=e;o<e+c.rowspan;o++)for(let n=o===e?t+1:t;n<t+c.colspan;n++)l.push(`${o}_${n}`)}}const o=[],c=t.theme;let n=null,a=[];c&&(n=w(c.color),a=Object(m["g"])(c.color).map(e=>w(e)));for(let e=0;e<t.data.length;e++){const r=t.data[e],i=[];for(let o=0;o<r.length;o++){var y,g,k,C,N,E,T,M,D;const s=r[o],d={colspan:s.colspan,rowspan:s.rowspan,bold:(null===(y=s.style)||void 0===y?void 0:y.bold)||!1,italic:(null===(g=s.style)||void 0===g?void 0:g.em)||!1,underline:{style:null!==(k=s.style)&&void 0!==k&&k.underline?"sng":"none"},align:(null===(C=s.style)||void 0===C?void 0:C.align)||"left",valign:"middle",fontFace:(null===(N=s.style)||void 0===N?void 0:N.fontname)||"微软雅黑",fontSize:.75*(null!==(E=s.style)&&void 0!==E&&E.fontsize?parseInt(null===(T=s.style)||void 0===T?void 0:T.fontsize):14)};if(c&&n){let l;l=e%2===0?a[1]:a[0],(c.rowHeader&&0===e||c.rowFooter&&e===t.data.length-1||c.colHeader&&0===o||c.colFooter&&o===r.length-1)&&(l=n),d.fill={color:l.color,transparency:100*(1-l.alpha)}}if(null!==(M=s.style)&&void 0!==M&&M.backcolor){const e=w(s.style.backcolor);d.fill={color:e.color,transparency:100*(1-e.alpha)}}null!==(D=s.style)&&void 0!==D&&D.color&&(d.color=w(s.style.color).color),l.includes(`${e}_${o}`)||i.push({text:s.text,options:d})}i.length&&o.push(i)}const r={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,colW:t.colWidths.map(e=>t.width*e/100)};t.theme&&(r.fill={color:"#ffffff"}),t.outline.width&&t.outline.color&&(r.border={type:"solid"===t.outline.style?"solid":"dash",pt:.75*t.outline.width,color:w(t.outline.color).color}),e.addTable(o,r)}else if("latex"===t.type){const l=document.querySelector(`.thumbnail-list .base-element-${t.id} svg`),o=Object(f["a"])(l),c={data:o,x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100};if(t.link){const e=_(t.link);e&&(c.hyperlink=e)}e.addImage(c)}}l.writeFile({fileName:"pptist.pptx"}).then(()=>x.value=!1).catch(e=>{x.value=!1,o["a"].error("导出失败")})};return{exporting:x,exportImage:k,exportJSON:E,importSpecificFile:N,exportSpecificFile:C,exportPPTX:T}}}).call(this,l("257d").Buffer)},"04d2":function(e,t,l){},"0516":function(e,t,l){"use strict";l("46bb")},"05c7":function(e,t,l){"use strict";l.d(t,"a",(function(){return a}));var o=l("f0a5"),c=l("12d6");const n={1:"Z",2:"M",4:"H",8:"V",16:"L",32:"C",64:"S",128:"Q",256:"T",512:"A"},a=e=>{const t=new o["a"](e),l=[];for(const o of t.commands){const e=n[o.type];if(2!==o.type&&16!==o.type||l.push({x:o.x,y:o.y,relative:o.relative,type:e}),32===o.type)l.push({x:o.x,y:o.y,curve:{type:"cubic",x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},relative:o.relative,type:e});else if(128===o.type)l.push({x:o.x,y:o.y,curve:{type:"quadratic",x1:o.x1,y1:o.y1},relative:o.relative,type:e});else if(512===o.type){const e=l[l.length-1];if(!["M","L","Q","C"].includes(e.type))continue;const t=Object(c["a"])({px:e.x,py:e.y,cx:o.x,cy:o.y,rx:o.rX,ry:o.rY,xAxisRotation:o.xRot,largeArcFlag:o.lArcFlag,sweepFlag:o.sweepFlag});for(const o of t)l.push({x:o.x,y:o.y,curve:{type:"cubic",x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},relative:!1,type:"C"})}else{if(1!==o.type)continue;l.push({close:!0,type:e})}}return l}},"0613":function(e,t,l){"use strict";l.d(t,"c",(function(){return N})),l.d(t,"e",(function(){return x})),l.d(t,"f",(function(){return _})),l.d(t,"b",(function(){return T})),l.d(t,"d",(function(){return M})),l.d(t,"a",(function(){return D["b"]}));var o=l("5a11"),c=l("518b"),n=l("c205"),a=l("4c44"),r=l("6bca");const i=e=>{if("string"!==typeof e)return!1;const t="Arial";if(e.toLowerCase()===t.toLowerCase())return!0;const l=100,o=100,c=100,n="a",a=document.createElement("canvas"),r=a.getContext("2d");if(!r)return!1;a.width=o,a.height=c,r.textAlign="center",r.fillStyle="black",r.textBaseline="middle";const i=e=>{r.clearRect(0,0,o,c),r.font=`${l}px ${e}, ${t}`,r.fillText(n,o/2,c/2);const a=r.getImageData(0,0,o,c).data;return[].slice.call(a).filter(e=>0!==e)};return i(t).join("")!==i(e).join("")};l("f3e6");var s=l("6dcd"),d=l.n(s),u=l("bcba");const b=[{id:"slide-1",elements:[{type:"text",id:"mid_e29ab2d3a",left:145,top:228,width:711,height:77,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333"}],background:{type:"solid",color:"#fff"}}],m={themeColor:"#5b9bd5",fontColor:"#333",fontName:"Microsoft Yahei",backgroundColor:"#fff"},p=[{id:"template",elements:[{type:"shape",id:"4cbRxp",left:0,top:200,width:546,height:362.5,viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z",fill:"{{themeColor}}",fixedRatio:!1,opacity:.7,rotate:0},{type:"shape",id:"ookHrf",left:0,top:0,width:300,height:320,viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z",fill:"{{themeColor}}",fixedRatio:!1,flipV:!0,rotate:0},{type:"text",id:"AkIh3E",left:355,top:95.11111111111111,width:585,height:116,lineHeight:1.2,content:"<p style=''><strong><span style='font-size: 80px'>输入标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:6},{type:"text",id:"7stmVP",left:355,top:253.25,width:585,height:56,content:"<p><span style='font-size:  24px'>请在此处输入副标题</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"line",id:"FnpZs4",left:361,top:238,start:[0,0],end:[549,0],points:["",""],color:"{{themeColor}}",style:"solid",width:2}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"ptNnUJ",left:145,top:148,width:711,height:77,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"mRHvQN",left:207.50000000000003,top:249.84259259259264,width:585,height:56,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处添加副标题</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"line",id:"7CQDwc",left:323.09259259259267,top:238.33333333333334,start:[0,0],end:[354.8148148148148,0],points:["",""],color:"{{themeColor}}",style:"solid",width:4},{type:"shape",id:"09wqWw",left:-27.648148148148138,top:432.73148148148147,width:1056.2962962962963,height:162.96296296296296,viewBox:[200,200],path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"vSheCJ",left:183.5185185185185,top:175.5092592592593,width:605.1851851851851,height:185.18518518518516,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0},{type:"shape",id:"Mpwv7x",left:211.29629629629628,top:201.80555555555557,width:605.1851851851851,height:185.18518518518516,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,opacity:.7},{type:"text",id:"WQOTAp",left:304.9074074074074,top:198.10185185185182,width:417.9629629629629,height:140,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 80px'>感谢观看</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:5}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"MZVO1kkj",elements:[{type:"shape",id:"cql0h8",left:0,top:0,width:352.59259259259255,height:562.5,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0},{type:"shape",id:"_RTaF4",left:171.4814814814814,top:100.13888888888887,width:362.22222222222223,height:362.22222222222223,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"rgba(255,255,255,0)",fixedRatio:!1,rotate:0,outline:{width:10,color:"{{backgroundColor}}",style:"solid"}},{type:"shape",id:"UZfo8N",left:216.66666666666663,top:145.32407407407408,width:271.85185185185185,height:271.85185185185185,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='font-size: 80px'>01</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"ysqtBg",left:561.4814814814814,top:100.1388888888889,width:359.25925925925924,height:80,content:"<p style=''><strong><span style='font-size: 40px'>在此处输入标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"lXsoHa",left:572.5925925925925,top:202.3611111111111,width:257.77777777777777,height:260,content:"<ol><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li></ol>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",lineHeight:2,fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"EBBnTr",left:360.5996472663139,top:141.8496472663139,width:278.80070546737215,height:278.80070546737215,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:0,color:"{{backgroundColor}}",style:"solid"}},{type:"shape",id:"gDIWDH",left:456.4373897707231,top:98.287037037037,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"DUWT7E",left:317.037037037037,top:237.68738977072314,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"pbhn38",left:456.43738977072303,top:377.08774250440916,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"CvMKrO",left:595.8377425044091,top:237.6873897707231,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"adudHB",left:402.962962962963,top:39.39814814814815,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"9UpDwg",left:402.962962962963,top:473.1018518518518,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"GERdpB",left:111.48148148148151,top:256.25,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"G5qoho",left:691.1111111111111,top:256.25,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"shape",id:"vdZcI6",left:415.18518518518516,top:196.4351851851852,width:169.62962962962962,height:169.62962962962962,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"tYUmrx",left:156.66666666666683,top:149.02777777777771,width:264.4444444444445,height:264.4444444444445,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'><span style='font-size: 60px'>01</span></span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"0GVHf8",left:342.2222222222223,top:217.17592592592587,width:128.14814814814812,height:128.14814814814812,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0},{type:"text",id:"BO33Sv",left:378.8888888888889,top:235.24999999999994,width:464.4444444444444,height:92,content:"<p style=''><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"Hj7ttp",left:69.35185185185185,top:49.21759259259262,width:420,height:63,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>1.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"FmKMNB",left:69.35185185185185,top:129.28240740740745,width:420,height:384,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"rI7ZeO",left:510.64814814814815,top:49.21759259259262,width:420,height:63,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>2.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"KspwGc",left:510.64814814814815,top:129.28240740740745,width:420,height:384,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"Rx63Jo",left:69.35185185185179,top:51.71759259259262,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>1.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"ulyuzE",left:69.35185185185179,top:131.78240740740745,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"kr35Ca",left:510.6481481481481,top:51.71759259259262,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>2.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"BNQSpC",left:510.6481481481481,top:131.78240740740745,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"Vr38Nu",left:69.35185185185185,top:301.71759259259255,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>3.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"IwKRSu",left:69.35185185185185,top:381.7824074074074,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"0Opr1v",left:510.64814814814815,top:301.71759259259255,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>4.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"4L9Uzz",left:510.64814814814815,top:381.7824074074074,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"GdEGxg",left:134.53703703703704,top:127.25,width:152.77777777777777,height:308,lineHeight:1.8,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 40px'>请在此处输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:8,fill:"{{themeColor}}"},{type:"text",id:"y5sAfw",left:332.8703703703704,top:127.25,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容1</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"VeuocM",left:332.8703703703704,top:212.0648148148148,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容2</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"RyFWQe",left:332.8703703703704,top:296.8796296296296,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容3</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"Q56viI",left:332.8703703703704,top:381.69444444444446,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容4</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"SUWirT",left:73.8888888888889,top:64.21296296296302,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"YjzN1M",left:148.70370370370372,top:64.21296296296302,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"fS09I7",left:527.5925925925926,top:64.21296296296302,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"qCnfB1",left:602.4074074074074,top:64.21296296296302,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"difAAT",left:73.8888888888889,top:221.25000000000003,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"EUlvMo",left:148.70370370370372,top:221.25000000000003,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"US_9jB",left:527.5925925925926,top:221.25000000000003,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"243MnQ",left:602.4074074074074,top:221.25000000000003,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"Y_KUj0",left:73.8888888888889,top:378.287037037037,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>5</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"9GglMe",left:148.70370370370372,top:378.287037037037,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"eSInje",left:527.5925925925926,top:378.287037037037,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>6</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"0S3yUg",left:602.4074074074074,top:378.287037037037,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}}];function O(){return new Worker(l.p+"js/sync.worker.fd5231f4.worker.js")}function j(){return new Worker(l.p+"js/snapshot.worker.0f5cdeb1.worker.js")}var f=l("3a6a"),v=l("33f7");const h=new O,y=new j;let g;const x=Object(c["b"])("slides",{state:()=>({theme:m,slides:b,slideIndex:0,viewportRatio:.5625,docsId:"",coopUsers:[localStorage.getItem("token")],coopUserInfo:{}}),getters:{currentSlide(e){return e.slides[e.slideIndex]},currentSlideAnimations(e){const t=e.slides[e.slideIndex];if(null===t||void 0===t||!t.animations)return[];const l=t.elements,o=l.map(e=>e.id);return t.animations.filter(e=>o.includes(e.elId))},formatedAnimations(e){const t=e.slides[e.slideIndex];if(null===t||void 0===t||!t.animations)return[];const l=t.elements,o=l.map(e=>e.id),c=t.animations.filter(e=>o.includes(e.elId)),n=[];for(const a of c)if("click"!==a.trigger&&n.length){if("meantime"===a.trigger){const e=n[n.length-1];e.animations=e.animations.filter(e=>e.elId!==a.elId),e.animations.push(a),n[n.length-1]=e}else if("auto"===a.trigger){const e=n[n.length-1];e.autoNext=!0,n[n.length-1]=e,n.push({animations:[a],autoNext:!1})}}else n.push({animations:[a],autoNext:!1});return n},layouts(e){const{themeColor:t,fontColor:l,fontName:o,backgroundColor:c}=e.theme,n=d()(l).isDark()?"rgba(230, 230, 230, 0.5)":"rgba(180, 180, 180, 0.5)",a=JSON.stringify(p).replaceAll("{{themeColor}}",t).replaceAll("{{fontColor}}",l).replaceAll("{{fontName}}",o).replaceAll("{{backgroundColor}}",c).replaceAll("{{subColor}}",n);return JSON.parse(a)}},actions:{setDocsId(e){this.docsId=e},setTheme(e){this.theme={...this.theme,...e}},setViewportRatio(e){this.viewportRatio=e},setSlides(e){this.slides=e,this._sync(this.docsId,this.slides.slice())},addSlide(e,t,l=!1){const o=Array.isArray(e)?e:[e],c=null!==t&&void 0!==t?t:this.slideIndex,n=c+1;var a;(this.slides.splice(n,0,...o),this._sync(this.docsId,this.slides.slice()),l)||(this.slideIndex=n,null===(a=g)||void 0===a||a.send(JSON.stringify({event:"broadcast-update",data:{type:"addSlide",slideIndex:n-1,data:e}})))},updateSlide(e,t,l=!1){var o;const c=null!==t&&void 0!==t?t:this.slideIndex;this.slides[c]={...this.slides[c],...e},this._sync(this.docsId,this.slides.slice()),l||null===(o=g)||void 0===o||o.send(JSON.stringify({event:"broadcast-update",data:{type:"updateSlide",slideIndex:this.slideIndex,data:e}}))},deleteSlide(e,t,l=!1){var o;const c=Array.isArray(e)?e:[e],n=[];for(let i=0;i<c.length;i++){const e=this.slides.findIndex(e=>e.id===c[i]);n.push(e)}let a=Math.min(...n);const r=this.slides.length-c.length-1;a>r&&(a=r),this.slideIndex=a,this.slides=this.slides.filter(e=>!c.includes(e.id)),this._sync(this.docsId,this.slides.slice()),l||null===(o=g)||void 0===o||o.send(JSON.stringify({event:"broadcast-update",data:{type:"deleteSlide",slideIndex:this.slideIndex,data:e}}))},updateSlideIndex(e){var t;this.slideIndex=e,null===(t=g)||void 0===t||t.send(JSON.stringify({event:"broadcast-user-trivial",data:{type:"slide-selection",slideIndex:e}}))},addElement(e,t,l=!1){var o;const c=Array.isArray(e)?e:[e],n=null!==t&&void 0!==t?t:this.slideIndex,a=this.slides[n].elements,r=[...a,...c];this.slides[n].elements=r,this._sync(this.docsId,this.slides.slice()),l||null===(o=g)||void 0===o||o.send(JSON.stringify({event:"broadcast-update",data:{type:"addElement",slideIndex:this.slideIndex,data:e}}))},deleteElement(e,t,l=!1){var o;const c=Array.isArray(e)?e:[e],n=null!==t&&void 0!==t?t:this.slideIndex,a=this.slides[n].elements,r=a.filter(e=>!c.includes(e.id));this.slides[n].elements=r,this._sync(this.docsId,this.slides.slice()),l||null===(o=g)||void 0===o||o.send(JSON.stringify({event:"broadcast-update",data:{type:"deleteElement",slideIndex:this.slideIndex,data:e}}))},updateElement(e,t,l=!1){var o;const{id:c,props:n}=e,a="string"===typeof c?[c]:c,r=null!==t&&void 0!==t?t:this.slideIndex,i=this.slides[r],s=i.elements.map(e=>a.includes(e.id)?{...e,...n}:e);this.slides[r].elements=s,l||null===(o=g)||void 0===o||o.send(JSON.stringify({event:"broadcast-update",data:{type:"updateElement",slideIndex:this.slideIndex,data:e}}))},_sync:Object(u["throttle"])(async(e,t)=>{const l=document.querySelector(".thumbnail-item .thumbnail"),o=l?await Object(v["c"])(l,{quality:1,canvasWidth:640,canvasHeight:360}):"";h.postMessage({type:"sync",json:JSON.stringify(t),docsId:e,jpg:o,token:localStorage.getItem("token"),isDev:!1})},3e3),_snapshoot(){const e=document.querySelector(".thumbnail-item .thumbnail");y.postMessage({type:"snapshot",dom:e})},removeElementProps(e,t,l=!1){const{id:o,propName:c}=e,n="string"===typeof c?[c]:c,a=null!==t&&void 0!==t?t:this.slideIndex,r=this.slides[a],i=r.elements.map(e=>e.id===o?Object(u["omit"])(e,n):e);this.slides[a].elements=i},updateCoopUsers(e){this.coopUsers=e,e.forEach(e=>{var t;null!==(t=this.coopUserInfo[e])&&void 0!==t&&t.avatar||Object(f["a"])(e).then(t=>{var l;this.updateCoopUserAvatar(e,null!==(l=t.photo)&&void 0!==l?l:"")})})},updateCoopUserInfo(e,t){var l,o;null!==(o=(l=this.coopUserInfo)[e])&&void 0!==o||(l[e]={}),this.coopUserInfo[e]={...this.coopUserInfo[e],...t}},updateCoopUserAvatar(e,t){var l,o;null!==(o=(l=this.coopUserInfo)[e])&&void 0!==o||(l[e]={}),this.coopUserInfo[e].avatar=t},connectWebsocket(){const e=new WebSocket("ws://localhost:3000");e.onopen=()=>{e.send(JSON.stringify({event:"auth",data:{docId:this.docsId,token:localStorage.getItem("token")}})),g=e},e.onmessage=e=>{const t=JSON.parse(e.data);"broadcast-update"===t.event?this[t.data.type](t.data.data,t.data.slideIndex,!0):"broadcast-user"===t.event?this.updateCoopUsers(t.data.users):"broadcast-user-trivial"===t.event&&"slide-selection"===t.data.type&&this.updateCoopUserInfo(t.fromUser,{currentSlide:t.data.slideIndex})}},closeWebsocket(){var e;null===(e=g)||void 0===e||e.close()}}}),k=Object(o["a"])("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),C=k(10),N=Object(c["b"])("main",{state:()=>({activeElementIdList:[],handleElementId:"",activeGroupElementId:"",canvasPercentage:90,canvasScale:1,canvasDragged:!1,thumbnailsFocus:!1,editorAreaFocus:!1,disableHotkeys:!1,gridLineSize:0,showRuler:!1,creatingElement:null,availableFonts:a["a"],toolbarState:n["a"].SLIDE_DESIGN,clipingImageElementId:"",richTextAttrs:r["c"],selectedTableCells:[],isScaling:!1,selectedSlidesIndex:[],dialogForExport:"",databaseId:C}),getters:{activeElementList(e){const t=x(),l=t.currentSlide;return l&&l.elements?l.elements.filter(t=>e.activeElementIdList.includes(t.id)):[]},handleElement(e){const t=x(),l=t.currentSlide;return l&&l.elements&&l.elements.find(t=>e.handleElementId===t.id)||null}},actions:{setActiveElementIdList(e){1===e.length?this.handleElementId=e[0]:this.handleElementId="",this.activeElementIdList=e},setHandleElementId(e){this.handleElementId=e},setActiveGroupElementId(e){this.activeGroupElementId=e},setCanvasPercentage(e){this.canvasPercentage=e},setCanvasScale(e){this.canvasScale=e},setCanvasDragged(e){this.canvasDragged=e},setThumbnailsFocus(e){this.thumbnailsFocus=e},setEditorareaFocus(e){this.editorAreaFocus=e},setDisableHotkeysState(e){this.disableHotkeys=e},setGridLineSize(e){this.gridLineSize=e},setRulerState(e){this.showRuler=e},setCreatingElement(e){this.creatingElement=e},setAvailableFonts(){this.availableFonts=a["a"].filter(e=>i(e.value))},setToolbarState(e){this.toolbarState=e},setClipingImageElementId(e){this.clipingImageElementId=e},setRichtextAttrs(e){this.richTextAttrs=e},setSelectedTableCells(e){this.selectedTableCells=e},setScalingState(e){this.isScaling=e},updateSelectedSlidesIndex(e){this.selectedSlidesIndex=e},setDialogForExport(e){this.dialogForExport=e}}});var E=l("44c0"),w=l("4ef3"),V=l("deb6");const I="PPTist",B=async()=>{const e=(new Date).getTime(),t=localStorage.getItem(V["a"]),l=t?JSON.parse(t):[],o=await w["a"].getDatabaseNames(),c=o.filter(t=>{if(-1===t.indexOf(I))return!1;const[o,c,n]=t.split("_");return o!==I||!c||!n||(!!l.includes(c)||e-+n>=432e5)});for(const n of c)w["a"].delete(n);localStorage.removeItem(V["a"])};class S extends w["a"]{constructor(){super(`${I}_${C}_${(new Date).getTime()}`),Object(E["a"])(this,"snapshots",void 0),this.version(1).stores({snapshots:"++id"}),this.snapshots=this.table("snapshots")}}const L=new S,_=Object(c["b"])("snapshot",{state:()=>({snapshotCursor:-1,snapshotLength:0}),getters:{canUndo(e){return e.snapshotCursor>0},canRedo(e){return e.snapshotCursor<e.snapshotLength-1}},actions:{setSnapshotCursor(e){this.snapshotCursor=e},setSnapshotLength(e){this.snapshotLength=e},async initSnapshotDatabase(){const e=x();await B();const t={index:e.slideIndex,slides:e.slides};await L.snapshots.add(t),this.setSnapshotCursor(0),this.setSnapshotLength(1)},async addSnapshot(){const e=x(),t=await L.snapshots.orderBy("id").keys();let l=[];this.snapshotCursor>=0&&this.snapshotCursor<t.length-1&&(l=t.slice(this.snapshotCursor+1));const o={index:e.slideIndex,slides:e.slides};await L.snapshots.add(o);let c=t.length-l.length+1;const n=20;c>n&&(l.push(t[0]),c--),c>=2&&L.snapshots.update(t[c-2],{index:e.slideIndex}),await L.snapshots.bulkDelete(l),this.setSnapshotCursor(c-1),this.setSnapshotLength(c)},async unDo(){if(this.snapshotCursor<=0)return;const e=x(),t=N(),l=this.snapshotCursor-1,o=await L.snapshots.orderBy("id").toArray(),c=o[l],{index:n,slides:a}=c,r=n>a.length-1?a.length-1:n;e.setSlides(a),e.updateSlideIndex(r),this.setSnapshotCursor(l),t.setActiveElementIdList([])},async reDo(){if(this.snapshotCursor>=this.snapshotLength-1)return;const e=x(),t=N(),l=this.snapshotCursor+1,o=await L.snapshots.orderBy("id").toArray(),c=o[l],{index:n,slides:a}=c,r=n>a.length-1?a.length-1:n;e.setSlides(a),e.updateSlideIndex(r),this.setSnapshotCursor(l),t.setActiveElementIdList([])}}}),T=Object(c["b"])("keyboard",{state:()=>({ctrlKeyState:!1,shiftKeyState:!1,spaceKeyState:!1}),getters:{ctrlOrShiftKeyActive(e){return e.ctrlKeyState||e.shiftKeyState}},actions:{setCtrlKeyState(e){this.ctrlKeyState=e},setShiftKeyState(e){this.shiftKeyState=e},setSpaceKeyState(e){this.spaceKeyState=e}}}),M=Object(c["b"])("screen",{state:()=>({screening:!1}),actions:{setScreening(e){this.screening=e}}});var D=l("8e64")},"07f0":function(e,t,l){"use strict";l("9b34")},"0976":function(e,t,l){},"0995":function(e,t,l){},"0a20":function(e,t,l){"use strict";var o=l("bcba"),c=l("0613");t["a"]=()=>{const e=Object(c["f"])(),t=Object(o["debounce"])((function(){e.addSnapshot()}),300,{trailing:!0}),l=Object(o["throttle"])((function(){e.reDo()}),100,{leading:!0,trailing:!1}),n=Object(o["throttle"])((function(){e.unDo()}),100,{leading:!0,trailing:!1});return{addHistorySnapshot:t,redo:l,undo:n}}},"0baa":function(e,t,l){},"0d13":function(e,t,l){},"0dbd":function(e,t,l){},"0dc3":function(e,t,l){},"0e86":function(e,t,l){},"0f64":function(e,t,l){"use strict";l("de97")},"0f92":function(e,t,l){"use strict";l("02e1")},"0fcb":function(e,t,l){},1:function(e,t,l){e.exports=l("cd49d")},"10c4":function(e,t,l){},1126:function(e,t,l){"use strict";l("0995")},1139:function(e,t,l){"use strict";l("35dd")},1222:function(e,t,l){"use strict";l("b583")},"129f":function(e,t,l){},"15f6":function(e,t,l){},"16f3":function(e,t,l){},"179a":function(e,t,l){"use strict";l("85b1")},"180d":function(e,t,l){"use strict";l("fa96")},1855:function(e,t,l){"use strict";l("97b0")},"18f6":function(e,t,l){},"192c":function(e,t,l){"use strict";l("b854")},1933:function(e,t,l){"use strict";l("6e48")},"197ca":function(e,t,l){"use strict";l("dd8f")},"1a38":function(e,t,l){},"1c65":function(e,t,l){"use strict";l("84ba")},"1ebd":function(e,t,l){"use strict";l("cd84")},"1f3d":function(e,t,l){},2:function(e,t){},"20aee":function(e,t,l){},2338:function(e,t,l){},2460:function(e,t,l){"use strict";l("483c")},"24bc":function(e,t,l){"use strict";l("f075")},"25b1":function(e,t,l){},2626:function(e,t,l){"use strict";l("7f69")},2803:function(e,t,l){"use strict";l("2a2b")},2841:function(e,t,l){},"28eb":function(e,t,l){"use strict";l("4916")},"2a2b":function(e,t,l){},"2ac5":function(e,t,l){},"2beb":function(e,t,l){},"2d82":function(e,t,l){},"2d86":function(e,t,l){"use strict";l("d56b")},"2e7d":function(e,t,l){},"2e81":function(e,t,l){"use strict";l.d(t,"b",(function(){return r})),l.d(t,"h",(function(){return i})),l.d(t,"d",(function(){return s})),l.d(t,"e",(function(){return d})),l.d(t,"f",(function(){return u})),l.d(t,"g",(function(){return b})),l.d(t,"c",(function(){return m})),l.d(t,"a",(function(){return p}));var o=l("9d6d");const{post:c,get:n}=Object(o["a"])();var a;function r(e){return c("/api/teams/create",e)}function i(){return n("/api/teams",{})}function s(e){return n(`/api/teams/${e}/detail`)}function d(e){return n(`/api/teams/${e}/docs`)}function u(e){return n("/api/teams/invites/"+e)}function b(e){return n(`/api/teams/${e}/members`)}function m(e,t,l){return c("/api/teams/invites/"+e,{inviterUserId:t,targetUserId:l})}function p(e){return c(`/api/teams/invites/${e}/accept`,{})}(function(e){e[e["INDIVIDUAL"]=1]="INDIVIDUAL",e[e["PUBLIC"]=2]="PUBLIC"})(a||(a={}))},"2ef4":function(e,t,l){"use strict";l.d(t,"a",(function(){return w}));var o=l("bcba");const c=["style","script","template"],n=["html","head","body","p","dt","dd","li","option","thead","th","tbody","tr","td","tfoot","colgroup"],a={li:["ul","ol","menu"],dt:["dl"],dd:["dl"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table"],td:["table"]},r=["!doctype","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],i=(e,t)=>{const l=t-e.position;s(e,l)},s=(e,t)=>{e.position=e.position+t},d=(e,t)=>{const l=!1;while(!l){const l=e.indexOf("<",t);if(-1===l)return l;const o=e.charAt(l+1);if("/"===o||"!"===o||/[A-Za-z0-9]/.test(o))return l;t=l+1}return-1},u=e=>{const{str:t}=e;let l=d(t,e.position);if(l===e.position)return;-1===l&&(l=t.length);const o=t.slice(e.position,l);i(e,l),e.tokens.push({type:"text",content:o})},b=e=>{const{str:t}=e;s(e,4);let l=t.indexOf("--\x3e",e.position),o=l+3;-1===l&&(l=o=t.length);const c=t.slice(e.position,l);i(e,o),e.tokens.push({type:"comment",content:c})},m=e=>{const{str:t}=e,l=t.length;let o=e.position;while(o<l){const e=t.charAt(o),l=!(/\s/.test(e)||"/"===e||">"===e);if(l)break;o++}let c=o+1;while(c<l){const e=t.charAt(c),l=!(/\s/.test(e)||"/"===e||">"===e);if(!l)break;c++}i(e,c);const n=t.slice(o,c);return e.tokens.push({type:"tag",content:n}),n},p=e=>{const{str:t,tokens:l}=e;let c=e.position,n=null,a=c;const r=[],s=t.length;while(c<s){const e=t.charAt(c);if(n){const t=e===n;t&&(n=null),c++;continue}const l="/"===e||">"===e;if(l){c!==a&&r.push(t.slice(a,c));break}const o=/\s/.test(e);if(o){c!==a&&r.push(t.slice(a,c)),a=c+1,c++;continue}const i="'"===e||'"'===e;i?(n=e,c++):c++}i(e,c);const d="attribute";for(let i=0;i<r.length;i++){const e=r[i],t=-1===e.indexOf("=");if(t){const t=r[i+1];if(t&&Object(o["startsWith"])(t,"=")){if(t.length>1){const o=e+t;l.push({type:d,content:o}),i+=1;continue}const o=r[i+2];if(i+=1,o){const t=e+"="+o;l.push({type:d,content:t}),i+=1;continue}}}if(Object(o["endsWith"])(e,"=")){const t=r[i+1];if(t&&-1===t.indexOf("=")){const o=e+t;l.push({type:d,content:o}),i+=1;continue}const o=e.slice(0,-1);l.push({type:d,content:o})}else l.push({type:d,content:e})}},O=(e,t)=>{const{str:l,tokens:o}=t,c=e.toLowerCase(),n=l.length;let a=t.position;while(a<n){const e=l.indexOf("</",a);if(-1===e){u(t);break}const n={str:l,position:t.position,tokens:[]};i(n,e);const r=j(n);if(c===r.toLowerCase()){if(e!==t.position){const c=t.position;i(t,e),o.push({type:"text",content:l.slice(c,e)})}o.push(...n.tokens),i(t,n.position);break}a=n.position}},j=e=>{const{str:t}=e,l=t.charAt(e.position+1),o="/"===l;s(e,o?2:1),e.tokens.push({type:"tag-start",close:o});const c=m(e);p(e);const n=t.charAt(e.position),a="/"===n;return s(e,a?2:1),e.tokens.push({type:"tag-end",close:a}),c},f=e=>{const t=e.str,l=t.length;while(e.position<l){const l=e.position;if(u(e),e.position===l){const n=Object(o["startsWith"])(t,"!--",l+1);if(n)b(e);else{const t=j(e),l=t.toLowerCase();c.includes(l)&&O(t,e)}}}},v=e=>{const t={str:e,position:0,tokens:[]};return f(t),t.tokens},h=e=>{const t={tagName:null,children:[]},l={tokens:e,cursor:0,stack:[t]};return x(l),t.children},y=(e,t)=>{const l=a[e];if(l){let o=t.length-1;while(o>=0){const c=t[o].tagName;if(c===e)break;if(l.includes(c))return!0;o--}}return!1},g=(e,t)=>{e.splice(t)},x=e=>{const{stack:t,tokens:l}=e;let{cursor:o}=e,c=t[t.length-1].children;const a=l.length;while(o<a){const e=l[o];if("tag-start"!==e.type){c.push(e),o++;continue}const i=l[++o];o++;const s=i.content.toLowerCase();if(e.close){let e=t.length,c=!1;while(--e>-1)if(t[e].tagName===s){c=!0;break}while(o<a){if("tag-end"!==l[o].type)break;o++}if(c){g(t,e);break}continue}const d=n.includes(s);let u=d;if(u&&(u=!y(s,t)),u){let e=t.length-1;while(e>0){if(s===t[e].tagName){g(t,e);const l=e-1;c=t[l].children;break}e-=1}}const b=[];let m;while(o<a){const e=l[o];if("tag-end"===e.type){m=e;break}b.push(e.content),o++}if(!m)break;o++;const p=[],O={type:"element",tagName:i.content,attributes:b,children:p};c.push(O);const j=!(m.close||r.includes(s));if(j){t.push({tagName:s,children:p});const e={tokens:l,cursor:o,stack:t};x(e),o=e.cursor}}e.cursor=o},k=(e,t)=>{const l=e.indexOf(t);return-1===l?[e]:[e.slice(0,l),e.slice(l+t.length)]},C=e=>{const t=e.charAt(0),l=e.length-1,o='"'===t||"'"===t;return o&&t===e.charAt(l)?e.slice(1,l):e},N=e=>e.map(e=>{const t=k(e.trim(),"="),l=t[0],o="string"===typeof t[1]?C(t[1]):null;return{key:l,value:o}}),E=e=>e.map(e=>{if("element"===e.type){const t=E(e.children),l={type:"element",tagName:e.tagName.toLowerCase(),attributes:N(e.attributes),children:t};return l}const t={type:e.type,content:e.content};return t});l("3b4f");const w=e=>{const t=v(e),l=h(t);return E(l)}},3010:function(e,t,l){"use strict";l("42f9")},"307a":function(e,t,l){"use strict";l("16f3")},3083:function(e,t,l){},3295:function(e,t,l){},"331b":function(e,t,l){},3328:function(e,t,l){"use strict";l("a36d")},"335c":function(e,t,l){"use strict";l("a160")},"33a1":function(e,t,l){},"34f1":function(e,t,l){"use strict";l("f005")},3564:function(e,t,l){"use strict";l("7559")},"35dd":function(e,t,l){},3637:function(e,t,l){},3680:function(e,t,l){},3696:function(e,t,l){"use strict";l("c5ac")},"37ad":function(e,t,l){},3836:function(e,t,l){"use strict";l("97a6")},3925:function(e,t,l){"use strict";l("c148")},3929:function(e,t,l){"use strict";l("ebd4")},"39e2":function(e,t,l){},"3a6a":function(e,t,l){"use strict";l.d(t,"a",(function(){return a})),l.d(t,"b",(function(){return r}));var o=l("9d6d");const{get:c,post:n}=Object(o["a"])();function a(e){return c("/api/users/"+e,{})}function r(e){return n("/api/users/search",{keyword:e})}},"3a8e":function(e,t,l){},"413a":function(e,t,l){},"42f9":function(e,t,l){},4302:function(e,t,l){},4320:function(e,t,l){},4365:function(e,t,l){"use strict";l.d(t,"b",(function(){return c})),l.d(t,"a",(function(){return n}));var o=l("4fa0");const c=new o["a"]({domain:"https://storyboard.authing.cn",appId:"62dba4a3e1ad8483f1d98045",redirectUri:"https://aside.fun/login"});function n(e){return(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.nickname)||(null===e||void 0===e?void 0:e.phone)||(null===e||void 0===e?void 0:e.email)||"匿名用户"}},4435:function(e,t,l){},"45c1":function(e,t,l){"use strict";l("ef5a")},4675:function(e,t,l){"use strict";l("1f3d")},"46bb":function(e,t,l){},"46fe":function(e,t,l){"use strict";l("2d82")},4731:function(e,t,l){"use strict";l("0baa")},4764:function(e,t,l){"use strict";l("04d2")},"483c":function(e,t,l){},4916:function(e,t,l){},"4a22":function(e,t,l){},"4a2e":function(e,t,l){"use strict";l("331b")},"4ab6":function(e,t,l){},"4acf":function(e,t,l){},"4b9a":function(e,t,l){"use strict";l("78b5")},"4c0e":function(e,t,l){"use strict";l("2ac5")},"4c44":function(e,t,l){"use strict";l.d(t,"a",(function(){return o})),l.d(t,"b",(function(){return c}));const o=[{label:"Arial",value:"Arial"},{label:"微软雅黑",value:"Microsoft Yahei"},{label:"宋体",value:"SimSun"},{label:"黑体",value:"SimHei"},{label:"楷体",value:"KaiTi"},{label:"新宋体",value:"NSimSun"},{label:"仿宋",value:"FangSong"},{label:"苹方",value:"PingFang SC"},{label:"华文黑体",value:"STHeiti"},{label:"华文楷体",value:"STKaiti"},{label:"华文宋体",value:"STSong"},{label:"华文仿宋",value:"STFangSong"},{label:"华文中宋",value:"STZhongSong"},{label:"华文琥珀",value:"STHupo"},{label:"华文新魏",value:"STXinwei"},{label:"华文隶书",value:"STLiti"},{label:"华文行楷",value:"STXingkai"},{label:"冬青黑体",value:"Hiragino Sans GB"},{label:"兰亭黑",value:"Lantinghei SC"},{label:"偏偏体",value:"Hanzipen SC"},{label:"手札体",value:"Hannotate SC"},{label:"宋体",value:"Songti SC"},{label:"娃娃体",value:"Wawati SC"},{label:"行楷",value:"Xingkai SC"},{label:"圆体",value:"Yuanti SC"},{label:"华文细黑",value:"STXihei"},{label:"幼圆",value:"YouYuan"},{label:"隶书",value:"LiSu"}],c=[{label:"仓耳小丸子",value:"仓耳小丸子"},{label:"优设标题黑",value:"优设标题黑"},{label:"峰广明锐体",value:"峰广明锐体"},{label:"摄图摩登小方体",value:"摄图摩登小方体"},{label:"站酷快乐体",value:"站酷快乐体"},{label:"字制区喜脉体",value:"字制区喜脉体"},{label:"素材集市康康体",value:"素材集市康康体"},{label:"素材集市酷方体",value:"素材集市酷方体"},{label:"途牛类圆体",value:"途牛类圆体"},{label:"锐字真言体",value:"锐字真言体"}]},"4f07":function(e,t,l){"use strict";var o=l("1c72"),c=l("4365"),n=l("0613"),a=l("518b");function r(e){if(!e)return"";document.title=e+" - 纷镜"}l("77ab");var i=l("3eb2");const s={class:"login-page"};var d=Object(i["defineComponent"])({__name:"Login",setup(e){const{user:t,loginState:l}=Object(a["c"])(Object(n["a"])()),o=()=>{c["b"].loginWithRedirect()};function r(){const e=localStorage.getItem("inviteId");if(e)return localStorage.removeItem("inviteId"),void lE.push({path:"/join-team/"+e});lE.push({name:"home"})}const d=async()=>{try{const e=await c["b"].getLoginState();if(l.value=e,null===e||void 0===e||!e.accessToken)throw new Error;b(),r()}catch{o()}};async function u(){if(!c["b"].isRedirectCallback())return void d();const e=await c["b"].handleRedirectCallback();l.value=e;let t="";null!==e&&void 0!==e&&e.idToken&&(t=e.idToken,localStorage.setItem("token",t)),await b(),r()}async function b(){try{const e=await c["b"].getUserInfo();e&&(t.value=e)}catch{o()}}return Object(i["onMounted"])(()=>{u()}),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",s," 跳转中，请稍后... "))}}),u=(l("56d8"),l("6dd4")),b=l.n(u);const m=b()(d,[["__scopeId","data-v-b9d69db2"]]);var p=m,O=l("2e81"),j=l("8e64");function f(e){const t=6e4,l=60*t,o=24*l,c=30*o,n=(new Date).getTime()-new Date(e).getTime();if(n<0)return;const a=n/c,r=n/(7*o),i=n/o,s=n/l,d=n/t;let u="";function b(e){return` ${parseInt(e.toString()).toString()} `}return u=a>=1?b(a)+"月前":r>=1?b(r)+"周前":i>=1?b(i)+"天前":s>=1?b(s)+"小时前":d>=1?b(d)+"分钟前":"刚刚",u}const v=["src"],h={class:"docs-info"},y={class:"title"},g={class:"extra"};var x=Object(i["defineComponent"])({__name:"Project",props:{item:{type:Object,require:!0},team:{type:Object,required:!1}},setup(e){const t=e,l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAACmCAYAAADpnHI/AAACDElEQVR4nO3TMQqEUBAFwZ29/41/oLmIGChCUxW+SSbpWWttM/M7Otuu9rt34H3/rx8AnidsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUHChiBhQ5CwIUjYECRsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUHChiBhQ5CwIUjYECRsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUHChiBhQ5CwIUjYECRsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUHChiBhQ5CwIUjYECRsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUHChiBhQ5CwIUjYECRsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUHChiBhQ5CwIUjYECRsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUE7J6YFSL2yVpMAAAAASUVORK5CYII=",{_id:o,name:c,previewImageUrl:n,updatedTimestamp:a}=t.item||{};function r(){window.open("/editor/"+o,"_blank")}return(e,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"project",onClick:o[0]||(o[0]=e=>r())},[Object(i["createElementVNode"])("img",{src:Object(i["unref"])(n)||l,class:"cover",draggable:"false"},null,8,v),Object(i["createElementVNode"])("div",h,[Object(i["createElementVNode"])("div",y,Object(i["toDisplayString"])(Object(i["unref"])(c)),1),Object(i["createElementVNode"])("div",g,Object(i["toDisplayString"])(t.team?t.team.name+" ·":"")+" 更新于 "+Object(i["toDisplayString"])(Object(i["unref"])(f)(Object(i["unref"])(a)||0)),1)])]))}});l("71bb");const k=b()(x,[["__scopeId","data-v-52f7a16e"]]);var C=k;const N={class:"project-wrapper"};var E=Object(i["defineComponent"])({__name:"ProjectWrapper",props:{items:{type:Array,required:!0},team:{type:Object,required:!1}},setup(e){const t=e;return(e,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",N,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.items||[],e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:e._id},[Object(i["createVNode"])(C,{item:e,team:t.team},null,8,["item","team"])]))),128))]))}});l("fa3d");const w=b()(E,[["__scopeId","data-v-504c2585"]]);var V=w;const I=e=>(Object(i["pushScopeId"])("data-v-695f5a29"),e=e(),Object(i["popScopeId"])(),e),B={key:0,class:"guide-bar"},S={class:"left"},L={class:"title"},_={class:"content"},T=Object(i["createTextVNode"])("你正在 "),M=Object(i["createTextVNode"])(" 团队。"),D=I(()=>Object(i["createElementVNode"])("div",null,"你可以在左侧切换不同的团队或内容；也可以在这个分组下查看或创建内容，并在上方切换不同的功能。",-1)),A=I(()=>Object(i["createElementVNode"])("img",{src:"/imgs/guide-team.png",class:"cover",draggable:!1},null,-1));var z=Object(i["defineComponent"])({__name:"GuideBar",setup(e){const{user:t,activeMenuItem:l}=Object(a["c"])(Object(n["a"])());return(e,o)=>{var n,a;const r=Object(i["resolveComponent"])("Skeleton");return null!==(n=Object(i["unref"])(l))&&void 0!==n&&n.title?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",B,[Object(i["createElementVNode"])("div",S,[Object(i["createElementVNode"])("div",L,Object(i["toDisplayString"])(Object(i["unref"])(c["a"])(Object(i["unref"])(t)))+"，你好！",1),Object(i["createElementVNode"])("div",_,[Object(i["createElementVNode"])("div",null,[T,Object(i["createElementVNode"])("strong",null,Object(i["toDisplayString"])(null===(a=Object(i["unref"])(l))||void 0===a?void 0:a.title),1),M]),D])]),A])):(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:1,width:"100%",height:"148px"}))}}});l("2626");const F=b()(z,[["__scopeId","data-v-695f5a29"]]);var $=F;const R={class:"team-page page-container"},P={key:0,class:"docs-container"},H={key:1,class:"loading-wrapper docs-container"};var U=Object(i["defineComponent"])({__name:"Team",setup(e){const t=Object(n["a"])(),{activeMenuItem:l,sidebarKey:c,menuItems:s,currentTeam:d}=Object(a["c"])(t),u=Object(i["ref"])(),b=Object(o["c"])(),m=Object(i["ref"])(),p=Object(i["ref"])(!0);async function f(){p.value=!0;const{teamId:e}=b.params;c.value=e,l.value=Object(j["a"])(e,s.value)||null,u.value=await Object(O["e"])(e);const t=await Object(O["d"])(e);m.value=t,d.value=t,r(t.name),p.value=!1}return Object(i["watch"])(()=>{var e;return null===(e=b.params)||void 0===e?void 0:e.teamId},f),Object(i["onMounted"])(()=>{f(),t.setActiveHeaderBarMenuKey("team")}),(e,t)=>{var l;const o=Object(i["resolveComponent"])("Empty"),c=Object(i["resolveComponent"])("Skeleton");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",R,[Object(i["createVNode"])($),p.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",H,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Array(8).fill(null),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:t,class:"item"},[Object(i["createVNode"])(c,{width:"100%",height:"240px"}),Object(i["createVNode"])(c,{width:"60%",class:"title",height:"16px"})]))),128))])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",P,[null!==(l=u.value)&&void 0!==l&&l.length?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:0,style:{marginTop:"200px"}})),Object(i["createVNode"])(V,{items:u.value||[],team:m.value},null,8,["items","team"])]))])}}});l("3925");const q=U;var G=q,Y=l("9d6d");const{post:X,get:Z}=Object(Y["a"])();function W(e){return X("/api/docs",{teamId:e})}function J(e){return Z("/api/docs/"+e,{})}function Q(e,t){const l=new FormData;return l.append("file",t),X("/api/docs/upload/"+e,l,{"Content-Type":"multipart/form-data"})}const K=e=>(Object(i["pushScopeId"])("data-v-aa044eda"),e=e(),Object(i["popScopeId"])(),e),ee=K(()=>Object(i["createElementVNode"])("input",{type:"file",accept:".ppt,.pptx",id:"upload"},null,-1));var te=Object(i["defineComponent"])({__name:"UploadWrapper",props:{teamId:{type:String,required:!0}},setup(e){const t=e;function l(){const e=document.getElementById("upload");e.click()}return Object(i["onMounted"])(()=>{const e=document.getElementById("upload");e.addEventListener("change",async e=>{const[l]=e.target.files,o=await Q(t.teamId,l);window.open("/editor/"+o._id,"_blank")})}),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{onClick:t[0]||(t[0]=e=>l())},[ee,Object(i["renderSlot"])(e.$slots,"default")]))}});l("701d");const le=b()(te,[["__scopeId","data-v-aa044eda"]]);var oe=le;const ce={class:"homepage"},ne={class:"group-info"},ae=Object(i["createElementVNode"])("div",{class:"title"},"首页",-1),re={class:"buttons"},ie=Object(i["createTextVNode"])("导入文件"),se=Object(i["createTextVNode"])("新建"),de={class:"group"},ue={class:"title-bar"},be=Object(i["createElementVNode"])("h1",{style:{marginBottom:"16px"}},"最近访问",-1);var me=Object(i["defineComponent"])({__name:"index",setup(e){const t=Object(i["computed"])(()=>{var e,t;return null===(e=l.value["teamMenuItems"])||void 0===e||null===(t=e[0])||void 0===t?void 0:t.key}),{menuItems:l}=Object(a["c"])(Object(n["a"])());async function o(){}return Object(i["onMounted"])(()=>{o()}),(e,l)=>{const o=Object(i["resolveComponent"])("Button"),c=Object(i["resolveComponent"])("router-link");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ce,[Object(i["createElementVNode"])("div",ne,[ae,Object(i["createElementVNode"])("div",re,[Object(i["createVNode"])(oe,{"team-id":Object(i["unref"])(t)},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{class:"primary-btn"},{default:Object(i["withCtx"])(()=>[ie]),_:1})]),_:1},8,["team-id"]),Object(i["createVNode"])(c,{to:{path:"/createDocs",query:{teamId:Object(i["unref"])(t)}},target:"_blank"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{type:"primary",class:"primary-btn"},{default:Object(i["withCtx"])(()=>[se]),_:1})]),_:1},8,["to"])])]),Object(i["createElementVNode"])("div",de,[Object(i["createElementVNode"])("div",ue,[be,Object(i["createVNode"])(V,{items:[]})])])])}}});l("5dd9");const pe=me;var Oe=pe;const je=e=>(Object(i["pushScopeId"])("data-v-4973e07e"),e=e(),Object(i["popScopeId"])(),e),fe={class:"unpublished-page page-container"},ve=je(()=>Object(i["createElementVNode"])("div",{class:"tips"},"即将上线，敬请期待！",-1));var he=Object(i["defineComponent"])({__name:"UnpublishedTips",setup(e){const t=Object(i["ref"])(!0);return(e,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",fe,[Object(i["createElementVNode"])("img",{class:"tips-img",src:"/imgs/unpublished.png",draggable:!1,onLoad:l[0]||(l[0]=e=>t.value=!1)},null,32),ve]))}});l("597f");const ye=b()(he,[["__scopeId","data-v-4973e07e"]]);var ge=ye;const xe=e=>(Object(i["pushScopeId"])("data-v-484bcb4c"),e=e(),Object(i["popScopeId"])(),e),ke={key:0,class:"team-info"},Ce={class:"content"},Ne={class:"left"},Ee={class:"title"},we={class:"desc"},Ve={class:"right"},Ie={key:1,class:"team-info"},Be={class:"content"},Se={class:"left"},Le=xe(()=>Object(i["createElementVNode"])("div",null,null,-1));var _e=Object(i["defineComponent"])({__name:"TeamInfo",emits:["info"],setup(e,{emit:t}){const l=Object(o["c"])(),c=Object(i["ref"])();async function n(){const{teamId:e}=l.params,o=await Object(O["d"])(e);c.value=o,t("info",o)}return Object(i["watch"])(()=>{var e;return null===(e=l.params)||void 0===e?void 0:e.teamId},n),Object(i["onMounted"])(()=>{n()}),(e,t)=>{const l=Object(i["resolveComponent"])("Avatar"),o=Object(i["resolveComponent"])("Skeleton");return c.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ke,[Object(i["createVNode"])(l,{size:84,src:c.value.logo,draggable:!1,class:"icon"},null,8,["src"]),Object(i["createElementVNode"])("div",Ce,[Object(i["createElementVNode"])("div",Ne,[Object(i["createElementVNode"])("div",Ee,Object(i["toDisplayString"])(c.value.name),1),Object(i["createElementVNode"])("div",we,Object(i["toDisplayString"])(c.value.description),1)]),Object(i["createElementVNode"])("div",Ve,[Object(i["renderSlot"])(e.$slots,"default")])])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ie,[Object(i["createVNode"])(o,{circle:"",width:"84px",height:"84px"}),Object(i["createElementVNode"])("div",Be,[Object(i["createElementVNode"])("div",Se,[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(o,{class:"title",height:"20px",width:"180px"})]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(o,{class:"desc",height:"20px",width:"360px"})])]),Le])]))}}});l("e2a7");const Te=b()(_e,[["__scopeId","data-v-484bcb4c"]]);var Me=Te,De=(l("7fa4"),l("3f13")),Ae=l("d838"),ze=l("0bad"),Fe=l("3a6a"),$e=l("a2ea"),Re=l.n($e),Pe=l("823e");const He=e=>new Promise((t,l)=>{const o=document.createElement("button"),c=new Re.a(o,{text:()=>e,action:()=>"copy",container:document.body});c.on("success",e=>{c.destroy(),t(e)}),c.on("error",e=>{c.destroy(),l(e)}),document.body.appendChild(o),o.click(),document.body.removeChild(o)}),Ue=()=>new Promise((e,t)=>{var l;null!==(l=navigator.clipboard)&&void 0!==l&&l.readText?navigator.clipboard.readText().then(l=>(l||t("剪贴板为空或者不包含文本"),e(l))):t("浏览器不支持或禁止访问剪贴板，请使用快捷键 Ctrl + V")}),qe=e=>{let t;try{t=JSON.parse(Object(Pe["a"])(e))}catch{t=e}return t},Ge=e=>{const t=e.split("\r\n");""===t[t.length-1]&&t.pop();let l=-1;const o=[];for(const c in t){if(o[c]=t[c].split("\t"),1===o[c].length)return null;if(-1===l)l=o[c].length;else if(l!==o[c].length)return null}return o},Ye=e=>(Object(i["pushScopeId"])("data-v-5cb4781a"),e=e(),Object(i["popScopeId"])(),e),Xe={class:"invite-modal-container"},Ze={class:"invite-by-search"},We={class:"search-bar"},Je=Object(i["createTextVNode"])("搜索"),Qe={class:"searched-users"},Ke={class:"userinfo"},et={class:"content"},tt={class:"name"},lt={class:"role"},ot={key:0,class:"me"},ct=["onClick"],nt={class:"invite-by-link"},at={class:"title"},rt=Object(i["createTextVNode"])(" 使用链接邀请 "),it=Ye(()=>Object(i["createElementVNode"])("div",{class:"subtitle"},"成员同意后将加入团队",-1)),st=Object(i["createTextVNode"])("复制链接");var dt=Object(i["defineComponent"])({__name:"InviteModal",props:{visible:{type:Boolean,required:!0},teamId:{type:String,required:!0},teamName:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const l=e,o=Object(i["ref"])(""),c=Object(i["ref"])([]),{user:r}=Object(a["c"])(Object(n["a"])());async function s(){const e=await Object(Fe["b"])(o.value);c.value=e}async function d(e){var t;const o=l.teamId,c=(null===(t=r.value)||void 0===t?void 0:t.sub)||"",n=await Object(O["c"])(o,c,e);await He(n),De["a"].success("已复制邀请链接")}return(e,n)=>{const a=Object(i["resolveComponent"])("Input"),u=Object(i["resolveComponent"])("Button"),b=Object(i["resolveComponent"])("Avatar"),m=Object(i["resolveComponent"])("Modal");return Object(i["openBlock"])(),Object(i["createBlock"])(m,{visible:l.visible,title:"邀请成员",width:500,footer:null,onCancel:n[4]||(n[4]=e=>t("close")),centered:""},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Xe,[Object(i["createElementVNode"])("div",Ze,[Object(i["createElementVNode"])("div",We,[Object(i["createVNode"])(a,{value:o.value,"onUpdate:value":n[0]||(n[0]=e=>o.value=e),placeholder:"搜索用户昵称、手机号或邮箱",class:"input","allow-clear":"",onPressEnter:n[1]||(n[1]=e=>s())},{prefix:Object(i["withCtx"])(()=>[Object(i["createVNode"])(Object(i["unref"])(Ae["a"]))]),_:1},8,["value"]),Object(i["createVNode"])(u,{type:"primary",disabled:!o.value,onClick:n[2]||(n[2]=e=>s())},{default:Object(i["withCtx"])(()=>[Je]),_:1},8,["disabled"])]),Object(i["createElementVNode"])("div",Qe,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(c.value,e=>{var t;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"user",key:e.id},[Object(i["createElementVNode"])("div",Ke,[Object(i["createVNode"])(b,{size:24,src:e.photo||"",draggable:!1},null,8,["src"]),Object(i["createElementVNode"])("div",et,[Object(i["createElementVNode"])("span",tt,Object(i["toDisplayString"])(e.name||e.nickname||e.phone||e.email),1)])]),Object(i["createElementVNode"])("div",lt,[(null===(t=Object(i["unref"])(r))||void 0===t?void 0:t.sub)===e.id?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ot,"我")):(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:1,onClick:t=>d(e.id)},"邀请",8,ct))])])}),128))])]),Object(i["createElementVNode"])("div",nt,[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",at,[Object(i["createVNode"])(Object(i["unref"])(ze["a"]),{class:"link"}),rt]),it]),Object(i["createVNode"])(u,{type:"primary",class:"primary-btn",onClick:n[3]||(n[3]=e=>d())},{default:Object(i["withCtx"])(()=>[st]),_:1})])])]),_:1},8,["visible"])}}});l("b2b4");const ut=b()(dt,[["__scopeId","data-v-5cb4781a"]]);var bt=ut;const mt=e=>(Object(i["pushScopeId"])("data-v-28e79ff7"),e=e(),Object(i["popScopeId"])(),e),pt={class:"team-member-page"},Ot=Object(i["createTextVNode"])("新建文档"),jt=Object(i["createTextVNode"])("邀请成员"),ft={key:0,class:"team-member"},vt={class:"userinfo"},ht={class:"content"},yt={class:"name"},gt={key:0,class:"me"},xt=mt(()=>Object(i["createElementVNode"])("div",{class:"role"},"成员",-1)),kt={key:1,class:"team-member"},Ct={class:"userinfo"},Nt={class:"content"},Et={class:"name"},wt=mt(()=>Object(i["createElementVNode"])("div",null,null,-1));var Vt=Object(i["defineComponent"])({__name:"TeamMember",setup(e){const t=Object(o["c"])(),l=Object(i["ref"])(!1),r=Object(i["ref"])(),s=Object(i["ref"])(!0),d=Object(n["a"])(),{user:u,activeHeaderBarMenuKey:b}=Object(a["c"])(d),m=Object(i["ref"])([]);async function p(){b.value="member",s.value=!0;const{teamId:e}=t.params,{list:l}=await Object(O["g"])(e);m.value=l,s.value=!1}function j(e){r.value=e,d.setCurrentTeam(e)}return Object(i["onMounted"])(()=>{p()}),Object(i["watch"])(()=>{var e;return null===(e=t.params)||void 0===e?void 0:e.teamId},()=>{p()}),(e,o)=>{var n,a;const d=Object(i["resolveComponent"])("Button"),b=Object(i["resolveComponent"])("router-link"),p=Object(i["resolveComponent"])("Avatar"),O=Object(i["resolveComponent"])("Skeleton");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",pt,[Object(i["createVNode"])(Me,{onInfo:j},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(b,{to:{path:"/createDocs",query:{teamId:Object(i["unref"])(t).params.teamId}},target:"_blank"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(d,{class:"primary-btn"},{default:Object(i["withCtx"])(()=>[Ot]),_:1})]),_:1},8,["to"]),Object(i["createVNode"])(d,{class:"primary-btn",onClick:o[0]||(o[0]=e=>l.value=!0)},{default:Object(i["withCtx"])(()=>[jt]),_:1})]),_:1}),s.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",kt,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Array(2).fill(null),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:t,class:"user"},[Object(i["createElementVNode"])("div",Ct,[Object(i["createVNode"])(O,{circle:"",width:"36px",height:"36px"}),Object(i["createElementVNode"])("div",Nt,[Object(i["createElementVNode"])("span",Et,[Object(i["createVNode"])(O,{width:"180px",height:"20px"})])])]),wt]))),128))])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ft,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(m.value,e=>{var t;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"user",key:e.id},[Object(i["createElementVNode"])("div",vt,[Object(i["createVNode"])(p,{size:36,src:e.user.photo,draggable:!1},null,8,["src"]),Object(i["createElementVNode"])("div",ht,[Object(i["createElementVNode"])("span",yt,Object(i["toDisplayString"])(Object(i["unref"])(c["a"])(e.user)),1),(null===(t=Object(i["unref"])(u))||void 0===t?void 0:t.sub)===e.user.id?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",gt,"我")):Object(i["createCommentVNode"])("",!0)])]),xt])}),128))])),Object(i["createVNode"])(bt,{visible:l.value,onClose:o[1]||(o[1]=e=>l.value=!1),"team-id":null===(n=r.value)||void 0===n?void 0:n.id,"team-name":null===(a=r.value)||void 0===a?void 0:a.name},null,8,["visible","team-id","team-name"])])}}});l("528c");const It=b()(Vt,[["__scopeId","data-v-28e79ff7"]]);var Bt=It,St=Object(i["defineComponent"])({__name:"EditorLandingPage",setup(e){const t=Object(o["c"])();async function l(e){const t=await W(e);lE.push({path:"/editor/"+t._id})}return Object(i["onMounted"])(()=>{var e;const o=null===(e=t.query)||void 0===e?void 0:e.teamId;o&&l(o)}),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div"))}});const Lt=St;var _t=Lt,Tt=l("deb6"),Mt=l("bcba");const Dt=(e,t)=>Object(Mt["padStart"])(""+e,t,"0"),At=()=>!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|Mobile|BlackBerry|Symbian|Windows Phone)/i);var zt,Ft,$t,Rt,Pt,Ht;(function(e){e["UP"]="up",e["DOWN"]="down",e["TOP"]="top",e["BOTTOM"]="bottom"})(zt||(zt={})),function(e){e["TOP"]="top",e["BOTTOM"]="bottom",e["LEFT"]="left",e["RIGHT"]="right",e["VERTICAL"]="vertical",e["HORIZONTAL"]="horizontal",e["CENTER"]="center"}(Ft||(Ft={})),function(e){e["T"]="top",e["B"]="bottom",e["L"]="left",e["R"]="right"}($t||($t={})),function(e){e["LEFT_TOP"]="left-top",e["TOP"]="top",e["RIGHT_TOP"]="right-top",e["LEFT"]="left",e["RIGHT"]="right",e["LEFT_BOTTOM"]="left-bottom",e["BOTTOM"]="bottom",e["RIGHT_BOTTOM"]="right-bottom"}(Rt||(Rt={})),function(e){e["START"]="start",e["END"]="end",e["C"]="ctrl",e["C1"]="ctrl1",e["C2"]="ctrl2"}(Pt||(Pt={})),function(e){e["C"]="C",e["X"]="X",e["Z"]="Z",e["Y"]="Y",e["A"]="A",e["G"]="G",e["L"]="L",e["F"]="F",e["D"]="D",e["B"]="B",e["P"]="P",e["MINUS"]="-",e["EQUAL"]="=",e["DIGIT_0"]="0",e["DELETE"]="DELETE",e["UP"]="ARROWUP",e["DOWN"]="ARROWDOWN",e["LEFT"]="ARROWLEFT",e["RIGHT"]="ARROWRIGHT",e["ENTER"]="ENTER",e["SPACE"]=" ",e["TAB"]="TAB",e["BACKSPACE"]="BACKSPACE",e["ESC"]="ESCAPE",e["PAGEUP"]="PAGEUP",e["PAGEDOWN"]="PAGEDOWN",e["F5"]="F5"}(Ht||(Ht={}));const Ut=[{type:"通用",children:[{label:"剪切",value:"Ctrl + X"},{label:"复制",value:"Ctrl + C"},{label:"粘贴",value:"Ctrl + V"},{label:"快速复制粘贴",value:"Ctrl + D"},{label:"全选",value:"Ctrl + A"},{label:"撤销",value:"Ctrl + Z"},{label:"恢复",value:"Ctrl + Y"},{label:"删除",value:"Delete / Backspace"},{label:"多选",value:"按住 Ctrl 或 Shift"},{label:"打印",value:"Ctrl + P"},{label:"关闭弹窗",value:"ESC"}]},{type:"幻灯片放映",children:[{label:"从头开始放映幻灯片",value:"F5"},{label:"从当前开始放映幻灯片",value:"Shift + F5"},{label:"切换上一页",value:"↑ / ← / PgUp"},{label:"切换下一页",value:"↓ / → / PgDown"},{label:"切换下一页",value:"Enter / Space"},{label:"退出放映",value:"ESC"},{label:"调整画笔笔触大小",value:"鼠标滚轮"}]},{type:"幻灯片编辑",children:[{label:"新建幻灯片",value:"Enter"},{label:"移动画布",value:"Space + 鼠标拖拽"},{label:"缩放画布",value:"Ctrl + 鼠标滚轮"},{label:"放大画布",value:"Ctrl + ="},{label:"缩小画布",value:"Ctrl + -"},{label:"使画布适应当前屏幕",value:"Ctrl + 0"},{label:"上一页（未选中元素）",value:"↑ / ←"},{label:"下一页（未选中元素）",value:"↓ / →"},{label:"上一页",value:"鼠标上滚 / PgUp"},{label:"下一页",value:"鼠标下滚 / PgDown"}]},{type:"元素操作",children:[{label:"移动",value:"↑ / ← / ↓ / →"},{label:"锁定",value:"Ctrl + L"},{label:"组合",value:"Ctrl + G"},{label:"取消组合",value:"Ctrl + Shift + G"},{label:"置顶层",value:"Alt + F"},{label:"置底层",value:"Alt + B"},{label:"锁定宽高比例",value:"按住 Ctrl 或 Shift"},{label:"创建水平 / 垂直线条",value:"按住 Ctrl 或 Shift"},{label:"切换焦点元素",value:"Tab"},{label:"确认图片裁剪",value:"Enter"}]},{type:"表格编辑",children:[{label:"聚焦到下一个单元格",value:"Tab"},{label:"在上方插入一行",value:"Ctrl + ↑"},{label:"在下方插入一行",value:"Ctrl + ↓"},{label:"在左侧插入一列",value:"Ctrl + ←"},{label:"在右侧插入一列",value:"Ctrl + →"}]},{type:"图表数据编辑",children:[{label:"聚焦到下一行",value:"Enter"}]},{type:"文本编辑",children:[{label:"加粗",value:"Ctrl + B"},{label:"斜体",value:"Ctrl + I"},{label:"下划线",value:"Ctrl + U"},{label:"删除线",value:"Ctrl + D"}]}];var qt=l("5a11"),Gt=l("806f");const Yt=e=>{const t=e.replace(/[\n\r]+/g,"<br>"),l=t.split("<br>");let o="";for(const c of l)c&&(o+=`<div>${c}</div>`);return o};l("b4a5"),l("46bd"),l("4012"),l("b600"),l("d5df");const Xt=e=>new Promise(t=>{const l=document.createElement("img");l.src=e,l.style.opacity="0",document.body.appendChild(l),l.onload=()=>{const e=l.clientWidth,o=l.clientHeight;l.onload=null,l.onerror=null,document.body.removeChild(l),t({width:e,height:o})},l.onerror=()=>{l.onload=null,l.onerror=null}}),Zt=e=>new Promise(t=>{const l=new FileReader;l.addEventListener("load",()=>{t(l.result)}),l.readAsDataURL(e)}),Wt=1e3;var Jt,Qt;(function(e){e["ROUND_RECT"]="roundRect",e["ROUND_RECT_DIAGONAL"]="roundRectDiagonal",e["ROUND_RECT_SINGLE"]="roundRectSingle",e["ROUND_RECT_SAMESIDE"]="roundRectSameSide",e["CUT_RECT_DIAGONAL"]="cutRectDiagonal",e["CUT_RECT_SINGLE"]="cutRectSingle",e["CUT_RECT_SAMESIDE"]="cutRectSameSide",e["MESSAGE"]="message",e["ROUND_MESSAGE"]="roundMessage",e["L"]="L",e["RING_RECT"]="ringRect",e["PLUS"]="plus",e["TRIANGLE"]="triangle",e["PARALLELOGRAM_LEFT"]="parallelogramLeft",e["PARALLELOGRAM_RIGHT"]="parallelogramRight",e["TRAPEZOID"]="trapezoid",e["BULLET"]="bullet",e["INDICATOR"]="indicator"})(Jt||(Jt={})),function(e){e["TEXT"]="text",e["IMAGE"]="image",e["SHAPE"]="shape",e["LINE"]="line",e["CHART"]="chart",e["TABLE"]="table",e["LATEX"]="latex",e["VIDEO"]="video",e["AUDIO"]="audio"}(Qt||(Qt={}));const Kt={[Jt.ROUND_RECT]:{editable:!0,defaultValue:.125,range:[0,.5],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M ${o} 0 L ${e-o} 0 Q ${e} 0 ${e} ${o} L ${e} ${t-o} Q ${e} ${t} ${e-o} ${t} L ${o} ${t} Q 0 ${t} 0 ${t-o} L 0 ${o} Q 0 0 ${o} 0 Z`}},[Jt.CUT_RECT_DIAGONAL]:{editable:!0,defaultValue:.2,range:[0,.9],relative:"right",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 ${t-o} L 0 0 L ${e-o} 0 L ${e} ${o} L ${e} ${t} L ${o} ${t} Z`}},[Jt.CUT_RECT_SINGLE]:{editable:!0,defaultValue:.2,range:[0,.9],relative:"right",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 ${t} L 0 0 L ${e-o} 0 L ${e} ${o} L ${e} ${t} Z`}},[Jt.CUT_RECT_SAMESIDE]:{editable:!0,defaultValue:.2,range:[0,.5],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 ${o} L ${o} 0 L ${e-o} 0 L ${e} ${o} L ${e} ${t} L 0 ${t} Z`}},[Jt.ROUND_RECT_DIAGONAL]:{editable:!0,defaultValue:.125,range:[0,1],relative:"right",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 0 L ${e-o} 0 Q ${e} 0 ${e} ${o} L ${e} ${t} L ${o} ${t} Q 0 ${t} 0 ${t-o} L 0 0 Z`}},[Jt.ROUND_RECT_SINGLE]:{editable:!0,defaultValue:.125,range:[0,1],relative:"right",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 0 L ${e-o} 0 Q ${e} 0 ${e} ${o} L ${e} ${t} L 0 ${t} L 0 0 Z`}},[Jt.ROUND_RECT_SAMESIDE]:{editable:!0,defaultValue:.125,range:[0,.5],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 ${o} Q 0 0 ${o} 0 L ${e-o} 0 Q ${e} 0 ${e} ${o} L ${e} ${t} L 0 ${t} Z`}},[Jt.MESSAGE]:{formula:(e,t)=>{const l=.2*e,o=.2*t;return`M 0 0 L ${e} 0 L ${e} ${t-o} L ${e/2} ${t-o} L ${e/2-l} ${t} L ${e/2-l} ${t-o} L 0 ${t-o} Z`}},[Jt.ROUND_MESSAGE]:{formula:(e,t)=>{const l=.125*Math.min(e,t),o=.2*e,c=.2*t;return`M 0 ${l} Q 0 0 ${l} 0 L ${e-l} 0 Q ${e} 0 ${e} ${l} L ${e} ${t-l-c} Q ${e} ${t-c} ${e-l} ${t-c} L ${e/2} ${t-c} L ${e/2-o} ${t} L ${e/2-o} ${t-c} L ${l} ${t-c} Q 0 ${t-c} 0 ${t-l-c} L 0 ${l} Z`}},[Jt.L]:{editable:!0,defaultValue:.25,range:[.1,.9],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 0 L 0 ${t} L ${e} ${t} L ${e} ${t-o} L ${o} ${t-o} L ${o} 0 Z`}},[Jt.RING_RECT]:{editable:!0,defaultValue:.25,range:[.1,.45],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 0 ${e} 0 ${e} ${t} L 0 ${t} L 0 0 Z M ${o} ${o} L ${o} ${t-o} L ${e-o} ${t-o} L ${e-o} ${o} Z`}},[Jt.PLUS]:{editable:!0,defaultValue:.25,range:[.1,.9],relative:"center",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M ${e/2-o/2} 0 L ${e/2-o/2} ${t/2-o/2} L 0 ${t/2-o/2} L 0 ${t/2+o/2} L ${e/2-o/2} ${t/2+o/2} L ${e/2-o/2} ${t} L ${e/2+o/2} ${t} L ${e/2+o/2} ${t/2+o/2} L ${e} ${t/2+o/2} L ${e} ${t/2-o/2} L ${e/2+o/2} ${t/2-o/2} L ${e/2+o/2} 0 Z`}},[Jt.TRIANGLE]:{editable:!0,defaultValue:.5,range:[0,1],relative:"left",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M ${o} 0 L 0 ${t} L ${e} ${t} Z`}},[Jt.PARALLELOGRAM_LEFT]:{editable:!0,defaultValue:.25,range:[0,.9],relative:"left",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M ${o} 0 L ${e} 0 L ${e-o} ${t} L 0 ${t} Z`}},[Jt.PARALLELOGRAM_RIGHT]:{editable:!0,defaultValue:.25,range:[0,.9],relative:"right",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M 0 0 L ${e-o} 0 L ${e} ${t} L ${o} ${t} Z`}},[Jt.TRAPEZOID]:{editable:!0,defaultValue:.25,range:[0,.5],relative:"left",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M ${o} 0 L ${e-o} 0 L ${e} ${t} L 0 ${t} Z`}},[Jt.BULLET]:{editable:!0,defaultValue:.2,range:[0,1],relative:"top",getBaseSize:(e,t)=>t,formula:(e,t,l)=>{const o=t*l;return`M ${e/2} 0 L 0 ${o} L 0 ${t} L ${e} ${t} L ${e} ${o} Z`}},[Jt.INDICATOR]:{editable:!0,defaultValue:.2,range:[0,.9],relative:"right",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M ${e} ${t/2} L ${e-o} 0 L 0 0 L ${o} ${t/2} L 0 ${t} L ${e-o} ${t} Z`}}},el=[{type:"矩形",children:[{viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z"},{viewBox:[200,200],path:"M 50 0 L 150 0 Q 200 0 200 50 L 200 150 Q 200 200 150 200 L 50 200 Q 0 200 0 150 L 0 50 Q 0 0 50 0 Z",pathFormula:Jt.ROUND_RECT},{viewBox:[200,200],path:"M 0 150 L 0 0 L 150 0 L 200 50 L 200 200 L 50 200 Z",pathFormula:Jt.CUT_RECT_DIAGONAL},{viewBox:[200,200],path:"M 0 200 L 0 0 L 150 0 L 200 50 L 200 200 Z",pathFormula:Jt.CUT_RECT_SINGLE},{viewBox:[200,200],path:"M 0 50 L 50 0 L 150 0 L 200 50 L 200 200 L 0 200 Z",pathFormula:Jt.CUT_RECT_SAMESIDE},{viewBox:[200,200],path:"M 0 0 L 150 0 Q 200 0 200 50 L 200 200 L 50 200 Q 0 200 0 150 L 0 0 Z",pathFormula:Jt.ROUND_RECT_DIAGONAL},{viewBox:[200,200],path:"M 0 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 L 0 0 Z",pathFormula:Jt.ROUND_RECT_SINGLE},{viewBox:[200,200],path:"M 0 50 Q 0 0 50 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 Z",pathFormula:Jt.ROUND_RECT_SAMESIDE}]},{type:"常用形状",children:[{viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 200 L 200 200 L 100 0 Z",pathFormula:Jt.TRIANGLE},{viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z"},{viewBox:[200,200],path:"M 50 0 L 200 0 L 150 200 L 0 200 L 50 0 Z",pathFormula:Jt.PARALLELOGRAM_LEFT},{viewBox:[200,200],path:"M 0 0 L 150 0 L 200 200 L 50 200 L 0 0 Z",pathFormula:Jt.PARALLELOGRAM_RIGHT},{viewBox:[200,200],path:"M 50 0 L 150 0 L 200 200 L 0 200 L 50 0 Z",pathFormula:Jt.TRAPEZOID},{viewBox:[200,200],path:"M 100 0 L 0 100 L 100 200 L 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 50 L 0 200 L 200 200 L 200 50 L 100 0 Z",pathFormula:Jt.BULLET},{viewBox:[200,200],path:"M 200 100 L 150 0 L 0 0 L 50 100 L 0 200 L 150 200 L 200 100 Z",pathFormula:Jt.INDICATOR},{viewBox:[200,200],path:"M 0 200 A 50 100 0 1 1 200 200 L 0 200 Z"},{viewBox:[200,200],path:"M 40 20 A 100 100 0 1 0 200 100 L 100 100 L 40 20 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 100 100 L 100 0 Z"},{viewBox:[200,200],path:"M 160 20 A 100 100 0 1 0 200 100 L 100 100 L 160 20 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 200 0 L 100 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 0 Q 200 200 0 200 L 0 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 90 L 50 200 L 150 200 L 200 90 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 60 L 0 140 L 100 200 L 200 140 L 200 60 L 100 0 Z"},{viewBox:[200,200],path:"M 60 0 L 140 0 L 200 60 L 200 140 L 140 200 L 60 200 L 0 140 L 0 60 L 60 0 Z"},{viewBox:[200,200],path:"M 75 0 L 125 0 L 175 25 L 200 75 L 200 125 L 175 175 L 125 200 L 75 200 L 25 175 L 0 125 L 0 75 L 25 25 L 75 0 Z"},{viewBox:[200,200],path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 L 0 0 L 150 0 Z"},{viewBox:[200,200],path:"M 50 0 A 25 50 0 1 0 50 200 L 150 200 A 25 50 0 1 0 150 0 L 50 0 Z"},{viewBox:[200,200],path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 A 50 100 0 0 0 0 0 L 150 0 Z"},{viewBox:[200,200],path:"M 200 0 L 200 200 L 0 200 L 0 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 100 L 200 200 L 0 200 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 100 0 L 0 100 L 0 200 L 200 0 Z"},{viewBox:[200,200],path:"M 50 0 L 150 0 L 150 50 L 200 50 L 200 150 L 150 150 L 150 200 L 50 200 L 50 150 L 0 150 L 0 50 L 50 50 L 50 0 Z"},{viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 L 200 140 L 60 140 L 60 0 L 0 0 Z",pathFormula:Jt.L},{viewBox:[200,200],path:"M0 0 L200 0 L200 200 L0 200 L0 0 Z M50 50 L50 150 L150 150 L150 50 Z",pathFormula:Jt.RING_RECT},{viewBox:[200,200],path:"M0 100 A100 100 0 1 1 0 101 Z M150 100 A50 50 0 1 0 150 101 Z"},{viewBox:[200,200],path:"M 70 0 L 70 70 L 0 70 L 0 130 L 70 130 L 70 200 L 130 200 L 130 130 L 200 130 L 200 70 L 130 70 L 130 0 L 70 0 Z",pathFormula:Jt.PLUS},{viewBox:[200,200],path:"M 40 0 L 0 40 L 60 100 L 0 160 L 40 200 L 100 140 L 160 200 L 200 160 L 140 100 L 200 40 L 160 0 L 100 60 L 40 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 0 L 200 160 L 100 160 L 60 200 L 60 160 L 0 160 Z",pathFormula:Jt.MESSAGE},{viewBox:[200,200],path:"M 0 40 Q 0 0 40 0 L 160 0 Q 200 0 200 40 L 200 120 Q 200 160 160 160 L 100 160 L 60 200 L 60 160 L 40 160 Q 0 160 0 120 L 0 40 Z",pathFormula:Jt.ROUND_MESSAGE},{viewBox:[200,200],path:"M 180 160 A 100 100 0 1 0 100 200 L 200 200 L 200 160 L 180 160 Z"},{viewBox:[200,200],path:"M 200 0 L 0 0 L 200 200 L 0 200 L 200 0 Z"},{viewBox:[200,200],path:"M 0 20 C 60 60 140 -40 200 20 L 200 180 C 140 140 60 240 0 180 L 0 20 Z"},{viewBox:[200,200],path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z"},{viewBox:[200,200],path:"M 100 0 Q 0 50 0 175 Q 100 225 200 175 Q 200 50 100 0 Z"},{viewBox:[200,200],path:"M 0 100 A 50 50 0 1 1 200 100 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 100 0 L 60 60 L 0 100 L 60 140 L 100 200 L 140 140 L 200 100 L 140 60 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 80 40 L 20 20 L 40 80 L 0 100 L 40 120 L 20 180 L 80 160 L 100 200 L 120 160 L 180 180 L 160 120 L 200 100 L 160 80 L 180 20 L 120 40 L 100 0 Z"}]},{type:"箭头",children:[{viewBox:[200,200],path:"M 100 0 L 0 100 L 50 100 L 50 200 L 150 200 L 150 100 L 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 200 L 200 100 L 150 100 L 150 0 L 50 0 L 50 100 L 0 100 L 100 200 Z"},{viewBox:[200,200],path:"M 0 100 L 100 0 L 100 50 L 200 50 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 100 0 L 100 50 L 0 50 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:[200,200],path:"M 100 0 L 0 60 L 60 60 L 60 140 L 0 140 L 100 200 L 200 140 L 140 140 L 140 60 L 200 60 L 100 0 Z"},{viewBox:[200,200],path:"M 0 100 L 60 0 L 60 60 L 140 60 L 140 0 L 200 100 L 140 200 L 140 140 L 60 140 L 60 200 L 0 100 Z"},{viewBox:[200,200],path:"M 100 0 L 60 40 L 80 40 L 80 80 L 40 80 L 40 60 L 0 100 L 40 140 L 40 120 L 80 120 L 80 160 L 60 160 L 100 200 L 140 160 L 120 160 L 120 120 L 160 120 L 160 140 L 200 100 L 160 60 L 160 80 L 120 80 L 120 40 L 140 40 L 100 0 Z"},{viewBox:[200,200],path:"M 0 100 L 100 0 L 100 50 L 200 50 L 150 100 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 100 0 L 100 50 L 0 50 L 50 100 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:[200,200],path:"M 0 100 L 80 20 L 80 80 L 120 80 L 120 0 L 200 0 L 200 200 L 120 200 L 120 120 L 80 120 L 80 180 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 120 20 L 120 80 L 80 80 L 80 0 L 0 0 L 0 200 L 80 200 L 80 120 L 120 120 L 120 180 L 200 100 Z"},{viewBox:[200,200],path:"M 0 0 L 120 0 L 200 100 L 120 200 L 0 200 L 80 100 L 0 0 Z"},{viewBox:[200,200],path:"M 80 0 L 200 0 L 120 100 L 200 200 L 80 200 L 0 100 L 80 0 Z"},{viewBox:[200,200],path:"M 0 0 L 140 0 L 200 100 L 140 200 L 0 200 L 0 100 L 0 0 Z"},{viewBox:[200,200],path:"M 60 0 L 200 0 L 200 100 L 200 200 L 60 200 L 0 100 L 60 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 100 L 0 200 L 60 100 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 0 100 L 200 200 L 140 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 0 L 80 0 L 200 100 L 80 200 L 0 200 L 120 100 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 120 0 L 0 100 L 120 200 L 200 200 L 80 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 200 L 180 200 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 160 L 0 160 L 0 200 Z"},{viewBox:[200,200],path:"M 0 200 L 0 20 L 160 20 L 160 0 L 200 40 L 160 80 L 160 60 L 40 60 L 40 200 L 0 200 Z"},{viewBox:[200,200],path:"M 40 180 L 180 180 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 140 L 40 140 L 40 120 L 0 160 L 40 200 L 40 180 Z"},{viewBox:[1024,1024],path:"M398.208 302.912V64L0 482.112l398.208 418.176V655.36c284.48 0 483.584 95.552 625.792 304.64-56.896-298.688-227.584-597.312-625.792-657.088z",special:!0},{viewBox:[1024,1024],path:"M625.792 302.912V64L1024 482.112l-398.208 418.176V655.36C341.312 655.36 142.208 750.912 0 960c56.896-298.688 227.584-597.312 625.792-657.088z",special:!0}]},{type:"其他形状",children:[{viewBox:[1024,1024],path:"M995.336 243.4016c-15.7584-36.5736-38.3376-69.26639999-66.91440001-97.37280001-28.5768-27.98879999-61.73999999-49.8624-98.78399999-65.26799998-38.22-15.876-78.6744-23.8728-120.4224-23.87280001-57.97680001 0-114.5424 15.876-163.69919999 45.864-11.76 7.17360001-22.932 15.05279999-33.51600001 23.63760001-10.584-8.5848-21.75600001-16.46400001-33.51600001-23.63760001-49.1568-29.98799999-105.7224-45.86399999-163.69919999-45.864-41.74799999 0-82.2024 7.9968-120.4224 23.87280001-36.9264 15.28799999-70.2072 37.27919999-98.78399999 65.26799998-28.6944 28.10640001-51.156 60.79919999-66.91440001 97.37280001-16.34639999 37.9848-24.696 78.3216-24.696 119.83439999 0 39.1608 7.9968 79.96800001 23.8728 121.48080001 13.28880001 34.692 32.34000001 70.67760001 56.6832 107.016 38.57279999 57.5064 91.61040001 117.4824 157.4664 178.28160001 109.1328 100.78319999 217.2072 170.4024 221.79359999 173.22479998l27.87120001 17.8752c12.348 7.8792 28.224 7.8792 40.572 0l27.87119999-17.8752c4.58639999-2.94 112.54319999-72.44159999 221.79360001-173.22479998 65.85599999-60.79919999 118.89359999-120.7752 157.4664-178.28160001 24.3432-36.33839999 43.512-72.324 56.68319999-107.016 15.876-41.5128 23.8728-82.32 23.87280001-121.48080001 0.1176-41.5128-8.232-81.8496-24.5784-119.83439999z",special:!0},{viewBox:[1024,1024],path:"M985.20746667 343.50079998l-303.32586667-44.08319999L546.28693333 24.5248c-3.70346666-7.5264-9.79626667-13.6192-17.32266665-17.32266668-18.87573334-9.3184-41.81333333-1.55306667-51.25120001 17.32266668L342.1184 299.41759999l-303.32586667 44.08319999c-8.36266667 1.19466667-16.00853333 5.13706667-21.8624 11.11040001-14.69440001 15.17226667-14.45546667 39.30453334 0.71679999 54.1184l219.46026668 213.9648-51.84853333 302.1312c-1.43359999 8.24320001-0.11946667 16.8448 3.82293333 24.25173333 9.79626667 18.6368 32.9728 25.92426667 51.6096 16.00853334L512 822.44266665l271.3088 142.64320001c7.40693333 3.9424 16.00853333 5.25653333 24.25173333 3.82293333 20.78719999-3.584 34.7648-23.296 31.1808-44.0832l-51.84853333-302.1312 219.46026668-213.9648c5.97333334-5.85386666 9.91573333-13.49973334 11.11039999-21.8624 3.2256-20.90666667-11.34933333-40.26026667-32.256-43.36640001z",special:!0},{viewBox:[1024,1024],path:"M852.65066667 405.84533333C800.54044445 268.40177778 667.76177778 170.66666667 512.22755555 170.66666667S223.91466667 268.288 171.80444445 405.73155555C74.29688889 431.33155555 2.27555555 520.07822222 2.27555555 625.77777778c0 125.72444445 101.83111111 227.55555555 227.44177778 227.55555555h564.56533334C919.89333333 853.33333333 1021.72444445 751.50222222 1021.72444445 625.77777778c0-105.472-71.79377778-194.21866667-169.07377778-219.93244445z",special:!0},{viewBox:[1024,1024],path:"M926.25224691 323.7371485H654.6457886L898.88200917 15.14388241c5.05486373-6.53433603 0.49315743-16.02761669-7.76722963-16.02761668H418.30008701c-3.45210206 0-6.78091476 1.84934039-8.50696579 4.93157436L90.35039154 555.76772251c-3.82197013 6.53433603 0.86302552 14.7947231 8.50696578 14.79472311h215.01664245l-110.22068713 440.88274851c-2.34249783 9.61657002 9.24670194 16.39748478 16.39748477 9.49328065L933.03316167 340.62779071c6.41104668-6.0411786 2.09591911-16.8906422-6.78091476-16.89064221z",special:!0},{viewBox:[1024,1024],path:"M878.47822222 463.30311111c-22.18666667-49.83466667-53.93066667-93.98044445-94.32177777-131.072l-33.10933334-30.37866666c-4.89244445-4.32355555-12.62933333-2.38933333-14.79111111 3.75466666l-14.79111111 42.43911111c-9.216 26.624-26.16888889 53.81688889-50.176 80.55466667-1.59288889 1.70666667-3.41333333 2.16177778-4.66488889 2.27555556-1.25155555 0.11377778-3.18577778-0.11377778-4.89244445-1.70666667-1.59288889-1.36533333-2.38933333-3.41333333-2.27555555-5.46133333 4.20977778-68.49422222-16.27022222-145.74933333-61.09866667-229.83111112C561.26577778 124.01777778 509.72444445 69.51822222 445.32622222 31.51644445l-46.99022222-27.648c-6.144-3.64088889-13.99466667 1.13777778-13.65333333 8.30577777l2.50311111 54.61333333c1.70666667 37.31911111-2.61688889 70.31466667-12.85688889 97.73511112-12.51555555 33.56444445-30.49244445 64.73955555-53.47555556 92.72888888-16.15644445 19.56977778-34.24711111 37.20533333-54.04444444 52.45155556-47.90044445 36.75022222-87.38133333 84.65066667-114.11911111 138.24C125.72444445 502.10133333 111.50222222 562.74488889 111.50222222 623.50222222c0 53.70311111 10.58133333 105.69955555 31.51644445 154.73777778 20.25244445 47.21777778 49.152 89.77066667 85.90222222 126.17955555 36.864 36.40888889 79.64444445 65.08088889 127.31733333 84.992C405.61777778 1010.11911111 457.95555555 1020.58666667 512 1020.58666667s106.38222222-10.46755555 155.76177778-31.06133334c47.67288889-19.91111111 90.56711111-48.46933333 127.31733333-84.992 36.864-36.40888889 65.76355555-78.96177778 85.90222222-126.17955555 20.93511111-49.03822222 31.51644445-101.03466667 31.51644445-154.73777778 0-55.52355555-11.37777778-109.45422222-34.01955556-160.31288889z",special:!0},{viewBox:[1024,1024],path:"M968.20337778 20.11591112H705.44042667c-22.17301333 0-41.92483556 15.16430222-47.14951111 37.33731555C642.36202666 124.73685332 582.08711111 173.03324444 512 173.03324444s-130.36202666-48.29639112-146.29091556-115.58001777c-5.22467555-22.17301333-24.84906667-37.33731556-47.14951111-37.33731555H55.79662222c-30.96576 0-56.06968889 25.10392889-56.06968888 56.06968888v321.12639999c0 30.96576 25.10392889 56.06968889 56.06968888 56.06968889h95.57333334v494.43271112c0 30.96576 25.10392889 56.06968889 56.06968889 56.06968888h609.1207111c30.96576 0 56.06968889-25.10392889 56.06968889-56.06968888V453.38168888h95.57333334c30.96576 0 56.06968889-25.10392889 56.06968888-56.06968889V76.1856c0-30.96576-25.10392889-56.06968889-56.06968888-56.06968888z",special:!0},{viewBox:[1024,1024],path:"M980.94648889 239.80714666H523.46880001L373.99210666 96.82944c-1.91146667-1.78403556-4.46008889-2.80348444-7.00871111-2.80348445H43.05351111c-22.55530667 0-40.77795555 18.22264888-40.77795555 40.77795557v754.39217776c0 22.55530667 18.22264888 40.77795555 40.77795555 40.77795557h937.89297778c22.55530667 0 40.77795555-18.22264888 40.77795555-40.77795557V280.58510222c0-22.55530667-18.22264888-40.77795555-40.77795555-40.77795556z",special:!0},{viewBox:[1024,1024],path:"M972.60904597 164.57058577L841.30587843 33.39070759c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480282-29.3428675-26.75379095 0-51.90482023 10.47959553-70.76809219 29.3428675L558.60337778 174.68031322c-18.86327195 18.86327195-29.34286748 44.1375906-29.34286749 70.64480283 0 26.75379095 10.47959553 51.90482023 29.34286749 70.76809218l103.31648301 103.31648302c-24.28800376 53.50758189-57.69942011 101.59043198-99.24793416 143.13894603-41.42522469 41.67180341-89.63136414 75.08321976-143.13894603 99.61780223L316.21649759 558.84995649c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480283-29.34286747-26.75379095 0-51.90482023 10.47959553-70.76809217 29.34286747L33.39070759 700.01627278c-18.86327195 18.86327195-29.34286748 44.1375906-29.3428675 70.76809217 0 26.75379095 10.47959553 51.90482023 29.3428675 70.76809219l131.05658883 131.05658883c30.08260365 30.205893 71.63111769 47.34311394 114.28923598 47.34311394 9.00012323 0 17.63037836-0.73973616 26.13734414-2.21920846 166.19405621-27.37023774 331.03192945-115.76870829 464.06114804-248.67463751C901.84095379 636.27567408 990.11613498 471.56109018 1017.85624079 304.87387654c8.38367642-50.91850535-8.50696579-103.31648302-45.24719482-140.30329077z",special:!0},{viewBox:[1024,1024],path:"M910.60451556 640.96028445c-20.38897778-65.49959112-43.83630221-120.54983112-79.89930667-210.64362666C836.31217778 193.67708444 737.93535999 2.27555556 511.36284444 2.27555556 282.24170667 2.27555556 186.03121778 197.50001778 192.14791111 430.31665779c-36.19043555 90.22122667-59.51032888 144.88917333-79.89930667 210.64362666-43.32657778 139.53706668-29.30915556 197.26336001-18.60494222 198.53767111 22.9376 2.80348444 89.32920888-105.00323556 89.32920889-105.00323556 0 62.44124445 32.11264001 143.86972444 101.69002667 202.61546667-33.64181333 10.32192-109.20846222 38.10190221-91.24067556 68.55793777 14.52714667 24.59420444 250.01984 15.67402668 317.94062222 8.02816 67.92078222 7.64586667 303.41347556 16.56604444 317.94062223-8.02816 17.96778667-30.32860444-57.72629333-58.23601779-91.24067555-68.55793777 69.57738667-58.87317334 101.69002667-140.30165333 101.69002667-202.61546667 0 0 66.39160889 107.80672 89.32920888 105.00323556 10.83164445-1.40174222 24.84906667-59.12803556-18.47751111-198.53767111z",special:!0},{viewBox:[1024,1024],path:"M1016.86992592 199.24764445c-37.13706667 16.01991111-77.55093333 27.54939259-119.17842962 32.03982222 42.96248889-25.60758518 75.60912592-66.02145185 91.02222222-114.08118519-39.68568889 23.66577778-84.58998518 41.02068148-131.31472593 50.00154074C819.53374815 126.79395555 765.76995555 101.79318518 706.18074075 101.79318518c-114.688 0-206.92385185 92.96402963-206.92385186 207.04521482 0 16.01991111 1.94180741 32.03982222 5.09724444 47.45291852-171.72859259-8.98085925-324.88865185-91.02222222-426.71217778-216.63288889-17.96171852 30.82619259-28.15620741 66.02145185-28.1562074 104.49351112 0 71.84687408 36.53025185 135.19834075 92.23585185 172.45677036-33.98162963-1.33499259-66.02145185-10.92266667-93.57084445-26.33576296v2.54862222c0 100.6098963 71.1186963 183.98625185 165.90317037 203.1616-17.3549037 4.49042963-35.92343703 7.03905185-54.49197037 7.03905185-13.47128889 0-26.2144-1.33499259-39.07887407-3.15543704C146.69748148 681.90814815 223.03478518 741.49736297 313.93564445 743.43917037c-71.1186963 55.7056-160.19911111 88.4736-256.9253926 88.4736-17.3549037 0-33.37481482-0.60681482-50.00154074-2.54862222C98.75911111 888.22518518 207.62168889 922.20681482 324.85831111 922.20681482 705.45256297 922.20681482 913.71140741 606.90583703 913.71140741 333.23235555c0-8.98085925 0-17.96171852-0.60681482-26.94257777 40.2925037-29.4912 75.60912592-66.02145185 103.76533333-107.04213333z",special:!0},{viewBox:[1024,1024],path:"M917.96720197 1.08889505H106.03279803C53.56084718 1.08889505 9.37393998 45.27580225 9.37393998 97.74775309v5.52336372c0 19.33177108 8.28504494 41.42522469 22.0934536 55.23363205l331.40179753 392.15879462v325.87843379c0 16.57008987 8.28504494 30.37849854 22.09345359 35.90186098l209.88780469 104.94390299 2.76168121 2.76168121c27.61681602 11.04672615 55.23363335-8.28504494 55.23363335-38.66354218V550.66354348l331.40179753-392.15879462c35.90186097-41.42522469 30.37849854-102.18222047-11.04672616-135.32240022-11.04672615-13.80840865-33.14017975-22.0934536-55.23363335-22.09345359z",special:!0},{viewBox:[1024,1024],path:"M491.70164031 97.48884502a25.89076502 25.89076502 0 0 1 40.59671938 0L745.66415762 367.01171317a25.89076502 25.89076502 0 0 0 30.49932208 7.72839349l208.00640948-89.14190458a25.89076502 25.89076502 0 0 1 35.56096592 29.06238339l-115.18801541 554.96855704A103.56306132 103.56306132 0 0 1 803.14165689 952.14301275H220.85834311a103.56306132 103.56306132 0 0 1-101.4011828-82.51387024l-115.18801541-554.96855704a25.89076502 25.89076502 0 0 1 35.54802012-29.06238339l208.01935528 89.14190458a25.89076502 25.89076502 0 0 0 30.49932208-7.72839349l213.36579793-269.52286815z",special:!0},{viewBox:[1024,1024],path:"M643.02466884 387.7801525c19.85376751-88.69205333 33.718272-152.84087467 41.61900049-192.57389433C704.52292267 95.17283515 652.90057916 2.27555515 550.58614084 2.27555515c-92.26012484 0-138.59407685 45.84971417-165.91530666 137.49816969l-0.70087152 2.67605334c-16.40038399 74.13942085-41.47882668 131.61085116-74.6746315 172.73287031a189.06953915 189.06953915 0 0 1-143.04142182 70.44391902l-26.17434983 0.5606965C77.66380049 387.52529067 27.76177817 438.90551468 27.76177817 501.84374084V881.55022182c0 77.4144 62.25009818 140.17422182 139.05282766 140.17422303h492.82707951c101.23127467 0 191.59267516-63.995904 225.93535999-159.98976l102.37815468-286.22301868c26.04691951-72.82688-11.39234134-153.15945284-83.63303784-179.42300483a138.04612267 138.04612267 0 0 0-47.17499733-8.30850884H643.02466884z",special:!0},{viewBox:[1024,1024],path:"M512 512c140.82958222 0 254.86222222-114.03264 254.86222222-254.86222222S652.82958222 2.27555555 512 2.27555555a254.78940445 254.78940445 0 0 0-254.86222222 254.86222223C257.13777778 397.96736 371.17041778 512 512 512z m0 72.81777778c-170.10232889 0-509.72444445 97.57582222-509.72444445 291.27111111v145.63555556h1019.4488889v-145.63555556c0-193.69528889-339.62211555-291.27111111-509.72444445-291.27111111z",special:!0},{viewBox:[1024,1024],path:"M1019.81297778 564.50161779l-138.89991111-472.51456c-8.66531556-25.99594668-29.43658667-43.45400889-57.21656889-43.45400891s-50.33528889 15.67402668-59.00060446 41.66997334l-92.00526221 274.48661334H351.69166222L259.6864 90.33045333c-8.66531556-25.99594668-31.22062222-41.66997333-59.00060444-41.66997332s-50.33528889 17.33063112-57.2165689 43.45400887L4.69674667 564.50161779c-5.22467555 17.33063112 1.78403556 36.44529778 15.67402667 46.89464887l491.11950221 368.27591113 492.77610666-368.27591113c13.76256-10.32192 20.77127111-29.43658667 15.54659557-46.89464887z",special:!0},{viewBox:[1024,1024],path:"M927.78951111 340.39277037c-12.01493333-47.81700741 12.01493333-124.03294815 89.08041481-150.97552592l-82.40545184-4.36906667s-31.19028148-109.22666667-174.27721483-118.9357037c-143.08693333-9.8304-236.65777778-3.64088889-236.65777777-3.6408889s106.07122963 67.47780741 63.5941926 187.74850371c-31.06891852 63.71555555-79.85682963 116.02299259-132.04290371 175.61220741-1.57771852 1.57771852-3.03407408 3.15543703-4.2477037 4.49042962C278.25493333 624.86755555 7.13007408 934.34311111 7.13007408 934.34311111c298.43152592 78.15774815 498.43768889-7.64586667 616.76657777-110.56165926 24.87940741-0.24272592 43.5693037-0.36408889 56.19105185-0.36408888 164.8109037 0 304.13558518-142.72284445 298.43152593-301.4656-3.88361482-109.1053037-38.71478518-133.74198518-50.72971852-181.5589926z",special:!0},{viewBox:[1024,1024],path:"M997.8886764 504.17210418L537.2729208 43.89182982c-13.97838539-13.97838539-36.56745619-13.97838539-50.5458416 0L26.1113236 504.17210418c-13.41924998 13.41924998-21.02349164 31.64706454-21.02349163 50.65766867 0 39.47496036 32.09437288 71.56933323 71.56933324 71.56933323h48.53295408V954.83524937c0 19.79339373 15.99127289 35.78466661 35.78466663 35.78466662H440.43066677V740.12724968h125.24633315v250.49266631h297.34821416c19.79339373 0 35.78466661-15.99127289 35.78466663-35.78466662V626.39910608h48.53295408c19.01060414 0 37.23841869-7.49241457 50.65766869-21.02349163 27.84494371-27.95677079 27.84494371-73.24673948-0.11182708-101.20351027z",special:!0},{viewBox:[1024,1024],path:"M1009.13013121 349.27572283L674.72427717 14.86986879c-8.82158299-8.82158299-20.35749924-13.16451618-31.89341544-13.16451618s-23.07183245 4.34293316-31.89341547 13.16451618L392.29790453 233.6451272c-16.5574327-1.90003326-33.25058207-2.71433322-49.94373146-2.71433324-99.34459624 0-198.68919249 32.70771543-280.25490606 98.12314628-20.90036589 16.69314938-22.52896582 48.04369819-3.66434987 67.04403081l246.59717401 246.59717401-292.33368895 292.06225564c-3.52863319 3.52863319-5.83581644 8.27871636-6.24296642 13.30023282l-4.61436649 50.48659809c-1.22144996 12.75736619 8.95729967 23.6146991 21.57894918 23.6146991 0.6785833 0 1.35716662 0 2.03574992-0.13571666l50.48659809-4.61436649c5.02151649-0.40714999 9.77159962-2.71433322 13.30023282-6.24296643l292.33368896-292.33368896 246.59717402 246.59717401c8.82158299 8.82158299 20.35749924 13.16451618 31.89341544 13.16451618 13.16451618 0 26.19331567-5.70009979 35.15061536-16.82886604 76.40848044-95.40881307 108.16617924-214.83947521 95.27309638-330.33435417l218.63954175-218.63954173c17.50744934-17.37173267 17.50744934-45.8722316 0-63.51539759z",special:!0},{viewBox:[1024,1024],path:"M976.62005979 160.47737905c-0.39452595-0.39452595-80.35178503 78.64217259-239.47725131 237.50462156l-111.6508437-111.65084369 237.89914752-237.89914752c-125.19623464-75.35445635-286.03131335-56.02268482-390.31767264 48.26367449-81.92988882 81.92988882-112.57140424 200.15616502-83.37648398 310.09739626l2.36715569 8.81107954-372.82702222 372.69551356c-8.15353628 8.15353628-8.15353628 21.56741857 0 29.72095487l185.95323084 185.95323084c8.15353628 8.15353628 21.56741857 8.15353628 29.72095485 0l372.56400493-372.56400493 8.81107953 2.3671557c110.07273989 29.32642892 228.29901608-1.18357785 310.36041356-83.24497533 104.41786795-104.2863593 123.74963948-265.12143802 49.97328693-390.05465535z",special:!0}]},{type:"线性",children:[{viewBox:[1024,1024],path:"M953.5488 832.61667556c-24.08448-57.08913778-58.74574221-108.31644445-102.70947556-152.28017777-43.96373333-43.96373333-95.19104-78.49756444-152.28017777-102.70947558-0.50972445-0.25486222-1.01944888-0.38229333-1.52917334-0.63715555C776.41955556 519.64586667 828.02915556 426.23886221 828.02915556 320.85333332c0-174.58062221-141.44853334-316.02915556-316.02915556-316.02915554S195.97084444 146.27271111 195.97084444 320.85333332c0 105.38552889 51.6096 198.79253333 130.99918223 256.26396447-0.50972445 0.25486222-1.01944888 0.38229333-1.52917334 0.63715555-57.08913778 24.08448-108.31644445 58.61831112-152.28017777 102.70947554-43.96373333 43.96373333-78.49756444 95.19104-102.70947556 152.28017779C46.74901333 888.55893332 34.13333334 947.8144 32.85902222 1008.72647111c-0.12743111 5.7344 4.46008889 10.44935111 10.19448889 10.44935111h76.45866667c5.60696888 0 10.06705778-4.46008889 10.19448889-9.93962666 2.54862221-98.37681778 42.05226667-190.50951112 111.88451555-260.34176001 72.25344-72.25344 168.20906666-112.01194667 270.40881778-112.01194667s198.15537778 39.75850667 270.40881778 112.01194667C852.24106667 818.72668444 891.74471111 910.85937779 894.29333333 1009.23619556c0.12743111 5.60696888 4.58752 9.93962667 10.19448889 9.93962666h76.45866667c5.7344 0 10.32192-4.71495112 10.19448889-10.44935111-1.27431111-60.91207112-13.88999112-120.16753779-37.59217778-176.10979555zM512 540.03484444c-58.49088 0-113.54112-22.81016889-154.95623111-64.22527999S292.81848888 379.34421333 292.81848888 320.85333332c0-58.49088 22.81016889-113.54112 64.22528001-154.9562311S453.50912 101.67182221 512 101.67182221s113.54112 22.81016889 154.95623111 64.22528001S731.18151112 262.36245333 731.18151112 320.85333332c0 58.49088-22.81016889 113.54112-64.22528001 154.95623113S570.49088 540.03484444 512 540.03484444z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M985.31555555 111.50222222H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888889v728.17777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h946.6311111c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V147.91111111c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888889z m-45.5111111 126.06577778V830.57777778H84.19555555V237.568l-31.40266666-24.46222222 44.71466666-57.45777778 48.6968889 37.888h731.70488888l48.69688889-37.888 44.71466667 57.45777778-31.51644444 24.46222222z M877.90933333 193.42222222L512 477.86666667 146.09066667 193.42222222l-48.69688889-37.888-44.71466667 57.45777778 31.40266667 24.46222222 388.66488889 302.19377778c22.98311111 17.86311111 55.18222222 17.86311111 78.16533333 0L939.80444445 237.568l31.40266666-24.46222222-44.71466666-57.45777778-48.58311112 37.77422222z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M985.31555555 88.74666667H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888888v564.33777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h432.35555555v127.43111111H275.34222222c-10.01244445 0-18.20444445 8.192-18.20444444 18.20444445v54.61333333c0 5.00622222 4.096 9.10222222 9.10222222 9.10222222h491.52c5.00622222 0 9.10222222-4.096 9.10222222-9.10222222v-54.61333333c0-10.01244445-8.192-18.20444445-18.20444444-18.20444445H552.96V725.90222222h432.35555555c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V125.15555555c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888888z m-45.5111111 555.23555555H84.19555555V170.66666667h855.6088889v473.31555555z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m0 932.97777778c-233.69955555 0-423.25333333-189.55377778-423.25333333-423.25333333 0-101.26222222 35.61244445-194.33244445 95.00444444-267.15022222l595.39911111 595.39911111C706.33244445 899.64088889 613.26222222 935.25333333 512 935.25333333z m328.24888889-156.10311111L244.84977778 183.75111111C317.66755555 124.35911111 410.73777778 88.74666667 512 88.74666667c233.69955555 0 423.25333333 189.55377778 423.25333333 423.25333333 0 101.26222222-35.61244445 194.33244445-95.00444444 267.15022222z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M901.80266667 257.82044445L656.95288889 12.97066667c-6.82666667-6.82666667-16.04266667-10.69511111-25.71377778-10.69511112H147.91111111c-20.13866667 0-36.40888889 16.27022222-36.40888889 36.4088889v946.6311111c0 20.13866667 16.27022222 36.40888889 36.40888889 36.4088889h728.17777778c20.13866667 0 36.40888889-16.27022222 36.40888889-36.4088889V283.648c0-9.67111111-3.86844445-19.00088889-10.69511111-25.82755555zM828.52977778 300.37333333H614.4V86.24355555L828.52977778 300.37333333z m2.048 639.43111112H193.42222222V84.19555555h343.60888889v245.76c0 26.39644445 21.39022222 47.78666667 47.78666667 47.78666667h245.76v562.06222223z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M981.07392 55.79662222H42.92608c-31.22062222 0-50.71758221 34.02410666-35.04355556 61.16693334L304.28728889 620.82616888V927.42542221c0 22.55530667 18.09521779 40.77795555 40.52309333 40.77795557h334.37923556c22.42787556 0 40.52309333-18.22264888 40.52309333-40.77795557V620.82616888L1016.24490667 116.96355556c15.54659555-27.14282666-3.95036444-61.16693333-35.17098667-61.16693334zM628.47203556 876.45297779H395.52796444V677.66044445h233.07150222v198.79253334z m12.23338666-301.50200891l-12.10595556 21.15356445h-233.19893332l-12.10595556-21.15356445L130.59868445 147.54702221h762.8026311L640.70542222 574.95096888z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M980.62285431 4.54099753H654.39920987c-4.2719763 0-7.76722963 3.49525333-7.76722962 7.76722964v72.4941432c0 4.2719763 3.49525333 7.76722963 7.76722962 7.76722963h207.64393877L604.04167111 350.57107753c-64.72691358-49.83972347-143.69374815-76.7661195-226.67365136-76.7661195-99.54999309 0-193.27456395 38.83614815-263.5679921 109.25903012S4.54099753 547.08198717 4.54099753 646.63198025s38.83614815 193.27456395 109.25903012 263.5679921C184.09345581 980.62285431 277.81802667 1019.45900247 377.36801975 1019.45900247s193.27456395-38.83614815 263.5679921-109.25903012C711.35889383 839.90654419 750.19504197 746.18197333 750.19504197 646.63198025c0-82.9799032-26.92639605-161.68783013-76.63666567-226.41474372L931.4304 162.34521283V369.60079013c0 4.2719763 3.49525333 7.76722963 7.76722963 7.76722962h72.4941432c4.2719763 0 7.76722963-3.49525333 7.76722964-7.76722962V43.37714569c0-21.35988148-17.47626667-38.83614815-38.83614816-38.83614816zM377.36801975 921.07409383c-151.33152395 0-274.44211358-123.11058963-274.44211358-274.44211358s123.11058963-274.44211358 274.44211358-274.44211358 274.44211358 123.11058963 274.44211358 274.44211358-123.11058963 274.44211358-274.44211358 274.44211358z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M591.98717801 512l405.34042913-483.16579151c6.79427767-8.02960089 1.08090782-20.22841761-9.41933951-20.2284176h-123.22349044c-7.25752386 0-14.20621693 3.24272343-18.99309439 8.80167789L511.38233839 415.95362022 177.07299399 17.40746878c-4.63246205-5.55895447-11.58115512-8.80167789-18.99309439-8.80167789H34.85640916c-10.50024731 0-16.21361717 12.19881672-9.41933952 20.2284176L430.77749876 512 25.43706964 995.16579151c-6.79427767 8.02960089-1.08090782 20.22841761 9.41933952 20.2284176h123.22349044c7.25752386 0 14.20621693-3.24272343 18.99309439-8.80167789l334.3093444-398.54615144 334.30934441 398.54615144c4.63246205 5.55895447 11.58115512 8.80167789 18.99309439 8.80167789h123.22349044c10.50024731 0 16.21361717-12.19881672 9.41933951-20.2284176L591.98717801 512z",special:!0,outlined:!0}]}],tl={bar:"bar",horizontalBar:"bar",line:"line",area:"line",scatter:"line",pie:"pie",ring:"pie"};var ll=l("0a20"),ol=()=>{const e=Object(n["c"])(),t=Object(n["e"])(),{creatingElement:l}=Object(a["c"])(e),{theme:o,viewportRatio:c}=Object(a["c"])(t),{addHistorySnapshot:r}=Object(ll["a"])(),i=(o,c)=>{t.addElement(o),e.setActiveElementIdList([o.id]),l.value&&e.setCreatingElement(null),setTimeout(()=>{e.setEditorareaFocus(!0)},0),c&&c(),r()},s=e=>{Xt(e).then(({width:t,height:l})=>{const o=l/t;o<c.value&&t>Wt?(t=Wt,l=t*o):l>Wt*c.value&&(l=Wt*c.value,t=l/o),i({type:"image",id:Object(qt["b"])(10),src:e,width:t,height:l,left:(Wt-t)/2,top:(Wt*c.value-l)/2,fixedRatio:!0,rotate:0})})},d=e=>{const t={type:"chart",id:Object(qt["b"])(10),chartType:tl[e],left:300,top:81.25,width:400,height:400,rotate:0,themeColor:[o.value.themeColor],gridColor:o.value.fontColor,data:{labels:["类别1","类别2","类别3","类别4","类别5"],legends:["系列1"],series:[[12,19,5,2,18]]}};let l={};"horizontalBar"===e?l={horizontalBars:!0}:"area"===e?l={showArea:!0}:"scatter"===e?l={showLine:!1}:"ring"===e&&(l={donut:!0}),i({...t,options:l})},u=(e,t)=>{const l={fontname:o.value.fontName,color:o.value.fontColor},n=[];for(let o=0;o<e;o++){const e=[];for(let o=0;o<t;o++)e.push({id:Object(qt["b"])(10),colspan:1,rowspan:1,text:"",style:l});n.push(e)}const a=100,r=36,s=new Array(t).fill(1/t),d=t*a,u=e*r;i({type:"table",id:Object(qt["b"])(10),width:d,height:u,colWidths:s,rotate:0,data:n,left:(Wt-d)/2,top:(Wt*c.value-u)/2,outline:{width:2,style:"solid",color:"#eeece1"},theme:{color:o.value.themeColor,rowHeader:!0,rowFooter:!1,colHeader:!1,colFooter:!1}})},b=(e,t="")=>{const{left:l,top:c,width:n,height:a}=e,r=Object(qt["b"])(10);i({type:"text",id:r,left:l,top:c,width:n,height:a,content:t,rotate:0,defaultFontName:o.value.fontName,defaultColor:o.value.fontColor},()=>{setTimeout(()=>{const e=document.querySelector(`#editable-element-${r} .ProseMirror`);e&&e.focus()},0)})},m=(e,t)=>{const{left:l,top:c,width:n,height:a}=e,r={type:"shape",id:Object(qt["b"])(10),left:l,top:c,width:n,height:a,viewBox:t.viewBox,path:t.path,fill:o.value.themeColor,fixedRatio:!1,rotate:0};if(t.special&&(r.special=!0),t.pathFormula){r.pathFormula=t.pathFormula,r.viewBox=[n,a];const e=Kt[t.pathFormula];"editable"in e?(r.path=e.formula(n,a,e.defaultValue),r.keypoint=e.defaultValue):r.path=e.formula(n,a)}i(r)},p=(e,t)=>{const{left:l,top:c,start:n,end:a}=e,r={type:"line",id:Object(qt["b"])(10),left:l,top:c,start:n,end:a,points:t.points,color:o.value.themeColor,style:t.style,width:2};t.isBroken&&(r.broken=[(n[0]+a[0])/2,(n[1]+a[1])/2]),t.isCurve&&(r.curve=[(n[0]+a[0])/2,(n[1]+a[1])/2]),t.isCubic&&(r.cubic=[[(n[0]+a[0])/2,(n[1]+a[1])/2],[(n[0]+a[0])/2,(n[1]+a[1])/2]]),i(r)},O=e=>{i({type:"latex",id:Object(qt["b"])(10),width:e.w,height:e.h,rotate:0,left:(Wt-e.w)/2,top:(Wt*c.value-e.h)/2,path:e.path,latex:e.latex,color:o.value.fontColor,strokeWidth:2,viewBox:[e.w,e.h],fixedRatio:!0})},j=e=>{i({type:"video",id:Object(qt["b"])(10),width:500,height:300,rotate:0,left:(Wt-500)/2,top:(Wt*c.value-300)/2,src:e})},f=e=>{i({type:"audio",id:Object(qt["b"])(10),width:50,height:50,rotate:0,left:(Wt-50)/2,top:(Wt*c.value-50)/2,loop:!1,autoplay:!1,fixedRatio:!0,color:o.value.themeColor,src:e})};return{createImageElement:s,createChartElement:d,createTableElement:u,createTextElement:b,createShapeElement:m,createLineElement:p,createLatexElement:O,createVideoElement:j,createAudioElement:f}},cl=l("5d81"),nl=()=>{const{createTextElement:e}=ol(),{addElementsFromData:t,addSlidesFromData:l}=Object(cl["a"])(),o=t=>{e({left:0,top:0,width:600,height:50},t)},c=(e,c)=>{const n=(null===c||void 0===c?void 0:c.onlySlide)||!1,a=(null===c||void 0===c?void 0:c.onlyElements)||!1,r=qe(e);if("object"===typeof r){const{type:e,data:o}=r;"elements"!==e||n?"slides"!==e||a||l(o):t(o)}else if(!a&&!n){const e=Yt(r);o(e)}};return{pasteTextClipboardData:c}},al=()=>{const e=Object(n["c"])(),t=Object(n["e"])(),{selectedSlidesIndex:l,activeElementIdList:o}=Object(a["c"])(e),{currentSlide:c,slides:r,theme:s,slideIndex:d}=Object(a["c"])(t),u=Object(i["computed"])(()=>[...l.value,d.value]),b=Object(i["computed"])(()=>r.value.filter((e,t)=>u.value.includes(t))),m=Object(i["computed"])(()=>b.value.map(e=>e.id)),{pasteTextClipboardData:p}=nl(),{addSlidesFromData:O}=Object(cl["a"])(),{addHistorySnapshot:j}=Object(ll["a"])(),f=()=>{const l={id:Object(qt["b"])(10),elements:[],background:{type:"solid",color:s.value.backgroundColor}};t.updateSlideIndex(0),e.setActiveElementIdList([]),t.setSlides([l])},v=l=>{l===Ht.UP&&d.value>0?(o.value.length&&e.setActiveElementIdList([]),t.updateSlideIndex(d.value-1)):l===Ht.DOWN&&d.value<r.value.length-1&&(o.value.length&&e.setActiveElementIdList([]),t.updateSlideIndex(d.value+1))},h=()=>{const t=Object(Pe["b"])(JSON.stringify({type:"slides",data:b.value}));He(t).then(()=>{e.setThumbnailsFocus(!0)})},y=()=>{Ue().then(e=>{p(e,{onlySlide:!0})}).catch(e=>De["a"].warning(e))},g=()=>{const l={id:Object(qt["b"])(10),elements:[],background:{type:"solid",color:s.value.backgroundColor}};e.setActiveElementIdList([]),t.addSlide(l),j()},x=l=>{const{groupIdMap:o,elIdMap:c}=Object(Gt["a"])(l.elements);for(const e of l.elements)e.id=c[e.id],e.groupId&&(e.groupId=o[e.groupId]);const n={...l,id:Object(qt["b"])(10)};e.setActiveElementIdList([]),t.addSlide(n),j()},k=()=>{const e=JSON.parse(JSON.stringify(c.value));O([e])},C=(l=m.value)=>{r.value.length===l.length?f():t.deleteSlide(l),e.updateSelectedSlidesIndex([]),j()},N=()=>{const e=[...m.value];h(),C(e)},E=()=>{const t=Array.from(Array(r.value.length),(e,t)=>t);e.setActiveElementIdList([]),e.updateSelectedSlidesIndex(t)};return{resetSlides:f,updateSlideIndex:v,copySlide:h,pasteSlide:y,createSlide:g,createSlideByTemplate:x,copyAndPasteSlide:k,deleteSlide:C,cutSlide:N,selectAllSlide:E}},rl=()=>{const e=Object(n["c"])(),t=Object(n["e"])(),{activeElementIdList:l}=Object(a["c"])(e),{currentSlide:o}=Object(a["c"])(t),{addHistorySnapshot:c}=Object(ll["a"])(),r=()=>{const n=JSON.parse(JSON.stringify(o.value.elements));for(const e of n)l.value.includes(e.id)&&(e.lock=!0);t.updateSlide({elements:n}),e.setActiveElementIdList([]),c()},i=l=>{const n=JSON.parse(JSON.stringify(o.value.elements));if(l.groupId){const o=[];for(const e of n)e.groupId===l.groupId&&(e.lock=!1,o.push(e.id));t.updateSlide({elements:n}),e.setActiveElementIdList(o)}else{for(const e of n)if(e.id===l.id){e.lock=!1;break}t.updateSlide({elements:n}),e.setActiveElementIdList([l.id])}c()};return{lockElement:r,unlockElement:i}},il=()=>{const e=Object(n["c"])(),t=Object(n["e"])(),{activeElementIdList:l,activeGroupElementId:o}=Object(a["c"])(e),{currentSlide:c}=Object(a["c"])(t),{addHistorySnapshot:r}=Object(ll["a"])(),i=()=>{if(!l.value.length)return;let n=[];n=o.value?c.value.elements.filter(e=>e.id!==o.value):c.value.elements.filter(e=>!l.value.includes(e.id)),e.setActiveElementIdList([]),t.updateSlide({elements:n}),r()},s=()=>{c.value.elements.length&&(e.setActiveElementIdList([]),t.updateSlide({elements:[]}),r())};return{deleteElement:i,deleteAllElements:s}},sl=()=>{const e=Object(n["c"])(),t=Object(n["e"])(),{activeElementIdList:l,activeElementList:o,handleElementId:c}=Object(a["c"])(e),{currentSlide:r}=Object(a["c"])(t),{addHistorySnapshot:s}=Object(ll["a"])(),d=Object(i["computed"])(()=>{if(o.value.length<2)return!1;const e=o.value[0].groupId;if(!e)return!0;const t=o.value.every(t=>(t.groupId&&t.groupId)===e);return!t}),u=()=>{if(!o.value.length)return;let e=JSON.parse(JSON.stringify(r.value.elements));const c=Object(qt["b"])(10),n=[];for(const t of e)l.value.includes(t.id)&&(t.groupId=c,n.push(t));const a=e.findIndex(e=>e.id===n[n.length-1].id),i=n.map(e=>e.id);e=e.filter(e=>!i.includes(e.id));const d=a-n.length+1;e.splice(d,0,...n),t.updateSlide({elements:e}),s()},b=()=>{if(!o.value.length)return;const n=o.value.some(e=>e.groupId);if(!n)return;const a=JSON.parse(JSON.stringify(r.value.elements));for(const e of a)l.value.includes(e.id)&&e.groupId&&delete e.groupId;t.updateSlide({elements:a});const i=c.value?[c.value]:[];e.setActiveElementIdList(i),s()};return{canCombine:d,combineElements:u,uncombineElements:b}},dl=()=>{const e=Object(n["c"])(),{activeElementIdList:t,activeElementList:l}=Object(a["c"])(e),{pasteTextClipboardData:o}=nl(),{deleteElement:c}=il(),r=()=>{if(!t.value.length)return;const o=Object(Pe["b"])(JSON.stringify({type:"elements",data:l.value}));He(o).then(()=>{e.setEditorareaFocus(!0)})},i=()=>{r(),c()},s=()=>{Ue().then(e=>{o(e)}).catch(e=>De["a"].warning(e))},d=()=>{r(),s()};return{copyElement:r,cutElement:i,pasteElement:s,quickCopyElement:d}},ul=()=>{const e=Object(n["c"])(),{currentSlide:t}=Object(a["c"])(Object(n["e"])()),l=()=>{const l=t.value.elements.filter(e=>!e.lock),o=l.map(e=>e.id);e.setActiveElementIdList(o)};return{selectAllElement:l}},bl=()=>{const e=Object(n["e"])(),{activeElementIdList:t,activeGroupElementId:l}=Object(a["c"])(Object(n["c"])()),{currentSlide:o}=Object(a["c"])(e),{addHistorySnapshot:c}=Object(ll["a"])(),r=(n,a=1)=>{let r=[];const i=e=>{let{left:t,top:l}=e;switch(n){case Ht.LEFT:t-=a;break;case Ht.RIGHT:t+=a;break;case Ht.UP:l-=a;break;case Ht.DOWN:l+=a;break;default:break}return{...e,left:t,top:l}};r=l.value?o.value.elements.map(e=>l.value===e.id?i(e):e):o.value.elements.map(e=>t.value.includes(e.id)?i(e):e),e.updateSlide({elements:r}),c()};return{moveElement:r}},ml=()=>{const e=Object(n["e"])(),{currentSlide:t}=Object(a["c"])(e),{addHistorySnapshot:l}=Object(ll["a"])(),o=(e,t)=>({minLevel:e.findIndex(e=>e.id===t[0].id),maxLevel:e.findIndex(e=>e.id===t[t.length-1].id)}),c=(e,t)=>{const l=JSON.parse(JSON.stringify(e));if(t.groupId){const c=l.filter(e=>e.groupId===t.groupId),{minLevel:n,maxLevel:a}=o(e,c);if(a===e.length-1)return;const r=l[a+1],i=l.splice(n,c.length);if(r.groupId){const e=l.filter(e=>e.groupId===r.groupId);l.splice(n+e.length,0,...i)}else l.splice(n+1,0,...i)}else{const o=e.findIndex(e=>e.id===t.id);if(o===e.length-1)return;const c=l[o+1],n=l.splice(o,1)[0];if(c.groupId){const e=l.filter(e=>e.groupId===c.groupId);l.splice(o+e.length,0,n)}else l.splice(o+1,0,n)}return l},r=(e,t)=>{const l=JSON.parse(JSON.stringify(e));if(t.groupId){const c=l.filter(e=>e.groupId===t.groupId),{minLevel:n}=o(e,c);if(0===n)return;const a=l[n-1],r=l.splice(n,c.length);if(a.groupId){const e=l.filter(e=>e.groupId===a.groupId);l.splice(n-e.length,0,...r)}else l.splice(n-1,0,...r)}else{const o=e.findIndex(e=>e.id===t.id);if(0===o)return;const c=l[o-1],n=l.splice(o,1)[0];if(c.groupId){const e=l.filter(e=>e.groupId===c.groupId);l.splice(o-e.length,0,n)}else l.splice(o-1,0,n)}return l},i=(e,t)=>{const l=JSON.parse(JSON.stringify(e));if(t.groupId){const c=l.filter(e=>e.groupId===t.groupId),{minLevel:n,maxLevel:a}=o(e,c);if(a===e.length-1)return null;const r=l.splice(n,c.length);l.push(...r)}else{const o=e.findIndex(e=>e.id===t.id);if(o===e.length-1)return null;l.splice(o,1),l.push(t)}return l},s=(e,t)=>{const l=JSON.parse(JSON.stringify(e));if(t.groupId){const c=l.filter(e=>e.groupId===t.groupId),{minLevel:n}=o(e,c);if(0===n)return;const a=l.splice(n,c.length);l.unshift(...a)}else{const o=e.findIndex(e=>e.id===t.id);if(0===o)return;l.splice(o,1),l.unshift(t)}return l},d=(o,n)=>{let a;n===zt.UP?a=c(t.value.elements,o):n===zt.DOWN?a=r(t.value.elements,o):n===zt.TOP?a=i(t.value.elements,o):n===zt.BOTTOM&&(a=s(t.value.elements,o)),a&&(e.updateSlide({elements:a}),l())};return{orderElement:d}};const pl=()=>{const e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},Ol=()=>{document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},jl=()=>{const e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement;return!!e};var fl=()=>{const e=Object(n["d"])(),t=Object(n["e"])(),l=()=>{pl(),e.setScreening(!0)},o=()=>{t.updateSlideIndex(0),l()},c=()=>{e.setScreening(!1),jl()&&Ol()};return{enterScreening:l,enterScreeningFromStart:o,exitScreening:c}},vl=()=>{const e=Object(n["c"])(),{canvasPercentage:t,canvasScale:l,canvasDragged:o}=Object(a["c"])(e),c=Object(i["computed"])(()=>Math.round(100*l.value)+"%"),r=l=>{let o=t.value;const c=5,n=200,a=30;"+"===l&&o<=n&&(o+=c),"-"===l&&o>=a&&(o-=c),e.setCanvasPercentage(o)},s=o=>{const c=Math.round(o/l.value*t.value)/100;e.setCanvasPercentage(c)},d=()=>{e.setCanvasPercentage(90),o&&e.setCanvasDragged(!1)};return{canvasScalePercentage:c,setCanvasScalePercentage:s,scaleCanvas:r,resetCanvas:d}},hl=()=>{const e=Object(n["c"])(),t=Object(n["b"])(),{activeElementIdList:l,disableHotkeys:o,handleElement:c,handleElementId:r,editorAreaFocus:s,thumbnailsFocus:d}=Object(a["c"])(e),{currentSlide:u}=Object(a["c"])(Object(n["e"])()),{ctrlKeyState:b,shiftKeyState:m,spaceKeyState:p}=Object(a["c"])(t),{updateSlideIndex:O,copySlide:j,createSlide:f,deleteSlide:v,cutSlide:h,copyAndPasteSlide:y,selectAllSlide:g}=al(),{combineElements:x,uncombineElements:k}=sl(),{deleteElement:C}=il(),{lockElement:N}=rl(),{copyElement:E,cutElement:w,quickCopyElement:V}=dl(),{selectAllElement:I}=ul(),{moveElement:B}=bl(),{orderElement:S}=ml(),{redo:L,undo:_}=Object(ll["a"])(),{enterScreening:T,enterScreeningFromStart:M}=fl(),{scaleCanvas:D,resetCanvas:A}=vl(),z=()=>{l.value.length?E():d.value&&j()},F=()=>{l.value.length?w():d.value&&h()},$=()=>{l.value.length?V():d.value&&y()},R=()=>{s.value&&I(),d.value&&g()},P=()=>{s.value&&N()},H=()=>{s.value&&x()},U=()=>{s.value&&k()},q=()=>{l.value.length?C():d.value&&v()},G=e=>{l.value.length?B(e):e!==Ht.UP&&e!==Ht.DOWN||O(e)},Y=e=>{e===Ht.PAGEUP?O(Ht.UP):e===Ht.PAGEDOWN&&O(Ht.DOWN)},X=e=>{c.value&&S(c.value,e)},Z=()=>{d.value&&f()},W=()=>{if(!u.value.elements.length)return;if(!r.value){const t=u.value.elements[0];return void e.setActiveElementIdList([t.id])}const t=u.value.elements.findIndex(e=>e.id===r.value),l=t>=u.value.elements.length-1?0:t+1,o=u.value.elements[l].id;e.setActiveElementIdList([o])},J=l=>{const{ctrlKey:c,shiftKey:n,altKey:a,metaKey:r}=l,i=c||r,u=l.key.toUpperCase();if(i&&!b.value&&t.setCtrlKeyState(!0),n&&!m.value&&t.setShiftKeyState(!0),o.value||u!==Ht.SPACE||t.setSpaceKeyState(!0),i&&u===Ht.P)return l.preventDefault(),void e.setDialogForExport("pdf");if(n&&u===Ht.F5)return l.preventDefault(),T(),void t.setShiftKeyState(!1);if(u===Ht.F5)return l.preventDefault(),void M();if(s.value||d.value){if(i&&u===Ht.C){if(o.value)return;l.preventDefault(),z()}if(i&&u===Ht.X){if(o.value)return;l.preventDefault(),F()}if(i&&u===Ht.D){if(o.value)return;l.preventDefault(),$()}if(i&&u===Ht.Z){if(o.value)return;l.preventDefault(),_()}if(i&&u===Ht.Y){if(o.value)return;l.preventDefault(),L()}if(i&&u===Ht.A){if(o.value)return;l.preventDefault(),R()}if(i&&u===Ht.L){if(o.value)return;l.preventDefault(),P()}if(!n&&i&&u===Ht.G){if(o.value)return;l.preventDefault(),H()}if(n&&i&&u===Ht.G){if(o.value)return;l.preventDefault(),U()}if(a&&u===Ht.F){if(o.value)return;l.preventDefault(),X(zt.TOP)}if(a&&u===Ht.B){if(o.value)return;l.preventDefault(),X(zt.BOTTOM)}if(u===Ht.DELETE||u===Ht.BACKSPACE){if(o.value)return;l.preventDefault(),q()}if(u===Ht.UP){if(o.value)return;l.preventDefault(),G(Ht.UP)}if(u===Ht.DOWN){if(o.value)return;l.preventDefault(),G(Ht.DOWN)}if(u===Ht.LEFT){if(o.value)return;l.preventDefault(),G(Ht.LEFT)}if(u===Ht.RIGHT){if(o.value)return;l.preventDefault(),G(Ht.RIGHT)}if(u===Ht.PAGEUP){if(o.value)return;l.preventDefault(),Y(Ht.PAGEUP)}if(u===Ht.PAGEDOWN){if(o.value)return;l.preventDefault(),Y(Ht.PAGEDOWN)}if(u===Ht.ENTER){if(o.value)return;l.preventDefault(),Z()}if(u===Ht.MINUS){if(o.value)return;l.preventDefault(),D("-")}if(u===Ht.EQUAL){if(o.value)return;l.preventDefault(),D("+")}if(u===Ht.DIGIT_0){if(o.value)return;l.preventDefault(),A()}if(u===Ht.TAB){if(o.value)return;l.preventDefault(),W()}}},Q=()=>{b.value&&t.setCtrlKeyState(!1),m.value&&t.setShiftKeyState(!1),p.value&&t.setSpaceKeyState(!1)};Object(i["onMounted"])(()=>{document.addEventListener("keydown",J),document.addEventListener("keyup",Q),window.addEventListener("blur",Q)}),Object(i["onUnmounted"])(()=>{document.removeEventListener("keydown",J),document.removeEventListener("keyup",Q),window.removeEventListener("blur",Q)})},yl=()=>{const{editorAreaFocus:e,thumbnailsFocus:t,disableHotkeys:l}=Object(a["c"])(Object(n["c"])()),{pasteTextClipboardData:o}=nl(),{createImageElement:c}=ol(),r=e=>{Zt(e).then(e=>c(e))},s=c=>{if(!e.value&&!t.value)return;if(l.value)return;if(!c.clipboardData)return;const n=c.clipboardData.items,a=n[0];if(a){for(const e of n)if("file"===e.kind&&-1!==e.type.indexOf("image")){const t=e.getAsFile();return void(t&&r(t))}"string"===a.kind&&"text/plain"===a.type&&a.getAsString(e=>o(e))}};Object(i["onMounted"])(()=>{document.addEventListener("paste",s)}),Object(i["onUnmounted"])(()=>{document.removeEventListener("paste",s)})},gl=l("04c7");const xl={class:"hotkey-doc"},kl={class:"title"},Cl={class:"label"},Nl={class:"value"};var El=Object(i["defineComponent"])({__name:"HotkeyDoc",setup(e){return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",xl,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(Ut),e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:e.type},[Object(i["createElementVNode"])("div",kl,Object(i["toDisplayString"])(e.type),1),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.children,e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"hotkey-item",key:e.label},[Object(i["createElementVNode"])("div",Cl,Object(i["toDisplayString"])(e.label),1),Object(i["createElementVNode"])("div",Nl,Object(i["toDisplayString"])(e.value),1)]))),128))],64))),128))]))}});l("28eb");const wl=b()(El,[["__scopeId","data-v-4b1afc5f"]]);var Vl=wl;const Il=e=>(Object(i["pushScopeId"])("data-v-0ba602f2"),e=e(),Object(i["popScopeId"])(),e),Bl={class:"editor-header"},Sl={class:"left"},Ll={class:"menu-item"},_l=Object(i["createTextVNode"])(),Tl=Il(()=>Object(i["createElementVNode"])("span",{class:"text"},"文件",-1)),Ml=Object(i["createTextVNode"])("导入 pptist 文件"),Dl=Object(i["createTextVNode"])("导出 pptist 文件"),Al=Object(i["createTextVNode"])("导出 PPTX"),zl=Object(i["createTextVNode"])("导出图片"),Fl=Object(i["createTextVNode"])("导出 JSON"),$l=Object(i["createTextVNode"])("打印 / 导出 PDF"),Rl={class:"menu-item"},Pl=Object(i["createTextVNode"])(),Hl=Il(()=>Object(i["createElementVNode"])("span",{class:"text"},"编辑",-1)),Ul=Object(i["createTextVNode"])("撤销"),ql=Object(i["createTextVNode"])("重做"),Gl=Object(i["createTextVNode"])("添加页面"),Yl=Object(i["createTextVNode"])("删除页面"),Xl=Object(i["createTextVNode"])("重置幻灯片"),Zl={class:"menu-item"},Wl=Object(i["createTextVNode"])(),Jl=Il(()=>Object(i["createElementVNode"])("span",{class:"text"},"演示",-1)),Ql=Object(i["createTextVNode"])("从头开始"),Kl=Object(i["createTextVNode"])("从当前页开始"),eo={class:"menu-item"},to=Object(i["createTextVNode"])(),lo=Il(()=>Object(i["createElementVNode"])("span",{class:"text"},"帮助",-1)),oo=Object(i["createTextVNode"])("意见反馈"),co=Object(i["createTextVNode"])("快捷键"),no={class:"right"},ao={style:{display:"flex"}},ro={href:"https://github.com/pipipi-pikachu/PPTist",target:"_blank"},io={class:"menu-item"};var so=Object(i["defineComponent"])({__name:"index",setup(e){const t=Object(n["c"])(),l=Object(n["e"])(),{gridLineSize:o,showRuler:c}=Object(a["c"])(t),{coopUserInfo:r}=Object(a["c"])(l),{enterScreening:s,enterScreeningFromStart:d}=fl(),{createSlide:u,deleteSlide:b,resetSlides:m}=al(),{redo:p,undo:O}=Object(ll["a"])(),{importSpecificFile:j}=Object(gl["a"])(),f=t.setDialogForExport,v=()=>{t.setGridLineSize(o.value?0:50)},h=()=>{t.setRulerState(!c.value)},y=Object(i["ref"])(!1),g=()=>{window.open("https://github.com/pipipi-pikachu/PPTist/issues")};return(e,t)=>{const l=Object(i["resolveComponent"])("IconFolderClose"),n=Object(i["resolveComponent"])("MenuItem"),a=Object(i["resolveComponent"])("FileInput"),x=Object(i["resolveComponent"])("Menu"),k=Object(i["resolveComponent"])("Dropdown"),C=Object(i["resolveComponent"])("IconEdit"),N=Object(i["resolveComponent"])("IconPpt"),E=Object(i["resolveComponent"])("IconHelpcenter"),w=Object(i["resolveComponent"])("Avatar"),V=Object(i["resolveComponent"])("IconShare"),I=Object(i["resolveComponent"])("Tooltip"),B=Object(i["resolveComponent"])("IconGithub"),S=Object(i["resolveComponent"])("Drawer");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Bl,[Object(i["createElementVNode"])("div",Sl,[Object(i["createVNode"])(k,{trigger:["click"]},{overlay:Object(i["withCtx"])(()=>[Object(i["createVNode"])(x,null,{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{accept:".pptist",onChange:t[0]||(t[0]=e=>Object(i["unref"])(j)(e))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,null,{default:Object(i["withCtx"])(()=>[Ml]),_:1})]),_:1}),Object(i["createVNode"])(n,{onClick:t[1]||(t[1]=e=>Object(i["unref"])(f)("pptist"))},{default:Object(i["withCtx"])(()=>[Dl]),_:1}),Object(i["createVNode"])(n,{onClick:t[2]||(t[2]=e=>Object(i["unref"])(f)("pptx"))},{default:Object(i["withCtx"])(()=>[Al]),_:1}),Object(i["createVNode"])(n,{onClick:t[3]||(t[3]=e=>Object(i["unref"])(f)("image"))},{default:Object(i["withCtx"])(()=>[zl]),_:1}),Object(i["createVNode"])(n,{onClick:t[4]||(t[4]=e=>Object(i["unref"])(f)("json"))},{default:Object(i["withCtx"])(()=>[Fl]),_:1}),Object(i["createVNode"])(n,{onClick:t[5]||(t[5]=e=>Object(i["unref"])(f)("pdf"))},{default:Object(i["withCtx"])(()=>[$l]),_:1})]),_:1})]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Ll,[Object(i["createVNode"])(l),_l,Tl])]),_:1}),Object(i["createVNode"])(k,{trigger:["click"]},{overlay:Object(i["withCtx"])(()=>[Object(i["createVNode"])(x,null,{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{onClick:t[6]||(t[6]=e=>Object(i["unref"])(O)())},{default:Object(i["withCtx"])(()=>[Ul]),_:1}),Object(i["createVNode"])(n,{onClick:t[7]||(t[7]=e=>Object(i["unref"])(p)())},{default:Object(i["withCtx"])(()=>[ql]),_:1}),Object(i["createVNode"])(n,{onClick:t[8]||(t[8]=e=>Object(i["unref"])(u)())},{default:Object(i["withCtx"])(()=>[Gl]),_:1}),Object(i["createVNode"])(n,{onClick:t[9]||(t[9]=e=>Object(i["unref"])(b)())},{default:Object(i["withCtx"])(()=>[Yl]),_:1}),Object(i["createVNode"])(n,{onClick:t[10]||(t[10]=e=>v())},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(Object(i["unref"])(o)?"关闭网格线":"打开网格线"),1)]),_:1}),Object(i["createVNode"])(n,{onClick:t[11]||(t[11]=e=>h())},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(Object(i["unref"])(c)?"关闭标尺":"打开标尺"),1)]),_:1}),Object(i["createVNode"])(n,{onClick:t[12]||(t[12]=e=>Object(i["unref"])(m)())},{default:Object(i["withCtx"])(()=>[Xl]),_:1})]),_:1})]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Rl,[Object(i["createVNode"])(C),Pl,Hl])]),_:1}),Object(i["createVNode"])(k,{trigger:["click"]},{overlay:Object(i["withCtx"])(()=>[Object(i["createVNode"])(x,null,{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{onClick:t[13]||(t[13]=e=>Object(i["unref"])(d)())},{default:Object(i["withCtx"])(()=>[Ql]),_:1}),Object(i["createVNode"])(n,{onClick:t[14]||(t[14]=e=>Object(i["unref"])(s)())},{default:Object(i["withCtx"])(()=>[Kl]),_:1})]),_:1})]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Zl,[Object(i["createVNode"])(N),Wl,Jl])]),_:1}),Object(i["createVNode"])(k,{trigger:["click"]},{overlay:Object(i["withCtx"])(()=>[Object(i["createVNode"])(x,null,{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{onClick:t[15]||(t[15]=e=>g())},{default:Object(i["withCtx"])(()=>[oo]),_:1}),Object(i["createVNode"])(n,{onClick:t[16]||(t[16]=e=>y.value=!0)},{default:Object(i["withCtx"])(()=>[co]),_:1})]),_:1})]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",eo,[Object(i["createVNode"])(E),to,lo])]),_:1})]),Object(i["createElementVNode"])("div",no,[Object(i["createElementVNode"])("div",ao,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(r),(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(w,{key:t,src:e.avatar},null,8,["src"]))),128))]),Object(i["createVNode"])(I,{mouseLeaveDelay:0,title:"导出"},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:"menu-item",onClick:t[17]||(t[17]=e=>Object(i["unref"])(f)("pptx"))},[Object(i["createVNode"])(V,{size:"18",fill:"#666"})])]),_:1}),Object(i["createVNode"])(I,{mouseLeaveDelay:0,title:"幻灯片放映"},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:"menu-item",onClick:t[18]||(t[18]=e=>Object(i["unref"])(s)())},[Object(i["createVNode"])(N,{size:"19",fill:"#666",style:{"margin-top":"1px"}})])]),_:1}),Object(i["createElementVNode"])("a",ro,[Object(i["createElementVNode"])("div",io,[Object(i["createVNode"])(B,{size:"18",fill:"#666"})])])]),Object(i["createVNode"])(S,{width:"320",placement:"right",closable:!1,visible:y.value,onClose:t[19]||(t[19]=e=>y.value=!1)},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(Vl)]),_:1},8,["visible"])])}}});l("1139");const uo=b()(so,[["__scopeId","data-v-0ba602f2"]]);var bo=uo;const mo=Symbol(),po=Symbol(),Oo=()=>{const e=window.getSelection();e&&e.removeAllRanges()};var jo=e=>{const t=Object(i["ref"])(0),l=Object(i["ref"])(0),o=Object(n["c"])(),{canvasPercentage:c,canvasDragged:r}=Object(a["c"])(o),{viewportRatio:s}=Object(a["c"])(Object(n["e"])()),d=()=>{if(!e.value)return;const n=e.value.clientWidth,a=e.value.clientHeight;if(a/n>s.value){const e=n*(c.value/100);o.setCanvasScale(e/Wt),t.value=(n-e)/2,l.value=(a-e*s.value)/2}else{const e=a*(c.value/100);o.setCanvasScale(e/(Wt*s.value)),t.value=(n-e/s.value)/2,l.value=(a-e)/2}};Object(i["watch"])([c,s],d),Object(i["watch"])(r,()=>{r.value||d()});const u=Object(i["computed"])(()=>({width:Wt,height:Wt*s.value,left:t.value,top:l.value})),b=new ResizeObserver(d);Object(i["onMounted"])(()=>{e.value&&b.observe(e.value)}),Object(i["onUnmounted"])(()=>{e.value&&b.unobserve(e.value)});const m=e=>{let c=!0;const n=e.pageX,a=e.pageY,r=t.value,i=l.value;document.onmousemove=e=>{if(!c)return;const o=e.pageX,s=e.pageY;t.value=r+(o-n),l.value=i+(s-a)},document.onmouseup=()=>{c=!1,document.onmousemove=null,document.onmouseup=null,o.setCanvasDragged(!0)}};return{viewportStyles:u,dragViewport:m}},fo=(e,t)=>{const l=Object(n["c"])(),{canvasScale:o}=Object(a["c"])(l),c=Object(i["ref"])(!1),r=Object(i["ref"])(1),s=Object(i["ref"])({top:0,left:0,width:0,height:0}),d=n=>{if(!t.value)return;let a=!0;const i=t.value.getBoundingClientRect(),d=5,u=n.pageX,b=n.pageY,m=(u-i.x)/o.value,p=(b-i.y)/o.value;s.value={top:p,left:m,width:0,height:0},c.value=!1,r.value=4,document.onmousemove=e=>{if(!a)return;const t=e.pageX,l=e.pageY,n=(t-u)/o.value,i=(l-b)/o.value,m=Math.abs(n),p=Math.abs(i);if(m<d||p<d)return;let O=0;n>0&&i>0?O=4:n<0&&i<0?O=1:n>0&&i<0?O=2:n<0&&i>0&&(O=3),s.value={...s.value,width:m,height:p},c.value=!0,r.value=O},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,a=!1;let t=[];for(let l=0;l<e.value.length;l++){const o=e.value[l],c=s.value.left,n=s.value.top,a=s.value.width,i=s.value.height,{minX:d,maxX:u,minY:b,maxY:m}=Object(Gt["c"])(o);let p=!1;4===r.value?p=d>c&&u<c+a&&b>n&&m<n+i:1===r.value?p=d>c-a&&u<c-a+a&&b>n-i&&m<n-i+i:2===r.value?p=d>c&&u<c+a&&b>n-i&&m<n-i+i:3===r.value&&(p=d>c-a&&u<c-a+a&&b>n&&m<n+i),p&&!o.lock&&t.push(o)}t=t.filter(l=>{if(l.groupId){const o=t.map(e=>e.id),c=e.value.filter(e=>e.groupId===l.groupId);return c.every(e=>o.includes(e.id))}return!0});const o=t.map(e=>e.id);l.setActiveElementIdList(o),c.value=!1}};return{mouseSelection:s,mouseSelectionVisible:c,mouseSelectionQuadrant:r,updateMouseSelection:d}},vo=e=>{const{disableHotkeys:t}=Object(a["c"])(Object(n["c"])()),{createImageElement:l,createTextElement:o}=ol(),c=e=>{if(!e.dataTransfer||0===e.dataTransfer.items.length)return;const c=e.dataTransfer.items[0];if("file"===c.kind&&-1!==c.type.indexOf("image")){const e=c.getAsFile();e&&Zt(e).then(e=>l(e))}else"string"===c.kind&&"text/plain"===c.type&&c.getAsString(e=>{if(t.value)return;const l=Yt(e);o({left:0,top:0,width:600,height:50},l)})};Object(i["onMounted"])(()=>{e.value&&e.value.addEventListener("drop",c),document.ondragleave=e=>e.preventDefault(),document.ondrop=e=>e.preventDefault(),document.ondragenter=e=>e.preventDefault(),document.ondragover=e=>e.preventDefault()}),Object(i["onUnmounted"])(()=>{e.value&&e.value.removeEventListener("drop",c),document.ondragleave=null,document.ondrop=null,document.ondragenter=null,document.ondragover=null})};const ho=(e,t)=>{const l=Math.atan2(e,t),o=180/Math.PI*l;return o};var yo=(e,t)=>{const l=Object(n["e"])(),{canvasScale:o}=Object(a["c"])(Object(n["c"])()),{addHistorySnapshot:c}=Object(ll["a"])(),r=n=>{let a=!0,r=0;const i=n.rotate||0,s=n.left,d=n.top,u=n.width,b=n.height,m=s+u/2,p=d+b/2;if(!t.value)return;const O=t.value.getBoundingClientRect();document.onmousemove=t=>{if(!a)return;const l=(t.pageX-O.left)/o.value,c=(t.pageY-O.top)/o.value,i=l-m,s=p-c;r=ho(i,s);const d=5;Math.abs(r)<=d?r=0:r>0&&Math.abs(r-45)<=d?r-=r-45:r<0&&Math.abs(r+45)<=d?r-=r+45:r>0&&Math.abs(r-90)<=d?r-=r-90:r<0&&Math.abs(r+90)<=d?r-=r+90:r>0&&Math.abs(r-135)<=d?r-=r-135:r<0&&Math.abs(r+135)<=d?r-=r+135:r>0&&Math.abs(r-180)<=d?r-=r-180:r<0&&Math.abs(r+180)<=d&&(r-=r+180),e.value=e.value.map(e=>n.id===e.id?{...e,rotate:r}:e)},document.onmouseup=()=>{a=!1,document.onmousemove=null,document.onmouseup=null,i!==r&&(l.updateSlide({elements:e.value}),c())}};return{rotateElement:r}};const go={text:"文本",image:"图片",shape:"形状",line:"线条",chart:"图表",table:"表格",video:"视频",audio:"音频"},xo={text:20,image:20,shape:15,chart:200,table:20,video:250,audio:20},ko=(e,t)=>{const{left:l,top:o,width:c,height:n}=e,a=Math.sqrt(Math.pow(c,2)+Math.pow(n,2))/2,r=180*Math.atan(n/c)/Math.PI,i=(180-t-r)*Math.PI/180,s=(r-t)*Math.PI/180,d=(90-t)*Math.PI/180,u=t*Math.PI/180,b=c/2,m=n/2,p=l+b,O=o+m,j={left:p+a*Math.cos(i),top:O-a*Math.sin(i)},f={left:p+m*Math.cos(d),top:O-m*Math.sin(d)},v={left:p+a*Math.cos(s),top:O-a*Math.sin(s)},h={left:p+b*Math.cos(u),top:O+b*Math.sin(u)},y={left:p-a*Math.cos(i),top:O+a*Math.sin(i)},g={left:p-m*Math.sin(u),top:O+m*Math.cos(u)},x={left:p-a*Math.cos(s),top:O+a*Math.sin(s)},k={left:p-b*Math.cos(u),top:O-b*Math.sin(u)};return{leftTopPoint:j,topPoint:f,rightTopPoint:v,rightPoint:h,rightBottomPoint:y,bottomPoint:g,leftBottomPoint:x,leftPoint:k}},Co=(e,t)=>{const l={[Rt.RIGHT_BOTTOM]:t.leftTopPoint,[Rt.LEFT_BOTTOM]:t.rightTopPoint,[Rt.LEFT_TOP]:t.rightBottomPoint,[Rt.RIGHT_TOP]:t.leftBottomPoint,[Rt.TOP]:t.bottomPoint,[Rt.BOTTOM]:t.topPoint,[Rt.LEFT]:t.rightPoint,[Rt.RIGHT]:t.leftPoint};return l[e]};var No,Eo,wo=(e,t,l)=>{const o=Object(n["c"])(),c=Object(n["e"])(),{activeElementIdList:r,activeGroupElementId:i}=Object(a["c"])(o),{viewportRatio:s}=Object(a["c"])(c),{ctrlOrShiftKeyActive:d}=Object(a["c"])(Object(n["b"])()),{addHistorySnapshot:u}=Object(ll["a"])(),b=(n,a,b)=>{const m=!(n instanceof MouseEvent);if(m&&(!n.changedTouches||!n.changedTouches[0]))return;let p=!0;o.setScalingState(!0);const O=a.left,j=a.top,f=a.width,v=a.height,h="rotate"in a&&a.rotate?a.rotate:0,y=Math.PI*h/180,g=d.value||"fixedRatio"in a&&a.fixedRatio,x=f/v,k=m?n.changedTouches[0].pageX:n.pageX,C=m?n.changedTouches[0].pageY:n.pageY,N=xo[a.type]||20,E=e=>e<N?N:e;let w,V=0,I=0,B=[],S=[];if("rotate"in a&&a.rotate){const{left:e,top:t,width:l,height:o}=a;w=ko({left:e,top:t,width:l,height:o},h);const c=Co(b,w);V=c.left,I=c.top}else{const t=Wt,l=Wt*s.value,o=a.id===i.value;for(const i of e.value){if("rotate"in i&&i.rotate)continue;if("line"===i.type)continue;if(o&&i.id===a.id)continue;if(!o&&r.value.includes(i.id))continue;const e=i.left,t=i.top,l=i.width,c=i.height,n=e+l,s=t+c,d={value:t,range:[e,n]},u={value:s,range:[e,n]},b={value:e,range:[t,s]},m={value:n,range:[t,s]};B.push(d,u),S.push(b,m)}const c={value:0,range:[0,t]},n={value:l,range:[0,t]},d={value:l/2,range:[0,t]},u={value:0,range:[0,l]},b={value:t,range:[0,l]},m={value:t/2,range:[0,l]};B.push(c,n,d),S.push(u,b,m),B=Object(Gt["h"])(B),S=Object(Gt["h"])(S)}const L=(e,l)=>{const o=5,c=[];let n=!1,a=!1;const r={offsetX:0,offsetY:0};if(l||0===l)for(let t=0;t<B.length;t++){const{value:n,range:i}=B[t],s=Math.min(...i,e||0),d=Math.max(...i,e||0);Math.abs(l-n)<o&&!a&&(r.offsetY=l-n,a=!0,c.push({type:"horizontal",axis:{x:s-50,y:n},length:d-s+100}))}if(e||0===e)for(let t=0;t<S.length;t++){const{value:a,range:i}=S[t],s=Math.min(...i,l||0),d=Math.max(...i,l||0);Math.abs(e-a)<o&&!n&&(r.offsetX=e-a,n=!0,c.push({type:"vertical",axis:{x:a,y:s-50},length:d-s+100}))}return t.value=c,r},_=t=>{if(!p)return;const o=t instanceof MouseEvent?t.pageX:t.changedTouches[0].pageX,c=t instanceof MouseEvent?t.pageY:t.changedTouches[0].pageY,n=o-k,r=c-C;let i=f,s=v,d=O,u=j;if(h){const e=(Math.cos(y)*n+Math.sin(y)*r)/l.value;let t=(Math.cos(y)*r-Math.sin(y)*n)/l.value;g&&(b!==Rt.RIGHT_BOTTOM&&b!==Rt.LEFT_TOP||(t=e/x),b!==Rt.LEFT_BOTTOM&&b!==Rt.RIGHT_TOP||(t=-e/x)),b===Rt.RIGHT_BOTTOM?(i=E(f+e),s=E(v+t)):b===Rt.LEFT_BOTTOM?(i=E(f-e),s=E(v+t),d=O-(i-f)):b===Rt.LEFT_TOP?(i=E(f-e),s=E(v-t),d=O-(i-f),u=j-(s-v)):b===Rt.RIGHT_TOP?(i=E(f+e),s=E(v-t),u=j-(s-v)):b===Rt.TOP?(s=E(v-t),u=j-(s-v)):b===Rt.BOTTOM?s=E(v+t):b===Rt.LEFT?(i=E(f-e),d=O-(i-f)):b===Rt.RIGHT&&(i=E(f+e));const o=ko({width:i,height:s,left:d,top:u},h),c=Co(b,o),a=c.left,m=c.top,p=a-V,k=m-I;d-=p,u-=k}else{let e=n/l.value,t=r/l.value;if(g&&(b!==Rt.RIGHT_BOTTOM&&b!==Rt.LEFT_TOP||(t=e/x),b!==Rt.LEFT_BOTTOM&&b!==Rt.RIGHT_TOP||(t=-e/x)),b===Rt.RIGHT_BOTTOM){const{offsetX:l,offsetY:o}=L(O+f+e,j+v+t);e-=l,t-=o,g&&(o?e=t*x:t=e/x),i=E(f+e),s=E(v+t)}else if(b===Rt.LEFT_BOTTOM){const{offsetX:l,offsetY:o}=L(O+e,j+v+t);e-=l,t-=o,g&&(o?e=-t*x:t=-e/x),i=E(f-e),s=E(v+t),d=O-(i-f)}else if(b===Rt.LEFT_TOP){const{offsetX:l,offsetY:o}=L(O+e,j+t);e-=l,t-=o,g&&(o?e=t*x:t=e/x),i=E(f-e),s=E(v-t),d=O-(i-f),u=j-(s-v)}else if(b===Rt.RIGHT_TOP){const{offsetX:l,offsetY:o}=L(O+f+e,j+t);e-=l,t-=o,g&&(o?e=-t*x:t=-e/x),i=E(f+e),s=E(v-t),u=j-(s-v)}else if(b===Rt.LEFT){const{offsetX:t}=L(O+e,null);e-=t,i=E(f-e),d=O-(i-f)}else if(b===Rt.RIGHT){const{offsetX:t}=L(O+f+e,null);e-=t,i=E(f+e)}else if(b===Rt.TOP){const{offsetY:e}=L(null,j+t);t-=e,s=E(v-t),u=j-(s-v)}else if(b===Rt.BOTTOM){const{offsetY:e}=L(null,j+v+t);t-=e,s=E(v+t)}}e.value=e.value.map(e=>{if(a.id!==e.id)return e;if("shape"===e.type&&"pathFormula"in e&&e.pathFormula){const t=Kt[e.pathFormula];let l="";return l="editable"in t?t.formula(i,s,e.keypoint):t.formula(i,s),{...e,left:d,top:u,width:i,height:s,viewBox:[i,s],path:l}}return{...e,left:d,top:u,width:i,height:s}})},T=l=>{p=!1,document.ontouchmove=null,document.ontouchend=null,document.onmousemove=null,document.onmouseup=null,t.value=[];const n=l instanceof MouseEvent?l.pageX:l.changedTouches[0].pageX,a=l instanceof MouseEvent?l.pageY:l.changedTouches[0].pageY;k===n&&C===a||(c.updateSlide({elements:e.value}),o.setScalingState(!1),u())};m?(document.ontouchmove=_,document.ontouchend=T):(document.onmousemove=_,document.onmouseup=T)},m=(t,o,n)=>{let a=!0;const{minX:i,maxX:s,minY:b,maxY:m}=o,p=s-i,O=m-b,j=p/O,f=t.pageX,v=t.pageY,h=JSON.parse(JSON.stringify(e.value));document.onmousemove=t=>{if(!a)return;const o=t.pageX,c=t.pageY,u=(o-f)/l.value;let y=(c-v)/l.value;d.value&&(n!==Rt.RIGHT_BOTTOM&&n!==Rt.LEFT_TOP||(y=u/j),n!==Rt.LEFT_BOTTOM&&n!==Rt.RIGHT_TOP||(y=-u/j));let g=i,x=s,k=b,C=m;n===Rt.RIGHT_BOTTOM?(x=s+u,C=m+y):n===Rt.LEFT_BOTTOM?(g=i+u,C=m+y):n===Rt.LEFT_TOP?(g=i+u,k=b+y):n===Rt.RIGHT_TOP?(x=s+u,k=b+y):n===Rt.TOP?k=b+y:n===Rt.BOTTOM?C=m+y:n===Rt.LEFT?g=i+u:n===Rt.RIGHT&&(x=s+u);const N=x-g,E=C-k;let w=N/p,V=E/O;w<=0&&(w=0),V<=0&&(V=0),e.value=e.value.map(e=>{if(("image"===e.type||"shape"===e.type)&&r.value.includes(e.id)){const t=h.find(t=>t.id===e.id);return{...e,width:t.width*w,height:t.height*V,left:g+(t.left-i)*w,top:k+(t.top-b)*V}}return e})},document.onmouseup=t=>{a=!1,document.onmousemove=null,document.onmouseup=null,f===t.pageX&&v===t.pageY||(c.updateSlide({elements:e.value}),u())}};return{scaleElement:b,scaleMultiElement:m}},Vo=(e,t)=>{const l=Object(n["c"])(),{activeElementIdList:o,activeGroupElementId:c,handleElementId:r,editorAreaFocus:i}=Object(a["c"])(l),{ctrlOrShiftKeyActive:s}=Object(a["c"])(Object(n["b"])()),d=(n,a,d=!0)=>{if(i.value||l.setEditorareaFocus(!0),o.value.includes(a.id)){if(s.value){let t=[];if(a.groupId){const l=[];e.value.forEach(e=>{e.groupId===a.groupId&&l.push(e.id)}),t=o.value.filter(e=>!l.includes(e))}else t=o.value.filter(e=>e!==a.id);t.length>0&&l.setActiveElementIdList(t)}else if(r.value!==a.id)l.setHandleElementId(a.id);else if(c.value!==a.id){const e=n instanceof MouseEvent?n.pageX:n.changedTouches[0].pageX,t=n instanceof MouseEvent?n.pageY:n.changedTouches[0].pageY;n.target.onmouseup=o=>{const c=o.pageX,n=o.pageY;e===c&&t===n&&(l.setActiveGroupElementId(a.id),o.target.onmouseup=null)}}}else{let t=[];if(t=s.value?[...o.value,a.id]:[a.id],a.groupId){const l=[];e.value.forEach(e=>{e.groupId===a.groupId&&l.push(e.id)}),t=[...t,...l]}l.setActiveElementIdList(Object(Mt["uniq"])(t)),l.setHandleElementId(a.id)}d&&t(n,a)},u=()=>{const t=e.value.filter(e=>!e.lock),o=t.map(e=>e.id);l.setActiveElementIdList(o)};return{selectElement:d,selectAllElement:u}},Io=(e,t,l)=>{const o=Object(n["e"])(),{activeElementIdList:c,activeGroupElementId:r}=Object(a["c"])(Object(n["c"])()),{viewportRatio:i}=Object(a["c"])(o),{addHistorySnapshot:s}=Object(ll["a"])(),d=(n,a)=>{const d=!(n instanceof MouseEvent);if(d&&(!n.changedTouches||!n.changedTouches[0]))return;if(!c.value.includes(a.id))return;let u=!0;const b=Wt,m=Wt*i.value,p=5,O=JSON.parse(JSON.stringify(e.value)),j=O.filter(e=>c.value.includes(e.id)),f=a.left,v=a.top,h=a.width,y="height"in a&&a.height?a.height:0,g="rotate"in a&&a.rotate?a.rotate:0,x=d?n.changedTouches[0].pageX:n.pageX,k=d?n.changedTouches[0].pageY:n.pageY;let C=null;const N=a.id===r.value;let E=[],w=[];for(const t of e.value){if("line"===t.type)continue;if(N&&t.id===a.id)continue;if(!N&&c.value.includes(t.id))continue;let e,l,o,n;if("rotate"in t&&t.rotate){const{xRange:c,yRange:a}=Object(Gt["f"])({left:t.left,top:t.top,width:t.width,height:t.height,rotate:t.rotate});e=c[0],l=a[0],o=c[1]-c[0],n=a[1]-a[0]}else e=t.left,l=t.top,o=t.width,n=t.height;const r=e+o,i=l+n,s=l+n/2,d=e+o/2,u={value:l,range:[e,r]},b={value:i,range:[e,r]},m={value:s,range:[e,r]},p={value:e,range:[l,i]},O={value:r,range:[l,i]},j={value:d,range:[l,i]};E.push(u,b,m),w.push(p,O,j)}const V={value:0,range:[0,b]},I={value:m,range:[0,b]},B={value:m/2,range:[0,b]},S={value:0,range:[0,m]},L={value:b,range:[0,m]},_={value:b/2,range:[0,m]};E.push(V,I,B),w.push(S,L,_),E=Object(Gt["h"])(E),w=Object(Gt["h"])(w);const T=o=>{const n=o instanceof MouseEvent?o.pageX:o.changedTouches[0].pageX,r=o instanceof MouseEvent?o.pageY:o.changedTouches[0].pageY;if(!1!==C&&(C=Math.abs(x-n)<p&&Math.abs(k-r)<p),!u||C)return;const i=(n-x)/l.value,s=(r-k)/l.value;let d,b,m,O,V=f+i,I=v+s;if(1===c.value.length||N)if(g){const{xRange:e,yRange:t}=Object(Gt["f"])({left:V,top:I,width:h,height:y,rotate:g});d=e[0],b=e[1],m=t[0],O=t[1]}else"line"===a.type?(d=V,b=V+Math.max(a.start[0],a.end[0]),m=I,O=I+Math.max(a.start[1],a.end[1])):(d=V,b=V+h,m=I,O=I+y);else{const e=[],t=[],l=[],o=[];for(let c=0;c<j.length;c++){const n=j[c],a=n.left+i,r=n.top+s,d=n.width,u="height"in n&&n.height?n.height:0,b="rotate"in n&&n.rotate?n.rotate:0;if("rotate"in n&&n.rotate){const{xRange:c,yRange:n}=Object(Gt["f"])({left:a,top:r,width:d,height:u,rotate:b});e.push(c[0]),t.push(n[0]),l.push(c[1]),o.push(n[1])}else"line"===n.type?(e.push(a),t.push(r),l.push(a+Math.max(n.start[0],n.end[0])),o.push(r+Math.max(n.start[1],n.end[1]))):(e.push(a),t.push(r),l.push(a+d),o.push(r+u))}d=Math.min(...e),b=Math.max(...l),m=Math.min(...t),O=Math.max(...o)}const B=d+(b-d)/2,S=m+(O-m)/2,L=[];let _=!1,T=!1;for(let e=0;e<E.length;e++){const{value:t,range:l}=E[e],o=Math.min(...l,d,b),c=Math.max(...l,d,b);Math.abs(m-t)<p&&!T&&(I-=m-t,T=!0,L.push({type:"horizontal",axis:{x:o-50,y:t},length:c-o+100})),Math.abs(O-t)<p&&!T&&(I-=O-t,T=!0,L.push({type:"horizontal",axis:{x:o-50,y:t},length:c-o+100})),Math.abs(S-t)<p&&!T&&(I-=S-t,T=!0,L.push({type:"horizontal",axis:{x:o-50,y:t},length:c-o+100}))}for(let e=0;e<w.length;e++){const{value:t,range:l}=w[e],o=Math.min(...l,m,O),c=Math.max(...l,m,O);Math.abs(d-t)<p&&!_&&(V-=d-t,_=!0,L.push({type:"vertical",axis:{x:t,y:o-50},length:c-o+100})),Math.abs(b-t)<p&&!_&&(V-=b-t,_=!0,L.push({type:"vertical",axis:{x:t,y:o-50},length:c-o+100})),Math.abs(B-t)<p&&!_&&(V-=B-t,_=!0,L.push({type:"vertical",axis:{x:t,y:o-50},length:c-o+100}))}if(t.value=L,1===c.value.length||N)e.value=e.value.map(e=>e.id===a.id?{...e,left:V,top:I}:e);else{const t=e.value.find(e=>e.id===a.id);if(!t)return;e.value=e.value.map(e=>c.value.includes(e.id)?e.id===a.id?{...e,left:V,top:I}:{...e,left:e.left+(V-t.left),top:e.top+(I-t.top)}:e)}},M=l=>{u=!1,document.ontouchmove=null,document.ontouchend=null,document.onmousemove=null,document.onmouseup=null,t.value=[];const c=l instanceof MouseEvent?l.pageX:l.changedTouches[0].pageX,n=l instanceof MouseEvent?l.pageY:l.changedTouches[0].pageY;x===c&&k===n||(o.updateSlide({elements:e.value}),s())};d?(document.ontouchmove=T,document.ontouchend=M):(document.onmousemove=T,document.onmouseup=M)};return{dragElement:d}},Bo=e=>{const t=Object(n["e"])(),{canvasScale:l}=Object(a["c"])(Object(n["c"])()),{addHistorySnapshot:o}=Object(ll["a"])(),c=(c,n,a)=>{let r=!0;const i=8,s=c.pageX,d=c.pageY,u=[];for(let t=0;t<e.value.length;t++){const l=e.value[t];if("line"===l.type||l.rotate)continue;const o=l.left,c=l.top,n=l.width,a=l.height,r=o+n,i=c+a,s=c+a/2,d=o+n/2,b={x:d,y:c},m={x:d,y:i},p={x:o,y:s},O={x:r,y:s},j={x:o,y:c},f={x:r,y:c},v={x:o,y:i},h={x:r,y:i};u.push(b,m,p,O,j,f,v,h)}document.onmousemove=t=>{if(!r)return;const o=t.pageX,c=t.pageY,b=(o-s)/l.value,m=(c-d)/l.value;let p=n.left+n.start[0],O=n.top+n.start[1],j=n.left+n.end[0],f=n.top+n.end[1];const v=n.broken||n.curve||[0,0];let h=n.left+v[0],y=n.top+v[1];const[g,x]=n.cubic||[[0,0],[0,0]];let k=n.left+g[0],C=n.top+g[1],N=n.left+x[0],E=n.top+x[1];if(a===Pt.START){p+=b,O+=m,Math.abs(p-j)<i&&(p=j),Math.abs(O-f)<i&&(O=f);for(const e of u){const{x:t,y:l}=e;if(Math.abs(t-p)<i&&Math.abs(l-O)<i){p=t,O=l;break}}}else if(a===Pt.END){j+=b,f+=m,Math.abs(p-j)<i&&(j=p),Math.abs(O-f)<i&&(f=O);for(const e of u){const{x:t,y:l}=e;if(Math.abs(t-j)<i&&Math.abs(l-f)<i){j=t,f=l;break}}}else a===Pt.C?(h+=b,y+=m,Math.abs(h-p)<i&&(h=p),Math.abs(y-O)<i&&(y=O),Math.abs(h-j)<i&&(h=j),Math.abs(y-f)<i&&(y=f),Math.abs(h-(p+j)/2)<i&&Math.abs(y-(O+f)/2)<i&&(h=(p+j)/2,y=(O+f)/2)):a===Pt.C1?(k+=b,C+=m,Math.abs(k-p)<i&&(k=p),Math.abs(C-O)<i&&(C=O),Math.abs(k-j)<i&&(k=j),Math.abs(C-f)<i&&(C=f)):a===Pt.C2&&(N+=b,E+=m,Math.abs(N-p)<i&&(N=p),Math.abs(E-O)<i&&(E=O),Math.abs(N-j)<i&&(N=j),Math.abs(E-f)<i&&(E=f));const w=Math.min(p,j),V=Math.min(O,f),I=Math.max(p,j),B=Math.max(O,f),S=[0,0],L=[I-w,B-V];p>j&&(S[0]=I-w,L[0]=0),O>f&&(S[1]=B-V,L[1]=0),e.value=e.value.map(e=>{if(e.id===n.id){const t={...e,left:w,top:V,start:S,end:L};return a===Pt.START||a===Pt.END?(n.broken&&(t.broken=[(S[0]+L[0])/2,(S[1]+L[1])/2]),n.curve&&(t.curve=[(S[0]+L[0])/2,(S[1]+L[1])/2]),n.cubic&&(t.cubic=[[(S[0]+L[0])/2,(S[1]+L[1])/2],[(S[0]+L[0])/2,(S[1]+L[1])/2]])):a===Pt.C?(n.broken&&(t.broken=[h-w,y-V]),n.curve&&(t.curve=[h-w,y-V])):n.cubic&&(t.cubic=[[k-w,C-V],[N-w,E-V]]),t}return e})},document.onmouseup=l=>{r=!1,document.onmousemove=null,document.onmouseup=null;const c=l.pageX,n=l.pageY;s===c&&d===n||(t.updateSlide({elements:e.value}),o())}};return{dragLineElement:c}},So=(e,t)=>{const l=Object(n["e"])(),{addHistorySnapshot:o}=Object(ll["a"])(),c=(c,n)=>{const a=!(c instanceof MouseEvent);if(a&&(!c.changedTouches||!c.changedTouches[0]))return;let r=!0;const i=a?c.changedTouches[0].pageX:c.pageX,s=a?c.changedTouches[0].pageY:c.pageY,d=Kt[n.pathFormula];let u=null;if("editable"in d){const e=d.getBaseSize(n.width,n.height),t=e*n.keypoint,[l,o]=d.range,c=d.relative;u={baseSize:e,originPos:t,min:l,max:o,relative:c}}const b=l=>{if(!r)return;const o=l instanceof MouseEvent?l.pageX:l.changedTouches[0].pageX,c=l instanceof MouseEvent?l.pageY:l.changedTouches[0].pageY,a=(o-i)/t.value,b=(c-s)/t.value;e.value=e.value.map(e=>{if(e.id===n.id&&u){const{baseSize:t,originPos:l,min:o,max:c,relative:n}=u,r=e;let i=0;return"left"===n&&(i=(l+a)/t),"right"===n&&(i=(l-a)/t),"center"===n&&(i=(l-2*a)/t),"top"===n&&(i=(l+b)/t),"bottom"===n&&(i=(l-b)/t),i<o&&(i=o),i>c&&(i=c),{...e,keypoint:i,path:d.formula(r.width,r.height,i)}}return e})},m=t=>{r=!1,document.ontouchmove=null,document.ontouchend=null,document.onmousemove=null,document.onmouseup=null;const c=t instanceof MouseEvent?t.pageX:t.changedTouches[0].pageX,n=t instanceof MouseEvent?t.pageY:t.changedTouches[0].pageY;i===c&&s===n||(l.updateSlide({elements:e.value}),o())};a?(document.ontouchmove=b,document.ontouchend=m):(document.onmousemove=b,document.onmouseup=m)};return{moveShapeKeypoint:c}},Lo=e=>{const t=Object(n["c"])(),{canvasScale:l,creatingElement:o}=Object(a["c"])(t),c=t=>{const{start:o,end:c}=t;if(!e.value)return;const n=e.value.getBoundingClientRect(),[a,r]=o,[i,s]=c,d=Math.min(a,i),u=Math.max(a,i),b=Math.min(r,s),m=Math.max(r,s),p=(d-n.x)/l.value,O=(b-n.y)/l.value,j=(u-d)/l.value,f=(m-b)/l.value;return{left:p,top:O,width:j,height:f}},r=t=>{const{start:o,end:c}=t;if(!e.value)return;const n=e.value.getBoundingClientRect(),[a,r]=o,[i,s]=c,d=Math.min(a,i),u=Math.max(a,i),b=Math.min(r,s),m=Math.max(r,s),p=(d-n.x)/l.value,O=(b-n.y)/l.value,j=(u-d)/l.value,f=(m-b)/l.value,v=[a===d?0:j,r===b?0:f],h=[i===d?0:j,s===b?0:f];return{left:p,top:O,start:v,end:h}},{createTextElement:i,createShapeElement:s,createLineElement:d}=ol(),u=e=>{if(!o.value)return;const l=o.value.type;if("text"===l){const t=c(e);t&&i(t)}else if("shape"===l){const t=c(e);t&&s(t,o.value.data)}else if("line"===l){const t=r(e);t&&d(t,o.value.data)}t.setCreatingElement(null)};return{insertElementFromCreateSelection:u}},_o=()=>{const e=Object(n["e"])(),{activeElementIdList:t,activeElementList:l}=Object(a["c"])(Object(n["c"])()),{currentSlide:o,viewportRatio:c}=Object(a["c"])(e),{addHistorySnapshot:r}=Object(ll["a"])(),i=n=>{const a=Wt,i=Wt*c.value,{minX:s,maxX:d,minY:u,maxY:b}=Object(Gt["b"])(l.value),m=JSON.parse(JSON.stringify(o.value.elements));for(const e of m)if(t.value.includes(e.id)){if(n===Ft.CENTER){const t=u+(b-u)/2-i/2,l=s+(d-s)/2-a/2;e.top=e.top-t,e.left=e.left-l}if(n===Ft.TOP){const t=u-0;e.top=e.top-t}else if(n===Ft.VERTICAL){const t=u+(b-u)/2-i/2;e.top=e.top-t}else if(n===Ft.BOTTOM){const t=b-i;e.top=e.top-t}else if(n===Ft.LEFT){const t=s-0;e.left=e.left-t}else if(n===Ft.HORIZONTAL){const t=s+(d-s)/2-a/2;e.left=e.left-t}else if(n===Ft.RIGHT){const t=d-a;e.left=e.left-t}}e.updateSlide({elements:m}),r()};return{alignElementToCanvas:i}},To=e=>{const t=Object(i["computed"])(()=>{if(e.value){const{h:t,v:l,blur:o,color:c}=e.value;return`${t}px ${l}px ${o}px ${c}`}return""});return{shadowStyle:t}},Mo=(e,t)=>{const l=Object(i["computed"])(()=>{let l="";return e.value&&t.value?l="rotateX(180deg) rotateY(180deg)":t.value?l="rotateX(180deg)":e.value&&(l="rotateY(180deg)"),l});return{flipStyle:l}};(function(e){e["RECT"]="rect",e["ELLIPSE"]="ellipse",e["POLYGON"]="polygon"})(No||(No={})),function(e){e["RECT"]="rect",e["ROUNDRECT"]="roundRect",e["ELLIPSE"]="ellipse",e["TRIANGLE"]="triangle",e["PENTAGON"]="pentagon",e["RHOMBUS"]="rhombus",e["STAR"]="star"}(Eo||(Eo={}));const Do={rect:{name:"矩形",type:No.RECT,radius:"0",style:""},rect2:{name:"矩形2",type:No.POLYGON,style:"polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 0 100%)",createPath:(e,t)=>`M 0 0 L ${.8*e} 0 L ${e} ${.2*t} L ${e} ${t} L 0 ${t} Z`},rect3:{name:"矩形3",type:No.POLYGON,style:"polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 20% 100%, 0% 80%)",createPath:(e,t)=>`M 0 0 L ${.8*e} 0 L ${e} ${.2*t} L ${e} ${t} L ${.2*e} ${t} L 0 ${.8*t} Z`},roundRect:{name:"圆角矩形",type:No.RECT,radius:"10px",style:"inset(0 0 0 0 round 10px 10px 10px 10px)"},ellipse:{name:"圆形",type:No.ELLIPSE,style:"ellipse(50% 50% at 50% 50%)"},triangle:{name:"三角形",type:No.POLYGON,style:"polygon(50% 0%, 0% 100%, 100% 100%)",createPath:(e,t)=>`M ${.5*e} 0 L 0 ${t} L ${e} ${t} Z`},triangle2:{name:"三角形2",type:No.POLYGON,style:"polygon(50% 100%, 0% 0%, 100% 0%)",createPath:(e,t)=>`M ${.5*e} ${t} L 0 0 L ${e} 0 Z`},triangle3:{name:"三角形3",type:No.POLYGON,style:"polygon(0% 0%, 0% 100%, 100% 100%)",createPath:(e,t)=>`M 0 0 L 0 ${t} L ${e} ${t} Z`},rhombus:{name:"菱形",type:No.POLYGON,style:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",createPath:(e,t)=>`M ${.5*e} 0 L ${e} ${.5*t} L ${.5*e} ${t} L 0 ${.5*t} Z`},pentagon:{name:"五边形",type:No.POLYGON,style:"polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)",createPath:(e,t)=>`M ${.5*e} 0 L ${e} ${.38*t} L ${.82*e} ${t} L ${.18*e} ${t} L 0 ${.38*t} Z`},hexagon:{name:"六边形",type:No.POLYGON,style:"polygon(20% 0%, 80% 0%, 100% 50%, 80% 100%, 20% 100%, 0% 50%)",createPath:(e,t)=>`M ${.2*e} 0 L ${.8*e} 0 L ${e} ${.5*t} L ${.8*e} ${t} L ${.2*e} ${t} L 0 ${.5*t} Z`},heptagon:{name:"七边形",type:No.POLYGON,style:"polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%)",createPath:(e,t)=>`M ${.5*e} 0 L ${.9*e} ${.2*t} L ${e} ${.6*t} L ${.75*e} ${t} L ${.25*e} ${t} L 0 ${.6*t} L ${.1*e} ${.2*t} Z`},octagon:{name:"八边形",type:No.POLYGON,style:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)",createPath:(e,t)=>`M ${.3*e} 0 L ${.7*e} 0 L ${e} ${.3*t} L ${e} ${.7*t} L ${.7*e} ${t} L ${.3*e} ${t} L 0 ${.7*t} L 0 ${.3*t} Z`},chevron:{name:"V形",type:No.POLYGON,style:"polygon(75% 0%, 100% 50%, 75% 100%, 0% 100%, 25% 50%, 0% 0%)",createPath:(e,t)=>`M ${.75*e} 0 L ${e} ${.5*t} L ${.75*e} ${t} L 0 ${t} L ${.25*e} ${.5*t} L 0 0 Z`},point:{name:"点",type:No.POLYGON,style:"polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%)",createPath:(e,t)=>`M 0 0 L ${.75*e} 0 L ${e} ${.5*t} L ${.75*e} ${t} L 0 ${t} Z`},arrow:{name:"箭头",type:No.POLYGON,style:"polygon(0% 20%, 60% 20%, 60% 0%, 100% 50%, 60% 100%, 60% 80%, 0% 80%)",createPath:(e,t)=>`M 0 ${.2*t} L ${.6*e} ${.2*t} L ${.6*e} 0 L ${e} ${.5*t} L ${.6*e} ${t} L ${.6*e} ${.8*t} L 0 ${.8*t} Z`},parallelogram:{name:"平行四边形",type:No.POLYGON,style:"polygon(30% 0%, 100% 0%, 70% 100%, 0% 100%)",createPath:(e,t)=>`M ${.3*e} 0 L ${e} 0 L ${.7*e} ${t} L 0 ${t} Z`},parallelogram2:{name:"平行四边形2",type:No.POLYGON,style:"polygon(30% 100%, 100% 100%, 70% 0%, 0% 0%)",createPath:(e,t)=>`M ${.3*e} ${t} L ${e} ${t} L ${.7*e} 0 L 0 0 Z`},trapezoid:{name:"梯形",type:No.POLYGON,style:"polygon(25% 0%, 75% 0%, 100% 100%, 0% 100%)",createPath:(e,t)=>`M ${.25*e} 0 L ${.75*e} 0 L ${e} ${t} L 0 ${t} Z`},trapezoid2:{name:"梯形2",type:No.POLYGON,style:"polygon(0% 0%, 100% 0%, 75% 100%, 25% 100%)",createPath:(e,t)=>`M 0 0 L ${e} 0 L ${.75*e} ${t} L ${.25*e} ${t} Z`}};var Ao=e=>{const t=Object(i["computed"])(()=>{if(!e.value)return Do.rect;const t=e.value.shape||No.RECT;return Do[t]}),l=Object(i["computed"])(()=>{if(!e.value)return{top:"0",left:"0",width:"100%",height:"100%"};const[t,l]=e.value.range,o=(l[0]-t[0])/100,c=(l[1]-t[1])/100,n=t[0]/o,a=t[1]/c;return{left:-n+"%",top:-a+"%",width:100/o+"%",height:100/c+"%"}});return{clipShape:t,imgPosition:l}},zo=e=>{const t=Object(i["computed"])(()=>{if(!e.value)return"";let t="";for(const l of Object.keys(e.value))t+=`${l}(${e.value[l]}) `;return t});return{filter:t}},Fo=e=>{const t=Object(i["computed"])(()=>{var t,l;return null!==(t=null===(l=e.value)||void 0===l?void 0:l.width)&&void 0!==t?t:0}),l=Object(i["computed"])(()=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.style)||"solid"}),o=Object(i["computed"])(()=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.color)||"#469D8F"});return{outlineWidth:t,outlineStyle:l,outlineColor:o}};const $o=["width","height"],Ro=["rx","ry","width","height","stroke","stroke-width","stroke-dasharray"];var Po=Object(i["defineComponent"])({__name:"ImageRectOutline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object},radius:{type:String,default:"0"}},setup(e){const t=e,{outlineWidth:l,outlineStyle:o,outlineColor:c}=Fo(Object(i["toRef"])(t,"outline"));return(t,n)=>e.outline?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{key:0,class:"image-rect-outline",overflow:"visible",width:e.width,height:e.height},[Object(i["createElementVNode"])("rect",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",rx:e.radius,ry:e.radius,width:e.width,height:e.height,stroke:Object(i["unref"])(c),"stroke-width":Object(i["unref"])(l),"stroke-dasharray":"dashed"===Object(i["unref"])(o)?"10 6":"0 0"},null,8,Ro)],8,$o)):Object(i["createCommentVNode"])("",!0)}});l("fef7");const Ho=b()(Po,[["__scopeId","data-v-b5bace06"]]);var Uo=Ho;const qo=["width","height"],Go=["cx","cy","rx","ry","stroke","stroke-width","stroke-dasharray"];var Yo=Object(i["defineComponent"])({__name:"ImageEllipseOutline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object}},setup(e){const t=e,{outlineWidth:l,outlineStyle:o,outlineColor:c}=Fo(Object(i["toRef"])(t,"outline"));return(t,n)=>e.outline?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{key:0,class:"image-ellipse-outline",overflow:"visible",width:e.width,height:e.height},[Object(i["createElementVNode"])("ellipse",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",cx:e.width/2,cy:e.height/2,rx:e.width/2,ry:e.height/2,stroke:Object(i["unref"])(c),"stroke-width":Object(i["unref"])(l),"stroke-dasharray":"dashed"===Object(i["unref"])(o)?"10 6":"0 0"},null,8,Go)],8,qo)):Object(i["createCommentVNode"])("",!0)}});l("45c1");const Xo=b()(Yo,[["__scopeId","data-v-71b17928"]]);var Zo=Xo;const Wo=["width","height"],Jo=["d","stroke","stroke-width","stroke-dasharray"];var Qo=Object(i["defineComponent"])({__name:"ImagePolygonOutline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object},createPath:{type:Function,required:!0}},setup(e){const t=e,{outlineWidth:l,outlineStyle:o,outlineColor:c}=Fo(Object(i["toRef"])(t,"outline"));return(t,n)=>e.outline?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{key:0,class:"image-polygon-outline",overflow:"visible",width:e.width,height:e.height},[Object(i["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",d:e.createPath(e.width,e.height),stroke:Object(i["unref"])(c),"stroke-width":Object(i["unref"])(l),"stroke-dasharray":"dashed"===Object(i["unref"])(o)?"10 6":"0 0"},null,8,Jo)],8,Wo)):Object(i["createCommentVNode"])("",!0)}});l("180d");const Ko=b()(Qo,[["__scopeId","data-v-41071294"]]);var ec=Ko;const tc={class:"image-outline"};var lc=Object(i["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(i["computed"])(()=>t.elementInfo.clip),{clipShape:o}=Ao(l);return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",tc,["rect"===Object(i["unref"])(o).type?(Object(i["openBlock"])(),Object(i["createBlock"])(Uo,{key:0,width:e.elementInfo.width,height:e.elementInfo.height,radius:Object(i["unref"])(o).radius,outline:e.elementInfo.outline},null,8,["width","height","radius","outline"])):"ellipse"===Object(i["unref"])(o).type?(Object(i["openBlock"])(),Object(i["createBlock"])(Zo,{key:1,width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"])):"polygon"===Object(i["unref"])(o).type?(Object(i["openBlock"])(),Object(i["createBlock"])(ec,{key:2,width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline,createPath:Object(i["unref"])(o).createPath},null,8,["width","height","outline","createPath"])):Object(i["createCommentVNode"])("",!0)]))}});const oc=lc;var cc=oc;const nc=e=>(Object(i["pushScopeId"])("data-v-3e0199ec"),e=e(),Object(i["popScopeId"])(),e),ac=["src"],rc=["src"],ic=["onMousedown"],sc=nc(()=>Object(i["createElementVNode"])("svg",{width:"16",height:"16",fill:"#fff",stroke:"#333"},[Object(i["createElementVNode"])("path",{"stroke-width":"0.3","shape-rendering":"crispEdges",d:"M 16 0 L 0 0 L 0 16 L 4 16 L 4 4 L 16 4 L 16 0 Z"})],-1)),dc=[sc],uc=["onMousedown"],bc=nc(()=>Object(i["createElementVNode"])("svg",{width:"16",height:"16",fill:"#fff",stroke:"#333"},[Object(i["createElementVNode"])("path",{"stroke-width":"0.3","shape-rendering":"crispEdges",d:"M 16 0 L 0 0 L 0 4 L 16 4 Z"})],-1)),mc=[bc];var pc=Object(i["defineComponent"])({__name:"ImageClipHandler",props:{src:{type:String,required:!0},clipData:{type:Object},clipPath:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},top:{type:Number,required:!0},left:{type:Number,required:!0},rotate:{type:Number,required:!0}},emits:["clip"],setup(e,{emit:t}){const l=e,{canvasScale:o}=Object(a["c"])(Object(n["c"])()),{ctrlOrShiftKeyActive:c}=Object(a["c"])(Object(n["b"])()),r=Object(i["ref"])({top:"0",left:"0"}),s=Object(i["ref"])(!1),d=Object(i["ref"])(null),u=()=>{const[e,t]=l.clipData?l.clipData.range:[[0,0],[100,100]],o=(t[0]-e[0])/100,c=(t[1]-e[1])/100,n=e[0]/o,a=e[1]/c;return{widthScale:o,heightScale:c,left:n,top:a}},b=Object(i["computed"])(()=>{const{widthScale:e,heightScale:t,left:l,top:o}=u();return{left:-l,top:-o,width:100/e,height:100/t}}),m=Object(i["computed"])(()=>({top:b.value.top+"%",left:b.value.left+"%",width:b.value.width+"%",height:b.value.height+"%"})),p=Object(i["ref"])({top:0,left:0,width:0,height:0}),O=Object(i["computed"])(()=>{const{top:e,left:t,width:l,height:o}=p.value;return{top:e+"%",left:t+"%",width:l+"%",height:o+"%"}}),j=Object(i["computed"])(()=>{const e=b.value.width,t=b.value.height,{top:l,left:o,width:c,height:n}=p.value;return{left:100/c*-o+"%",top:100/n*-l+"%",width:e/c*100+"%",height:t/n*100+"%"}}),f=()=>{const{left:e,top:t}=u();p.value={left:e,top:t,width:100,height:100},r.value={top:-t+"%",left:-e+"%"}},v=()=>{if(s.value)return;if(!d.value)return void t("clip",null);const{left:e,top:o}=u(),c={left:(p.value.left-e)/100*l.width,top:(p.value.top-o)/100*l.height,width:(p.value.width-100)/100*l.width,height:(p.value.height-100)/100*l.height},n={range:d.value,position:c};t("clip",n)},h=e=>{const t=e.key.toUpperCase();t===Ht.ENTER&&v()};Object(i["onMounted"])(()=>{f(),document.addEventListener("keydown",h)}),Object(i["onUnmounted"])(()=>{document.removeEventListener("keydown",h)});const y=()=>{const e={left:parseInt(j.value.left),top:parseInt(j.value.top),width:parseInt(j.value.width),height:parseInt(j.value.height)},t=100/e.width,l=100/e.height,o=[-e.left*t,-e.top*l],c=[100*t+o[0],100*l+o[1]];d.value=[o,c]},g=e=>{s.value=!0;let t=!0;const c=e.pageX,n=e.pageY,a=b.value,r={...p.value};document.onmousemove=e=>{if(!t)return;const i=e.pageX,s=e.pageY;let d=(i-c)/o.value/l.width*100,u=(s-n)/o.value/l.height*100;l.rotate>45&&l.rotate<135&&(d=(s-n)/o.value/l.width*100,u=-(i-c)/o.value/l.height*100),(l.rotate>=135&&l.rotate<=180||l.rotate>=-180&&l.rotate<=-135)&&(d=-d,u=-u),l.rotate>-135&&l.rotate<-45&&(d=-(s-n)/o.value/l.width*100,u=(i-c)/o.value/l.height*100);let b=r.left+d,m=r.top+u;b<0?b=0:b+r.width>a.width&&(b=a.width-r.width),m<0?m=0:m+r.height>a.height&&(m=a.height-r.height),p.value={...p.value,left:b,top:m}},document.onmouseup=()=>{t=!1,document.onmousemove=null,document.onmouseup=null,y(),setTimeout(()=>{s.value=!1},0)}},x=(e,t)=>{s.value=!0;let n=!0;const a=50/l.width*100,r=50/l.height*100,i=e.pageX,d=e.pageY,u=b.value,m={...p.value},O=p.value.width/p.value.height;document.onmousemove=e=>{if(!n)return;const s=e.pageX,b=e.pageY;let j,f,v,h,y=(s-i)/o.value/l.width*100,g=(b-d)/o.value/l.height*100;l.rotate>45&&l.rotate<135&&(y=(b-d)/o.value/l.width*100,g=-(s-i)/o.value/l.height*100),(l.rotate>=135&&l.rotate<=180||l.rotate>=-180&&l.rotate<=-135)&&(y=-y,g=-g),l.rotate>-135&&l.rotate<-45&&(y=-(b-d)/o.value/l.width*100,g=(s-i)/o.value/l.height*100),c.value&&(t!==Rt.RIGHT_BOTTOM&&t!==Rt.LEFT_TOP||(g=y/O),t!==Rt.LEFT_BOTTOM&&t!==Rt.RIGHT_TOP||(g=-y/O)),t===Rt.LEFT_TOP?(m.left+y<0&&(y=-m.left),m.top+g<0&&(g=-m.top),m.width-y<a&&(y=m.width-a),m.height-g<r&&(g=m.height-r),v=m.width-y,h=m.height-g,j=m.left+y,f=m.top+g):t===Rt.RIGHT_TOP?(m.left+m.width+y>u.width&&(y=u.width-(m.left+m.width)),m.top+g<0&&(g=-m.top),m.width+y<a&&(y=a-m.width),m.height-g<r&&(g=m.height-r),v=m.width+y,h=m.height-g,j=m.left,f=m.top+g):t===Rt.LEFT_BOTTOM?(m.left+y<0&&(y=-m.left),m.top+m.height+g>u.height&&(g=u.height-(m.top+m.height)),m.width-y<a&&(y=m.width-a),m.height+g<r&&(g=r-m.height),v=m.width-y,h=m.height+g,j=m.left+y,f=m.top):t===Rt.RIGHT_BOTTOM?(m.left+m.width+y>u.width&&(y=u.width-(m.left+m.width)),m.top+m.height+g>u.height&&(g=u.height-(m.top+m.height)),m.width+y<a&&(y=a-m.width),m.height+g<r&&(g=r-m.height),v=m.width+y,h=m.height+g,j=m.left,f=m.top):t===Rt.TOP?(m.top+g<0&&(g=-m.top),m.height-g<r&&(g=m.height-r),v=m.width,h=m.height-g,j=m.left,f=m.top+g):t===Rt.BOTTOM?(m.top+m.height+g>u.height&&(g=u.height-(m.top+m.height)),m.height+g<r&&(g=r-m.height),v=m.width,h=m.height+g,j=m.left,f=m.top):t===Rt.LEFT?(m.left+y<0&&(y=-m.left),m.width-y<a&&(y=m.width-a),v=m.width-y,h=m.height,j=m.left+y,f=m.top):(m.left+m.width+y>u.width&&(y=u.width-(m.left+m.width)),m.width+y<a&&(y=a-m.width),h=m.height,v=m.width+y,j=m.left,f=m.top),p.value={left:j,top:f,width:v,height:h}},document.onmouseup=()=>{n=!1,document.onmousemove=null,document.onmouseup=null,y(),setTimeout(()=>s.value=!1,0)}},k=Object(i["computed"])(()=>{const e="rotate-",t=l.rotate;return t>-22.5&&t<=22.5?e+0:t>22.5&&t<=67.5?e+45:t>67.5&&t<=112.5?e+90:t>112.5&&t<=157.5?e+135:t>157.5||t<=-157.5?e+0:t>-157.5&&t<=-112.5?e+45:t>-112.5&&t<=-67.5?e+90:t>-67.5&&t<=-22.5?e+135:e+0}),C=[Rt.LEFT_TOP,Rt.RIGHT_TOP,Rt.LEFT_BOTTOM,Rt.RIGHT_BOTTOM],N=[Rt.TOP,Rt.BOTTOM,Rt.LEFT,Rt.RIGHT];return(t,l)=>{const o=Object(i["resolveDirective"])("click-outside");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"image-clip-handler",style:Object(i["normalizeStyle"])(r.value)},[Object(i["createElementVNode"])("img",{class:"bottom-img",src:e.src,draggable:!1,alt:"",style:Object(i["normalizeStyle"])(Object(i["unref"])(m))},null,12,ac),Object(i["createElementVNode"])("div",{class:"top-image-content",style:Object(i["normalizeStyle"])({...Object(i["unref"])(O),clipPath:e.clipPath})},[Object(i["createElementVNode"])("img",{class:"top-img",src:e.src,draggable:!1,alt:"",style:Object(i["normalizeStyle"])(Object(i["unref"])(j))},null,12,rc)],4),Object(i["createElementVNode"])("div",{class:"operate",style:Object(i["normalizeStyle"])(Object(i["unref"])(O)),onMousedown:l[0]||(l[0]=Object(i["withModifiers"])(e=>g(e),["stop"]))},[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(C,e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["clip-point",e,Object(i["unref"])(k)]),key:e,onMousedown:Object(i["withModifiers"])(t=>x(t,e),["stop"])},dc,42,ic)),64)),(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(N,e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["clip-point",e,Object(i["unref"])(k)]),key:e,onMousedown:Object(i["withModifiers"])(t=>x(t,e),["stop"])},mc,42,uc)),64))],36)],4)),[[o,v]])}}});l("5970");const Oc=b()(pc,[["__scopeId","data-v-3e0199ec"]]);var jc=Oc;const fc=["src"];var vc=Object(i["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=Object(n["c"])(),o=Object(n["e"])(),{clipingImageElementId:c}=Object(a["c"])(l),r=Object(i["computed"])(()=>c.value===t.elementInfo.id),{addHistorySnapshot:s}=Object(ll["a"])(),d=Object(i["computed"])(()=>t.elementInfo.shadow),{shadowStyle:u}=To(d),b=Object(i["computed"])(()=>t.elementInfo.flipH),m=Object(i["computed"])(()=>t.elementInfo.flipV),{flipStyle:p}=Mo(b,m),O=Object(i["computed"])(()=>t.elementInfo.clip),{clipShape:j,imgPosition:f}=Ao(O),v=Object(i["computed"])(()=>t.elementInfo.filters),{filter:h}=zo(v),y=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},g=e=>{if(l.setClipingImageElementId(""),!e)return;const{range:c,position:n}=e,a=t.elementInfo.clip||{shape:"rect",range:[[0,0],[100,100]]},r=t.elementInfo.left+n.left,i=t.elementInfo.top+n.top,d=t.elementInfo.width+n.width,u=t.elementInfo.height+n.height;let b=0,m=0;if(t.elementInfo.rotate){const e=r+d/2-(t.elementInfo.left+t.elementInfo.width/2),l=-(i+u/2-(t.elementInfo.top+t.elementInfo.height/2)),o=-t.elementInfo.rotate*Math.PI/180,c=e*Math.cos(o)-l*Math.sin(o),n=e*Math.sin(o)+l*Math.cos(o);b=c-e,m=-(n-l)}const p={clip:{...a,range:c},left:r+b,top:i+m,width:d,height:u};o.updateElement({id:t.elementInfo.id,props:p}),s()};return(t,l)=>{const o=Object(i["resolveDirective"])("contextmenu");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["editable-element-image",{lock:e.elementInfo.lock}]),style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["unref"])(r)?(Object(i["openBlock"])(),Object(i["createBlock"])(jc,{key:0,src:e.elementInfo.src,clipData:e.elementInfo.clip,width:e.elementInfo.width,height:e.elementInfo.height,top:e.elementInfo.top,left:e.elementInfo.left,rotate:e.elementInfo.rotate,clipPath:Object(i["unref"])(j).style,onClip:l[0]||(l[0]=e=>g(e))},null,8,["src","clipData","width","height","top","left","rotate","clipPath"])):Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,class:"element-content",style:Object(i["normalizeStyle"])({filter:Object(i["unref"])(u)?`drop-shadow(${Object(i["unref"])(u)})`:"",transform:Object(i["unref"])(p)}),onMousedown:l[2]||(l[2]=e=>y(e)),onTouchstart:l[3]||(l[3]=e=>y(e))},[Object(i["createVNode"])(cc,{elementInfo:e.elementInfo},null,8,["elementInfo"]),Object(i["createElementVNode"])("div",{class:"image-content",style:Object(i["normalizeStyle"])({clipPath:Object(i["unref"])(j).style})},[Object(i["createElementVNode"])("img",{src:e.elementInfo.src,draggable:!1,style:Object(i["normalizeStyle"])({top:Object(i["unref"])(f).top,left:Object(i["unref"])(f).left,width:Object(i["unref"])(f).width,height:Object(i["unref"])(f).height,filter:Object(i["unref"])(h)}),onDragstart:l[1]||(l[1]=Object(i["withModifiers"])(()=>{},["prevent"])),alt:""},null,44,fc),e.elementInfo.colorMask?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"color-mask",style:Object(i["normalizeStyle"])({backgroundColor:e.elementInfo.colorMask.color,opacity:e.elementInfo.colorMask.opacity})},null,4)):Object(i["createCommentVNode"])("",!0)],4)],36)),[[o,e.contextmenus]])],4)],6)}}});l("bcf0");const hc=b()(vc,[["__scopeId","data-v-963e3dfc"]]);var yc=hc;l("f3e6");const gc=["width","height"],xc=["d","stroke","stroke-width","stroke-dasharray"];var kc=Object(i["defineComponent"])({__name:"ElementOutline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object}},setup(e){const t=e,{outlineWidth:l,outlineStyle:o,outlineColor:c}=Fo(Object(i["toRef"])(t,"outline"));return(t,n)=>e.outline?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{key:0,class:"element-outline",overflow:"visible",width:e.width,height:e.height},[Object(i["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",d:`M0,0 L${e.width},0 L${e.width},${e.height} L0,${e.height} Z`,stroke:Object(i["unref"])(c),"stroke-width":Object(i["unref"])(l),"stroke-dasharray":"dashed"===Object(i["unref"])(o)?"10 6":"0 0"},null,8,xc)],8,gc)):Object(i["createCommentVNode"])("",!0)}});l("4731");const Cc=b()(kc,[["__scopeId","data-v-61b7d06a"]]);var Nc=Cc,Ec=l("ce1c"),wc=l("2566"),Vc=l("db87"),Ic=l("d5aa"),Bc=l("103c"),Sc=l("d67c"),Lc=l("05b7"),_c=l("2a11"),Tc=l("aa43"),Mc=l("28d9");const Dc=e=>{const t={},l=(e,l)=>t[e]=l;return l("Alt-ArrowUp",Ec["c"]),l("Alt-ArrowDown",Ec["b"]),l("Ctrl-z",Sc["c"]),l("Ctrl-y",Sc["b"]),l("Backspace",Mc["f"]),l("Escape",Ec["e"]),l("Ctrl-b",Object(Ec["f"])(e.marks.strong)),l("Ctrl-i",Object(Ec["f"])(e.marks.em)),l("Ctrl-u",Object(Ec["f"])(e.marks.underline)),l("Ctrl-d",Object(Ec["f"])(e.marks.strikethrough)),l("Enter",Object(Tc["f"])(e.nodes.list_item)),l("Mod-[",Object(Tc["b"])(e.nodes.list_item)),l("Mod-]",Object(Tc["e"])(e.nodes.list_item)),t},Ac=e=>Object(Mc["g"])(/^\s*>\s$/,e),zc=e=>Object(Mc["g"])(/^(\d+)\.\s$/,e,e=>({order:+e[1]}),(e,t)=>t.childCount+t.attrs.order===+e[1]),Fc=e=>Object(Mc["g"])(/^\s*([-+*])\s$/,e),$c=e=>Object(Mc["e"])(/^```$/,e),Rc=e=>{const t=[...Mc["d"],Mc["a"],Mc["b"]];return t.push(Ac(e.nodes.blockquote)),t.push(zc(e.nodes.ordered_list)),t.push(Fc(e.nodes.bullet_list)),t.push($c(e.nodes.code_block)),Object(Mc["c"])({rules:t})},Pc=e=>[Rc(e),Object(Bc["b"])(Dc(e)),Object(Bc["b"])(Ec["a"]),Object(Lc["a"])(),Object(_c["a"])(),Object(Sc["a"])()];var Hc=l("5bf8");const Uc={...Tc["d"],content:"list_item+",group:"block"},qc={...Tc["a"],content:"list_item+",group:"block"},Gc={...Tc["c"],content:"paragraph block*",group:"block"},Yc={attrs:{align:{default:""},indent:{default:0}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:e=>{const{textAlign:t}=e.style;let l=e.getAttribute("align")||t||"";l=/(left|right|center|justify)/.test(l)?l:"";const o=+(e.getAttribute("data-indent")||0);return{align:l,indent:o}}}],toDOM:e=>{const{align:t,indent:l}=e.attrs;let o="";t&&"left"!==t&&(o+=`text-align: ${t};`);const c={style:o};return l&&(c["data-indent"]=l),["p",c,0]}},{hard_break:Xc,...Zc}=Hc["b"];var Wc={...Zc,ordered_list:Uc,bullet_list:qc,list_item:Gc,paragraph:Yc};const Jc={excludes:"subscript",parseDOM:[{tag:"sub"},{style:"vertical-align",getAttrs:e=>"sub"===e&&null}],toDOM:()=>["sub",0]},Qc={excludes:"superscript",parseDOM:[{tag:"sup"},{style:"vertical-align",getAttrs:e=>"super"===e&&null}],toDOM:()=>["sup",0]},Kc={parseDOM:[{tag:"strike"},{style:"text-decoration",getAttrs:e=>"line-through"===e&&null},{style:"text-decoration-line",getAttrs:e=>"line-through"===e&&null}],toDOM:()=>["span",{style:"text-decoration-line: line-through"},0]},en={parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:e=>"underline"===e&&null},{style:"text-decoration-line",getAttrs:e=>"underline"===e&&null}],toDOM:()=>["span",{style:"text-decoration: underline"},0]},tn={attrs:{color:{}},inline:!0,group:"inline",parseDOM:[{style:"color",getAttrs:e=>e?{color:e}:{}}],toDOM:e=>{const{color:t}=e.attrs;let l="";return t&&(l+=`color: ${t};`),["span",{style:l},0]}},ln={attrs:{backcolor:{}},inline:!0,group:"inline",parseDOM:[{style:"background-color",getAttrs:e=>e?{backcolor:e}:{}}],toDOM:e=>{const{backcolor:t}=e.attrs;let l="";return t&&(l+=`background-color: ${t};`),["span",{style:l},0]}},on={attrs:{fontsize:{}},inline:!0,group:"inline",parseDOM:[{style:"font-size",getAttrs:e=>e?{fontsize:e}:{}}],toDOM:e=>{const{fontsize:t}=e.attrs;let l="";return t&&(l+="font-size: "+t),["span",{style:l},0]}},cn={attrs:{fontname:{}},inline:!0,group:"inline",parseDOM:[{style:"font-family",getAttrs:e=>({fontname:e&&"string"===typeof e?e.replace(/[\"\']/g,""):""})}],toDOM:e=>{const{fontname:t}=e.attrs;let l="";return t&&(l+="font-family: "+t),["span",{style:l},0]}},nn={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href"),l=e.getAttribute("title");return{href:t,title:l}}}],toDOM:e=>["a",e.attrs,0]};var an={...Hc["a"],subscript:Jc,superscript:Qc,strikethrough:Kc,underline:en,forecolor:tn,backcolor:ln,fontsize:on,fontname:cn,link:nn};const rn=Wc,sn=an,dn=new Ic["i"]({nodes:rn,marks:sn}),un=e=>{const t=`<div>${e}</div>`,l=new window.DOMParser,o=l.parseFromString(t,"text/html").body.firstElementChild;return Ic["a"].fromSchema(dn).parse(o)},bn=(e,t,l={})=>new Vc["c"](e,{state:wc["b"].create({doc:un(t),plugins:Pc(dn)}),...l});var mn,pn=l("6bca"),On=l("a512");(function(e){e["RICH_TEXT_COMMAND"]="RICH_TEXT_COMMAND",e["OPEN_CHART_DATA_EDITOR"]="OPEN_CHART_DATA_EDITOR",e["OPEN_LATEX_EDITOR"]="OPEN_LATEX_EDITOR"})(mn||(mn={}));const jn=Object(On["a"])();var fn=jn;const vn=(e,t,l)=>{const{selection:o,doc:c}=e;if(!o||!c)return e;const{from:n,to:a}=o,{nodes:r}=t,i=r.blockquote,s=r.list_item,d=r.paragraph,u=[];l=l||"";const b=new Set([i,s,d]);return c.nodesBetween(n,a,(e,t)=>{const o=e.type,c=e.attrs.align||"";return c!==l&&b.has(o)&&u.push({node:e,pos:t,nodeType:o}),!0}),u.length?(u.forEach(t=>{const{node:o,pos:c,nodeType:n}=t;let{attrs:a}=o;a=l?{...a,align:l}:{...a,align:null},e=e.setNodeMarkup(c,n,a,o.marks)}),e):e},hn=(e,t)=>{const{state:l}=e,{schema:o,selection:c}=l,n=vn(l.tr.setSelection(c),o,t);e.dispatch(n)},yn=(e,t)=>e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list,gn=(e,t)=>(l,o)=>{const{schema:c,selection:n}=l,{$from:a,$to:r}=n,i=a.blockRange(r);if(!i)return!1;const s=Object(pn["e"])(e=>yn(e,c))(n);if(i.depth>=1&&s&&i.depth-s.depth<=1){if(s.node.type===e)return Object(Tc["b"])(t)(l,o);if(yn(s.node,c)&&e.validContent(s.node.content)){const{tr:t}=l;return t.setNodeMarkup(s.pos,e),o&&o(t),!1}}return Object(Tc["g"])(e)(l,o)};function xn(e,t,l){if(!e.doc)return e;const o=e.doc.nodeAt(t);if(!o)return e;const c=0,n=7;let a=(o.attrs.indent||0)+l;if(a<c&&(a=c),a>n&&(a=n),a===o.attrs.indent)return e;const r={...o.attrs,indent:a};return e.setNodeMarkup(t,o.type,r,o.marks)}const kn=(e,t,l)=>{const{selection:o,doc:c}=e;if(!o||!c)return e;if(!(o instanceof wc["g"]||o instanceof wc["a"]))return e;const{from:n,to:a}=o;return c.nodesBetween(n,a,(o,c)=>{const n=o.type;return"paragraph"===n.name||"blockquote"===n.name?(e=xn(e,c,l),!1):!yn(o,t)}),e},Cn=(e,t)=>{const{state:l}=e,{schema:o,selection:c}=l,n=kn(l.tr.setSelection(c),o,t);return!!n.docChanged&&(e.dispatch(n),!0)};var Nn=Object(i["defineComponent"])({__name:"ProsemirrorEditor",props:{elementId:{type:String,required:!0},defaultColor:{type:String,required:!0},defaultFontName:{type:String,required:!0},editable:{type:Boolean,default:!1},value:{type:String,required:!0},autoFocus:{type:Boolean,default:!1}},emits:["update","focus","blur"],setup(e,{expose:t,emit:l}){const o=e,c=Object(n["c"])(),{handleElementId:r}=Object(a["c"])(c),s=Object(i["ref"])();let d;const u=Object(Mt["debounce"])((function(){l("update",d.dom.innerHTML)}),300,{trailing:!0}),b=()=>{c.setDisableHotkeysState(!0),l("focus")},m=()=>{c.setDisableHotkeysState(!1),l("blur")},p=Object(Mt["debounce"])((function(){const e=Object(pn["g"])(d,{color:o.defaultColor,fontname:o.defaultFontName});c.setRichtextAttrs(e)}),30,{trailing:!0}),O=()=>{u(),p()},j=Object(i["computed"])(()=>o.value);Object(i["watch"])(j,()=>{if(!d)return;if(d.hasFocus())return;const{doc:e,tr:t}=d.state;d.dispatch(t.replaceRangeWith(0,e.content.size,un(j.value)))}),Object(i["watch"])(()=>o.editable,()=>{d.setProps({editable:()=>o.editable})}),Object(i["onMounted"])(()=>{d=bn(s.value,j.value,{handleDOMEvents:{focus:b,blur:m,keydown:O,click:p},editable:()=>o.editable}),o.autoFocus&&d.focus()}),Object(i["onUnmounted"])(()=>{d&&d.destroy()});const f=()=>d.focus();t({focus:f});const v=({target:e,action:t})=>{if(!e&&r.value!==o.elementId)return;if(e&&e!==o.elementId)return;const l="command"in t?[t]:t;for(const o of l)if("fontname"===o.command&&o.value){const e=d.state.schema.marks.fontname.create({fontname:o.value});Object(pn["b"])(d),Object(pn["a"])(d,e)}else if("fontsize"===o.command&&o.value){const e=d.state.schema.marks.fontsize.create({fontsize:o.value});Object(pn["b"])(d),Object(pn["a"])(d,e)}else if("fontsize-add"===o.command){const e=o.value?+o.value:2;Object(pn["b"])(d);const t=Object(pn["f"])(d)+e+"px",l=d.state.schema.marks.fontsize.create({fontsize:t});Object(pn["a"])(d,l)}else if("fontsize-reduce"===o.command){const e=o.value?+o.value:2;Object(pn["b"])(d);let t=Object(pn["f"])(d)-e;t<12&&(t=12);const l=d.state.schema.marks.fontsize.create({fontsize:t+"px"});Object(pn["a"])(d,l)}else if("color"===o.command&&o.value){const e=d.state.schema.marks.forecolor.create({color:o.value});Object(pn["b"])(d),Object(pn["a"])(d,e)}else if("backcolor"===o.command&&o.value){const e=d.state.schema.marks.backcolor.create({backcolor:o.value});Object(pn["b"])(d),Object(pn["a"])(d,e)}else if("bold"===o.command)Object(pn["b"])(d),Object(Ec["f"])(d.state.schema.marks.strong)(d.state,d.dispatch);else if("em"===o.command)Object(pn["b"])(d),Object(Ec["f"])(d.state.schema.marks.em)(d.state,d.dispatch);else if("underline"===o.command)Object(pn["b"])(d),Object(Ec["f"])(d.state.schema.marks.underline)(d.state,d.dispatch);else if("strikethrough"===o.command)Object(pn["b"])(d),Object(Ec["f"])(d.state.schema.marks.strikethrough)(d.state,d.dispatch);else if("subscript"===o.command)Object(Ec["f"])(d.state.schema.marks.subscript)(d.state,d.dispatch);else if("superscript"===o.command)Object(Ec["f"])(d.state.schema.marks.superscript)(d.state,d.dispatch);else if("blockquote"===o.command)Object(Ec["g"])(d.state.schema.nodes.blockquote)(d.state,d.dispatch);else if("code"===o.command)Object(Ec["f"])(d.state.schema.marks.code)(d.state,d.dispatch);else if("align"===o.command&&o.value)hn(d,o.value);else if("indent"===o.command&&o.value)Cn(d,+o.value);else if("bulletList"===o.command){const{bullet_list:e,list_item:t}=d.state.schema.nodes;gn(e,t)(d.state,d.dispatch)}else if("orderedList"===o.command){const{ordered_list:e,list_item:t}=d.state.schema.nodes;gn(e,t)(d.state,d.dispatch)}else if("clear"===o.command){Object(pn["b"])(d);const{$from:e,$to:t}=d.state.selection;d.dispatch(d.state.tr.removeMark(e.pos,t.pos))}else if("link"===o.command){const e=d.state.schema.marks.link,{from:t,to:l}=d.state.selection,c=Object(pn["d"])(d.state.doc,t,l,e);if(c)if(o.value){const e=d.state.schema.marks.link.create({href:o.value,title:o.value});Object(pn["a"])(d,e,{from:c.from.pos,to:c.to.pos+1})}else d.dispatch(d.state.tr.removeMark(c.from.pos,c.to.pos+1,e));else if(Object(pn["h"])(d.state,e))if(o.value){const e=d.state.schema.marks.link.create({href:o.value,title:o.value});Object(pn["a"])(d,e)}else Object(Ec["f"])(e)(d.state,d.dispatch);else o.value&&(Object(pn["b"])(d),Object(Ec["f"])(e,{href:o.value,title:o.value})(d.state,d.dispatch))}else"insert"===o.command&&o.value&&d.dispatch(d.state.tr.insertText(o.value));d.focus(),u(),p()};return fn.on(mn.RICH_TEXT_COMMAND,v),Object(i["onUnmounted"])(()=>{fn.off(mn.RICH_TEXT_COMMAND,v)}),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"prosemirror-editor",ref_key:"editorViewRef",ref:s},null,512))}});l("a511");const En=b()(Nn,[["__scopeId","data-v-1debd6ff"]]);var wn=En;const Vn=e=>(Object(i["pushScopeId"])("data-v-7135a611"),e=e(),Object(i["popScopeId"])(),e),In=Vn(()=>Object(i["createElementVNode"])("div",{class:"drag-handler top"},null,-1)),Bn=Vn(()=>Object(i["createElementVNode"])("div",{class:"drag-handler bottom"},null,-1));var Sn=Object(i["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=Object(n["c"])(),o=Object(n["e"])(),{handleElementId:c,isScaling:r}=Object(a["c"])(l),{addHistorySnapshot:s}=Object(ll["a"])(),d=Object(i["ref"])(),u=Object(i["computed"])(()=>t.elementInfo.shadow),{shadowStyle:b}=To(u),m=(e,l=!0)=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo,l))},p=Object(i["ref"])(-1);Object(i["watch"])(r,()=>{c.value===t.elementInfo.id&&(r.value||-1===p.value||(o.updateElement({id:t.elementInfo.id,props:{height:p.value}}),p.value=-1))});const O=e=>{const l=e[0].contentRect;if(!d.value)return;const c=l.height;t.elementInfo.height!==c&&(r.value?p.value=c:o.updateElement({id:t.elementInfo.id,props:{height:c}}))},j=new ResizeObserver(O);Object(i["onMounted"])(()=>{d.value&&j.observe(d.value)}),Object(i["onUnmounted"])(()=>{d.value&&j.unobserve(d.value)});const f=e=>{o.updateElement({id:t.elementInfo.id,props:{content:e}}),s()},v=()=>{const e=t.elementInfo.content.replaceAll(/<[^>]+>/g,"");e||o.deleteElement(t.elementInfo.id)},h=Object(i["computed"])(()=>c.value===t.elementInfo.id);return Object(i["watch"])(h,()=>{h.value||v()}),(t,l)=>{const o=Object(i["resolveDirective"])("contextmenu");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["editable-element-text",{lock:e.elementInfo.lock}]),ref_key:"elementRef",ref:d,style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"element-content",style:Object(i["normalizeStyle"])({backgroundColor:e.elementInfo.fill,opacity:e.elementInfo.opacity,textShadow:Object(i["unref"])(b),lineHeight:e.elementInfo.lineHeight,letterSpacing:(e.elementInfo.wordSpace||0)+"px",color:e.elementInfo.defaultColor,fontFamily:e.elementInfo.defaultFontName}),onMousedown:l[3]||(l[3]=e=>m(e)),onTouchstart:l[4]||(l[4]=e=>m(e))},[Object(i["createVNode"])(Nc,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(i["createVNode"])(wn,{class:"text",elementId:e.elementInfo.id,defaultColor:e.elementInfo.defaultColor,defaultFontName:e.elementInfo.defaultFontName,editable:!e.elementInfo.lock,value:e.elementInfo.content,style:Object(i["normalizeStyle"])({"--textIndent":(e.elementInfo.textIndent||0)+"px","--paragraphSpace":(void 0===e.elementInfo.paragraphSpace?5:e.elementInfo.paragraphSpace)+"px"}),onUpdate:l[0]||(l[0]=e=>f(e)),onMousedown:l[1]||(l[1]=e=>m(e,!1)),onTouchstart:l[2]||(l[2]=e=>m(e))},null,8,["elementId","defaultColor","defaultFontName","editable","value","style"]),In,Bn],36)),[[o,e.contextmenus]])],4)],6)}}});l("59bb");const Ln=b()(Sn,[["__scopeId","data-v-7135a611"]]);var _n=Ln;const Tn=["id","gradientTransform"],Mn=["stop-color"],Dn=["stop-color"],An=["id"],zn=["stop-color"],Fn=["stop-color"];var $n=Object(i["defineComponent"])({__name:"GradientDefs",props:{id:{type:String,required:!0},type:{type:String},color1:{type:String,required:!0},color2:{type:String,required:!0},rotate:{type:Number,default:0}},setup(e){return(t,l)=>"linear"===e.type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("linearGradient",{key:0,id:e.id,x1:"0%",y1:"0%",x2:"100%",y2:"0%",gradientTransform:`rotate(${e.rotate},0.5,0.5)`},[Object(i["createElementVNode"])("stop",{offset:"0%","stop-color":e.color1},null,8,Mn),Object(i["createElementVNode"])("stop",{offset:"100%","stop-color":e.color2},null,8,Dn)],8,Tn)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("radialGradient",{key:1,id:e.id},[Object(i["createElementVNode"])("stop",{offset:"0%","stop-color":e.color1},null,8,zn),Object(i["createElementVNode"])("stop",{offset:"100%","stop-color":e.color2},null,8,Fn)],8,An))}});const Rn=$n;var Pn=Rn;const Hn=["width","height"],Un={key:0},qn=["transform"],Gn=["d","fill","stroke","stroke-width","stroke-dasharray"];var Yn=Object(i["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=Object(n["c"])(),o=Object(n["e"])(),{handleElementId:c}=Object(a["c"])(l),{addHistorySnapshot:r}=Object(ll["a"])(),s=(e,l=!0)=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo,l))},d=Object(i["computed"])(()=>t.elementInfo.outline),{outlineWidth:u,outlineStyle:b,outlineColor:m}=Fo(d),p=Object(i["computed"])(()=>t.elementInfo.shadow),{shadowStyle:O}=To(p),j=Object(i["computed"])(()=>t.elementInfo.flipH),f=Object(i["computed"])(()=>t.elementInfo.flipV),{flipStyle:v}=Mo(j,f),h=Object(i["ref"])(!1);Object(i["watch"])(c,()=>{c.value!==t.elementInfo.id&&h.value&&(h.value=!1)});const y=Object(i["computed"])(()=>{const e={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"};return t.elementInfo.text?t.elementInfo.text:e}),g=e=>{const l={...y.value,content:e};o.updateElement({id:t.elementInfo.id,props:{text:l}}),r()},x=()=>{if(!t.elementInfo.text)return;const e=t.elementInfo.text.content.replaceAll(/<[^>]+>/g,"");e||(o.removeElementProps({id:t.elementInfo.id,propName:"text"}),r())},k=Object(i["ref"])(),C=()=>{h.value=!0,Object(i["nextTick"])(()=>k.value&&k.value.focus())};return(t,l)=>{const o=Object(i["resolveDirective"])("contextmenu");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["editable-element-shape",{lock:e.elementInfo.lock}]),style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"element-content",style:Object(i["normalizeStyle"])({opacity:e.elementInfo.opacity,filter:Object(i["unref"])(O)?`drop-shadow(${Object(i["unref"])(O)})`:"",transform:Object(i["unref"])(v),color:Object(i["unref"])(y).defaultColor,fontFamily:Object(i["unref"])(y).defaultFontName}),onMousedown:l[4]||(l[4]=e=>s(e)),onTouchstart:l[5]||(l[5]=e=>s(e)),onDblclick:l[6]||(l[6]=e=>C())},[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height},[e.elementInfo.gradient?(Object(i["openBlock"])(),Object(i["createElementBlock"])("defs",Un,[Object(i["createVNode"])(Pn,{id:"editabel-gradient-"+e.elementInfo.id,type:e.elementInfo.gradient.type,color1:e.elementInfo.gradient.color[0],color2:e.elementInfo.gradient.color[1],rotate:e.elementInfo.gradient.rotate},null,8,["id","type","color1","color2","rotate"])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("g",{transform:`scale(${e.elementInfo.width/e.elementInfo.viewBox[0]}, ${e.elementInfo.height/e.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(i["createElementVNode"])("path",{class:"shape-path","vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",d:e.elementInfo.path,fill:e.elementInfo.gradient?`url(#editabel-gradient-${e.elementInfo.id})`:e.elementInfo.fill,stroke:Object(i["unref"])(m),"stroke-width":Object(i["unref"])(u),"stroke-dasharray":"dashed"===Object(i["unref"])(b)?"10 6":"0 0"},null,8,Gn)],8,qn)],8,Hn)),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["shape-text",[Object(i["unref"])(y).align,{editable:h.value||Object(i["unref"])(y).content}]])},[h.value||Object(i["unref"])(y).content?(Object(i["openBlock"])(),Object(i["createBlock"])(wn,{key:0,ref_key:"prosemirrorEditorRef",ref:k,elementId:e.elementInfo.id,defaultColor:Object(i["unref"])(y).defaultColor,defaultFontName:Object(i["unref"])(y).defaultFontName,editable:!e.elementInfo.lock,value:Object(i["unref"])(y).content,onUpdate:l[0]||(l[0]=e=>g(e)),onBlur:l[1]||(l[1]=e=>x()),onMousedown:l[2]||(l[2]=e=>s(e,!1)),onTouchstart:l[3]||(l[3]=e=>s(e,!1))},null,8,["elementId","defaultColor","defaultFontName","editable","value"])):Object(i["createCommentVNode"])("",!0)],2)],36)),[[o,e.contextmenus]])],4)],6)}}});l("990c");const Xn=b()(Yn,[["__scopeId","data-v-d4c718fa"]]);var Zn=Xn;const Wn=["id","markerWidth","markerHeight","refX","refY"],Jn=["d","fill","transform"];var Qn=Object(i["defineComponent"])({__name:"LinePointMarker",props:{id:{type:String,required:!0},position:{type:String,required:!0},type:{type:String,required:!0},color:{type:String},baseSize:{type:Number,required:!0}},setup(e){const t=e,l={dot:"m0 5a5 5 0 1 0 10 0a5 5 0 1 0 -10 0z",arrow:"M0,0 L10,5 0,10 Z"},o={"arrow-start":180,"arrow-end":0},c=Object(i["computed"])(()=>l[t.type]),n=Object(i["computed"])(()=>o[`${t.type}-${t.position}`]||0),a=Object(i["computed"])(()=>t.baseSize<2?2:t.baseSize);return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("marker",{id:`${e.id}-${e.type}-${e.position}`,markerUnits:"userSpaceOnUse",orient:"auto",markerWidth:3*Object(i["unref"])(a),markerHeight:3*Object(i["unref"])(a),refX:1.5*Object(i["unref"])(a),refY:1.5*Object(i["unref"])(a)},[Object(i["createElementVNode"])("path",{d:Object(i["unref"])(c),fill:e.color,transform:`scale(${.3*Object(i["unref"])(a)}, ${.3*Object(i["unref"])(a)}) rotate(${Object(i["unref"])(n)}, 5, 5)`},null,8,Jn)],8,Wn))}});const Kn=Qn;var ea=Kn;const ta=["width","height"],la=["d","stroke","stroke-width","stroke-dasharray","marker-start","marker-end"],oa=["d"];var ca=Object(i["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},o=Object(i["computed"])(()=>t.elementInfo.shadow),{shadowStyle:c}=To(o),n=Object(i["computed"])(()=>{const e=Math.abs(t.elementInfo.start[0]-t.elementInfo.end[0]);return e<24?24:e}),a=Object(i["computed"])(()=>{const e=Math.abs(t.elementInfo.start[1]-t.elementInfo.end[1]);return e<24?24:e}),r=Object(i["computed"])(()=>"dashed"===t.elementInfo.style?"10 6":"0 0"),s=Object(i["computed"])(()=>Object(Gt["d"])(t.elementInfo));return(t,o)=>{const d=Object(i["resolveDirective"])("contextmenu");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["editable-element-shape",{lock:e.elementInfo.lock}]),style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px"})},[Object(i["createElementVNode"])("div",{class:"element-content",style:Object(i["normalizeStyle"])({filter:Object(i["unref"])(c)?`drop-shadow(${Object(i["unref"])(c)})`:""}),onMousedown:o[0]||(o[0]=e=>l(e)),onTouchstart:o[1]||(o[1]=e=>l(e))},[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{overflow:"visible",width:Object(i["unref"])(n),height:Object(i["unref"])(a)},[Object(i["createElementVNode"])("defs",null,[e.elementInfo.points[0]?(Object(i["openBlock"])(),Object(i["createBlock"])(ea,{key:0,id:e.elementInfo.id,position:"start",type:e.elementInfo.points[0],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(i["createCommentVNode"])("",!0),e.elementInfo.points[1]?(Object(i["openBlock"])(),Object(i["createBlock"])(ea,{key:1,id:e.elementInfo.id,position:"end",type:e.elementInfo.points[1],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("path",{class:"line-point",d:Object(i["unref"])(s),stroke:e.elementInfo.color,"stroke-width":e.elementInfo.width,"stroke-dasharray":Object(i["unref"])(r),fill:"none","marker-start":e.elementInfo.points[0]?`url(#${e.elementInfo.id}-${e.elementInfo.points[0]}-start)`:"","marker-end":e.elementInfo.points[1]?`url(#${e.elementInfo.id}-${e.elementInfo.points[1]}-end)`:""},null,8,la),Object(i["withDirectives"])(Object(i["createElementVNode"])("path",{class:"line-path",d:Object(i["unref"])(s),stroke:"transparent","stroke-width":"20",fill:"none"},null,8,oa),[[d,e.contextmenus]])],8,ta))],36)],6)}}});l("bde5");const na=b()(ca,[["__scopeId","data-v-6550e504"]]);var aa=na,ra=l("6dcd"),ia=l.n(ra),sa=l("5edb"),da=l.n(sa),ua=(l("965c"),Object(i["defineComponent"])({__name:"Chart",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},type:{type:String,required:!0},data:{type:Object,required:!0},options:{type:Object},themeColor:{type:Array,required:!0},legends:{type:Array,required:!0},gridColor:{type:String},legend:{type:String}},setup(e){const t=e,l=Object(i["ref"])(),o=Object(i["inject"])(mo)||Object(i["ref"])(1);let c;const n=Object(i["computed"])(()=>t.legend?t.height-20:t.height),a=()=>{const e=t.options||{},l={...e,width:t.width*o.value,height:n.value*o.value},c="pie"===t.type?{...t.data,series:t.data.series[0]}:t.data;return{data:c,options:l}},r=()=>{if(!l.value)return;const e=Object(Mt["upperFirst"])(t.type),{data:o,options:n}=a();c=new da.a[e](l.value,o,n)},s=()=>{if(!c)return void r();const{data:e,options:t}=a();c.update(e,t)};Object(i["watch"])([()=>t.width,()=>t.height,()=>t.data,()=>t.options,o],s),Object(i["onMounted"])(r);const d=Object(i["computed"])(()=>{let e=[];if(t.themeColor.length>=10)e=t.themeColor;else if(1===t.themeColor.length)e=ia()(t.themeColor[0]).analogous(10).map(e=>e.toHexString());else{const l=t.themeColor.length,o=ia()(t.themeColor[l-1]).analogous(11-l).map(e=>e.toHexString());e=[...t.themeColor.slice(0,l-1),...o]}return e}),u=()=>{if(l.value)for(let e=0;e<10;e++)l.value.style.setProperty("--theme-color-"+(e+1),d.value[e])};Object(i["watch"])(d,u),Object(i["onMounted"])(u);const b=()=>{l.value&&t.gridColor&&l.value.style.setProperty("--grid-color",t.gridColor)};return Object(i["watch"])(()=>t.gridColor,b),Object(i["onMounted"])(b),(t,c)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"chart",style:Object(i["normalizeStyle"])({flexDirection:"top"===e.legend?"column-reverse":"column"})},[Object(i["createElementVNode"])("div",{class:"chart-content",ref_key:"chartRef",ref:l,style:Object(i["normalizeStyle"])({width:e.width+"px",height:Object(i["unref"])(n)+"px",transform:`scale(${1/Object(i["unref"])(o)})`})},null,4),e.legend?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"legends",style:Object(i["normalizeStyle"])({transform:`scale(${1/Object(i["unref"])(o)})`})},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.legends,(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"legend",key:l,style:Object(i["normalizeStyle"])({color:e.gridColor})},[Object(i["createElementVNode"])("div",{class:"block",style:Object(i["normalizeStyle"])({backgroundColor:Object(i["unref"])(d)[l]})},null,4),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(t),1)],4))),128))],4)):Object(i["createCommentVNode"])("",!0)],4))}}));l("921b"),l("f630");const ba=b()(ua,[["__scopeId","data-v-1aa2357d"]]);var ma=ba,pa=Object(i["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},o=()=>{fn.emit(mn.OPEN_CHART_DATA_EDITOR)};return(t,c)=>{const n=Object(i["resolveDirective"])("contextmenu");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["editable-element-chart",{lock:e.elementInfo.lock}]),style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"element-content",style:Object(i["normalizeStyle"])({backgroundColor:e.elementInfo.fill}),onMousedown:c[0]||(c[0]=e=>l(e)),onTouchstart:c[1]||(c[1]=e=>l(e)),onDblclick:c[2]||(c[2]=e=>o())},[Object(i["createVNode"])(Nc,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(i["createVNode"])(ma,{width:e.elementInfo.width,height:e.elementInfo.height,type:e.elementInfo.chartType,data:e.elementInfo.data,options:e.elementInfo.options,themeColor:e.elementInfo.themeColor,gridColor:e.elementInfo.gridColor,legends:e.elementInfo.data.legends,legend:e.elementInfo.legend||""},null,8,["width","height","type","data","options","themeColor","gridColor","legends","legend"])],36)),[[n,e.contextmenus]])],4)],6)}}});l("8216");const Oa=b()(pa,[["__scopeId","data-v-f3c03862"]]);var ja=Oa;l("3b4f");const fa=e=>{if(!e)return{};const{bold:t,em:l,underline:o,strikethrough:c,color:n,backcolor:a,fontsize:r,fontname:i,align:s}=e;let d=`${o?"underline":""} ${c?"line-through":""}`;return" "===d&&(d="none"),{fontWeight:t?"bold":"normal",fontStyle:l?"italic":"normal",textDecoration:d,color:n||"#000",backgroundColor:a||"",fontSize:r||"14px",fontFamily:i||"微软雅黑",textAlign:s||"left"}},va=e=>e.replace(/\n/g,"</br>").replace(/ /g,"&nbsp;");var ha=e=>{const t=Object(i["computed"])(()=>{const t=[];for(let l=0;l<e.value.length;l++){const o=e.value[l];for(let e=0;e<o.length;e++){const c=o[e];if(c.colspan>1||c.rowspan>1)for(let o=l;o<l+c.rowspan;o++)for(let n=o===l?e+1:e;n<e+c.colspan;n++)t.push(`${o}_${n}`)}}return t});return{hideCells:t}},ya=e=>{const t=Object(i["ref"])(["",""]);return Object(i["watch"])(()=>e.value,()=>{e.value&&(t.value=Object(Gt["g"])(e.value.color))},{immediate:!0}),{subThemeColor:t}};const ga=["innerHTML"];var xa=Object(i["defineComponent"])({__name:"CustomTextarea",props:{value:{type:String,default:""},contenteditable:{type:[Boolean,String],default:!1}},emits:["updateValue","insertExcelData"],setup(e,{emit:t}){const l=e,o=Object(i["ref"])(),c=Object(i["ref"])(""),n=Object(i["ref"])(!1);Object(i["watch"])(()=>l.value,()=>{n.value||(c.value=l.value,o.value&&(o.value.innerHTML=l.value))},{immediate:!0});const a=()=>{if(!o.value)return;const e=o.value.innerHTML;t("updateValue",e)},r=()=>{n.value=!0,o.value&&(o.value.onpaste=e=>{if(e.preventDefault(),!e.clipboardData)return;const l=e.clipboardData.items[0];l&&"string"===l.kind&&"text/plain"===l.type&&l.getAsString(e=>{const l=qe(e);if("object"===typeof l)return;const c=Ge(e);if(c)return t("insertExcelData",c),void(o.value&&(o.value.innerHTML=c[0][0]));t("updateValue",e),document.execCommand("insertText",!1,e)})})},s=()=>{n.value=!1,o.value&&(o.value.onpaste=null)};return Object(i["onUnmounted"])(()=>{o.value&&(o.value.onpaste=null)}),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"custom-textarea",ref_key:"textareaRef",ref:o,onFocus:r,onBlur:s,onInput:t[0]||(t[0]=e=>a()),innerHTML:c.value},null,40,ga))}});l("80dc");const ka=b()(xa,[["__scopeId","data-v-cdb58a1e"]]);var Ca=ka;const Na={key:0,class:"handler"},Ea=["onMousedown"],wa=["width"],Va=["rowspan","colspan","data-cell-index","onMousedown","onMouseenter"],Ia=["innerHTML"];var Ba=Object(i["defineComponent"])({__name:"EditableTable",props:{data:{type:Array,required:!0},width:{type:Number,required:!0},colWidths:{type:Array,required:!0},outline:{type:Object,required:!0},theme:{type:Object},editable:{type:Boolean,default:!0}},emits:["change","changeColWidths","changeSelectedCells"],setup(e,{emit:t}){const l=e,{canvasScale:o}=Object(a["c"])(Object(n["c"])()),c=Object(i["ref"])(!1),r=Object(i["ref"])([]),s=Object(i["ref"])([]),d=Object(i["computed"])({get(){return l.data},set(e){t("change",e)}}),u=Object(i["computed"])(()=>l.theme),{subThemeColor:b}=ya(u),m=Object(i["ref"])([]),p=Object(i["computed"])(()=>m.value.reduce((e,t)=>e+t));Object(i["watch"])([()=>l.colWidths,()=>l.width],()=>{m.value=l.colWidths.map(e=>e*l.width)},{immediate:!0});const O=()=>{r.value=[],s.value=[]};Object(i["watch"])(()=>l.editable,()=>{l.editable||O()});const j=Object(i["computed"])(()=>{const e=[];for(let t=1;t<m.value.length+1;t++){const l=m.value.slice(0,t).reduce((e,t)=>e+t);e.push(l)}return e}),f=Object(i["computed"])(()=>l.data),{hideCells:v}=ha(f),h=Object(i["computed"])(()=>{if(!r.value.length)return[];const[e,t]=r.value;if(!s.value.length)return[`${e}_${t}`];const[l,o]=s.value;if(e===l&&t===o)return[`${e}_${t}`];const c=[],n=Math.min(e,l),a=Math.min(t,o),i=Math.max(e,l),u=Math.max(t,o);for(let r=0;r<d.value.length;r++){const e=d.value[r];for(let t=0;t<e.length;t++)r>=n&&r<=i&&t>=a&&t<=u&&c.push(`${r}_${t}`)}return c});Object(i["watch"])(h,(e,l)=>{Object(Mt["isEqual"])(e,l)||t("changeSelectedCells",h.value)});const y=Object(i["computed"])(()=>h.value.length>1?null:h.value[0]),g=(Object(i["computed"])(()=>{if(!r.value.length)return null;const[e,t]=r.value;if(!s.value.length)return{row:[e,e],col:[t,t]};const[l,o]=s.value;if(e===l&&t===o)return{row:[e,e],col:[t,t]};const c=Math.min(e,l),n=Math.min(t,o),a=Math.max(e,l),i=Math.max(t,o);return{row:[c,a],col:[n,i]}}),()=>c.value=!1),x=(e,t,l)=>{0===e.button&&(s.value=[],c.value=!0,r.value=[t,l])},k=(e,t)=>{c.value&&(s.value=[e,t])};Object(i["onMounted"])(()=>{document.addEventListener("mouseup",g)}),Object(i["onUnmounted"])(()=>{document.removeEventListener("mouseup",g)});const C=(e,t)=>v.value.includes(`${e}_${t}`),N=e=>{const t=d.value.length-1;r.value=[0,e],s.value=[t,e]},E=e=>{const t=d.value[e].length-1;r.value=[e,0],s.value=[e,t]},w=()=>{const e=d.value.length-1,t=d.value[e].length-1;r.value=[0,0],s.value=[e,t]},V=e=>{const t=JSON.parse(JSON.stringify(d.value)),l=d.value[e],o=[];for(let c=0;c<l.length;c++)C(e,c)&&o.push(c);for(const c of o)for(let l=e;l>=0;l--)if(!C(l,c)){t[l][c].rowspan=t[l][c].rowspan-1;break}t.splice(e,1),d.value=t},I=e=>{const l=JSON.parse(JSON.stringify(d.value)),o=[];for(let t=0;t<d.value.length;t++)C(t,e)&&o.push(t);for(const t of o)for(let o=e;o>=0;o--)if(!C(t,o)){l[t][o].colspan=l[t][o].colspan-1;break}d.value=l.map(t=>(t.splice(e,1),t)),m.value.splice(e,1),t("changeColWidths",m.value)},B=e=>{const t=JSON.parse(JSON.stringify(d.value)),l=[];for(let o=0;o<t[0].length;o++)l.push({colspan:1,rowspan:1,text:"",id:Object(qt["b"])(10)});t.splice(e,0,l),d.value=t},S=e=>{d.value=d.value.map(t=>{const l={colspan:1,rowspan:1,text:"",id:Object(qt["b"])(10)};return t.splice(e,0,l),t}),m.value.splice(e,0,100),t("changeColWidths",m.value)},L=(e,l)=>{let o=JSON.parse(JSON.stringify(d.value));const c={colspan:1,rowspan:1,text:""};if(e){const t=[];for(let l=0;l<e;l++){const e=[];for(let t=0;t<o[0].length;t++)e.push({...c,id:Object(qt["b"])(10)});t.push(e)}o=[...o,...t]}l&&(o=o.map(e=>{const t=[];for(let o=0;o<l;o++){const e={...c,id:Object(qt["b"])(10)};t.push(e)}return[...e,...t]}),m.value=[...m.value,...new Array(l).fill(100)],t("changeColWidths",m.value)),d.value=o},_=()=>{const[e,t]=r.value,[l,o]=s.value,c=Math.min(e,l),n=Math.min(t,o),a=Math.max(e,l),i=Math.max(t,o),u=JSON.parse(JSON.stringify(d.value));u[c][n].rowspan=a-c+1,u[c][n].colspan=i-n+1,d.value=u,O()},T=(e,t)=>{const l=JSON.parse(JSON.stringify(d.value));l[e][t].rowspan=1,l[e][t].colspan=1,d.value=l,O()},M=(e,l)=>{O();let c=!0;const n=m.value[l],a=e.pageX,r=50;document.onmousemove=e=>{if(!c)return;const t=(e.pageX-a)/o.value,i=n+t<r?r:Math.round(n+t);m.value[l]=i},document.onmouseup=()=>{c=!1,document.onmousemove=null,document.onmouseup=null,t("changeColWidths",m.value)}},D=()=>{const e=JSON.parse(JSON.stringify(d.value));for(let t=0;t<e.length;t++)for(let l=0;l<e[t].length;l++)h.value.includes(`${t}_${l}`)&&(e[t][l].text="");d.value=e},A=()=>{const e=(t,l)=>d.value[t]?d.value[t][l]?C(t,l)?e(t,l+1):[t,l]:e(t+1,0):null;s.value=[];const t=r.value[0],l=r.value[1]+1,o=e(t,l);o?r.value=o:(B(t+1),r.value=[t+1,0]),Object(i["nextTick"])(()=>{const e=document.querySelector(".cell-text.active");e&&e.focus()})},z=e=>{if(!l.editable||!h.value.length)return;const t=e.key.toUpperCase();if(h.value.length<2){if(t===Ht.TAB&&(e.preventDefault(),A()),e.ctrlKey&&t===Ht.UP){e.preventDefault();const t=+h.value[0].split("_")[0];B(t)}if(e.ctrlKey&&t===Ht.DOWN){e.preventDefault();const t=+h.value[0].split("_")[0];B(t+1)}if(e.ctrlKey&&t===Ht.LEFT){e.preventDefault();const t=+h.value[0].split("_")[1];S(t)}if(e.ctrlKey&&t===Ht.RIGHT){e.preventDefault();const t=+h.value[0].split("_")[1];S(t+1)}}else t===Ht.DELETE&&D()};Object(i["onMounted"])(()=>{document.addEventListener("keydown",z)}),Object(i["onUnmounted"])(()=>{document.removeEventListener("keydown",z)});const F=Object(Mt["debounce"])((function(e,l,o){d.value[l][o].text=e,t("change",d.value)}),300,{trailing:!0}),$=(e,l,o)=>{const c=e.length,n=e[0].length;let a=0,r=0;l+c>d.value.length&&(a=l+c-d.value.length),o+n>d.value[0].length&&(r=o+n-d.value[0].length),(a||r)&&L(a,r),Object(i["nextTick"])(()=>{for(let t=0;t<c;t++)for(let c=0;c<n;c++)d.value[l+t][o+c]&&(d.value[l+t][o+c].text=e[t][c]);t("change",d.value)})},R=()=>{const e=[];for(let t=0;t<d.value.length;t++){const l=d.value[t],o=[];for(let e=0;e<l.length;e++)C(t,e)||o.push(l[e]);o.length&&e.push(o)}return e},P=()=>{const e=R(),t=e.length>1,l=e[0].length>1;return{canDeleteRow:t,canDeleteCol:l}},H=(e,t)=>{const l=h.value.length>1,o=d.value[e][t],c=l,n=!l&&(o.rowspan>1||o.colspan>1);return{canMerge:c,canSplit:n}},U=e=>{const t=e.dataset.cellIndex,l=+t.split("_")[0],o=+t.split("_")[1];h.value.includes(`${l}_${o}`)||(r.value=[l,o],s.value=[]);const{canMerge:c,canSplit:n}=H(l,o),{canDeleteRow:a,canDeleteCol:i}=P();return[{text:"插入列",children:[{text:"到左侧",handler:()=>S(o)},{text:"到右侧",handler:()=>S(o+1)}]},{text:"插入行",children:[{text:"到上方",handler:()=>B(l)},{text:"到下方",handler:()=>B(l+1)}]},{text:"删除列",disable:!i,handler:()=>I(o)},{text:"删除行",disable:!a,handler:()=>V(l)},{divider:!0},{text:"合并单元格",disable:!c,handler:_},{text:"取消合并单元格",disable:!n,handler:()=>T(l,o)},{divider:!0},{text:"选中当前列",handler:()=>N(o)},{text:"选中当前行",handler:()=>E(l)},{text:"选中全部单元格",handler:w}]};return(t,l)=>{var o,c,n,a,r;const s=Object(i["resolveDirective"])("contextmenu");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"editable-table",style:Object(i["normalizeStyle"])({width:Object(i["unref"])(p)+"px"})},[e.editable?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Na,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(j),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"drag-line",key:t,style:Object(i["normalizeStyle"])({left:e+"px"}),onMousedown:e=>M(e,t)},null,44,Ea))),128))])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("table",{class:Object(i["normalizeClass"])({theme:Object(i["unref"])(u),"row-header":null===(o=Object(i["unref"])(u))||void 0===o?void 0:o.rowHeader,"row-footer":null===(c=Object(i["unref"])(u))||void 0===c?void 0:c.rowFooter,"col-header":null===(n=Object(i["unref"])(u))||void 0===n?void 0:n.colHeader,"col-footer":null===(a=Object(i["unref"])(u))||void 0===a?void 0:a.colFooter}),style:Object(i["normalizeStyle"])(`--themeColor: ${null===(r=Object(i["unref"])(u))||void 0===r?void 0:r.color}; --subThemeColor1: ${Object(i["unref"])(b)[0]}; --subThemeColor2: ${Object(i["unref"])(b)[1]}`)},[Object(i["createElementVNode"])("colgroup",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(m.value,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("col",{span:"1",key:t,width:e},null,8,wa))),128))]),Object(i["createElementVNode"])("tbody",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(d),(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:l},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t,(t,o)=>Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("td",{class:Object(i["normalizeClass"])(["cell",{selected:Object(i["unref"])(h).includes(`${l}_${o}`)&&Object(i["unref"])(h).length>1,active:Object(i["unref"])(y)===`${l}_${o}`}]),style:Object(i["normalizeStyle"])({borderStyle:e.outline.style,borderColor:e.outline.color,borderWidth:e.outline.width+"px",...Object(i["unref"])(fa)(t.style)}),key:t.id,rowspan:t.rowspan,colspan:t.colspan,"data-cell-index":`${l}_${o}`,onMousedown:e=>x(e,l,o),onMouseenter:e=>k(l,o)},[Object(i["unref"])(y)===`${l}_${o}`?(Object(i["openBlock"])(),Object(i["createBlock"])(Ca,{key:0,class:Object(i["normalizeClass"])(["cell-text",{active:Object(i["unref"])(y)===`${l}_${o}`}]),value:t.text,onUpdateValue:e=>Object(i["unref"])(F)(e,l,o),onInsertExcelData:e=>$(e,l,o)},null,8,["class","value","onUpdateValue","onInsertExcelData"])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,class:"cell-text",innerHTML:Object(i["unref"])(va)(t.text)},null,8,Ia))],46,Va)),[[i["vShow"],!Object(i["unref"])(v).includes(`${l}_${o}`)],[s,e=>U(e)]])),128))]))),128))])],6)],4)}}});l("bc8c");const Sa=b()(Ba,[["__scopeId","data-v-bae8c794"]]);var La=Sa;const _a={class:"element-content"};var Ta=Object(i["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=Object(n["c"])(),o=Object(n["e"])(),{canvasScale:c,handleElementId:r,isScaling:s}=Object(a["c"])(l),d=Object(i["ref"])(),{addHistorySnapshot:u}=Object(ll["a"])(),b=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},m=Object(i["ref"])(!1);Object(i["watch"])(r,()=>{r.value!==t.elementInfo.id&&(m.value=!1)}),Object(i["watch"])(m,()=>{l.setDisableHotkeysState(m.value)});const p=()=>{t.elementInfo.lock||(m.value=!0)},O=Object(i["ref"])(-1);Object(i["watch"])(s,()=>{r.value===t.elementInfo.id&&(s.value&&(m.value=!1),s.value||-1===O.value||(o.updateElement({id:t.elementInfo.id,props:{height:O.value}}),O.value=-1))});const j=e=>{const l=e[0].contentRect;if(!d.value)return;const c=l.height;t.elementInfo.height!==c&&(s.value?O.value=c:o.updateElement({id:t.elementInfo.id,props:{height:c}}))},f=new ResizeObserver(j);Object(i["onMounted"])(()=>{d.value&&f.observe(d.value)}),Object(i["onUnmounted"])(()=>{d.value&&f.unobserve(d.value)});const v=e=>{o.updateElement({id:t.elementInfo.id,props:{data:e}}),u()},h=e=>{const l=e.reduce((e,t)=>e+t),c=e.map(e=>e/l);o.updateElement({id:t.elementInfo.id,props:{width:l,colWidths:c}}),u()},y=e=>{Object(i["nextTick"])(()=>l.setSelectedTableCells(e))};return(t,l)=>{const o=Object(i["resolveDirective"])("contextmenu");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["editable-element-table",{lock:e.elementInfo.lock}]),ref_key:"elementRef",ref:d,style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",_a,[Object(i["createVNode"])(La,{onMousedown:l[0]||(l[0]=Object(i["withModifiers"])(()=>{},["stop"])),data:e.elementInfo.data,width:e.elementInfo.width,colWidths:e.elementInfo.colWidths,outline:e.elementInfo.outline,theme:e.elementInfo.theme,editable:m.value,onChange:l[1]||(l[1]=e=>v(e)),onChangeColWidths:l[2]||(l[2]=e=>h(e)),onChangeSelectedCells:l[3]||(l[3]=e=>y(e))},null,8,["data","width","colWidths","outline","theme","editable"]),!m.value||e.elementInfo.lock?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:Object(i["normalizeClass"])(["table-mask",{lock:e.elementInfo.lock}]),onDblclick:l[4]||(l[4]=e=>p()),onMousedown:l[5]||(l[5]=e=>b(e)),onTouchstart:l[6]||(l[6]=e=>b(e))},[Object(i["createElementVNode"])("div",{class:"mask-tip",style:Object(i["normalizeStyle"])({transform:`scale(${1/Object(i["unref"])(c)})`})},"双击编辑",4)],34)):Object(i["createCommentVNode"])("",!0)])),[[o,e.contextmenus]])],4)],6)}}});l("76c1");const Ma=b()(Ta,[["__scopeId","data-v-6391c486"]]);var Da=Ma;const Aa=["width","height","stroke","stroke-width"],za=["transform"],Fa=["d"];var $a=Object(i["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},o=()=>{fn.emit(mn.OPEN_LATEX_EDITOR)};return(t,c)=>{const n=Object(i["resolveDirective"])("contextmenu");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["editable-element-latex",{lock:e.elementInfo.lock}]),style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"element-content",onMousedown:c[0]||(c[0]=e=>l(e)),onTouchstart:c[1]||(c[1]=e=>l(e)),onDblclick:c[2]||(c[2]=e=>o())},[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.strokeWidth,fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[Object(i["createElementVNode"])("g",{transform:`scale(${e.elementInfo.width/e.elementInfo.viewBox[0]}, ${e.elementInfo.height/e.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(i["createElementVNode"])("path",{d:e.elementInfo.path},null,8,Fa)],8,za)],8,Aa))],32)),[[n,e.contextmenus]])],4)],6)}}});l("0f64");const Ra=b()($a,[["__scopeId","data-v-31390388"]]);var Pa=Ra,Ha=(e,t)=>{Object(i["onMounted"])(()=>{if(!t.value)return;let l="normal";if(/m3u8(#|\?|$)/i.exec(e)?l="hls":/.flv(#|\?|$)/i.exec(e)&&(l="flv"),t.value&&"hls"===l&&(t.value.canPlayType("application/x-mpegURL")||t.value.canPlayType("application/vnd.apple.mpegURL"))&&(l="normal"),"hls"===l){const l=window.Hls;if(l&&l.isSupported()){const o=new l;o.loadSource(e),o.attachMedia(t.value)}}else if("flv"===l){const l=window.flvjs;if(l&&l.isSupported()){const o=l.createPlayer({type:"flv",url:e});o.attachMediaElement(t.value),o.load()}}})};const Ua=e=>(Object(i["pushScopeId"])("data-v-2fc4c202"),e=e(),Object(i["popScopeId"])(),e),qa=["src","poster"],Ga={class:"bezel"},Ya=Ua(()=>Object(i["createElementVNode"])("div",{class:"controller-mask"},null,-1)),Xa={class:"controller"},Za={class:"icons icons-left"},Wa={class:"icon-content"},Ja={class:"volume"},Qa={class:"icon-content"},Ka=Ua(()=>Object(i["createElementVNode"])("span",{class:"thumb"},null,-1)),er=[Ka],tr={class:"time"},lr={class:"ptime"},or=Object(i["createTextVNode"])(" / "),cr={class:"dtime"},nr={class:"icons icons-right"},ar={class:"speed"},rr={class:"icon speed-icon"},ir=["onClick"],sr=Ua(()=>Object(i["createElementVNode"])("span",{class:"icon-content"},"循环",-1)),dr=[sr],ur={class:"bar"},br=Ua(()=>Object(i["createElementVNode"])("span",{class:"thumb"},null,-1)),mr=[br];var pr=Object(i["defineComponent"])({__name:"index",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},src:{type:String,required:!0},poster:{type:String,default:""},scale:{type:Number,default:1}},setup(e){const t=e,l=(e=0)=>{if(0===e||isNaN(e))return"00:00";const t=e=>e<10?"0"+e:""+e,l=Math.floor(e/3600),o=Math.floor((e-3600*l)/60),c=Math.floor(e-3600*l-60*o);return(l>0?[l,o,c]:[o,c]).map(t).join(":")},o=e=>e.getBoundingClientRect().left,c=Object(i["ref"])(),n=Object(i["ref"])(),a=Object(i["ref"])(),r=Object(i["ref"])(.5),s=Object(i["ref"])(!0),d=Object(i["ref"])(0),u=Object(i["ref"])(0),b=Object(i["ref"])(0),m=Object(i["ref"])(!1),p=Object(i["ref"])(!1),O=Object(i["ref"])(1),j=Object(i["ref"])(!1),f=Object(i["ref"])("00:00"),v=Object(i["ref"])("0"),h=Object(i["computed"])(()=>l(d.value)),y=Object(i["computed"])(()=>l(u.value)),g=Object(i["computed"])(()=>d.value/u.value*100+"%"),x=Object(i["computed"])(()=>b.value/u.value*100+"%"),k=Object(i["computed"])(()=>100*r.value+"%"),C=Object(i["ref"])(!1),N=[{label:"2x",value:2},{label:"1.5x",value:1.5},{label:"1.25x",value:1.25},{label:"1x",value:1},{label:"0.75x",value:.75},{label:"0.5x",value:.5}],E=e=>{c.value&&(e=Math.max(e,0),e=Math.min(e,u.value),c.value.currentTime=e,d.value=e)},w=()=>{c.value&&(s.value=!1,c.value.play(),p.value=!0)},V=()=>{c.value&&(s.value=!0,c.value.pause(),p.value=!0)},I=()=>{s.value?w():V()},B=e=>{c.value&&(e=Math.max(e,0),e=Math.min(e,1),c.value.volume=e,r.value=e,c.value.muted&&0!==e&&(c.value.muted=!1))},S=e=>{c.value&&(c.value.playbackRate=e),O.value=e},L=()=>{var e;u.value=(null===(e=c.value)||void 0===e?void 0:e.duration)||0},_=()=>{var e;d.value=(null===(e=c.value)||void 0===e?void 0:e.currentTime)||0},T=()=>{m.value?(E(0),w()):V()},M=()=>{var e;b.value=null!==(e=c.value)&&void 0!==e&&e.buffered.length?c.value.buffered.end(c.value.buffered.length-1):0},D=()=>De["a"].error("视频加载失败"),A=e=>{if(!c.value||!n.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX;let l=(t-o(n.value))/n.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);const a=l*u.value;c.value.currentTime=a,d.value=a},z=e=>{if(!c.value||!n.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX;let l=(t-o(n.value))/n.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);const a=l*u.value;c.value.currentTime=a,d.value=a,document.removeEventListener("mousemove",A),document.removeEventListener("touchmove",A),document.removeEventListener("mouseup",z),document.removeEventListener("touchend",z)},F=()=>{document.addEventListener("mousemove",A),document.addEventListener("touchmove",A),document.addEventListener("mouseup",z),document.addEventListener("touchend",z)},$=e=>{if(!a.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX,l=(t-o(a.value))/45;B(l)},R=()=>{document.removeEventListener("mousemove",$),document.removeEventListener("touchmove",$),document.removeEventListener("mouseup",R),document.removeEventListener("touchend",R)},P=()=>{document.addEventListener("mousemove",$),document.addEventListener("touchmove",$),document.addEventListener("mouseup",R),document.addEventListener("touchend",R)},H=e=>{if(!a.value)return;const t=(e.clientX-o(a.value))/45;B(t)},U=e=>{if(u.value&&n.value){const t=n.value.getBoundingClientRect().left,o=e.clientX-t;if(o<0||o>n.value.offsetWidth)return;const c=u.value*(o/n.value.offsetWidth);v.value=o-(c>=3600?25:20)+"px",f.value=l(c),j.value=!0}},q=()=>{c.value&&(c.value.muted?(c.value.muted=!1,B(.5)):(c.value.muted=!0,B(0)))},G=()=>{m.value=!m.value},Y=Object(i["ref"])(-1),X=Object(i["ref"])(!1),Z=()=>{X.value=!1,clearTimeout(Y.value),Y.value=setTimeout(()=>{var e;null!==(e=c.value)&&void 0!==e&&e.played.length&&(X.value=!0)},3e3)};return Ha(t.src,c),(t,l)=>{const o=Object(i["resolveComponent"])("IconPause"),d=Object(i["resolveComponent"])("IconPlayOne"),u=Object(i["resolveComponent"])("IconVolumeMute"),b=Object(i["resolveComponent"])("IconVolumeNotice"),E=Object(i["resolveComponent"])("IconVolumeSmall");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["video-player",{"hide-controller":X.value}]),style:Object(i["normalizeStyle"])({width:e.width*e.scale+"px",height:e.height*e.scale+"px",transform:`scale(${1/e.scale})`}),onMousemove:l[22]||(l[22]=e=>Z()),onClick:l[23]||(l[23]=e=>Z())},[Object(i["createElementVNode"])("div",{class:"video-wrap",onClick:l[8]||(l[8]=e=>I())},[Object(i["createElementVNode"])("video",{class:"video",ref_key:"videoRef",ref:c,src:e.src,poster:e.poster,"webkit-playsinline":"",playsinline:"",onDurationchange:l[0]||(l[0]=e=>L()),onTimeupdate:l[1]||(l[1]=e=>_()),onEnded:l[2]||(l[2]=e=>T()),onProgress:l[3]||(l[3]=e=>M()),onPlay:l[4]||(l[4]=e=>Z()),onPause:l[5]||(l[5]=e=>Z()),onError:l[6]||(l[6]=e=>D())},null,40,qa),Object(i["createElementVNode"])("div",Ga,[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["bezel-icon",{"bezel-transition":p.value}]),onAnimationend:l[7]||(l[7]=e=>p.value=!1)},[s.value?(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:0})):(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:1}))],34)])]),Ya,Object(i["createElementVNode"])("div",Xa,[Object(i["createElementVNode"])("div",Za,[Object(i["createElementVNode"])("div",{class:"icon play-icon",onClick:l[9]||(l[9]=e=>I())},[Object(i["createElementVNode"])("span",Wa,[s.value?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:0})):(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:1}))])]),Object(i["createElementVNode"])("div",Ja,[Object(i["createElementVNode"])("div",{class:"icon volume-icon",onClick:l[10]||(l[10]=e=>q())},[Object(i["createElementVNode"])("span",Qa,[0===r.value?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0})):1===r.value?(Object(i["openBlock"])(),Object(i["createBlock"])(b,{key:1})):(Object(i["openBlock"])(),Object(i["createBlock"])(E,{key:2}))])]),Object(i["createElementVNode"])("div",{class:"volume-bar-wrap",onMousedown:l[11]||(l[11]=e=>P()),onTouchstart:l[12]||(l[12]=e=>P()),onClick:l[13]||(l[13]=e=>H(e))},[Object(i["createElementVNode"])("div",{class:"volume-bar",ref_key:"volumeBarRef",ref:a},[Object(i["createElementVNode"])("div",{class:"volume-bar-inner",style:Object(i["normalizeStyle"])({width:Object(i["unref"])(k)})},er,4)],512)],32)]),Object(i["createElementVNode"])("span",tr,[Object(i["createElementVNode"])("span",lr,Object(i["toDisplayString"])(Object(i["unref"])(h)),1),or,Object(i["createElementVNode"])("span",cr,Object(i["toDisplayString"])(Object(i["unref"])(y)),1)])]),Object(i["createElementVNode"])("div",nr,[Object(i["createElementVNode"])("div",ar,[Object(i["createElementVNode"])("div",rr,[Object(i["createElementVNode"])("span",{class:"icon-content",onClick:l[14]||(l[14]=e=>C.value=!C.value)},"倍速"),C.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"speed-menu",onMouseleave:l[15]||(l[15]=e=>C.value=!1)},[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(N,e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["speed-menu-item",{active:e.value===O.value}]),key:e.label,onClick:t=>S(e.value)},Object(i["toDisplayString"])(e.label),11,ir)),64))],32)):Object(i["createCommentVNode"])("",!0)])]),Object(i["createElementVNode"])("div",{class:"loop",onClick:l[16]||(l[16]=e=>G())},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["icon loop-icon",{active:m.value}])},dr,2)])]),Object(i["createElementVNode"])("div",{class:"bar-wrap",ref_key:"playBarWrap",ref:n,onMousedown:l[17]||(l[17]=e=>F()),onTouchstart:l[18]||(l[18]=e=>F()),onMousemove:l[19]||(l[19]=e=>U(e)),onMouseenter:l[20]||(l[20]=e=>j.value=!0),onMouseleave:l[21]||(l[21]=e=>j.value=!1)},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["bar-time",{hidden:!j.value}]),style:Object(i["normalizeStyle"])({left:v.value})},Object(i["toDisplayString"])(f.value),7),Object(i["createElementVNode"])("div",ur,[Object(i["createElementVNode"])("div",{class:"loaded",style:Object(i["normalizeStyle"])({width:Object(i["unref"])(x)})},null,4),Object(i["createElementVNode"])("div",{class:"played",style:Object(i["normalizeStyle"])({width:Object(i["unref"])(g)})},mr,4)])],544)])],38)}}});l("3696");const Or=b()(pr,[["__scopeId","data-v-2fc4c202"]]);var jr=Or,fr=Object(i["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,{canvasScale:l}=Object(a["c"])(Object(n["c"])()),o=(e,l=!0)=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo,l))};return(t,c)=>{const n=Object(i["resolveDirective"])("contextmenu");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["editable-element-video",{lock:e.elementInfo.lock}]),style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"element-content",onMousedown:c[2]||(c[2]=e=>o(e,!1)),onTouchstart:c[3]||(c[3]=e=>o(e,!1))},[Object(i["createVNode"])(jr,{width:e.elementInfo.width,height:e.elementInfo.height,src:e.elementInfo.src,poster:e.elementInfo.poster,scale:Object(i["unref"])(l)},null,8,["width","height","src","poster","scale"]),(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(["t","b","l","r"],e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["handler-border",e]),key:e,onMousedown:c[0]||(c[0]=e=>o(e)),onTouchstart:c[1]||(c[1]=e=>o(e))},null,34)),64))],32)),[[n,e.contextmenus]])],4)],6)}}});l("679c");const vr=b()(fr,[["__scopeId","data-v-9d5469c6"]]);var hr=vr;const yr=e=>(Object(i["pushScopeId"])("data-v-121f3d11"),e=e(),Object(i["popScopeId"])(),e),gr=["src","autoplay"],xr={class:"controller"},kr={class:"icons"},Cr={class:"icon-content"},Nr={class:"volume"},Er={class:"icon-content"},wr=yr(()=>Object(i["createElementVNode"])("span",{class:"thumb"},null,-1)),Vr=[wr],Ir={class:"time"},Br={class:"ptime"},Sr=Object(i["createTextVNode"])(" / "),Lr={class:"dtime"},_r={class:"bar"},Tr=yr(()=>Object(i["createElementVNode"])("span",{class:"thumb"},null,-1)),Mr=[Tr];var Dr=Object(i["defineComponent"])({__name:"AudioPlayer",props:{src:{type:String,required:!0},loop:{type:Boolean,required:!0},autoplay:{type:Boolean,default:!1},scale:{type:Number,default:1}},setup(e,{expose:t}){const l=e,o=(e=0)=>{if(0===e||isNaN(e))return"00:00";const t=e=>e<10?"0"+e:""+e,l=Math.floor(e/3600),o=Math.floor((e-3600*l)/60),c=Math.floor(e-3600*l-60*o);return(l>0?[l,o,c]:[o,c]).map(t).join(":")},c=e=>e.getBoundingClientRect().left,n=Object(i["ref"])(),a=Object(i["ref"])(),r=Object(i["ref"])(),s=Object(i["ref"])(.5),d=Object(i["ref"])(!0),u=Object(i["ref"])(0),b=Object(i["ref"])(0),m=Object(i["ref"])(0),p=Object(i["ref"])(!1),O=Object(i["ref"])("00:00"),j=Object(i["ref"])("0"),f=Object(i["computed"])(()=>o(u.value)),v=Object(i["computed"])(()=>o(b.value)),h=Object(i["computed"])(()=>u.value/b.value*100+"%"),y=Object(i["computed"])(()=>m.value/b.value*100+"%"),g=Object(i["computed"])(()=>100*s.value+"%"),x=e=>{n.value&&(e=Math.max(e,0),e=Math.min(e,b.value),n.value.currentTime=e,u.value=e)},k=()=>{n.value&&(d.value=!1,n.value.play())},C=()=>{n.value&&(d.value=!0,n.value.pause())},N=()=>{d.value?k():C()},E=e=>{n.value&&(e=Math.max(e,0),e=Math.min(e,1),n.value.volume=e,s.value=e,n.value.muted&&0!==e&&(n.value.muted=!1))},w=()=>{var e;b.value=(null===(e=n.value)||void 0===e?void 0:e.duration)||0},V=()=>{var e;u.value=(null===(e=n.value)||void 0===e?void 0:e.currentTime)||0},I=()=>{d.value=!1},B=()=>{l.loop?(x(0),k()):C()},S=()=>{var e;m.value=null!==(e=n.value)&&void 0!==e&&e.buffered.length?n.value.buffered.end(n.value.buffered.length-1):0},L=()=>De["a"].error("视频加载失败"),_=e=>{if(!n.value||!a.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX;let l=(t-c(a.value))/a.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);const o=l*b.value;n.value.currentTime=o,u.value=o},T=e=>{if(!n.value||!a.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX;let l=(t-c(a.value))/a.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);const o=l*b.value;n.value.currentTime=o,u.value=o,document.removeEventListener("mousemove",_),document.removeEventListener("touchmove",_),document.removeEventListener("mouseup",T),document.removeEventListener("touchend",T)},M=()=>{document.addEventListener("mousemove",_),document.addEventListener("touchmove",_),document.addEventListener("mouseup",T),document.addEventListener("touchend",T)},D=e=>{if(!r.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX,l=(t-c(r.value))/45;E(l)},A=()=>{document.removeEventListener("mousemove",D),document.removeEventListener("touchmove",D),document.removeEventListener("mouseup",A),document.removeEventListener("touchend",A)},z=()=>{document.addEventListener("mousemove",D),document.addEventListener("touchmove",D),document.addEventListener("mouseup",A),document.addEventListener("touchend",A)},F=e=>{if(!r.value)return;const t=(e.clientX-c(r.value))/45;E(t)},$=e=>{if(b.value&&a.value){const t=a.value.getBoundingClientRect().left,l=e.clientX-t;if(l<0||l>a.value.offsetWidth)return;const c=b.value*(l/a.value.offsetWidth);j.value=l-(c>=3600?25:20)+"px",O.value=o(c),p.value=!0}},R=()=>{n.value&&(n.value.muted?(n.value.muted=!1,E(.5)):(n.value.muted=!0,E(0)))};return t({toggle:N}),(t,l)=>{const o=Object(i["resolveComponent"])("IconPlayOne"),c=Object(i["resolveComponent"])("IconPause"),u=Object(i["resolveComponent"])("IconVolumeMute"),b=Object(i["resolveComponent"])("IconVolumeNotice"),m=Object(i["resolveComponent"])("IconVolumeSmall");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"audio-player",style:Object(i["normalizeStyle"])({transform:`scale(${1/e.scale})`})},[Object(i["createElementVNode"])("audio",{class:"audio",ref_key:"audioRef",ref:n,src:e.src,autoplay:e.autoplay,onDurationchange:l[0]||(l[0]=e=>w()),onTimeupdate:l[1]||(l[1]=e=>V()),onPlay:l[2]||(l[2]=e=>I()),onEnded:l[3]||(l[3]=e=>B()),onProgress:l[4]||(l[4]=e=>S()),onError:l[5]||(l[5]=e=>L())},null,40,gr),Object(i["createElementVNode"])("div",xr,[Object(i["createElementVNode"])("div",kr,[Object(i["createElementVNode"])("div",{class:"icon play-icon",onClick:l[6]||(l[6]=e=>N())},[Object(i["createElementVNode"])("span",Cr,[d.value?(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:0})):(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:1}))])]),Object(i["createElementVNode"])("div",Nr,[Object(i["createElementVNode"])("div",{class:"icon volume-icon",onClick:l[7]||(l[7]=e=>R())},[Object(i["createElementVNode"])("span",Er,[0===s.value?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0})):1===s.value?(Object(i["openBlock"])(),Object(i["createBlock"])(b,{key:1})):(Object(i["openBlock"])(),Object(i["createBlock"])(m,{key:2}))])]),Object(i["createElementVNode"])("div",{class:"volume-bar-wrap",onMousedown:l[8]||(l[8]=e=>z()),onTouchstart:l[9]||(l[9]=e=>z()),onClick:l[10]||(l[10]=e=>F(e))},[Object(i["createElementVNode"])("div",{class:"volume-bar",ref_key:"volumeBarRef",ref:r},[Object(i["createElementVNode"])("div",{class:"volume-bar-inner",style:Object(i["normalizeStyle"])({width:Object(i["unref"])(g)})},Vr,4)],512)],32)])]),Object(i["createElementVNode"])("span",Ir,[Object(i["createElementVNode"])("span",Br,Object(i["toDisplayString"])(Object(i["unref"])(f)),1),Sr,Object(i["createElementVNode"])("span",Lr,Object(i["toDisplayString"])(Object(i["unref"])(v)),1)]),Object(i["createElementVNode"])("div",{class:"bar-wrap",ref_key:"playBarWrap",ref:a,onMousedown:l[11]||(l[11]=e=>M()),onTouchstart:l[12]||(l[12]=e=>M()),onMousemove:l[13]||(l[13]=e=>$(e)),onMouseenter:l[14]||(l[14]=e=>p.value=!0),onMouseleave:l[15]||(l[15]=e=>p.value=!1)},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["bar-time",{hidden:!p.value}]),style:Object(i["normalizeStyle"])({left:j.value})},Object(i["toDisplayString"])(O.value),7),Object(i["createElementVNode"])("div",_r,[Object(i["createElementVNode"])("div",{class:"loaded",style:Object(i["normalizeStyle"])({width:Object(i["unref"])(y)})},null,4),Object(i["createElementVNode"])("div",{class:"played",style:Object(i["normalizeStyle"])({width:Object(i["unref"])(h)})},Mr,4)])],544)])],4)}}});l("3929");const Ar=b()(Dr,[["__scopeId","data-v-121f3d11"]]);var zr=Ar,Fr=Object(i["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,{canvasScale:l,handleElementId:o}=Object(a["c"])(Object(n["c"])()),{viewportRatio:c}=Object(a["c"])(Object(n["e"])()),r=Object(i["computed"])(()=>Math.min(t.elementInfo.width,t.elementInfo.height)+"px"),s=Object(i["computed"])(()=>{const e=Wt,o=Wt*c.value,n=280/l.value,a=50/l.value,r=t.elementInfo.width,i=t.elementInfo.height,s=t.elementInfo.left,d=t.elementInfo.top;let u=0,b=i;return s+n>=e&&(u=r-n),d+i+a>=o&&(b=-a),{left:u+"px",top:b+"px"}}),d=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))};return(t,c)=>{const n=Object(i["resolveComponent"])("IconVolumeNotice"),a=Object(i["resolveDirective"])("contextmenu");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["editable-element-audio",{lock:e.elementInfo.lock}]),style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"element-content",onMousedown:c[1]||(c[1]=e=>d(e)),onTouchstart:c[2]||(c[2]=e=>d(e))},[Object(i["createVNode"])(n,{class:"audio-icon",style:Object(i["normalizeStyle"])({fontSize:Object(i["unref"])(r),color:e.elementInfo.color})},null,8,["style"]),Object(i["unref"])(o)===e.elementInfo.id?(Object(i["openBlock"])(),Object(i["createBlock"])(zr,{key:0,class:"audio-player",style:Object(i["normalizeStyle"])({...Object(i["unref"])(s)}),src:e.elementInfo.src,loop:e.elementInfo.loop,scale:Object(i["unref"])(l),onMousedown:c[0]||(c[0]=Object(i["withModifiers"])(()=>{},["stop"]))},null,8,["style","src","loop","scale"])):Object(i["createCommentVNode"])("",!0)],32)),[[a,e.contextmenus]])],4)],6)}}});l("75e6");const $r=b()(Fr,[["__scopeId","data-v-001bfbc4"]]);var Rr=$r;const Pr=["id"];var Hr=Object(i["defineComponent"])({__name:"EditableElement",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},isMultiSelect:{type:Boolean,required:!0},selectElement:{type:Function,required:!0},openLinkDialog:{type:Function,required:!0}},setup(e){const t=e,l=Object(i["computed"])(()=>{const e={[Qt.IMAGE]:yc,[Qt.TEXT]:_n,[Qt.SHAPE]:Zn,[Qt.LINE]:aa,[Qt.CHART]:ja,[Qt.TABLE]:Da,[Qt.LATEX]:Pa,[Qt.VIDEO]:hr,[Qt.AUDIO]:Rr};return e[t.elementInfo.type]||null}),{orderElement:o}=ml(),{alignElementToCanvas:c}=_o(),{combineElements:n,uncombineElements:a}=sl(),{deleteElement:r}=il(),{lockElement:s,unlockElement:d}=rl(),{copyElement:u,pasteElement:b,cutElement:m}=dl(),{selectAllElement:p}=ul(),O=()=>t.elementInfo.lock?[{text:"解锁",handler:()=>d(t.elementInfo)}]:[{text:"剪切",subText:"Ctrl + X",handler:m},{text:"复制",subText:"Ctrl + C",handler:u},{text:"粘贴",subText:"Ctrl + V",handler:b},{divider:!0},{text:"水平居中",handler:()=>c(Ft.HORIZONTAL),children:[{text:"水平垂直居中",handler:()=>c(Ft.CENTER)},{text:"水平居中",handler:()=>c(Ft.HORIZONTAL)},{text:"左对齐",handler:()=>c(Ft.LEFT)},{text:"右对齐",handler:()=>c(Ft.RIGHT)}]},{text:"垂直居中",handler:()=>c(Ft.VERTICAL),children:[{text:"水平垂直居中",handler:()=>c(Ft.CENTER)},{text:"垂直居中",handler:()=>c(Ft.VERTICAL)},{text:"顶部对齐",handler:()=>c(Ft.TOP)},{text:"底部对齐",handler:()=>c(Ft.BOTTOM)}]},{divider:!0},{text:"置于顶层",disable:t.isMultiSelect&&!t.elementInfo.groupId,handler:()=>o(t.elementInfo,zt.TOP),children:[{text:"置于顶层",handler:()=>o(t.elementInfo,zt.TOP)},{text:"上移一层",handler:()=>o(t.elementInfo,zt.UP)}]},{text:"置于底层",disable:t.isMultiSelect&&!t.elementInfo.groupId,handler:()=>o(t.elementInfo,zt.BOTTOM),children:[{text:"置于底层",handler:()=>o(t.elementInfo,zt.BOTTOM)},{text:"下移一层",handler:()=>o(t.elementInfo,zt.DOWN)}]},{divider:!0},{text:"设置链接",handler:t.openLinkDialog},{text:t.elementInfo.groupId?"取消组合":"组合",subText:"Ctrl + G",handler:t.elementInfo.groupId?a:n,hide:!t.isMultiSelect},{text:"全选",subText:"Ctrl + A",handler:p},{text:"锁定",subText:"Ctrl + L",handler:s},{text:"删除",subText:"Delete",handler:r}];return(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"editable-element",ref:"elementRef",id:"editable-element-"+e.elementInfo.id,style:Object(i["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(Object(i["unref"])(l)),{elementInfo:e.elementInfo,selectElement:e.selectElement,contextmenus:O},null,8,["elementInfo","selectElement"]))],12,Pr))}});const Ur=Hr;var qr=Ur,Gr=Object(i["defineComponent"])({__name:"MouseSelection",props:{top:{type:Number,required:!0},left:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},quadrant:{type:Number,required:!0,validator(e){return[1,2,3,4].includes(e)}}},setup(e){return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])("mouse-selection quadrant-"+e.quadrant),style:Object(i["normalizeStyle"])({top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"})},null,6))}});l("4b9a");const Yr=b()(Gr,[["__scopeId","data-v-0d6c0f73"]]);var Xr=Yr;const Zr={class:"grid-lines"},Wr=["d","stroke"];var Jr=Object(i["defineComponent"])({__name:"GridLines",setup(e){const{canvasScale:t,gridLineSize:l}=Object(a["c"])(Object(n["c"])()),{currentSlide:o,viewportRatio:c}=Object(a["c"])(Object(n["e"])()),r=Object(i["computed"])(()=>{var e;return null===(e=o.value)||void 0===e?void 0:e.background}),s=Object(i["computed"])(()=>{var e;const t=(null===(e=r.value)||void 0===e?void 0:e.color)||"#fff",l=["#000","#fff"];return ia.a.mostReadable(t,l,{includeFallbackColors:!0}).setAlpha(.5).toRgbString()}),d=Object(i["computed"])(()=>{const e=Wt,t=Wt*c.value;let o="";for(let c=0;c<=Math.floor(t/l.value);c++)o+=`M0 ${c*l.value} L${e} ${c*l.value} `;for(let c=0;c<=Math.floor(e/l.value);c++)o+=`M${c*l.value} 0 L${c*l.value} ${t} `;return o});return(e,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",Zr,[Object(i["createElementVNode"])("path",{style:Object(i["normalizeStyle"])({transform:`scale(${Object(i["unref"])(t)})`}),d:Object(i["unref"])(d),fill:"none",stroke:Object(i["unref"])(s),"stroke-width":"0.3","stroke-dasharray":"5"},null,12,Wr)]))}});l("dd7b");const Qr=b()(Jr,[["__scopeId","data-v-aebac580"]]);var Kr=Qr,ei=e=>{const t=Object(i["computed"])(()=>{if(!e.value)return{backgroundColor:"#fff"};const{type:t,color:l,image:o,imageSize:c,gradientColor:n,gradientRotate:a,gradientType:r}=e.value;if("solid"===t)return{backgroundColor:l};if("image"===t)return o?"repeat"===c?{backgroundImage:"url("+o,backgroundRepeat:"repeat",backgroundSize:"contain"}:{backgroundImage:"url("+o,backgroundRepeat:"no-repeat",backgroundSize:c||"cover"}:{backgroundColor:"#fff"};if("gradient"===t){const e=a||0,t=n?n[0]:"#fff",l=n?n[1]:"#fff";return"radial"===r?{backgroundImage:`radial-gradient(${t}, ${l}`}:{backgroundImage:`linear-gradient(${e}deg, ${t}, ${l}`}}return{backgroundColor:"#fff"}});return{backgroundStyle:t}},ti=Object(i["defineComponent"])({__name:"ViewportBackground",setup(e){const{gridLineSize:t}=Object(a["c"])(Object(n["c"])()),{currentSlide:l}=Object(a["c"])(Object(n["e"])()),o=Object(i["computed"])(()=>{var e;return null===(e=l.value)||void 0===e?void 0:e.background}),{backgroundStyle:c}=ei(o);return(e,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"viewport-background",style:Object(i["normalizeStyle"])(Object(i["unref"])(c))},[Object(i["unref"])(t)?(Object(i["openBlock"])(),Object(i["createBlock"])(Kr,{key:0})):Object(i["createCommentVNode"])("",!0)],4))}});l("5977");const li=b()(ti,[["__scopeId","data-v-61c4db4a"]]);var oi=li,ci=Object(i["defineComponent"])({__name:"AlignmentLine",props:{type:{type:String,required:!0},axis:{type:Object,required:!0},length:{type:Number,required:!0},canvasScale:{type:Number,required:!0}},setup(e){const t=e,l=Object(i["computed"])(()=>t.axis.x*t.canvasScale+"px"),o=Object(i["computed"])(()=>t.axis.y*t.canvasScale+"px"),c=Object(i["computed"])(()=>"vertical"===t.type?{height:t.length*t.canvasScale+"px"}:{width:t.length*t.canvasScale+"px"});return(t,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"alignment-line",style:Object(i["normalizeStyle"])({left:Object(i["unref"])(l),top:Object(i["unref"])(o)})},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["line",e.type]),style:Object(i["normalizeStyle"])(Object(i["unref"])(c))},null,6)],4))}});l("5688");const ni=b()(ci,[["__scopeId","data-v-37fa6068"]]);var ai=ni;const ri={class:"ruler"};var ii=Object(i["defineComponent"])({__name:"Ruler",props:{viewportStyles:{type:Object,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(a["c"])(Object(n["c"])()),o=Object(i["computed"])(()=>t.viewportStyles.width*l.value/10);return(t,c)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ri,[Object(i["createElementVNode"])("div",{class:"h",style:Object(i["normalizeStyle"])({width:e.viewportStyles.width*Object(i["unref"])(l)+"px",left:e.viewportStyles.left+"px"})},[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(10,e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["ruler-marker-100",{hide:Object(i["unref"])(o)<36,omit:Object(i["unref"])(o)<72}]),key:"marker-100-"+e},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(100*e),1)],2)),64))],4),Object(i["createElementVNode"])("div",{class:"v",style:Object(i["normalizeStyle"])({height:e.viewportStyles.height*Object(i["unref"])(l)+"px",top:e.viewportStyles.top+"px"})},[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(10,e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["ruler-marker-100",{hide:Object(i["unref"])(o)<36,omit:Object(i["unref"])(o)<72}]),key:e,style:Object(i["normalizeStyle"])({height:Object(i["unref"])(o)+"px"})},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(100*e),1)],6)),64))],4)]))}});l("9854");const si=b()(ii,[["__scopeId","data-v-60e06332"]]);var di=si;const ui=["width","height"],bi=["d"];var mi=Object(i["defineComponent"])({__name:"ElementCreateSelection",emits:["created"],setup(e,{emit:t}){const l=Object(n["c"])(),{creatingElement:o}=Object(a["c"])(l),{ctrlOrShiftKeyActive:c}=Object(a["c"])(Object(n["b"])()),r=Object(i["ref"])(),s=Object(i["ref"])(),d=Object(i["ref"])(),u=Object(i["ref"])({x:0,y:0});Object(i["onMounted"])(()=>{if(!d.value)return;const{x:e,y:t}=d.value.getBoundingClientRect();u.value={x:e,y:t}});const b=e=>{let n=!0;const a=e.pageX,i=e.pageY;r.value=[a,i],document.onmousemove=e=>{if(!o.value||!n)return;let t=e.pageX,l=e.pageY;if(c.value){const e=t-a,c=l-i,n=Math.abs(e),r=Math.abs(c);if("shape"===o.value.type){const o=c>0&&e<0||c<0&&e>0;n>r?l=o?i-e:i+e:t=o?a-c:a+c}else"line"===o.value.type&&(n>r?l=i:t=a)}s.value=[t,l]},document.onmouseup=e=>{var c,d;if(document.onmousemove=null,document.onmouseup=null,2===e.button)return void setTimeout(()=>l.setCreatingElement(null),0);n=!1;const u=e.pageX,b=e.pageY,m=30;if("line"===(null===(c=o.value)||void 0===c?void 0:c.type)&&(Math.abs(u-a)>=m||Math.abs(b-i)>=m))t("created",{start:r.value,end:s.value});else if("line"!==(null===(d=o.value)||void 0===d?void 0:d.type)&&Math.abs(u-a)>=m&&Math.abs(b-i)>=m)t("created",{start:r.value,end:s.value});else{const e=200,l=Math.min(u,a),o=Math.min(b,i),c=Math.max(u,a),n=Math.max(b,i),r=c-l>=m?c-l:e,s=n-o>=m?n-o:e;t("created",{start:[l,o],end:[l+r,o+s]})}}},m=Object(i["computed"])(()=>{if(!r.value||!s.value)return null;if(!o.value||"line"!==o.value.type)return null;const[e,t]=r.value,[l,c]=s.value,n=Math.min(e,l),a=Math.max(e,l),i=Math.min(t,c),d=Math.max(t,c),u=a-n>=24?a-n:24,b=d-i>=24?d-i:24,m=e===n?0:a-n,p=t===i?0:d-i,O=l===n?0:a-n,j=c===i?0:d-i,f=`M${m}, ${p} L${O}, ${j}`;return{svgWidth:u,svgHeight:b,startX:m,startY:p,endX:O,endY:j,path:f}}),p=Object(i["computed"])(()=>{if(!r.value||!s.value)return{};const[e,t]=r.value,[l,o]=s.value,c=Math.min(e,l),n=Math.max(e,l),a=Math.min(t,o),i=Math.max(t,o),d=n-c,b=i-a;return{left:c-u.value.x+"px",top:a-u.value.y+"px",width:d+"px",height:b+"px"}});return(e,t)=>{var l,c;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"element-create-selection",ref_key:"selectionRef",ref:d,onMousedown:t[0]||(t[0]=Object(i["withModifiers"])(e=>b(e),["stop"])),onContextmenu:t[1]||(t[1]=Object(i["withModifiers"])(()=>{},["stop","prevent"]))},[r.value&&s.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:Object(i["normalizeClass"])(["selection",null===(l=Object(i["unref"])(o))||void 0===l?void 0:l.type]),style:Object(i["normalizeStyle"])(Object(i["unref"])(p))},["line"===(null===(c=Object(i["unref"])(o))||void 0===c?void 0:c.type)&&Object(i["unref"])(m)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{key:0,overflow:"visible",width:Object(i["unref"])(m).svgWidth,height:Object(i["unref"])(m).svgHeight},[Object(i["createElementVNode"])("path",{d:Object(i["unref"])(m).path,stroke:"#469D8F",fill:"none","stroke-width":"2"},null,8,bi)],8,ui)):Object(i["createCommentVNode"])("",!0)],6)):Object(i["createCommentVNode"])("",!0)],544)}}});l("dbf4");const pi=b()(mi,[["__scopeId","data-v-bf241b1a"]]);var Oi=pi,ji=(e,t)=>{const l=Object(i["computed"])(()=>[{direction:Rt.LEFT_TOP,style:{}},{direction:Rt.TOP,style:{left:e.value/2+"px"}},{direction:Rt.RIGHT_TOP,style:{left:e.value+"px"}},{direction:Rt.LEFT,style:{top:t.value/2+"px"}},{direction:Rt.RIGHT,style:{left:e.value+"px",top:t.value/2+"px"}},{direction:Rt.LEFT_BOTTOM,style:{top:t.value+"px"}},{direction:Rt.BOTTOM,style:{left:e.value/2+"px",top:t.value+"px"}},{direction:Rt.RIGHT_BOTTOM,style:{left:e.value+"px",top:t.value+"px"}}]),o=Object(i["computed"])(()=>[{direction:Rt.LEFT,style:{top:t.value/2+"px"}},{direction:Rt.RIGHT,style:{left:e.value+"px",top:t.value/2+"px"}}]),c=Object(i["computed"])(()=>[{type:$t.T,style:{width:e.value+"px"}},{type:$t.B,style:{top:t.value+"px",width:e.value+"px"}},{type:$t.L,style:{height:t.value+"px"}},{type:$t.R,style:{left:e.value+"px",height:t.value+"px"}}]);return{resizeHandlers:l,textElementResizeHandlers:o,borderLines:c}},fi=Object(i["defineComponent"])({__name:"ResizeHandler",props:{type:{type:String,default:""},rotate:{type:Number,default:0}},setup(e){const t=e,l=Object(i["computed"])(()=>{const e="rotate-",l=t.rotate;return l>-22.5&&l<=22.5?e+0:l>22.5&&l<=67.5?e+45:l>67.5&&l<=112.5?e+90:l>112.5&&l<=157.5?e+135:l>157.5||l<=-157.5?e+0:l>-157.5&&l<=-112.5?e+45:l>-112.5&&l<=-67.5?e+90:l>-67.5&&l<=-22.5?e+135:e+0});return(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["resize-handler",Object(i["unref"])(l),e.type])},null,2))}});l("b510");const vi=b()(fi,[["__scopeId","data-v-881ee3f8"]]);var hi=vi,yi=Object(i["defineComponent"])({__name:"BorderLine",props:{type:{type:String,required:!0},isWide:{type:Boolean,default:!1}},setup(e){return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["border-line",e.type,{wide:e.isWide}])},null,2))}});l("2460");const gi=b()(yi,[["__scopeId","data-v-7170d1be"]]);var xi=gi,ki=Object(i["defineComponent"])({__name:"MultiSelectOperate",props:{elementList:{type:Array,required:!0},scaleMultiElement:{type:Function,required:!0}},setup(e){const t=e,{activeElementIdList:l,canvasScale:o}=Object(a["c"])(Object(n["c"])()),c=Object(i["computed"])(()=>t.elementList.filter(e=>l.value.includes(e.id))),r=Object(i["ref"])({minX:0,maxX:0,minY:0,maxY:0}),s=Object(i["computed"])(()=>(r.value.maxX-r.value.minX)*o.value),d=Object(i["computed"])(()=>(r.value.maxY-r.value.minY)*o.value),{resizeHandlers:u,borderLines:b}=ji(s,d),m=()=>{const{minX:e,maxX:t,minY:l,maxY:o}=Object(Gt["b"])(c.value);r.value={minX:e,maxX:t,minY:l,maxY:o}};Object(i["watchEffect"])(m);const p=Object(i["computed"])(()=>c.value.some(e=>!!("image"!==e.type&&"shape"!==e.type||e.rotate)));return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"multi-select-operate",style:Object(i["normalizeStyle"])({left:r.value.minX*Object(i["unref"])(o)+"px",top:r.value.minY*Object(i["unref"])(o)+"px"})},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(b),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(xi,{key:e.type,type:e.type,style:Object(i["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),Object(i["unref"])(p)?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:0},Object(i["renderList"])(Object(i["unref"])(u),t=>(Object(i["openBlock"])(),Object(i["createBlock"])(hi,{key:t.direction,type:t.direction,style:Object(i["normalizeStyle"])(t.style),onMousedown:Object(i["withModifiers"])(l=>e.scaleMultiElement(l,r.value,t.direction),["stop"])},null,8,["type","style","onMousedown"]))),128))],4))}});l("a669");const Ci=b()(ki,[["__scopeId","data-v-defbd922"]]);var Ni=Ci;const Ei={class:"rotate-handler"};function wi(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ei)}l("1ebd");const Vi={},Ii=b()(Vi,[["render",wi],["__scopeId","data-v-b99d8dae"]]);var Bi=Ii;const Si={inheritAttrs:!1};var Li=Object(i["defineComponent"])({...Si,__name:"ImageElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l,clipingImageElementId:o}=Object(a["c"])(Object(n["c"])()),c=Object(i["computed"])(()=>o.value===t.elementInfo.id),r=Object(i["computed"])(()=>t.elementInfo.width*l.value),s=Object(i["computed"])(()=>t.elementInfo.height*l.value),{resizeHandlers:d,borderLines:u}=ji(r,s);return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["image-element-operate",{cliping:Object(i["unref"])(c)}])},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(u),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(xi,{class:"operate-border-line",key:e.type,type:e.type,style:Object(i["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(d),t=>(Object(i["openBlock"])(),Object(i["createBlock"])(hi,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(i["normalizeStyle"])(t.style),onMousedown:Object(i["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(i["createVNode"])(Bi,{class:"operate-rotate-handler",style:Object(i["normalizeStyle"])({left:Object(i["unref"])(r)/2+"px"}),onMousedown:l[0]||(l[0]=Object(i["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"])],64)):Object(i["createCommentVNode"])("",!0)],2))}});l("ae9f");const _i=b()(Li,[["__scopeId","data-v-46b250c2"]]);var Ti=_i;const Mi={class:"text-element-operate"},Di={inheritAttrs:!1};var Ai=Object(i["defineComponent"])({...Di,__name:"TextElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(a["c"])(Object(n["c"])()),o=Object(i["computed"])(()=>t.elementInfo.width*l.value),c=Object(i["computed"])(()=>t.elementInfo.height*l.value),{textElementResizeHandlers:r,borderLines:s}=ji(o,c);return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Mi,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(s),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(xi,{class:"operate-border-line",key:e.type,type:e.type,style:Object(i["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(r),t=>(Object(i["openBlock"])(),Object(i["createBlock"])(hi,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(i["normalizeStyle"])(t.style),onMousedown:Object(i["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(i["createVNode"])(Bi,{class:"operate-rotate-handler",style:Object(i["normalizeStyle"])({left:Object(i["unref"])(o)/2+"px"}),onMousedown:l[0]||(l[0]=Object(i["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"])],64)):Object(i["createCommentVNode"])("",!0)]))}});const zi=Ai;var Fi=zi;const $i={class:"shape-element-operate"},Ri={inheritAttrs:!1};var Pi=Object(i["defineComponent"])({...Ri,__name:"ShapeElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0},moveShapeKeypoint:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(a["c"])(Object(n["c"])()),o=Object(i["computed"])(()=>t.elementInfo.width*l.value),c=Object(i["computed"])(()=>t.elementInfo.height*l.value),{resizeHandlers:r,borderLines:s}=ji(o,c),d=Object(i["computed"])(()=>{if(!t.elementInfo.pathFormula||!t.elementInfo.keypoint)return{};const e=Kt[t.elementInfo.pathFormula];if("editable"in e){const o=e.getBaseSize(t.elementInfo.width,t.elementInfo.height)*t.elementInfo.keypoint;if("left"===e.relative)return{left:o*l.value+"px"};if("right"===e.relative)return{left:(t.elementInfo.width-o)*l.value+"px"};if("center"===e.relative)return{left:(t.elementInfo.width-o)/2*l.value+"px"};if("top"===e.relative)return{top:o*l.value+"px"};if("bottom"===e.relative)return{top:(t.elementInfo.height-o)*l.value+"px"}}return{}});return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",$i,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(s),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(xi,{class:"operate-border-line",key:e.type,type:e.type,style:Object(i["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(r),t=>(Object(i["openBlock"])(),Object(i["createBlock"])(hi,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(i["normalizeStyle"])(t.style),onMousedown:Object(i["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(i["createVNode"])(Bi,{class:"operate-rotate-handler",style:Object(i["normalizeStyle"])({left:Object(i["unref"])(o)/2+"px"}),onMousedown:l[0]||(l[0]=Object(i["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"]),void 0!==e.elementInfo.keypoint?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"operate-keypoint-handler",style:Object(i["normalizeStyle"])(Object(i["unref"])(d)),onMousedown:l[1]||(l[1]=Object(i["withModifiers"])(t=>e.moveShapeKeypoint(t,e.elementInfo),["stop"]))},null,36)):Object(i["createCommentVNode"])("",!0)],64)):Object(i["createCommentVNode"])("",!0)]))}});l("614e");const Hi=b()(Pi,[["__scopeId","data-v-fd38df18"]]);var Ui=Hi;const qi={class:"line-element-operate"},Gi=["width","height","stroke"],Yi={key:0},Xi=["x1","y1","x2","y2"],Zi=["x1","y1","x2","y2"],Wi=["x1","y1","x2","y2"],Ji=["x1","y1","x2","y2"],Qi={inheritAttrs:!1};var Ki=Object(i["defineComponent"])({...Qi,__name:"LineElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},dragLineElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(a["c"])(Object(n["c"])()),o=Object(i["computed"])(()=>Math.max(t.elementInfo.start[0],t.elementInfo.end[0])),c=Object(i["computed"])(()=>Math.max(t.elementInfo.start[1],t.elementInfo.end[1])),r=Object(i["computed"])(()=>{const e=[{handler:Pt.START,style:{left:t.elementInfo.start[0]*l.value+"px",top:t.elementInfo.start[1]*l.value+"px"}},{handler:Pt.END,style:{left:t.elementInfo.end[0]*l.value+"px",top:t.elementInfo.end[1]*l.value+"px"}}];if(t.elementInfo.curve||t.elementInfo.broken){const o=t.elementInfo.curve||t.elementInfo.broken;e.push({handler:Pt.C,style:{left:o[0]*l.value+"px",top:o[1]*l.value+"px"}})}else if(t.elementInfo.cubic){const[o,c]=t.elementInfo.cubic;e.push({handler:Pt.C1,style:{left:o[0]*l.value+"px",top:o[1]*l.value+"px"}}),e.push({handler:Pt.C2,style:{left:c[0]*l.value+"px",top:c[1]*l.value+"px"}})}return e});return(t,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",qi,[e.handlerVisible?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(r),t=>(Object(i["openBlock"])(),Object(i["createBlock"])(hi,{class:"operate-resize-handler",key:t.handler,style:Object(i["normalizeStyle"])(t.style),onMousedown:Object(i["withModifiers"])(l=>e.dragLineElement(l,e.elementInfo,t.handler),["stop"])},null,8,["style","onMousedown"]))),128)),(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{width:Object(i["unref"])(o)||1,height:Object(i["unref"])(c)||1,stroke:e.elementInfo.color,overflow:"visible",style:Object(i["normalizeStyle"])({transform:`scale(${Object(i["unref"])(l)})`})},[e.elementInfo.curve?(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",Yi,[Object(i["createElementVNode"])("line",{class:"anchor-line",x1:e.elementInfo.start[0],y1:e.elementInfo.start[1],x2:e.elementInfo.curve[0],y2:e.elementInfo.curve[1]},null,8,Xi),Object(i["createElementVNode"])("line",{class:"anchor-line",x1:e.elementInfo.end[0],y1:e.elementInfo.end[1],x2:e.elementInfo.curve[0],y2:e.elementInfo.curve[1]},null,8,Zi)])):Object(i["createCommentVNode"])("",!0),e.elementInfo.cubic?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:1},Object(i["renderList"])(e.elementInfo.cubic,(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",{key:l},[0===l?(Object(i["openBlock"])(),Object(i["createElementBlock"])("line",{key:0,class:"anchor-line",x1:e.elementInfo.start[0],y1:e.elementInfo.start[1],x2:t[0],y2:t[1]},null,8,Wi)):Object(i["createCommentVNode"])("",!0),1===l?(Object(i["openBlock"])(),Object(i["createElementBlock"])("line",{key:1,class:"anchor-line",x1:e.elementInfo.end[0],y1:e.elementInfo.end[1],x2:t[0],y2:t[1]},null,8,Ji)):Object(i["createCommentVNode"])("",!0)]))),128)):Object(i["createCommentVNode"])("",!0)],12,Gi))],64)):Object(i["createCommentVNode"])("",!0)]))}});l("fac9");const es=b()(Ki,[["__scopeId","data-v-4659f395"]]);var ts=es;const ls={class:"table-element-operate"},os={inheritAttrs:!1};var cs=Object(i["defineComponent"])({...os,__name:"TableElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(a["c"])(Object(n["c"])()),o=Object(i["computed"])(()=>t.elementInfo.outline.width||1),c=Object(i["computed"])(()=>(t.elementInfo.width+o.value)*l.value),r=Object(i["computed"])(()=>t.elementInfo.height*l.value),{textElementResizeHandlers:s,borderLines:d}=ji(c,r);return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ls,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(d),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(xi,{class:"operate-border-line",key:e.type,type:e.type,style:Object(i["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(s),t=>(Object(i["openBlock"])(),Object(i["createBlock"])(hi,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(i["normalizeStyle"])(t.style),onMousedown:Object(i["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(i["createVNode"])(Bi,{class:"operate-rotate-handler",style:Object(i["normalizeStyle"])({left:Object(i["unref"])(c)/2+"px"}),onMousedown:l[0]||(l[0]=Object(i["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"])],64)):Object(i["createCommentVNode"])("",!0)]))}});const ns=cs;var as=ns;const rs={class:"common-element-operate"},is={inheritAttrs:!1};var ss=Object(i["defineComponent"])({...is,__name:"CommonElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(a["c"])(Object(n["c"])()),o=Object(i["computed"])(()=>t.elementInfo.width*l.value),c=Object(i["computed"])(()=>t.elementInfo.height*l.value),{resizeHandlers:r,borderLines:s}=ji(o,c),d=Object(i["computed"])(()=>["video","audio"].includes(t.elementInfo.type));return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",rs,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(s),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(xi,{class:"operate-border-line",key:e.type,type:e.type,style:Object(i["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(r),t=>(Object(i["openBlock"])(),Object(i["createBlock"])(hi,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(i["normalizeStyle"])(t.style),onMousedown:Object(i["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(i["unref"])(d)?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(Bi,{key:0,class:"operate-rotate-handler",style:Object(i["normalizeStyle"])({left:Object(i["unref"])(o)/2+"px"}),onMousedown:l[0]||(l[0]=Object(i["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"]))],64)):Object(i["createCommentVNode"])("",!0)]))}});const ds=ss;var us=ds,bs=()=>{const e=Object(n["e"])(),{addHistorySnapshot:t}=Object(ll["a"])(),l=(l,o)=>{const c=/^(https?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/;if("web"===o.type&&!c.test(o.target))return De["a"].error("不是正确的网页链接地址"),!1;const n={link:o};return e.updateElement({id:l.id,props:n}),t(),!0},o=l=>{e.removeElementProps({id:l.id,propName:"link"}),t()};return{setLink:l,removeLink:o}};const ms=["href"],ps={key:1,class:"link"},Os={class:"btns"};var js=Object(i["defineComponent"])({__name:"LinkHandler",props:{elementInfo:{type:Object,required:!0},link:{type:Object,required:!0},openLinkDialog:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(a["c"])(Object(n["c"])()),{removeLink:o}=bs(),c=Object(i["computed"])(()=>"line"===t.elementInfo.type?0:t.elementInfo.height);return(t,n)=>{const a=Object(i["resolveComponent"])("Divider");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"link-handler",style:Object(i["normalizeStyle"])({top:Object(i["unref"])(c)*Object(i["unref"])(l)+10+"px"})},["web"===e.link.type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,class:"link",href:e.link.target,target:"_blank"},Object(i["toDisplayString"])(e.link.target),9,ms)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",ps,"幻灯片页面 "+Object(i["toDisplayString"])(e.link.target),1)),Object(i["createElementVNode"])("div",Os,[Object(i["createElementVNode"])("div",{class:"btn",onClick:n[0]||(n[0]=t=>e.openLinkDialog())},"更换"),Object(i["createVNode"])(a,{type:"vertical"}),Object(i["createElementVNode"])("div",{class:"btn",onClick:n[1]||(n[1]=t=>Object(i["unref"])(o)(e.elementInfo))},"移除")])],4)}}});l("7851");const fs=b()(js,[["__scopeId","data-v-bb722fc0"]]);var vs=fs;const hs={key:1,class:"animation-index"};var ys=Object(i["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},isSelected:{type:Boolean,required:!0},isActive:{type:Boolean,required:!0},isActiveGroupElement:{type:Boolean,required:!0},isMultiSelect:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0},dragLineElement:{type:Function,required:!0},moveShapeKeypoint:{type:Function,required:!0},openLinkDialog:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l,toolbarState:o}=Object(a["c"])(Object(n["c"])()),{formatedAnimations:c}=Object(a["c"])(Object(n["e"])()),r=Object(i["computed"])(()=>{const e={[Qt.IMAGE]:Ti,[Qt.TEXT]:Fi,[Qt.SHAPE]:Ui,[Qt.LINE]:ts,[Qt.TABLE]:as,[Qt.CHART]:us,[Qt.LATEX]:us,[Qt.VIDEO]:us,[Qt.AUDIO]:us};return e[t.elementInfo.type]||null}),s=Object(i["computed"])(()=>{const e=[];for(let l=0;l<c.value.length;l++){const o=c.value[l].animations.map(e=>e.elId);o.includes(t.elementInfo.id)&&e.push(l)}return e}),d=Object(i["computed"])(()=>"rotate"in t.elementInfo?t.elementInfo.rotate:0),u=Object(i["computed"])(()=>"height"in t.elementInfo?t.elementInfo.height:0);return(t,c)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["operate",{"multi-select":e.isMultiSelect&&!e.isActive}]),style:Object(i["normalizeStyle"])({top:e.elementInfo.top*Object(i["unref"])(l)+"px",left:e.elementInfo.left*Object(i["unref"])(l)+"px",transform:`rotate(${Object(i["unref"])(d)}deg)`,transformOrigin:`${e.elementInfo.width*Object(i["unref"])(l)/2}px ${Object(i["unref"])(u)*Object(i["unref"])(l)/2}px`})},[e.isSelected?(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(Object(i["unref"])(r)),{key:0,elementInfo:e.elementInfo,handlerVisible:!e.elementInfo.lock&&(e.isActiveGroupElement||!e.isMultiSelect),rotateElement:e.rotateElement,scaleElement:e.scaleElement,dragLineElement:e.dragLineElement,moveShapeKeypoint:e.moveShapeKeypoint},null,8,["elementInfo","handlerVisible","rotateElement","scaleElement","dragLineElement","moveShapeKeypoint"])):Object(i["createCommentVNode"])("",!0),"elAnimation"===Object(i["unref"])(o)&&Object(i["unref"])(s).length?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",hs,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(s),e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"index-item",key:e},Object(i["toDisplayString"])(e+1),1))),128))])):Object(i["createCommentVNode"])("",!0),e.isActive&&e.elementInfo.link?(Object(i["openBlock"])(),Object(i["createBlock"])(vs,{key:2,elementInfo:e.elementInfo,link:e.elementInfo.link,openLinkDialog:e.openLinkDialog,onMousedown:c[0]||(c[0]=Object(i["withModifiers"])(()=>{},["stop"]))},null,8,["elementInfo","link","openLinkDialog"])):Object(i["createCommentVNode"])("",!0)],6))}});l("d2f3");const gs=b()(ys,[["__scopeId","data-v-27793fbf"]]);var xs=gs;const ks=["src"];var Cs=Object(i["defineComponent"])({__name:"BaseImageElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(i["computed"])(()=>t.elementInfo.shadow),{shadowStyle:o}=To(l),c=Object(i["computed"])(()=>t.elementInfo.flipH),n=Object(i["computed"])(()=>t.elementInfo.flipV),{flipStyle:a}=Mo(c,n),r=Object(i["computed"])(()=>t.elementInfo.clip),{clipShape:s,imgPosition:d}=Ao(r),u=Object(i["computed"])(()=>t.elementInfo.filters),{filter:b}=zo(u);return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"base-element-image",style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["createElementVNode"])("div",{class:"element-content",style:Object(i["normalizeStyle"])({filter:Object(i["unref"])(o)?`drop-shadow(${Object(i["unref"])(o)})`:"",transform:Object(i["unref"])(a)})},[Object(i["createVNode"])(cc,{elementInfo:e.elementInfo},null,8,["elementInfo"]),Object(i["createElementVNode"])("div",{class:"image-content",style:Object(i["normalizeStyle"])({clipPath:Object(i["unref"])(s).style})},[Object(i["createElementVNode"])("img",{src:e.elementInfo.src,draggable:!1,style:Object(i["normalizeStyle"])({top:Object(i["unref"])(d).top,left:Object(i["unref"])(d).left,width:Object(i["unref"])(d).width,height:Object(i["unref"])(d).height,filter:Object(i["unref"])(b)}),alt:""},null,12,ks),e.elementInfo.colorMask?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"color-mask",style:Object(i["normalizeStyle"])({backgroundColor:e.elementInfo.colorMask.color,opacity:e.elementInfo.colorMask.opacity})},null,4)):Object(i["createCommentVNode"])("",!0)],4)],4)],4)],4))}});l("4c0e");const Ns=b()(Cs,[["__scopeId","data-v-c874e65e"]]);var Es=Ns;const ws=["innerHTML"];var Vs=Object(i["defineComponent"])({__name:"BaseTextElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(i["computed"])(()=>t.elementInfo.shadow),{shadowStyle:o}=To(l),c=Object(i["computed"])(()=>({"--textIndent":(t.elementInfo.textIndent||0)+"px","--paragraphSpace":(void 0===t.elementInfo.paragraphSpace?5:t.elementInfo.paragraphSpace)+"px"}));return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"base-element-text",style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["createElementVNode"])("div",{class:"element-content",style:Object(i["normalizeStyle"])({backgroundColor:e.elementInfo.fill,opacity:e.elementInfo.opacity,textShadow:Object(i["unref"])(o),lineHeight:e.elementInfo.lineHeight,letterSpacing:(e.elementInfo.wordSpace||0)+"px",color:e.elementInfo.defaultColor,fontFamily:e.elementInfo.defaultFontName})},[Object(i["createVNode"])(Nc,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(i["createElementVNode"])("div",{class:"text ProseMirror-static",style:Object(i["normalizeStyle"])(Object(i["unref"])(c)),innerHTML:e.elementInfo.content},null,12,ws)],4)],4)],4))}});l("07f0");const Is=b()(Vs,[["__scopeId","data-v-659e869d"]]);var Bs=Is;const Ss=["width","height"],Ls={key:0},_s=["transform"],Ts=["d","fill","stroke","stroke-width","stroke-dasharray"],Ms=["innerHTML"];var Ds=Object(i["defineComponent"])({__name:"BaseShapeElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(i["computed"])(()=>t.elementInfo.outline),{outlineWidth:o,outlineStyle:c,outlineColor:n}=Fo(l),a=Object(i["computed"])(()=>t.elementInfo.shadow),{shadowStyle:r}=To(a),s=Object(i["computed"])(()=>t.elementInfo.flipH),d=Object(i["computed"])(()=>t.elementInfo.flipV),{flipStyle:u}=Mo(s,d),b=Object(i["computed"])(()=>{const e={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"};return t.elementInfo.text?t.elementInfo.text:e});return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"base-element-shape",style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["createElementVNode"])("div",{class:"element-content",style:Object(i["normalizeStyle"])({opacity:e.elementInfo.opacity,filter:Object(i["unref"])(r)?`drop-shadow(${Object(i["unref"])(r)})`:"",transform:Object(i["unref"])(u),color:Object(i["unref"])(b).defaultColor,fontFamily:Object(i["unref"])(b).defaultFontName})},[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height},[e.elementInfo.gradient?(Object(i["openBlock"])(),Object(i["createElementBlock"])("defs",Ls,[Object(i["createVNode"])(Pn,{id:"base-gradient-"+e.elementInfo.id,type:e.elementInfo.gradient.type,color1:e.elementInfo.gradient.color[0],color2:e.elementInfo.gradient.color[1],rotate:e.elementInfo.gradient.rotate},null,8,["id","type","color1","color2","rotate"])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("g",{transform:`scale(${e.elementInfo.width/e.elementInfo.viewBox[0]}, ${e.elementInfo.height/e.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(i["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",d:e.elementInfo.path,fill:e.elementInfo.gradient?`url(#base-gradient-${e.elementInfo.id})`:e.elementInfo.fill,stroke:Object(i["unref"])(n),"stroke-width":Object(i["unref"])(o),"stroke-dasharray":"dashed"===Object(i["unref"])(c)?"10 5":"0 0"},null,8,Ts)],8,_s)],8,Ss)),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["shape-text",Object(i["unref"])(b).align])},[Object(i["createElementVNode"])("div",{class:"ProseMirror-static",innerHTML:Object(i["unref"])(b).content},null,8,Ms)],2)],4)],4)],4))}});l("8683");const As=b()(Ds,[["__scopeId","data-v-073084bf"]]);var zs=As;const Fs=["width","height"],$s=["d","stroke","stroke-width","stroke-dasharray","marker-start","marker-end"];var Rs=Object(i["defineComponent"])({__name:"BaseLineElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(i["computed"])(()=>t.elementInfo.shadow),{shadowStyle:o}=To(l),c=Object(i["computed"])(()=>{const e=Math.abs(t.elementInfo.start[0]-t.elementInfo.end[0]);return e<24?24:e}),n=Object(i["computed"])(()=>{const e=Math.abs(t.elementInfo.start[1]-t.elementInfo.end[1]);return e<24?24:e}),a=Object(i["computed"])(()=>"dashed"===t.elementInfo.style?"10, 5":"0, 0"),r=Object(i["computed"])(()=>Object(Gt["d"])(t.elementInfo));return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"base-element-line",style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px"})},[Object(i["createElementVNode"])("div",{class:"element-content",style:Object(i["normalizeStyle"])({filter:Object(i["unref"])(o)?`drop-shadow(${Object(i["unref"])(o)})`:""})},[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{overflow:"visible",width:Object(i["unref"])(c),height:Object(i["unref"])(n)},[Object(i["createElementVNode"])("defs",null,[e.elementInfo.points[0]?(Object(i["openBlock"])(),Object(i["createBlock"])(ea,{key:0,id:e.elementInfo.id,position:"start",type:e.elementInfo.points[0],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(i["createCommentVNode"])("",!0),e.elementInfo.points[1]?(Object(i["openBlock"])(),Object(i["createBlock"])(ea,{key:1,id:e.elementInfo.id,position:"end",type:e.elementInfo.points[1],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("path",{d:Object(i["unref"])(r),stroke:e.elementInfo.color,"stroke-width":e.elementInfo.width,"stroke-dasharray":Object(i["unref"])(a),fill:"none","marker-start":e.elementInfo.points[0]?`url(#${e.elementInfo.id}-${e.elementInfo.points[0]}-start)`:"","marker-end":e.elementInfo.points[1]?`url(#${e.elementInfo.id}-${e.elementInfo.points[1]}-end)`:""},null,8,$s)],8,Fs))],4)],4))}});l("fbfe");const Ps=b()(Rs,[["__scopeId","data-v-340cdee8"]]);var Hs=Ps,Us=Object(i["defineComponent"])({__name:"BaseChartElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=Object(i["inject"])(mo)||Object(i["ref"])(1),l=Object(i["computed"])(()=>t.value<1),o=Object(i["computed"])(()=>l.value?1/t.value:1);return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"base-element-chart",style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["createElementVNode"])("div",{class:"element-content",style:Object(i["normalizeStyle"])({backgroundColor:e.elementInfo.fill})},[Object(i["createVNode"])(Nc,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(i["createVNode"])(ma,{width:e.elementInfo.width*Object(i["unref"])(o),height:e.elementInfo.height*Object(i["unref"])(o),type:e.elementInfo.chartType,data:e.elementInfo.data,options:e.elementInfo.options,themeColor:e.elementInfo.themeColor,gridColor:e.elementInfo.gridColor,legends:e.elementInfo.data.legends,legend:e.elementInfo.legend||"",style:Object(i["normalizeStyle"])({zoom:1/Object(i["unref"])(o)})},null,8,["width","height","type","data","options","themeColor","gridColor","legends","legend","style"])],4)],4)],4))}});l("9b4d");const qs=b()(Us,[["__scopeId","data-v-7d2e5c4e"]]);var Gs=qs;const Ys=["width"],Xs=["rowspan","colspan"],Zs=["innerHTML"];var Ws=Object(i["defineComponent"])({__name:"StaticTable",props:{data:{type:Array,required:!0},width:{type:Number,required:!0},colWidths:{type:Array,required:!0},outline:{type:Object,required:!0},theme:{type:Object},editable:{type:Boolean,default:!0}},setup(e){const t=e,l=Object(i["ref"])([]),o=Object(i["computed"])(()=>l.value.reduce((e,t)=>e+t));Object(i["watch"])([()=>t.colWidths,()=>t.width],()=>{l.value=t.colWidths.map(e=>e*t.width)},{immediate:!0});const c=Object(i["computed"])(()=>t.data),{hideCells:n}=ha(c),a=Object(i["computed"])(()=>t.theme),{subThemeColor:r}=ya(a);return(t,c)=>{var s,d,u,b,m;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"static-table",style:Object(i["normalizeStyle"])({width:Object(i["unref"])(o)+"px"})},[Object(i["createElementVNode"])("table",{class:Object(i["normalizeClass"])({theme:Object(i["unref"])(a),"row-header":null===(s=Object(i["unref"])(a))||void 0===s?void 0:s.rowHeader,"row-footer":null===(d=Object(i["unref"])(a))||void 0===d?void 0:d.rowFooter,"col-header":null===(u=Object(i["unref"])(a))||void 0===u?void 0:u.colHeader,"col-footer":null===(b=Object(i["unref"])(a))||void 0===b?void 0:b.colFooter}),style:Object(i["normalizeStyle"])(`--themeColor: ${null===(m=Object(i["unref"])(a))||void 0===m?void 0:m.color}; --subThemeColor1: ${Object(i["unref"])(r)[0]}; --subThemeColor2: ${Object(i["unref"])(r)[1]}`)},[Object(i["createElementVNode"])("colgroup",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.value,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("col",{span:"1",key:t,width:e},null,8,Ys))),128))]),Object(i["createElementVNode"])("tbody",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.data,(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:l},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t,(t,o)=>Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("td",{class:"cell",style:Object(i["normalizeStyle"])({borderStyle:e.outline.style,borderColor:e.outline.color,borderWidth:e.outline.width+"px",...Object(i["unref"])(fa)(t.style)}),key:t.id,rowspan:t.rowspan,colspan:t.colspan},[Object(i["createElementVNode"])("div",{class:"cell-text",innerHTML:Object(i["unref"])(va)(t.text)},null,8,Zs)],12,Xs)),[[i["vShow"],!Object(i["unref"])(n).includes(`${l}_${o}`)]])),128))]))),128))])],6)],4)}}});l("8628");const Js=b()(Ws,[["__scopeId","data-v-00712fa4"]]);var Qs=Js;const Ks={class:"element-content"};var ed=Object(i["defineComponent"])({__name:"BaseTableElement",props:{elementInfo:{type:Object,required:!0}},setup(e){return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"base-element-table",style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["createElementVNode"])("div",Ks,[Object(i["createVNode"])(Qs,{data:e.elementInfo.data,width:e.elementInfo.width,colWidths:e.elementInfo.colWidths,outline:e.elementInfo.outline,theme:e.elementInfo.theme},null,8,["data","width","colWidths","outline","theme"])])],4)],4))}});l("a320");const td=b()(ed,[["__scopeId","data-v-53e0f1ba"]]);var ld=td;const od={class:"element-content"},cd=["width","height","stroke","stroke-width"],nd=["transform"],ad=["d"];var rd=Object(i["defineComponent"])({__name:"BaseLatexElement",props:{elementInfo:{type:Object,required:!0}},setup(e){return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"base-element-latex",style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["createElementVNode"])("div",od,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.strokeWidth,fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[Object(i["createElementVNode"])("g",{transform:`scale(${e.elementInfo.width/e.elementInfo.viewBox[0]}, ${e.elementInfo.height/e.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(i["createElementVNode"])("path",{d:e.elementInfo.path},null,8,ad)],8,nd)],8,cd))])],4)],4))}});l("58eb");const id=b()(rd,[["__scopeId","data-v-9a47b5f4"]]);var sd=id,dd=Object(i["defineComponent"])({__name:"BaseVideoElement",props:{elementInfo:{type:Object,required:!0}},setup(e){return(t,l)=>{const o=Object(i["resolveComponent"])("IconPlayOne");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"base-element-video",style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["createElementVNode"])("div",{class:"element-content",style:Object(i["normalizeStyle"])({backgroundImage:`url(${e.elementInfo.poster})`})},[Object(i["createVNode"])(o,{class:"icon"})],4)],4)],4)}}});l("5a58");const ud=b()(dd,[["__scopeId","data-v-56b7f716"]]);var bd=ud;const md={class:"element-content"};var pd=Object(i["defineComponent"])({__name:"BaseAudioElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(i["computed"])(()=>Math.min(t.elementInfo.width,t.elementInfo.height)+"px");return(t,o)=>{const c=Object(i["resolveComponent"])("IconVolumeNotice");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"base-element-audio",style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["createElementVNode"])("div",md,[Object(i["createVNode"])(c,{class:"audio-icon",style:Object(i["normalizeStyle"])({fontSize:Object(i["unref"])(l),color:e.elementInfo.color})},null,8,["style"])])],4)],4)}}});l("0491");const Od=b()(pd,[["__scopeId","data-v-5258e03b"]]);var jd=Od,fd=Object(i["defineComponent"])({__name:"ThumbnailElement",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0}},setup(e){const t=e,l=Object(i["computed"])(()=>{const e={[Qt.IMAGE]:Es,[Qt.TEXT]:Bs,[Qt.SHAPE]:zs,[Qt.LINE]:Hs,[Qt.CHART]:Gs,[Qt.TABLE]:ld,[Qt.LATEX]:sd,[Qt.VIDEO]:bd,[Qt.AUDIO]:jd};return e[t.elementInfo.type]||null});return(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["base-element","base-element-"+e.elementInfo.id]),style:Object(i["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(Object(i["unref"])(l)),{elementInfo:e.elementInfo,target:"thumbnail"},null,8,["elementInfo"]))],6))}});const vd=fd;var hd=vd;const yd={key:1,class:"placeholder"};var gd=Object(i["defineComponent"])({__name:"index",props:{slide:{type:Object,required:!0},size:{type:Number,required:!0},visible:{type:Boolean,default:!0},avatar:{type:String,required:!1}},setup(e){const t=e,{viewportRatio:l}=Object(a["c"])(Object(n["e"])()),o=Object(i["computed"])(()=>t.slide.background),{backgroundStyle:c}=ei(o),r=Object(i["computed"])(()=>t.size/Wt);return Object(i["provide"])(mo,r),(t,o)=>{const n=Object(i["resolveComponent"])("Avatar");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"thumbnail-slide",style:Object(i["normalizeStyle"])([{width:e.size+"px",height:e.size*Object(i["unref"])(l)+"px"},{position:"relative"}])},[e.visible?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"elements",style:Object(i["normalizeStyle"])({width:Object(i["unref"])(Wt)+"px",height:Object(i["unref"])(Wt)*Object(i["unref"])(l)+"px",transform:`scale(${Object(i["unref"])(r)})`})},[Object(i["createElementVNode"])("div",{class:"background",style:Object(i["normalizeStyle"])(Object(i["unref"])(c))},null,4),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.slide.elements,(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(hd,{key:e.id,elementInfo:e,elementIndex:t+1},null,8,["elementInfo","elementIndex"]))),128))],4)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",yd,"加载中 ...")),void 0!==e.avatar?(Object(i["openBlock"])(),Object(i["createBlock"])(n,{key:2,style:{position:"absolute",bottom:"0",left:"0"},size:"small",src:e.avatar},null,8,["src"])):Object(i["createCommentVNode"])("",!0)],4)}}});l("192c");const xd=b()(gd,[["__scopeId","data-v-6e748a72"]]);var kd=xd;const Cd=e=>(Object(i["pushScopeId"])("data-v-dfb654e8"),e=e(),Object(i["popScopeId"])(),e),Nd={class:"link-dialog"},Ed={class:"tabs"},wd=["onClick"],Vd={key:2,class:"preview"},Id=Cd(()=>Object(i["createElementVNode"])("div",null,"预览：",-1)),Bd={class:"btns"},Sd=Object(i["createTextVNode"])("取消"),Ld=Object(i["createTextVNode"])("确认");var _d=Object(i["defineComponent"])({__name:"LinkDialog",emits:["close"],setup(e,{emit:t}){const{handleElement:l}=Object(a["c"])(Object(n["c"])()),{slides:o}=Object(a["c"])(Object(n["e"])()),c=Object(i["ref"])("web"),r=Object(i["ref"])(""),s=Object(i["ref"])("");s.value=o.value[0].id;const d=Object(i["computed"])(()=>s.value&&o.value.find(e=>e.id===s.value)||null),u=[{key:"web",label:"网页链接"},{key:"slide",label:"幻灯片页面"}],{setLink:b}=bs();Object(i["onMounted"])(()=>{var e;null!==(e=l.value)&&void 0!==e&&e.link&&("web"===l.value.link.type?r.value=l.value.link.target:"slide"===l.value.link.type&&(s.value=l.value.link.target),c.value=l.value.link.type)});const m=()=>{const e={type:c.value,target:"web"===c.value?r.value:s.value};if(l.value){const o=b(l.value,e);o?t("close"):r.value=""}};return(e,l)=>{const n=Object(i["resolveComponent"])("Input"),a=Object(i["resolveComponent"])("SelectOption"),b=Object(i["resolveComponent"])("Select"),p=Object(i["resolveComponent"])("Button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Nd,[Object(i["createElementVNode"])("div",Ed,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(u,e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["tab",{active:c.value===e.key}]),key:e.key,onClick:t=>c.value=e.key},Object(i["toDisplayString"])(e.label),11,wd)),64))]),"web"===c.value?(Object(i["openBlock"])(),Object(i["createBlock"])(n,{key:0,class:"input",value:r.value,"onUpdate:value":l[0]||(l[0]=e=>r.value=e),placeholder:"请输入网页链接地址"},null,8,["value"])):Object(i["createCommentVNode"])("",!0),"slide"===c.value?(Object(i["openBlock"])(),Object(i["createBlock"])(b,{key:1,class:"input",value:s.value,"onUpdate:value":l[1]||(l[1]=e=>s.value=e)},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(o),(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(a,{key:e.id,value:e.id},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])("幻灯片 "+Object(i["toDisplayString"])(t+1),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])):Object(i["createCommentVNode"])("",!0),"slide"===c.value&&Object(i["unref"])(d)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Vd,[Id,Object(i["createVNode"])(kd,{class:"thumbnail",slide:Object(i["unref"])(d),size:490},null,8,["slide"])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Bd,[Object(i["createVNode"])(p,{onClick:l[2]||(l[2]=e=>t("close")),style:{"margin-right":"10px"}},{default:Object(i["withCtx"])(()=>[Sd]),_:1}),Object(i["createVNode"])(p,{type:"primary",onClick:l[3]||(l[3]=e=>m())},{default:Object(i["withCtx"])(()=>[Ld]),_:1})])])}}});l("46fe");const Td=b()(_d,[["__scopeId","data-v-dfb654e8"]]);var Md=Td;const Dd={class:"operates"},Ad={key:1,class:"drag-mask"};var zd=Object(i["defineComponent"])({__name:"index",setup(e){const t=Object(n["c"])(),{activeElementIdList:l,activeGroupElementId:o,handleElementId:c,editorAreaFocus:r,gridLineSize:s,showRuler:d,creatingElement:u,canvasScale:b}=Object(a["c"])(t),{currentSlide:m}=Object(a["c"])(Object(n["e"])()),{ctrlKeyState:p,spaceKeyState:O}=Object(a["c"])(Object(n["b"])()),j=Object(i["ref"])(),f=Object(i["ref"])([]),v=Object(i["ref"])(!1),h=()=>v.value=!0;Object(i["watch"])(c,()=>{t.setActiveGroupElementId("")});const y=Object(i["ref"])([]),g=()=>{y.value=m.value?JSON.parse(JSON.stringify(m.value.elements)):[]};Object(i["watchEffect"])(g);const x=Object(i["ref"])(),{dragViewport:k,viewportStyles:C}=jo(x);vo(x);const{mouseSelection:N,mouseSelectionVisible:E,mouseSelectionQuadrant:w,updateMouseSelection:V}=fo(y,j),{dragElement:I}=Io(y,f,b),{dragLineElement:B}=Bo(y),{selectElement:S}=Vo(y,I),{scaleElement:L,scaleMultiElement:_}=wo(y,f,b),{rotateElement:T}=yo(y,j),{moveShapeKeypoint:M}=So(y,b),{selectAllElement:D}=ul(),{deleteAllElements:A}=il(),{pasteElement:z}=dl(),{enterScreeningFromStart:F}=fl(),{updateSlideIndex:$}=al();Object(i["onMounted"])(()=>{l.value.length&&t.setActiveElementIdList([])});const R=e=>{t.setActiveElementIdList([]),O.value?k(e):V(e),r.value||t.setEditorareaFocus(!0),Oo()},P=()=>{r.value&&t.setEditorareaFocus(!1)},{scaleCanvas:H}=vl(),U=Object(Mt["throttle"])(H,100,{leading:!0,trailing:!1}),q=Object(Mt["throttle"])($,300,{leading:!0,trailing:!1}),G=e=>{e.preventDefault(),p.value?e.deltaY>0?U("-"):e.deltaY<0&&U("+"):e.deltaY>0?q(Ht.DOWN):e.deltaY<0&&q(Ht.UP)},Y=()=>{t.setRulerState(!d.value)},{insertElementFromCreateSelection:X}=Lo(j),Z=()=>[{text:"粘贴",subText:"Ctrl + V",handler:z},{text:"全选",subText:"Ctrl + A",handler:D},{text:"标尺",subText:d.value?"√":"",handler:Y},{text:"网格线",handler:()=>t.setGridLineSize(s.value?0:50),children:[{text:"无",subText:0===s.value?"√":"",handler:()=>t.setGridLineSize(0)},{text:"小",subText:25===s.value?"√":"",handler:()=>t.setGridLineSize(25)},{text:"中",subText:50===s.value?"√":"",handler:()=>t.setGridLineSize(50)},{text:"大",subText:100===s.value?"√":"",handler:()=>t.setGridLineSize(100)}]},{text:"重置当前页",handler:A},{divider:!0},{text:"幻灯片放映",subText:"F5",handler:F}];return Object(i["provide"])(mo,b),(e,t)=>{const n=Object(i["resolveComponent"])("Modal"),a=Object(i["resolveDirective"])("contextmenu"),r=Object(i["resolveDirective"])("click-outside");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"canvas",ref_key:"canvasRef",ref:x,onWheel:t[3]||(t[3]=e=>G(e)),onMousedown:t[4]||(t[4]=e=>R(e))},[Object(i["unref"])(u)?(Object(i["openBlock"])(),Object(i["createBlock"])(Oi,{key:0,onCreated:t[0]||(t[0]=e=>Object(i["unref"])(X)(e))})):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",{class:"viewport-wrapper",style:Object(i["normalizeStyle"])({width:Object(i["unref"])(C).width*Object(i["unref"])(b)+"px",height:Object(i["unref"])(C).height*Object(i["unref"])(b)+"px",left:Object(i["unref"])(C).left+"px",top:Object(i["unref"])(C).top+"px"})},[Object(i["createElementVNode"])("div",Dd,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(f.value,(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(ai,{key:t,type:e.type,axis:e.axis,length:e.length,canvasScale:Object(i["unref"])(b)},null,8,["type","axis","length","canvasScale"]))),128)),Object(i["unref"])(l).length>1?(Object(i["openBlock"])(),Object(i["createBlock"])(Ni,{key:0,elementList:y.value,scaleMultiElement:Object(i["unref"])(_)},null,8,["elementList","scaleMultiElement"])):Object(i["createCommentVNode"])("",!0),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(y.value,e=>(Object(i["openBlock"])(),Object(i["createBlock"])(xs,{key:e.id,elementInfo:e,isSelected:Object(i["unref"])(l).includes(e.id),isActive:Object(i["unref"])(c)===e.id,isActiveGroupElement:Object(i["unref"])(o)===e.id,isMultiSelect:Object(i["unref"])(l).length>1,rotateElement:Object(i["unref"])(T),scaleElement:Object(i["unref"])(L),openLinkDialog:h,dragLineElement:Object(i["unref"])(B),moveShapeKeypoint:Object(i["unref"])(M)},null,8,["elementInfo","isSelected","isActive","isActiveGroupElement","isMultiSelect","rotateElement","scaleElement","dragLineElement","moveShapeKeypoint"]))),128)),Object(i["createVNode"])(oi)]),Object(i["createElementVNode"])("div",{class:"viewport",ref_key:"viewportRef",ref:j,style:Object(i["normalizeStyle"])({transform:`scale(${Object(i["unref"])(b)})`})},[Object(i["unref"])(E)?(Object(i["openBlock"])(),Object(i["createBlock"])(Xr,{key:0,top:Object(i["unref"])(N).top,left:Object(i["unref"])(N).left,width:Object(i["unref"])(N).width,height:Object(i["unref"])(N).height,quadrant:Object(i["unref"])(w)},null,8,["top","left","width","height","quadrant"])):Object(i["createCommentVNode"])("",!0),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(y.value,(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(qr,{key:e.id,elementInfo:e,elementIndex:t+1,isMultiSelect:Object(i["unref"])(l).length>1,selectElement:Object(i["unref"])(S),openLinkDialog:h},null,8,["elementInfo","elementIndex","isMultiSelect","selectElement"]))),128))],4)],4),Object(i["unref"])(O)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ad)):Object(i["createCommentVNode"])("",!0),Object(i["unref"])(d)?(Object(i["openBlock"])(),Object(i["createBlock"])(di,{key:2,viewportStyles:Object(i["unref"])(C)},null,8,["viewportStyles"])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(n,{visible:v.value,"onUpdate:visible":t[2]||(t[2]=e=>v.value=e),footer:null,centered:"",width:540,destroyOnClose:""},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(Md,{onClose:t[1]||(t[1]=e=>v.value=!1)})]),_:1},8,["visible"])],32)),[[a,Z],[r,P]])}}});l("0239");const Fd=b()(zd,[["__scopeId","data-v-27676bf3"]]);var $d=Fd;const Rd={class:"shape-pool"},Pd={class:"category-name"},Hd={class:"shape-list"},Ud=["onClick"],qd={overflow:"visible",width:"18",height:"18"},Gd=["transform"],Yd=["fill","stroke","d"];var Xd=Object(i["defineComponent"])({__name:"ShapePool",emits:["select"],setup(e,{emit:t}){const l=e=>{t("select",e)};return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Rd,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(el),e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"category",key:e.type},[Object(i["createElementVNode"])("div",Pd,Object(i["toDisplayString"])(e.type),1),Object(i["createElementVNode"])("div",Hd,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.children,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"shape-item",key:t},[Object(i["createElementVNode"])("div",{class:"shape-content",onClick:t=>l(e)},[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",qd,[Object(i["createElementVNode"])("g",{transform:`scale(${18/e.viewBox[0]}, ${18/e.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(i["createElementVNode"])("path",{class:Object(i["normalizeClass"])(["shape-path",{outlined:e.outlined}]),"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:e.outlined?"#999":"transparent",stroke:e.outlined?"transparent":"#999","stroke-width":"2",d:e.path},null,10,Yd)],8,Gd)]))],8,Ud)]))),128))])]))),128))]))}});l("c24c");const Zd=b()(Xd,[["__scopeId","data-v-5788e0d2"]]);var Wd=Zd;const Jd=[{type:"直线",children:[{path:"M 0 0 L 20 20",style:"solid",points:["",""]},{path:"M 0 0 L 20 20",style:"dashed",points:["",""]},{path:"M 0 0 L 20 20",style:"solid",points:["","arrow"]},{path:"M 0 0 L 20 20",style:"dashed",points:["","arrow"]},{path:"M 0 0 L 20 20",style:"solid",points:["","dot"]}]},{type:"折线、曲线",children:[{path:"M 0 0 L 0 20 L 20 20",style:"solid",points:["","arrow"],isBroken:!0},{path:"M 0 0 Q 0 20 20 20",style:"solid",points:["","arrow"],isCurve:!0},{path:"M 0 0 C 20 0 0 20 20 20",style:"solid",points:["","arrow"],isCubic:!0}]}],Qd={class:"line-pool"},Kd={class:"category-name"},eu={class:"line-list"},tu=["onClick"],lu={overflow:"visible",width:"20",height:"20"},ou=["d","stroke-dasharray","marker-start","marker-end"];var cu=Object(i["defineComponent"])({__name:"LinePool",emits:["select"],setup(e,{emit:t}){const l=e=>{t("select",e)};return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Qd,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(Jd),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"category",key:e.type},[Object(i["createElementVNode"])("div",Kd,Object(i["toDisplayString"])(e.type),1),Object(i["createElementVNode"])("div",eu,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.children,(e,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"line-item",key:o},[Object(i["createElementVNode"])("div",{class:"line-content",onClick:t=>l(e)},[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",lu,[Object(i["createElementVNode"])("defs",null,[e.points[0]?(Object(i["openBlock"])(),Object(i["createBlock"])(ea,{key:0,class:"line-marker",id:`preset-line-${t}-${o}`,position:"start",type:e.points[0],color:"currentColor",baseSize:2},null,8,["id","type"])):Object(i["createCommentVNode"])("",!0),e.points[1]?(Object(i["openBlock"])(),Object(i["createBlock"])(ea,{key:1,class:"line-marker",id:`preset-line-${t}-${o}`,position:"end",type:e.points[1],color:"currentColor",baseSize:2},null,8,["id","type"])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("path",{class:"line-path",d:e.path,stroke:"currentColor",fill:"none","stroke-width":"2","stroke-dasharray":"solid"===e.style?"0, 0":"4, 1","marker-start":e.points[0]?`url(#preset-line-${t}-${o}-${e.points[0]}-start)`:"","marker-end":e.points[1]?`url(#preset-line-${t}-${o}-${e.points[1]}-end)`:""},null,8,ou)]))],8,tu)]))),128))])]))),128))]))}});l("3836");const nu=b()(cu,[["__scopeId","data-v-bca68faa"]]);var au=nu;const ru={class:"chart-pool"},iu=["onClick"];var su=Object(i["defineComponent"])({__name:"ChartPool",emits:["select"],setup(e,{emit:t}){const l=["bar","horizontalBar","line","area","scatter","pie","ring"],o=e=>{t("select",e)};return(e,t)=>{const c=Object(i["resolveComponent"])("IconChartLine"),n=Object(i["resolveComponent"])("IconChartHistogram"),a=Object(i["resolveComponent"])("IconChartPie"),r=Object(i["resolveComponent"])("IconChartHistogramOne"),s=Object(i["resolveComponent"])("IconChartLineArea"),d=Object(i["resolveComponent"])("IconChartRing"),u=Object(i["resolveComponent"])("IconChartScatter");return Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",ru,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l,(e,t)=>Object(i["createElementVNode"])("li",{class:"chart-item",key:t},[Object(i["createElementVNode"])("div",{class:"chart-content",onClick:t=>o(e)},["line"===e?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:0,size:"24"})):"bar"===e?(Object(i["openBlock"])(),Object(i["createBlock"])(n,{key:1,size:"24"})):"pie"===e?(Object(i["openBlock"])(),Object(i["createBlock"])(a,{key:2,size:"24"})):"horizontalBar"===e?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:3,size:"24"})):"area"===e?(Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:4,size:"24"})):"ring"===e?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:5,size:"24"})):"scatter"===e?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:6,size:"24"})):Object(i["createCommentVNode"])("",!0)],8,iu)])),64))])}}});l("24bc");const du=b()(su,[["__scopeId","data-v-3870b42e"]]);var uu=du;const bu=e=>(Object(i["pushScopeId"])("data-v-144fbd05"),e=e(),Object(i["popScopeId"])(),e),mu={class:"table-generator"},pu={class:"title"},Ou={class:"lef"},ju=["onMouseenter"],fu={key:1,class:"custom"},vu={class:"row"},hu=bu(()=>Object(i["createElementVNode"])("div",{class:"label",style:{flex:"1"}},"行数：",-1)),yu={class:"row"},gu=bu(()=>Object(i["createElementVNode"])("div",{class:"label",style:{flex:"1"}},"列数：",-1)),xu={class:"btns"},ku=Object(i["createTextVNode"])("取消"),Cu=Object(i["createTextVNode"])("确认");var Nu=Object(i["defineComponent"])({__name:"TableGenerator",emits:["insert","close"],setup(e,{emit:t}){const l=Object(i["ref"])([]),o=Object(i["ref"])(3),c=Object(i["ref"])(3),n=Object(i["ref"])(!1),a=()=>{if(!l.value.length)return;const[e,o]=l.value;t("insert",{row:e,col:o})},r=()=>o.value<1||o.value>20||c.value<1||c.value>20?De["a"].warning("行数/列数必须在0~20之间！"):(t("insert",{row:o.value,col:c.value}),void(n.value=!1)),s=()=>{t("close"),n.value=!1};return(e,t)=>{const d=Object(i["resolveComponent"])("InputNumber"),u=Object(i["resolveComponent"])("Button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",mu,[Object(i["createElementVNode"])("div",pu,[Object(i["createElementVNode"])("div",Ou,"表格 "+Object(i["toDisplayString"])(l.value.length?`${l.value[0]} x ${l.value[1]}`:""),1),Object(i["createElementVNode"])("div",{class:"right",onClick:t[0]||(t[0]=e=>n.value=!n.value)},Object(i["toDisplayString"])(n.value?"返回":"自定义"),1)]),n.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",fu,[Object(i["createElementVNode"])("div",vu,[hu,Object(i["createVNode"])(d,{min:1,max:20,value:o.value,"onUpdate:value":t[3]||(t[3]=e=>o.value=e),style:{flex:"3"}},null,8,["value"])]),Object(i["createElementVNode"])("div",yu,[gu,Object(i["createVNode"])(d,{min:1,max:20,value:c.value,"onUpdate:value":t[4]||(t[4]=e=>c.value=e),style:{flex:"3"}},null,8,["value"])]),Object(i["createElementVNode"])("div",xu,[Object(i["createVNode"])(u,{class:"btn",onClick:t[5]||(t[5]=e=>s())},{default:Object(i["withCtx"])(()=>[ku]),_:1}),Object(i["createVNode"])(u,{class:"btn",type:"primary",onClick:t[6]||(t[6]=e=>r())},{default:Object(i["withCtx"])(()=>[Cu]),_:1})])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("table",{key:0,onMouseleave:t[1]||(t[1]=e=>l.value=[]),onClick:t[2]||(t[2]=e=>a())},[Object(i["createElementVNode"])("tbody",null,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(10,e=>Object(i["createElementVNode"])("tr",{key:e},[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(10,t=>Object(i["createElementVNode"])("td",{onMouseenter:o=>l.value=[e,t],key:t},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["cell",{active:l.value.length&&e<=l.value[0]&&t<=l.value[1]}])},null,2)],40,ju)),64))])),64))])],32))])}}});l("307a");const Eu=b()(Nu,[["__scopeId","data-v-144fbd05"]]);var wu=Eu;const Vu={class:"media-input"},Iu={class:"tabs"},Bu=["onClick"],Su={class:"btns"},Lu=Object(i["createTextVNode"])("取消"),_u=Object(i["createTextVNode"])("确认"),Tu={class:"btns"},Mu=Object(i["createTextVNode"])("取消"),Du=Object(i["createTextVNode"])("确认");var Au=Object(i["defineComponent"])({__name:"MediaInput",emits:["insertVideo","insertAudio","close"],setup(e,{emit:t}){const l=Object(i["ref"])("video"),o=Object(i["ref"])("https://mazwai.com/videvo_files/video/free/2019-01/small_watermarked/181004_04_Dolphins-Whale_06_preview.webm"),c=Object(i["ref"])("https://freesound.org/data/previews/614/614107_11861866-lq.mp3"),n=[{key:"video",label:"视频"},{key:"audio",label:"音频"}],a=()=>{if(!o.value)return De["a"].error("请先输入正确的视频地址");t("insertVideo",o.value)},r=()=>{if(!c.value)return De["a"].error("请先输入正确的音频地址");t("insertAudio",c.value)};return(e,s)=>{const d=Object(i["resolveComponent"])("Input"),u=Object(i["resolveComponent"])("Button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Vu,[Object(i["createElementVNode"])("div",Iu,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n,e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["tab",{active:l.value===e.key}]),key:e.key,onClick:t=>l.value=e.key},Object(i["toDisplayString"])(e.label),11,Bu)),64))]),"video"===l.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createVNode"])(d,{value:o.value,"onUpdate:value":s[0]||(s[0]=e=>o.value=e),placeholder:"请输入视频地址，e.g. https://xxx.mp4"},null,8,["value"]),Object(i["createElementVNode"])("div",Su,[Object(i["createVNode"])(u,{onClick:s[1]||(s[1]=e=>t("close")),style:{"margin-right":"10px"}},{default:Object(i["withCtx"])(()=>[Lu]),_:1}),Object(i["createVNode"])(u,{type:"primary",onClick:s[2]||(s[2]=e=>a())},{default:Object(i["withCtx"])(()=>[_u]),_:1})])],64)):Object(i["createCommentVNode"])("",!0),"audio"===l.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createVNode"])(d,{value:c.value,"onUpdate:value":s[3]||(s[3]=e=>c.value=e),placeholder:"请输入音频地址，e.g. https://xxx.mp3"},null,8,["value"]),Object(i["createElementVNode"])("div",Tu,[Object(i["createVNode"])(u,{onClick:s[4]||(s[4]=e=>t("close")),style:{"margin-right":"10px"}},{default:Object(i["withCtx"])(()=>[Mu]),_:1}),Object(i["createVNode"])(u,{type:"primary",onClick:s[5]||(s[5]=e=>r())},{default:Object(i["withCtx"])(()=>[Du]),_:1})])],64)):Object(i["createCommentVNode"])("",!0)])}}});l("4675");const zu=b()(Au,[["__scopeId","data-v-b9437110"]]);var Fu=zu,$u=l("41ca");$u["a"].SUB_SUP_SCALE=.5;const Ru=[{label:"高斯公式",latex:"\\int\\int\\int _ { \\Omega } \\left( \\frac { \\partial {P} } { \\partial {x} } + \\frac { \\partial {Q} } { \\partial {y} } + \\frac { \\partial {R} }{ \\partial {z} } \\right) \\mathrm { d } V = \\oint _ { \\partial \\Omega } ( P \\cos \\alpha + Q \\cos \\beta + R \\cos \\gamma ) \\mathrm{ d} S"},{label:"傅里叶级数",latex:"f(x) = \\frac {a_0} 2 + \\sum_{n = 1}^\\infty {({a_n}\\cos {nx} + {b_n}\\sin {nx})}"},{label:"泰勒展开式",latex:"e ^ { x } = 1 + \\frac { x } { 1 ! } + \\frac { x ^ { 2 } } { 2 ! } + \\frac { x ^ { 3 } } { 3 ! } + ... , \\quad - \\infty < x < \\infty"},{label:"定积分",latex:"\\lim_ { n \\rightarrow + \\infty } \\sum _ { i = 1 } ^ { n } f \\left[ a + \\frac { i } { n } ( b - a ) \\right] \\frac { b - a } { n } = \\int _ { a } ^ { b } f ( x ) dx"},{label:"三角恒等式1",latex:"\\sin \\alpha \\pm \\sin \\beta = 2 \\sin \\frac { 1 } { 2 } ( \\alpha \\pm \\beta ) \\cos \\frac { 1 } { 2 } ( \\alpha \\mp \\beta )"},{label:"三角恒等式2",latex:"\\cos \\alpha + \\cos \\beta = 2 \\cos \\frac { 1 } { 2 } ( \\alpha + \\beta ) \\cos \\frac { 1 } { 2 } ( \\alpha - \\beta )"},{label:"和的展开式",latex:"( 1 + x ) ^ { n } = 1 + \\frac { n x } { 1 ! } + \\frac { n ( n - 1 ) x ^ { 2 } } { 2 ! } + ..."},{label:"欧拉公式",latex:" e^{ix} = \\cos {x} + i\\sin {x}"},{label:"贝努利方程",latex:"\\frac {dy} {dx} + P(x)y = Q(x) y^n ({n} \\not= {0,1})"},{label:"全微分方程",latex:"du(x,y) = P(x,y)dx + Q(x,y)dy = 0"},{label:"非齐次方程",latex:"y = (\\int Q(x) e^{\\int {P(x)dx}}dx + C)e^{-\\int {P(x)dx}}"},{label:"柯西中值定理",latex:"\\frac{{f(b) - f(a)}}{{F(b) - F(a)}} = \\frac{{f'(\\xi )}}{{F'(\\xi )}}"},{label:"拉格朗日中值定理",latex:"f(b) - f(a) = f'(\\xi )(b - a)"},{label:"导数公式",latex:"(\\arcsin x)' = \\frac{1}{{\\sqrt {1 - x^2} }}"},{label:"三角函数积分",latex:"\\int {tgxdx = - \\ln \\left| {\\cos x} \\right| + C}"},{label:"二次曲面",latex:"\\frac{{{x^2}}}{{{a^2}}} + \\frac{{{y^2}}}{{{b^2}}} - \\frac{{{z^2}}}{{{c^2}}} = 1"},{label:"二阶微分",latex:"\\frac {{d^2}y} {dx^2} + P(x) \\frac {dy} {dx} + Q(x)y = f(x)"},{label:"方向导数",latex:"\\frac{{\\partial f}}{{\\partial l}} = \\frac{{\\partial f}}{{\\partial x}}\\cos \\phi + \\frac{{\\partial f}}{{\\partial y}}\\sin \\phi"}],Pu=[{type:"operators",label:"数学",children:[{latex:"\\cdot"},{latex:"\\pm"},{latex:"\\mp"},{latex:"+"},{latex:"-"},{latex:"\\times"},{latex:"\\div"},{latex:"<"},{latex:">"},{latex:"="},{latex:"\\neq\\ne"},{latex:"\\leqq"},{latex:"\\geqq"},{latex:"\\leq"},{latex:"\\geq"},{latex:"\\propto"},{latex:"\\sim"},{latex:"\\equiv"},{latex:"\\dagger"},{latex:"\\ddagger"},{latex:"\\ell"},{latex:"\\#"},{latex:"\\$"},{latex:"\\&"},{latex:"\\%"},{latex:"\\langle\\rangle"},{latex:"()"},{latex:"[]"},{latex:"\\{\\}"},{latex:"||"},{latex:"\\|"},{latex:"\\exists"},{latex:"\\in"},{latex:"\\subset"},{latex:"\\supset"},{latex:"\\cup"},{latex:"\\cap"},{latex:"\\infty"},{latex:"\\partial"},{latex:"\\nabla"},{latex:"\\aleph"},{latex:"\\wp"},{latex:"\\therefore"},{latex:"\\mid"},{latex:"\\sum"},{latex:"\\prod"},{latex:"\\bigoplus"},{latex:"\\bigodot"},{latex:"\\int"},{latex:"\\oint"},{latex:"\\oplus"},{latex:"\\odot"},{latex:"\\perp"},{latex:"\\angle"},{latex:"\\triangle"},{latex:"\\Box"},{latex:"\\rightarrow"},{latex:"\\to"},{latex:"\\leftarrow"},{latex:"\\gets"},{latex:"\\circ"},{latex:"\\bigcirc"},{latex:"\\bullet"},{latex:"\\star"},{latex:"\\diamond"},{latex:"\\ast"},{latex:","},{latex:"."},{latex:";"},{latex:"!"}]},{type:"group",label:"组合",children:[{latex:"\\frac{a}{b}"},{latex:"\\frac{dx}{dx}"},{latex:"\\frac{\\partial a}{\\partial b}"},{latex:"\\sqrt{x}"},{latex:"\\sqrt[n]{x}"},{latex:"x^{n}"},{latex:"x_{n}"},{latex:"x_a^b"},{latex:"\\int_{a}^{b}"},{latex:"\\oint_a^b"},{latex:"\\lim_{a \\rightarrow b}"},{latex:"\\prod_a^b"},{latex:"\\sum_a^b"},{latex:"\\left(\\begin{array}a \\\\ b\\end{array}\\right)"},{latex:"\\begin{bmatrix}a & b \\\\ c & d \\end{bmatrix}"},{latex:"\\begin{cases}a & x = 0 \\\\ b & x > 0\\end{cases}"},{latex:"\\hat{a}"},{latex:"\\breve{a}"},{latex:"\\acute{a}"},{latex:"\\grave{a}"},{latex:"\\tilde{a}"},{latex:"\\bar{a}"},{latex:"\\vec{a}"},{latex:"\\underline{a}"},{latex:"\\overline{a}"},{latex:"\\widehat{ab}"},{latex:"\\overleftarrow{ab}"},{latex:"\\overrightarrow{ab}"}]},{type:"verbatim",label:"函数",children:[{latex:"\\log"},{latex:"\\ln"},{latex:"\\exp"},{latex:"\\mod"},{latex:"\\lim"},{latex:"\\sin"},{latex:"\\cos"},{latex:"\\tan"},{latex:"\\csc"},{latex:"\\sec"},{latex:"\\cot"},{latex:"\\sinh"},{latex:"\\cosh"},{latex:"\\tanh"},{latex:"\\csch"},{latex:"\\sech"},{latex:"\\coth"},{latex:"\\arcsin"},{latex:"\\arccos"},{latex:"\\arctan"},{latex:"\\arccsc"},{latex:"\\arcsec"},{latex:"\\arccot"}]},{type:"greek",label:"希腊字母",children:[{latex:"\\alpha"},{latex:"\\beta"},{latex:"\\gamma"},{latex:"\\delta"},{latex:"\\varepsilon"},{latex:"\\zeta"},{latex:"\\eta"},{latex:"\\vartheta"},{latex:"\\iota"},{latex:"\\kappa"},{latex:"\\lambda"},{latex:"\\mu"},{latex:"\\nu"},{latex:"\\xi"},{latex:"\\omicron"},{latex:"\\pi"},{latex:"\\rho"},{latex:"\\sigma"},{latex:"\\tau"},{latex:"\\upsilon"},{latex:"\\varphi"},{latex:"\\chi"},{latex:"\\psi"},{latex:"\\omega"},{latex:"\\epsilon"},{latex:"\\theta"},{latex:"\\phi"},{latex:"\\varsigma"},{latex:"\\Alpha"},{latex:"\\Beta"},{latex:"\\Gamma"},{latex:"\\Delta"},{latex:"\\Epsilon"},{latex:"\\Zeta"},{latex:"\\Eta"},{latex:"\\Theta"},{latex:"\\Iota"},{latex:"\\Kappa"},{latex:"\\Lambda"},{latex:"\\Mu"},{latex:"\\Nu"},{latex:"\\Xi"},{latex:"\\Omicron"},{latex:"\\Pi"},{latex:"\\Rho"},{latex:"\\Sigma"},{latex:"\\Tau"},{latex:"\\Upsilon"},{latex:"\\Phi"},{latex:"\\Chi"},{latex:"\\Psi"},{latex:"\\Omega"}]}],Hu=["width","height"],Uu=["transform"],qu=["d"];var Gu=Object(i["defineComponent"])({__name:"FormulaContent",props:{latex:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0}},setup(e){const t=e,l=Object(i["ref"])({x:0,y:0,w:0,h:0}),o=Object(i["ref"])("");Object(i["watch"])(()=>t.latex,()=>{const e=new $u["b"](t.latex);o.value=e.pathd({}),l.value=e.box({})},{immediate:!0});const c=Object(i["computed"])(()=>{const e=l.value.w+32,o=l.value.h+32;return e>t.width||o>t.height?e/o>t.width/t.height?t.width/e:t.height/o:1});return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:"formula-content",overflow:"visible",width:l.value.w+32,height:l.value.h+32,stroke:"#000","stroke-width":"1",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[Object(i["createElementVNode"])("g",{transform:`scale(${Object(i["unref"])(c)}, ${Object(i["unref"])(c)}) translate(0,0) matrix(1,0,0,1,0,0)`,"transform-origin":"0 50%"},[Object(i["createElementVNode"])("path",{d:o.value},null,8,qu)],8,Uu)],8,Hu))}});l("e9df");const Yu=b()(Gu,[["__scopeId","data-v-1c41d9fe"]]);var Xu=Yu;const Zu=["innerHTML"];var Wu=Object(i["defineComponent"])({__name:"SymbolContent",props:{latex:{type:String,required:!0}},setup(e){const t=e,l=Object(i["computed"])(()=>{const e=new $u["b"](t.latex);return e.svg({SCALE_X:10,SCALE_Y:10})});return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"symbol-content",innerHTML:Object(i["unref"])(l)},null,8,Zu))}});const Ju=Wu;var Qu=Ju;const Ku={class:"latex-editor"},eb={class:"container"},tb={class:"left"},lb={class:"input-area"},ob={class:"preview"},cb={key:0,class:"placeholder"},nb={key:1,class:"preview-content"},ab={class:"right"},rb={class:"tabs"},ib=["onClick"],sb={class:"content"},db={key:0,class:"symbol"},ub={class:"symbol-tabs"},bb=["onClick"],mb={class:"symbol-pool"},pb=["onClick"],Ob={key:1,class:"formula"},jb={class:"formula-title"},fb=["onClick"],vb={class:"footer"},hb=Object(i["createTextVNode"])("取消"),yb=Object(i["createTextVNode"])("确定");var gb=Object(i["defineComponent"])({__name:"index",props:{value:{type:String,default:""}},emits:["update","close"],setup(e,{emit:t}){const l=e,o=[{label:"常用符号",value:"symbol"},{label:"预置公式",value:"formula"}],c=Ru,n=Pu,a=Object(i["ref"])(""),r=Object(i["ref"])("symbol"),s=Object(i["ref"])(),d=Object(i["ref"])(Pu[0].type),u=Object(i["computed"])(()=>{const e=Pu.find(e=>e.type===d.value);return(null===e||void 0===e?void 0:e.children)||[]});Object(i["onMounted"])(()=>{l.value&&(a.value=l.value)});const b=()=>{if(!a.value)return De["a"].error("公式不能为空");const e=new $u["b"](a.value),l=e.pathd({}),o=e.box({});t("update",{latex:a.value,path:l,w:o.w+32,h:o.h+32})},m=e=>{s.value&&(s.value.focus(),document.execCommand("insertText",!1,e))};return(e,l)=>{const p=Object(i["resolveComponent"])("TextArea"),O=Object(i["resolveComponent"])("Button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ku,[Object(i["createElementVNode"])("div",eb,[Object(i["createElementVNode"])("div",tb,[Object(i["createElementVNode"])("div",lb,[Object(i["createVNode"])(p,{value:a.value,"onUpdate:value":l[0]||(l[0]=e=>a.value=e),placeholder:"输入 LaTeX 公式",ref_key:"textAreaRef",ref:s},null,8,["value"])]),Object(i["createElementVNode"])("div",ob,[a.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",nb,[Object(i["createVNode"])(Xu,{width:518,height:138,latex:a.value},null,8,["latex"])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",cb,"公式预览"))])]),Object(i["createElementVNode"])("div",ab,[Object(i["createElementVNode"])("div",rb,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o,e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["tab",{active:e.value===r.value}]),key:e.value,onClick:t=>r.value=e.value},Object(i["toDisplayString"])(e.label),11,ib)),64))]),Object(i["createElementVNode"])("div",sb,["symbol"===r.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",db,[Object(i["createElementVNode"])("div",ub,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(n),e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["symbol-tab",{active:d.value===e.type}]),key:e.type,onClick:t=>d.value=e.type},Object(i["toDisplayString"])(e.label),11,bb))),128))]),Object(i["createElementVNode"])("div",mb,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(u),e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"symbol-item",key:e.latex,onClick:t=>m(e.latex)},[Object(i["createVNode"])(Qu,{latex:e.latex},null,8,["latex"])],8,pb))),128))])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ob,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(c),e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"formula-item",key:e.label},[Object(i["createElementVNode"])("div",jb,Object(i["toDisplayString"])(e.label),1),Object(i["createElementVNode"])("div",{class:"formula-item-content",onClick:t=>a.value=e.latex},[Object(i["createVNode"])(Xu,{width:236,height:60,latex:e.latex},null,8,["latex"])],8,fb)]))),128))]))])])]),Object(i["createElementVNode"])("div",vb,[Object(i["createVNode"])(O,{class:"btn",onClick:l[1]||(l[1]=e=>t("close"))},{default:Object(i["withCtx"])(()=>[hb]),_:1}),Object(i["createVNode"])(O,{class:"btn",type:"primary",onClick:l[2]||(l[2]=e=>b())},{default:Object(i["withCtx"])(()=>[yb]),_:1})])])}}});l("1933");const xb=b()(gb,[["__scopeId","data-v-2d73bf28"]]);var kb=xb;const Cb={class:"canvas-tool"},Nb={class:"left-handler"},Eb={class:"add-element-handler"},wb={class:"right-handler"},Vb={class:"viewport-size-preset"},Ib=["onClick"],Bb={class:"text"};var Sb=Object(i["defineComponent"])({__name:"index",setup(e){const t=Object(n["c"])(),{creatingElement:l}=Object(a["c"])(t),{canUndo:o,canRedo:c}=Object(a["c"])(Object(n["f"])()),{redo:r,undo:s}=Object(ll["a"])(),{scaleCanvas:d,setCanvasScalePercentage:u,resetCanvas:b,canvasScalePercentage:m}=vl(),p=[200,150,100,80,50],O=Object(i["ref"])(!1),j=e=>{u(e),O.value=!1},{createImageElement:f,createChartElement:v,createTableElement:h,createLatexElement:y,createVideoElement:g,createAudioElement:x}=ol(),k=e=>{const t=e[0];t&&Zt(t).then(e=>f(e))},C=Object(i["ref"])(!1),N=Object(i["ref"])(!1),E=Object(i["ref"])(!1),w=Object(i["ref"])(!1),V=Object(i["ref"])(!1),I=Object(i["ref"])(!1),B=()=>{t.setCreatingElement({type:"text"})},S=e=>{t.setCreatingElement({type:"shape",data:e}),C.value=!1},L=e=>{t.setCreatingElement({type:"line",data:e}),N.value=!1};return(e,t)=>{const n=Object(i["resolveComponent"])("IconBack"),a=Object(i["resolveComponent"])("Tooltip"),u=Object(i["resolveComponent"])("IconNext"),f=Object(i["resolveComponent"])("IconFontSize"),_=Object(i["resolveComponent"])("IconPicture"),T=Object(i["resolveComponent"])("FileInput"),M=Object(i["resolveComponent"])("IconGraphicDesign"),D=Object(i["resolveComponent"])("Popover"),A=Object(i["resolveComponent"])("IconConnection"),z=Object(i["resolveComponent"])("IconChartProportion"),F=Object(i["resolveComponent"])("IconInsertTable"),$=Object(i["resolveComponent"])("IconFormula"),R=Object(i["resolveComponent"])("IconVideoTwo"),P=Object(i["resolveComponent"])("IconMinus"),H=Object(i["resolveComponent"])("IconPlus"),U=Object(i["resolveComponent"])("IconFullScreen"),q=Object(i["resolveComponent"])("Modal");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Cb,[Object(i["createElementVNode"])("div",Nb,[Object(i["createVNode"])(a,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"撤销"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{class:Object(i["normalizeClass"])(["handler-item",{disable:!Object(i["unref"])(o)}]),onClick:t[0]||(t[0]=e=>Object(i["unref"])(s)())},null,8,["class"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(a,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"重做"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(u,{class:Object(i["normalizeClass"])(["handler-item",{disable:!Object(i["unref"])(c)}]),onClick:t[1]||(t[1]=e=>Object(i["unref"])(r)())},null,8,["class"])]),_:1},8,["mouseEnterDelay"])]),Object(i["createElementVNode"])("div",Eb,[Object(i["createVNode"])(a,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入文字"},{default:Object(i["withCtx"])(()=>{var e;return[Object(i["createVNode"])(f,{class:Object(i["normalizeClass"])(["handler-item",{active:"text"===(null===(e=Object(i["unref"])(l))||void 0===e?void 0:e.type)}]),onClick:t[2]||(t[2]=e=>B())},null,8,["class"])]}),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(T,{onChange:t[3]||(t[3]=e=>k(e))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入图片"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(_,{class:"handler-item"})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(D,{trigger:"click",visible:C.value,"onUpdate:visible":t[5]||(t[5]=e=>C.value=e)},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(Wd,{onSelect:t[4]||(t[4]=e=>S(e))})]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入形状"},{default:Object(i["withCtx"])(()=>{var e;return[Object(i["createVNode"])(M,{class:Object(i["normalizeClass"])(["handler-item",{active:"shape"===(null===(e=Object(i["unref"])(l))||void 0===e?void 0:e.type)}])},null,8,["class"])]}),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"]),Object(i["createVNode"])(D,{trigger:"click",visible:N.value,"onUpdate:visible":t[7]||(t[7]=e=>N.value=e)},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(au,{onSelect:t[6]||(t[6]=e=>L(e))})]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入线条"},{default:Object(i["withCtx"])(()=>{var e;return[Object(i["createVNode"])(A,{class:Object(i["normalizeClass"])(["handler-item",{active:"line"===(null===(e=Object(i["unref"])(l))||void 0===e?void 0:e.type)}])},null,8,["class"])]}),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"]),Object(i["createVNode"])(D,{trigger:"click",visible:E.value,"onUpdate:visible":t[9]||(t[9]=e=>E.value=e)},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(uu,{onSelect:t[8]||(t[8]=e=>{Object(i["unref"])(v)(e),E.value=!1})})]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入图表"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(z,{class:"handler-item"})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"]),Object(i["createVNode"])(D,{trigger:"click",visible:w.value,"onUpdate:visible":t[12]||(t[12]=e=>w.value=e)},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(wu,{onClose:t[10]||(t[10]=e=>w.value=!1),onInsert:t[11]||(t[11]=({row:e,col:t})=>{Object(i["unref"])(h)(e,t),w.value=!1})})]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入表格"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(F,{class:"handler-item"})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"]),Object(i["createVNode"])(a,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入公式"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])($,{class:"handler-item",onClick:t[13]||(t[13]=e=>I.value=!0)})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(D,{trigger:"click",visible:V.value,"onUpdate:visible":t[17]||(t[17]=e=>V.value=e)},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(Fu,{onClose:t[14]||(t[14]=e=>V.value=!1),onInsertVideo:t[15]||(t[15]=e=>{Object(i["unref"])(g)(e),V.value=!1}),onInsertAudio:t[16]||(t[16]=e=>{Object(i["unref"])(x)(e),V.value=!1})})]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入音视频"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(R,{class:"handler-item"})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"])]),Object(i["createElementVNode"])("div",wb,[Object(i["createVNode"])(P,{class:"handler-item viewport-size",onClick:t[18]||(t[18]=e=>Object(i["unref"])(d)("-"))}),Object(i["createVNode"])(D,{trigger:"click",visible:O.value,"onUpdate:visible":t[19]||(t[19]=e=>O.value=e)},{content:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Vb,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(p,e=>Object(i["createElementVNode"])("div",{class:"preset-item",key:e,onClick:t=>j(e)},Object(i["toDisplayString"])(e)+"%",9,Ib)),64))])]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",Bb,Object(i["toDisplayString"])(Object(i["unref"])(m)),1)]),_:1},8,["visible"]),Object(i["createVNode"])(H,{class:"handler-item viewport-size",onClick:t[20]||(t[20]=e=>Object(i["unref"])(d)("+"))}),Object(i["createVNode"])(a,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"适应屏幕"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(U,{class:"handler-item viewport-size-adaptation",onClick:t[21]||(t[21]=e=>Object(i["unref"])(b)())})]),_:1},8,["mouseEnterDelay"])]),Object(i["createVNode"])(q,{visible:I.value,"onUpdate:visible":t[24]||(t[24]=e=>I.value=e),footer:null,centered:"",width:880,destroyOnClose:""},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(kb,{onClose:t[22]||(t[22]=e=>I.value=!1),onUpdate:t[23]||(t[23]=e=>{Object(i["unref"])(y)(e),I.value=!1})})]),_:1},8,["visible"])])}}});l("9ff2");const Lb=b()(Sb,[["__scopeId","data-v-5d4eff54"]]);var _b=Lb,Tb=()=>{const{slides:e}=Object(a["c"])(Object(n["e"])()),t=Object(i["ref"])(null),l=Object(i["ref"])(50),o=()=>{e.value.length>l.value?t.value=setTimeout(()=>{l.value=l.value+20,o()},600):l.value=9999};return Object(i["onMounted"])(o),Object(i["onUnmounted"])(()=>{t.value&&clearTimeout(t.value)}),{slidesLoadLimit:l}},Mb=l("6328"),Db=l.n(Mb);const Ab={class:"layout-pool"},zb=["onClick"];var Fb=Object(i["defineComponent"])({__name:"LayoutPool",emits:["select"],setup(e,{emit:t}){const{layouts:l}=Object(a["c"])(Object(n["e"])()),o=e=>{t("select",e)};return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ab,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(l),e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"layout-item",key:e.id,onClick:t=>o(e)},[Object(i["createVNode"])(kd,{class:"thumbnail",slide:e,size:180},null,8,["slide"])],8,zb))),128))]))}});l("3328");const $b=b()(Fb,[["__scopeId","data-v-cc6b7dca"]]);var Rb=$b;const Pb={class:"add-slide"},Hb=Object(i["createTextVNode"])("添加幻灯片"),Ub={class:"select-btn"},qb=["onMousedown"],Gb={class:"page-number"};var Yb=Object(i["defineComponent"])({__name:"index",setup(e){const t=Object(n["c"])(),l=Object(n["e"])(),o=Object(n["b"])(),{selectedSlidesIndex:c,thumbnailsFocus:r}=Object(a["c"])(t),{slides:s,slideIndex:d}=Object(a["c"])(l),{ctrlKeyState:u,shiftKeyState:b}=Object(a["c"])(o),{slidesLoadLimit:m}=Tb(),p=Object(i["ref"])({});l.$onAction(({name:e,after:t})=>{"updateCoopUserInfo"===e&&t(()=>{const e={};Object.values(l.coopUserInfo).forEach(t=>{void 0!==t.currentSlide&&(e[t.currentSlide]=t.avatar)}),p.value=e})});const O=Object(i["computed"])(()=>[...c.value,d.value]),j=Object(i["ref"])(!1),{copySlide:f,pasteSlide:v,createSlide:h,createSlideByTemplate:y,copyAndPasteSlide:g,deleteSlide:x,cutSlide:k,selectAllSlide:C}=al(),N=e=>{t.setActiveElementIdList([]),d.value!==e&&l.updateSlideIndex(e)},E=(e,l)=>{const o=O.value.length>1;if(!o||!O.value.includes(l)||0===e.button)if(u.value)if(d.value===l){if(!o)return;const e=O.value.filter(e=>e!==l);t.updateSelectedSlidesIndex(e),N(O.value[0])}else if(O.value.includes(l)){const e=O.value.filter(e=>e!==l);t.updateSelectedSlidesIndex(e)}else{const e=[...O.value,l];t.updateSelectedSlidesIndex(e),N(l)}else if(b.value){if(d.value===l&&!o)return;let e=Math.min(...O.value),c=l;l<e&&(c=Math.max(...O.value),e=l);const n=[];for(let t=e;t<=c;t++)n.push(t);t.updateSelectedSlidesIndex(n),N(l)}else t.updateSelectedSlidesIndex([]),N(l)},w=e=>{r.value!==e&&(t.setThumbnailsFocus(e),e||t.updateSelectedSlidesIndex([]))},V=e=>{const{newIndex:t,oldIndex:o}=e;if(o===t)return;const c=JSON.parse(JSON.stringify(s.value)),n=c[o];c.splice(o,1),c.splice(t,0,n),l.setSlides(c),l.updateSlideIndex(t)},{enterScreening:I,enterScreeningFromStart:B}=fl(),S=()=>[{text:"粘贴",subText:"Ctrl + V",handler:v},{text:"全选",subText:"Ctrl + A",handler:C},{text:"新建页面",subText:"Enter",handler:h},{text:"幻灯片放映",subText:"F5",handler:B}],L=()=>[{text:"剪切",subText:"Ctrl + X",handler:k},{text:"复制",subText:"Ctrl + C",handler:f},{text:"粘贴",subText:"Ctrl + V",handler:v},{text:"全选",subText:"Ctrl + A",handler:C},{divider:!0},{text:"新建页面",subText:"Enter",handler:h},{text:"复制页面",subText:"Ctrl + D",handler:g},{text:"删除页面",subText:"Delete",handler:()=>x()},{divider:!0},{text:"从当前放映",subText:"Shift + F5",handler:I}];return(e,t)=>{const l=Object(i["resolveComponent"])("IconPlus"),o=Object(i["resolveComponent"])("IconDown"),c=Object(i["resolveComponent"])("Popover"),n=Object(i["resolveDirective"])("contextmenu"),a=Object(i["resolveDirective"])("click-outside");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"thumbnails",onMousedown:t[3]||(t[3]=()=>w(!0))},[Object(i["createElementVNode"])("div",Pb,[Object(i["createElementVNode"])("div",{class:"btn",onClick:t[0]||(t[0]=e=>Object(i["unref"])(h)())},[Object(i["createVNode"])(l,{class:"icon"}),Hb]),Object(i["createVNode"])(c,{trigger:"click",placement:"bottomLeft",visible:j.value,"onUpdate:visible":t[2]||(t[2]=e=>j.value=e)},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(Rb,{onSelect:t[1]||(t[1]=e=>{Object(i["unref"])(y)(e),j.value=!1})})]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Ub,[Object(i["createVNode"])(o)])]),_:1},8,["visible"])]),Object(i["createVNode"])(Object(i["unref"])(Db.a),{class:"thumbnail-list",modelValue:Object(i["unref"])(s),animation:300,scroll:!0,scrollSensitivity:50,setData:null,onEnd:V,itemKey:"id"},{item:Object(i["withCtx"])(({element:e,index:t})=>[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["thumbnail-item",{active:Object(i["unref"])(d)===t,selected:Object(i["unref"])(O).includes(t)}]),onMousedown:e=>E(e,t)},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["label",{"offset-left":t>=99}])},Object(i["toDisplayString"])(Object(i["unref"])(Dt)(t+1,2)),3),Object(i["createVNode"])(kd,{class:"thumbnail",slide:e,size:120,visible:t<Object(i["unref"])(m),avatar:p.value[t]},null,8,["slide","visible","avatar"])],42,qb)),[[n,L]])]),_:1},8,["modelValue"]),Object(i["createElementVNode"])("div",Gb,"幻灯片 "+Object(i["toDisplayString"])(Object(i["unref"])(d)+1)+" / "+Object(i["toDisplayString"])(Object(i["unref"])(s).length),1)],32)),[[a,()=>w(!1)],[n,S]])}}});l("d12f");const Xb=b()(Yb,[["__scopeId","data-v-c39c9cea"]]);var Zb=Xb,Wb=l("c205"),Jb=l("4c44");const Qb=e=>(Object(i["pushScopeId"])("data-v-22345a51"),e=e(),Object(i["popScopeId"])(),e),Kb={class:"element-opacity"},em={class:"row"},tm=Qb(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"不透明度：",-1));var lm=Object(i["defineComponent"])({__name:"ElementOpacity",setup(e){const t=Object(n["e"])(),{handleElement:l}=Object(a["c"])(Object(n["c"])()),o=Object(i["ref"])(1);Object(i["watch"])(l,()=>{l.value&&(o.value="opacity"in l.value&&void 0!==l.value.opacity?l.value.opacity:1)},{deep:!0,immediate:!0});const{addHistorySnapshot:c}=Object(ll["a"])(),r=e=>{if(!l.value)return;const o={opacity:e};t.updateElement({id:l.value.id,props:o}),c()};return(e,t)=>{const l=Object(i["resolveComponent"])("Slider");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Kb,[Object(i["createElementVNode"])("div",em,[tm,Object(i["createVNode"])(l,{class:"slider",min:0,max:1,step:.1,value:o.value,onChange:t[0]||(t[0]=e=>r(e))},null,8,["step","value"])])])}}});l("335c");const om=b()(lm,[["__scopeId","data-v-22345a51"]]);var cm=om;const nm={class:"color-block"};var am=Object(i["defineComponent"])({__name:"ColorButton",props:{color:{type:String,required:!0}},setup(e){return(t,l)=>{const o=Object(i["resolveComponent"])("IconPlatte"),c=Object(i["resolveComponent"])("Button");return Object(i["openBlock"])(),Object(i["createBlock"])(c,{class:"color-btn"},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",nm,[Object(i["createElementVNode"])("div",{class:"content",style:Object(i["normalizeStyle"])({backgroundColor:e.color})},null,4)]),Object(i["createVNode"])(o,{class:"color-btn-icon"})]),_:1})}}});l("9300");const rm=b()(am,[["__scopeId","data-v-ed8f2044"]]);var im=rm;const sm=e=>(Object(i["pushScopeId"])("data-v-e91e3764"),e=e(),Object(i["popScopeId"])(),e),dm={class:"element-outline"},um={key:0,class:"row"},bm=sm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"启用边框：",-1)),mm={class:"switch-wrapper",style:{flex:"3"}},pm={class:"row"},Om=sm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"边框样式：",-1)),jm=Object(i["createTextVNode"])("实线边框"),fm=Object(i["createTextVNode"])("虚线边框"),vm={class:"row"},hm=sm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"边框颜色：",-1)),ym={class:"row"},gm=sm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"边框粗细：",-1));var xm=Object(i["defineComponent"])({__name:"ElementOutline",props:{fixed:{type:Boolean,default:!1}},setup(e){const t=Object(n["e"])(),{handleElement:l}=Object(a["c"])(Object(n["c"])()),o=Object(i["ref"])(),c=Object(i["ref"])(!1);Object(i["watch"])(l,()=>{l.value&&(o.value="outline"in l.value?l.value.outline:void 0,c.value=!!o.value)},{deep:!0,immediate:!0});const{addHistorySnapshot:r}=Object(ll["a"])(),s=e=>{if(!l.value)return;const c={outline:{...o.value,...e}};t.updateElement({id:l.value.id,props:c}),r()},d=e=>{if(l.value){if(e){const e={width:2,color:"#000",style:"solid"};t.updateElement({id:l.value.id,props:{outline:e}})}else t.removeElementProps({id:l.value.id,propName:"outline"});r()}};return(t,l)=>{const n=Object(i["resolveComponent"])("Switch"),a=Object(i["resolveComponent"])("SelectOption"),r=Object(i["resolveComponent"])("Select"),u=Object(i["resolveComponent"])("ColorPicker"),b=Object(i["resolveComponent"])("Popover"),m=Object(i["resolveComponent"])("InputNumber");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",dm,[e.fixed?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",um,[bm,Object(i["createElementVNode"])("div",mm,[Object(i["createVNode"])(n,{checked:c.value,onChange:l[0]||(l[0]=e=>d(e))},null,8,["checked"])])])),c.value&&o.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("div",pm,[Om,Object(i["createVNode"])(r,{style:{flex:"3"},value:o.value.style,onChange:l[1]||(l[1]=e=>s({style:e}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{value:"solid"},{default:Object(i["withCtx"])(()=>[jm]),_:1}),Object(i["createVNode"])(a,{value:"dashed"},{default:Object(i["withCtx"])(()=>[fm]),_:1})]),_:1},8,["value"])]),Object(i["createElementVNode"])("div",vm,[hm,Object(i["createVNode"])(b,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(u,{modelValue:o.value.color,"onUpdate:modelValue":l[2]||(l[2]=e=>s({color:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:o.value.color||"#000",style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createElementVNode"])("div",ym,[gm,Object(i["createVNode"])(m,{value:o.value.width,onChange:l[3]||(l[3]=e=>s({width:e})),style:{flex:"3"}},null,8,["value"])])],64)):Object(i["createCommentVNode"])("",!0)])}}});l("f40d");const km=b()(xm,[["__scopeId","data-v-e91e3764"]]);var Cm=km;const Nm=e=>(Object(i["pushScopeId"])("data-v-053ed706"),e=e(),Object(i["popScopeId"])(),e),Em={class:"element-shadow"},wm={class:"row"},Vm=Nm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"启用阴影：",-1)),Im={class:"switch-wrapper",style:{flex:"3"}},Bm={class:"row"},Sm=Nm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"水平阴影：",-1)),Lm={class:"row"},_m=Nm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"垂直阴影：",-1)),Tm={class:"row"},Mm=Nm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"模糊距离：",-1)),Dm={class:"row"},Am=Nm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"阴影颜色：",-1));var zm=Object(i["defineComponent"])({__name:"ElementShadow",setup(e){const t=Object(n["e"])(),{handleElement:l}=Object(a["c"])(Object(n["c"])()),o=Object(i["ref"])(),c=Object(i["ref"])(!1);Object(i["watch"])(l,()=>{l.value&&(o.value="shadow"in l.value?l.value.shadow:void 0,c.value=!!o.value)},{deep:!0,immediate:!0});const{addHistorySnapshot:r}=Object(ll["a"])(),s=e=>{if(!l.value||!o.value)return;const c={...o.value,...e};t.updateElement({id:l.value.id,props:{shadow:c}}),r()},d=e=>{if(l.value){if(e){const e={h:1,v:1,blur:2,color:"#000"};t.updateElement({id:l.value.id,props:{shadow:e}})}else t.removeElementProps({id:l.value.id,propName:"shadow"});r()}};return(e,t)=>{const l=Object(i["resolveComponent"])("Switch"),n=Object(i["resolveComponent"])("Slider"),a=Object(i["resolveComponent"])("ColorPicker"),r=Object(i["resolveComponent"])("Popover");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Em,[Object(i["createElementVNode"])("div",wm,[Vm,Object(i["createElementVNode"])("div",Im,[Object(i["createVNode"])(l,{checked:c.value,onChange:t[0]||(t[0]=e=>d(e))},null,8,["checked"])])]),c.value&&o.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("div",Bm,[Sm,Object(i["createVNode"])(n,{class:"slider",min:-10,max:10,step:1,value:o.value.h,onChange:t[1]||(t[1]=e=>s({h:e}))},null,8,["value"])]),Object(i["createElementVNode"])("div",Lm,[_m,Object(i["createVNode"])(n,{class:"slider",min:-10,max:10,step:1,value:o.value.v,onChange:t[2]||(t[2]=e=>s({v:e}))},null,8,["value"])]),Object(i["createElementVNode"])("div",Tm,[Mm,Object(i["createVNode"])(n,{class:"slider",min:1,max:20,step:1,value:o.value.blur,onChange:t[3]||(t[3]=e=>s({blur:e}))},null,8,["value"])]),Object(i["createElementVNode"])("div",Dm,[Am,Object(i["createVNode"])(r,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{modelValue:o.value.color,"onUpdate:modelValue":t[4]||(t[4]=e=>s({color:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:o.value.color,style:{flex:"3"}},null,8,["color"])]),_:1})])],64)):Object(i["createCommentVNode"])("",!0)])}}});l("34f1");const Fm=b()(zm,[["__scopeId","data-v-053ed706"]]);var $m=Fm;const Rm=e=>(Object(i["pushScopeId"])("data-v-5830b9cf"),e=e(),Object(i["popScopeId"])(),e),Pm={class:"text-style-panel"},Hm={class:"preset-style"},Um=["onClick"],qm=Object(i["createTextVNode"])("+"),Gm=Object(i["createTextVNode"])("-"),Ym={class:"link-popover"},Xm={class:"btns"},Zm=Object(i["createTextVNode"])("移除"),Wm=Object(i["createTextVNode"])("确认"),Jm={class:"row"},Qm=Rm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"行间距：",-1)),Km={class:"row"},ep=Rm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"段间距：",-1)),tp={class:"row"},lp=Rm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"字间距：",-1)),op={class:"row"},cp=Rm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"首行缩进：",-1)),np={class:"row"},ap=Rm(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"文本框填充：",-1));var rp=Object(i["defineComponent"])({__name:"TextStylePanel",setup(e){const t=[{label:"大标题",style:{fontSize:"26px",fontWeight:700},cmd:[{command:"clear"},{command:"fontsize",value:"48px"},{command:"align",value:"center"},{command:"bold"}]},{label:"小标题",style:{fontSize:"22px",fontWeight:700},cmd:[{command:"clear"},{command:"fontsize",value:"36px"},{command:"align",value:"center"},{command:"bold"}]},{label:"正文",style:{fontSize:"20px"},cmd:[{command:"clear"},{command:"fontsize",value:"20px"}]},{label:"正文[小]",style:{fontSize:"18px"},cmd:[{command:"clear"},{command:"fontsize",value:"18px"}]},{label:"注释 1",style:{fontSize:"16px",fontStyle:"italic"},cmd:[{command:"clear"},{command:"fontsize",value:"16px"},{command:"em"}]},{label:"注释 2",style:{fontSize:"16px",textDecoration:"underline"},cmd:[{command:"clear"},{command:"fontsize",value:"16px"},{command:"underline"}]}],l=Object(n["e"])(),{handleElement:o,handleElementId:c,richTextAttrs:r,availableFonts:s}=Object(a["c"])(Object(n["c"])()),{addHistorySnapshot:d}=Object(ll["a"])(),u=e=>{l.updateElement({id:c.value,props:e}),d()},b=Object(i["ref"])("#000"),m=Object(i["ref"])(),p=Object(i["ref"])(),O=Object(i["ref"])(),j=Object(i["ref"])();Object(i["watch"])(o,()=>{o.value&&"text"===o.value.type&&(b.value=o.value.fill||"#fff",m.value=o.value.lineHeight||1.5,p.value=o.value.wordSpace||0,O.value=o.value.textIndent||0,j.value=void 0===o.value.paragraphSpace?5:o.value.paragraphSpace)},{deep:!0,immediate:!0});const f=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],v=[.9,1,1.15,1.2,1.4,1.5,1.8,2,2.5,3],h=[0,1,2,3,4,5,6,8,10],y=[0,48,96,144,192,240,288,336],g=[0,5,10,15,20,25,30,40,50,80],x=e=>{u({lineHeight:e})},k=e=>{u({paragraphSpace:e})},C=e=>{u({wordSpace:e})},N=e=>{u({textIndent:e})},E=e=>{u({fill:e})},w=(e,t)=>{fn.emit(mn.RICH_TEXT_COMMAND,{action:{command:e,value:t}})},V=e=>{fn.emit(mn.RICH_TEXT_COMMAND,{action:e})},I=Object(i["ref"])(""),B=Object(i["ref"])(!1);Object(i["watch"])(r,()=>B.value=!1);const S=()=>{I.value=r.value.link,B.value=!0},L=e=>{if(e){const t=/^(https?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/;if(!t.test(e))return De["a"].error("不是正确的网页链接地址")}w("link",e),B.value=!1};return(e,l)=>{const o=Object(i["resolveComponent"])("Divider"),c=Object(i["resolveComponent"])("IconFontSize"),n=Object(i["resolveComponent"])("SelectOption"),a=Object(i["resolveComponent"])("SelectOptGroup"),d=Object(i["resolveComponent"])("Select"),u=Object(i["resolveComponent"])("IconAddText"),_=Object(i["resolveComponent"])("InputGroup"),T=Object(i["resolveComponent"])("ColorPicker"),M=Object(i["resolveComponent"])("IconText"),D=Object(i["resolveComponent"])("Button"),A=Object(i["resolveComponent"])("Tooltip"),z=Object(i["resolveComponent"])("Popover"),F=Object(i["resolveComponent"])("IconHighLight"),$=Object(i["resolveComponent"])("ButtonGroup"),R=Object(i["resolveComponent"])("IconTextBold"),P=Object(i["resolveComponent"])("CheckboxButton"),H=Object(i["resolveComponent"])("IconTextItalic"),U=Object(i["resolveComponent"])("IconTextUnderline"),q=Object(i["resolveComponent"])("IconStrikethrough"),G=Object(i["resolveComponent"])("IconFormat"),Y=Object(i["resolveComponent"])("CheckboxButtonGroup"),X=Object(i["resolveComponent"])("IconUpOne"),Z=Object(i["resolveComponent"])("IconDownOne"),W=Object(i["resolveComponent"])("IconCode"),J=Object(i["resolveComponent"])("IconQuote"),Q=Object(i["resolveComponent"])("Input"),K=Object(i["resolveComponent"])("IconLinkOne"),ee=Object(i["resolveComponent"])("IconAlignTextLeft"),te=Object(i["resolveComponent"])("RadioButton"),le=Object(i["resolveComponent"])("IconAlignTextCenter"),oe=Object(i["resolveComponent"])("IconAlignTextRight"),ce=Object(i["resolveComponent"])("RadioGroup"),ne=Object(i["resolveComponent"])("IconList"),ae=Object(i["resolveComponent"])("IconOrderedList"),re=Object(i["resolveComponent"])("IconIndentLeft"),ie=Object(i["resolveComponent"])("IconIndentRight"),se=Object(i["resolveComponent"])("IconRowHeight"),de=Object(i["resolveComponent"])("IconVerticalSpacingBetweenItems"),ue=Object(i["resolveComponent"])("IconFullwidth");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Pm,[Object(i["createElementVNode"])("div",Hm,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t,e=>Object(i["createElementVNode"])("div",{class:"preset-style-item",key:e.label,style:Object(i["normalizeStyle"])(e.style),onClick:t=>V(e.cmd)},Object(i["toDisplayString"])(e.label),13,Um)),64))]),Object(i["createVNode"])(o),Object(i["createVNode"])(_,{compact:"",class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(d,{style:{flex:"3"},value:Object(i["unref"])(r).fontname,onChange:l[0]||(l[0]=e=>w("fontname",e))},{suffixIcon:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c)]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{label:"系统字体"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(s),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(n,{key:e.value,value:e.value},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({fontFamily:e.value})},Object(i["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(i["createVNode"])(a,{label:"在线字体"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(Jb["b"]),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(n,{key:e.value,value:e.value},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"]),Object(i["createVNode"])(d,{style:{flex:"2"},value:Object(i["unref"])(r).fontsize,onChange:l[1]||(l[1]=e=>w("fontsize",e))},{suffixIcon:Object(i["withCtx"])(()=>[Object(i["createVNode"])(u)]),default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(f,e=>Object(i["createVNode"])(n,{key:e,value:e},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),Object(i["createVNode"])($,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(z,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(T,{modelValue:Object(i["unref"])(r).color,"onUpdate:modelValue":l[2]||(l[2]=e=>w("color",e))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(D,{class:"text-color-btn",style:{flex:"3"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(M),Object(i["createElementVNode"])("div",{class:"text-color-block",style:Object(i["normalizeStyle"])({backgroundColor:Object(i["unref"])(r).color})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(z,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(T,{modelValue:Object(i["unref"])(r).backcolor,"onUpdate:modelValue":l[3]||(l[3]=e=>w("backcolor",e))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字高亮"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(D,{class:"text-color-btn",style:{flex:"3"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(F),Object(i["createElementVNode"])("div",{class:"text-color-block",style:Object(i["normalizeStyle"])({backgroundColor:Object(i["unref"])(r).backcolor})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大字号"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(D,{class:"font-size-btn",style:{flex:"2"},onClick:l[4]||(l[4]=e=>w("fontsize-add"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c),qm]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小字号"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(D,{class:"font-size-btn",style:{flex:"2"},onClick:l[5]||(l[5]=e=>w("fontsize-reduce"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c),Gm]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(Y,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(P,{style:{flex:"1"},checked:Object(i["unref"])(r).bold,onClick:l[6]||(l[6]=e=>w("bold"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(R)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(P,{style:{flex:"1"},checked:Object(i["unref"])(r).em,onClick:l[7]||(l[7]=e=>w("em"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(H)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(P,{style:{flex:"1"},checked:Object(i["unref"])(r).underline,onClick:l[8]||(l[8]=e=>w("underline"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(U)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除线"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(P,{style:{flex:"1"},checked:Object(i["unref"])(r).strikethrough,onClick:l[9]||(l[9]=e=>w("strikethrough"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(q)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"清除格式"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(P,{style:{flex:"1"},onClick:l[10]||(l[10]=e=>w("clear"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(G)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(Y,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上标"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(P,{style:{flex:"1"},checked:Object(i["unref"])(r).superscript,onClick:l[11]||(l[11]=e=>w("superscript"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(X)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下标"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(P,{style:{flex:"1"},checked:Object(i["unref"])(r).subscript,onClick:l[12]||(l[12]=e=>w("subscript"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(Z)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"行内代码"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(P,{style:{flex:"1"},checked:Object(i["unref"])(r).code,onClick:l[13]||(l[13]=e=>w("code"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(W)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"引用"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(P,{style:{flex:"1"},checked:Object(i["unref"])(r).blockquote,onClick:l[14]||(l[14]=e=>w("blockquote"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(J)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"超链接"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(z,{placement:"bottomRight",trigger:"click",visible:B.value,"onUpdate:visible":l[19]||(l[19]=e=>B.value=e)},{content:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Ym,[Object(i["createVNode"])(Q,{value:I.value,"onUpdate:value":l[15]||(l[15]=e=>I.value=e),placeholder:"请输入超链接"},null,8,["value"]),Object(i["createElementVNode"])("div",Xm,[Object(i["createVNode"])(D,{size:"small",disabled:!Object(i["unref"])(r).link,onClick:l[16]||(l[16]=e=>L()),style:{"margin-right":"5px"}},{default:Object(i["withCtx"])(()=>[Zm]),_:1},8,["disabled"]),Object(i["createVNode"])(D,{size:"small",type:"primary",onClick:l[17]||(l[17]=e=>L(I.value))},{default:Object(i["withCtx"])(()=>[Wm]),_:1})])])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(P,{style:{flex:"1"},checked:!!Object(i["unref"])(r).link,onClick:l[18]||(l[18]=e=>S())},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(K)]),_:1},8,["checked"])]),_:1},8,["visible"])]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(o),Object(i["createVNode"])(ce,{class:"row","button-style":"solid",value:Object(i["unref"])(r).align,onChange:l[20]||(l[20]=e=>w("align",e.target.value))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(te,{value:"left",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(ee)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(te,{value:"center",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(le)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(te,{value:"right",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(oe)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"]),Object(i["createVNode"])(Y,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"项目符号"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(P,{style:{flex:"1"},checked:Object(i["unref"])(r).bulletList,onClick:l[21]||(l[21]=e=>w("bulletList"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(ne)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"编号"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(P,{style:{flex:"1"},checked:Object(i["unref"])(r).orderedList,onClick:l[22]||(l[22]=e=>w("orderedList"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(ae)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])($,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小缩进"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(D,{style:{flex:"1"},onClick:l[23]||(l[23]=e=>w("indent","-1"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(re)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大缩进"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(D,{style:{flex:"1"},onClick:l[24]||(l[24]=e=>w("indent","+1"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(ie)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(o),Object(i["createElementVNode"])("div",Jm,[Qm,Object(i["createVNode"])(d,{style:{flex:"3"},value:m.value,onChange:l[25]||(l[25]=e=>x(e))},{suffixIcon:Object(i["withCtx"])(()=>[Object(i["createVNode"])(se)]),default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(v,e=>Object(i["createVNode"])(n,{key:e,value:e},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e)+"倍",1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),Object(i["createElementVNode"])("div",Km,[ep,Object(i["createVNode"])(d,{style:{flex:"3"},value:j.value,onChange:l[26]||(l[26]=e=>k(e))},{suffixIcon:Object(i["withCtx"])(()=>[Object(i["createVNode"])(de)]),default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(g,e=>Object(i["createVNode"])(n,{key:e,value:e},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e)+"px",1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),Object(i["createElementVNode"])("div",tp,[lp,Object(i["createVNode"])(d,{style:{flex:"3"},value:p.value,onChange:l[27]||(l[27]=e=>C(e))},{suffixIcon:Object(i["withCtx"])(()=>[Object(i["createVNode"])(ue)]),default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(h,e=>Object(i["createVNode"])(n,{key:e,value:e},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e)+"px",1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),Object(i["createElementVNode"])("div",op,[cp,Object(i["createVNode"])(d,{style:{flex:"3"},value:O.value,onChange:l[28]||(l[28]=e=>N(e))},{suffixIcon:Object(i["withCtx"])(()=>[Object(i["createVNode"])(ie)]),default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(y,e=>Object(i["createVNode"])(n,{key:e,value:e},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e)+"px",1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),Object(i["createElementVNode"])("div",np,[ap,Object(i["createVNode"])(z,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(T,{modelValue:b.value,"onUpdate:modelValue":l[29]||(l[29]=e=>E(e))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:b.value,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createVNode"])(o),Object(i["createVNode"])(Cm),Object(i["createVNode"])(o),Object(i["createVNode"])($m),Object(i["createVNode"])(o),Object(i["createVNode"])(cm)])}}});l("197ca");const ip=b()(rp,[["__scopeId","data-v-5830b9cf"]]);var sp=ip;const dp={class:"element-flip"},up=Object(i["createTextVNode"])(" 垂直翻转"),bp=Object(i["createTextVNode"])(" 水平翻转");var mp=Object(i["defineComponent"])({__name:"ElementFlip",setup(e){const t=Object(n["e"])(),{handleElement:l}=Object(a["c"])(Object(n["c"])()),o=Object(i["ref"])(!1),c=Object(i["ref"])(!1);Object(i["watch"])(l,()=>{!l.value||"image"!==l.value.type&&"shape"!==l.value.type||(o.value=!!l.value.flipH,c.value=!!l.value.flipV)},{deep:!0,immediate:!0});const{addHistorySnapshot:r}=Object(ll["a"])(),s=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),r())};return(e,t)=>{const l=Object(i["resolveComponent"])("IconFlipVertically"),n=Object(i["resolveComponent"])("CheckboxButton"),a=Object(i["resolveComponent"])("IconFlipHorizontally"),r=Object(i["resolveComponent"])("CheckboxButtonGroup");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",dp,[Object(i["createVNode"])(r,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{flex:"1"},checked:c.value,onClick:t[0]||(t[0]=e=>s({flipV:!c.value}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(l),up]),_:1},8,["checked"]),Object(i["createVNode"])(n,{style:{flex:"1"},checked:o.value,onClick:t[1]||(t[1]=e=>s({flipH:!o.value}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a),bp]),_:1},8,["checked"])]),_:1})])}}});l("02ca");const pp=b()(mp,[["__scopeId","data-v-59a1646e"]]);var Op=pp;const jp=e=>(Object(i["pushScopeId"])("data-v-37fbdfde"),e=e(),Object(i["popScopeId"])(),e),fp={class:"element-filter"},vp={class:"row"},hp=jp(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"启用滤镜：",-1)),yp={class:"switch-wrapper",style:{flex:"3"}},gp={key:0,class:"filter"},xp={class:"name"};var kp=Object(i["defineComponent"])({__name:"ElementFilter",setup(e){const t=[{label:"模糊",key:"blur",default:0,value:0,unit:"px",max:10,step:1},{label:"亮度",key:"brightness",default:100,value:100,unit:"%",max:200,step:5},{label:"对比度",key:"contrast",default:100,value:100,unit:"%",max:200,step:5},{label:"灰度",key:"grayscale",default:0,value:0,unit:"%",max:100,step:5},{label:"饱和度",key:"saturate",default:100,value:100,unit:"%",max:200,step:5},{label:"色相",key:"hue-rotate",default:0,value:0,unit:"deg",max:360,step:10},{label:"不透明度",key:"opacity",default:100,value:100,unit:"%",max:100,step:5}],l=Object(n["e"])(),{handleElement:o,handleElementId:c}=Object(a["c"])(Object(n["c"])()),r=Object(i["ref"])(JSON.parse(JSON.stringify(t))),s=Object(i["ref"])(!1),{addHistorySnapshot:d}=Object(ll["a"])();Object(i["watch"])(o,()=>{if(!o.value||"image"!==o.value.type)return;const e=o.value.filters;e?(r.value=t.map(t=>void 0!==e[t.key]?{...t,value:parseInt(e[t.key])}:t),s.value=!0):(r.value=JSON.parse(JSON.stringify(t)),s.value=!1)},{deep:!0,immediate:!0});const u=(e,t)=>{const n=o.value,a=n.filters||{},r={...a,[e.key]:`${t}${e.unit}`};l.updateElement({id:c.value,props:{filters:r}}),d()},b=e=>{o.value&&(e?l.updateElement({id:o.value.id,props:{filters:{}}}):l.removeElementProps({id:o.value.id,propName:"filters"}),d())};return(e,t)=>{const l=Object(i["resolveComponent"])("Switch"),o=Object(i["resolveComponent"])("Slider");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",fp,[Object(i["createElementVNode"])("div",vp,[hp,Object(i["createElementVNode"])("div",yp,[Object(i["createVNode"])(l,{checked:s.value,onChange:t[0]||(t[0]=e=>b(e))},null,8,["checked"])])]),s.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",gp,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(r.value,e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"filter-item",key:e.key},[Object(i["createElementVNode"])("div",xp,Object(i["toDisplayString"])(e.label),1),Object(i["createVNode"])(o,{class:"filter-slider",max:e.max,min:0,step:e.step,value:e.value,onChange:t=>u(e,t)},null,8,["max","step","value","onChange"])]))),128))])):Object(i["createCommentVNode"])("",!0)])}}});l("58de");const Cp=b()(kp,[["__scopeId","data-v-37fbdfde"]]);var Np=Cp;const Ep=e=>(Object(i["pushScopeId"])("data-v-f466867c"),e=e(),Object(i["popScopeId"])(),e),wp={class:"element-color-mask"},Vp={class:"row"},Ip=Ep(()=>Object(i["createElementVNode"])("div",{style:{flex:"1"}},"重新着色（蒙版）：",-1)),Bp={class:"switch-wrapper",style:{flex:"1"}},Sp={class:"row",style:{"margin-top":"15px"}},Lp=Ep(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"蒙版颜色：",-1)),_p={class:"row"},Tp=Ep(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"不透明度：",-1));var Mp=Object(i["defineComponent"])({__name:"ElementColorMask",setup(e){const t={color:"transparent",opacity:.3},l=Object(n["e"])(),{handleElement:o,handleElementId:c}=Object(a["c"])(Object(n["c"])()),r=Object(i["ref"])(t),s=Object(i["ref"])(!1),{addHistorySnapshot:d}=Object(ll["a"])();Object(i["watch"])(o,()=>{o.value&&"image"===o.value.type&&(o.value.colorMask?(r.value=o.value.colorMask,s.value=!0):s.value=!1)},{deep:!0,immediate:!0});const u=e=>{o.value&&(e?l.updateElement({id:o.value.id,props:{colorMask:t}}):l.removeElementProps({id:o.value.id,propName:"colorMask"}),d())},b=e=>{const t={...r.value,...e};l.updateElement({id:c.value,props:{colorMask:t}}),d()};return(e,t)=>{const l=Object(i["resolveComponent"])("Switch"),o=Object(i["resolveComponent"])("ColorPicker"),c=Object(i["resolveComponent"])("Popover"),n=Object(i["resolveComponent"])("Slider");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",wp,[Object(i["createElementVNode"])("div",Vp,[Ip,Object(i["createElementVNode"])("div",Bp,[Object(i["createVNode"])(l,{checked:s.value,onChange:t[0]||(t[0]=e=>u(e))},null,8,["checked"])])]),s.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("div",Sp,[Lp,Object(i["createVNode"])(c,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{modelValue:r.value.color,"onUpdate:modelValue":t[1]||(t[1]=e=>b({color:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:r.value.color,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createElementVNode"])("div",_p,[Tp,Object(i["createVNode"])(n,{class:"opacity-slider",max:1,min:0,step:.05,value:r.value.opacity,onChange:t[2]||(t[2]=e=>b({opacity:e}))},null,8,["step","value"])])],64)):Object(i["createCommentVNode"])("",!0)])}}});l("02bd");const Dp=b()(Mp,[["__scopeId","data-v-f466867c"]]);var Ap=Dp;const zp=e=>(Object(i["pushScopeId"])("data-v-e8d702d2"),e=e(),Object(i["popScopeId"])(),e),Fp={class:"image-style-panel"},$p=Object(i["createTextVNode"])(" 裁剪图片"),Rp={class:"clip"},Pp=zp(()=>Object(i["createElementVNode"])("div",{class:"title"},"按形状：",-1)),Hp={class:"shape-clip"},Up=["onClick"],qp={key:0,class:"title"},Gp=Object(i["createTextVNode"])(" 替换图片"),Yp=Object(i["createTextVNode"])(" 重置样式"),Xp=Object(i["createTextVNode"])(" 设为背景");var Zp=Object(i["defineComponent"])({__name:"ImageStylePanel",setup(e){const t=Do,l=[{label:"纵横比（方形）",children:[{key:"1:1",ratio:1}]},{label:"纵横比（纵向）",children:[{key:"2:3",ratio:1.5},{key:"3:4",ratio:4/3},{key:"3:5",ratio:5/3},{key:"4:5",ratio:5/4}]},{label:"纵横比（横向）",children:[{key:"3:2",ratio:2/3},{key:"4:3",ratio:3/4},{key:"5:3",ratio:.6},{key:"5:4",ratio:.8}]},{children:[{key:"16:9",ratio:9/16},{key:"16:10",ratio:.625}]}],o=Object(n["c"])(),c=Object(n["e"])(),{handleElement:r,handleElementId:s}=Object(a["c"])(o),{currentSlide:d}=Object(a["c"])(c),u=r,b=Object(i["ref"])(!1),{addHistorySnapshot:m}=Object(ll["a"])(),p=()=>{o.setClipingImageElementId(s.value),b.value=!1},O=()=>{const e=r.value,t=e.width,l=e.height,o=e.left,c=e.top,n=e.clip?e.clip.range:[[0,0],[100,100]],a=t/((n[1][0]-n[0][0])/100),i=l/((n[1][1]-n[0][1])/100),s=o-a*(n[0][0]/100),d=c-i*(n[0][1]/100);return{originClipRange:n,originWidth:a,originHeight:i,originLeft:s,originTop:d}},j=(e,t=0)=>{const l=r.value,{originClipRange:o,originWidth:n,originHeight:a,originLeft:i,originTop:d}=O();if(t){const o=a/n,r=0,u=100;let b;if(o>t){const e=(1-t/o)/2*100;b=[[r,e],[u,u-e]]}else{const e=(1-o/t)/2*100;b=[[e,r],[u-e,u]]}c.updateElement({id:s.value,props:{clip:{...l.clip,shape:e,range:b},left:i+n*(b[0][0]/100),top:d+a*(b[0][1]/100),width:n*(b[1][0]-b[0][0])/100,height:a*(b[1][1]-b[0][1])/100}})}else c.updateElement({id:s.value,props:{clip:{...l.clip,shape:e,range:o}}});p(),m()},f=e=>{const t=e[0];t&&(Zt(t).then(e=>{const t={src:e};c.updateElement({id:s.value,props:t})}),m())},v=()=>{const e=r.value;if(e.clip){const{originWidth:e,originHeight:t,originLeft:l,originTop:o}=O();c.updateElement({id:s.value,props:{left:l,top:o,width:e,height:t}})}c.removeElementProps({id:s.value,propName:["clip","outline","flip","shadow","filters","colorMask"]}),m()},h=()=>{const e=r.value,t={...d.value.background,type:"image",image:e.src,imageSize:"cover"};c.updateSlide({background:t}),m()};return(e,o)=>{const c=Object(i["resolveComponent"])("IconTailoring"),n=Object(i["resolveComponent"])("Button"),a=Object(i["resolveComponent"])("ButtonGroup"),r=Object(i["resolveComponent"])("IconDown"),s=Object(i["resolveComponent"])("Popover"),d=Object(i["resolveComponent"])("Divider"),m=Object(i["resolveComponent"])("IconTransform"),O=Object(i["resolveComponent"])("FileInput"),y=Object(i["resolveComponent"])("IconUndo"),g=Object(i["resolveComponent"])("IconTheme");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Fp,[Object(i["createElementVNode"])("div",{class:"origin-image",style:Object(i["normalizeStyle"])({backgroundImage:`url(${Object(i["unref"])(u).src})`})},null,4),Object(i["createVNode"])(Op),Object(i["createVNode"])(a,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{flex:"5"},onClick:o[0]||(o[0]=e=>p())},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c,{class:"btn-icon"}),$p]),_:1}),Object(i["createVNode"])(s,{trigger:"click",visible:b.value,"onUpdate:visible":o[1]||(o[1]=e=>b.value=e)},{content:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Rp,[Pp,Object(i["createElementVNode"])("div",Hp,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(t),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"shape-clip-item",key:t,onClick:e=>j(t)},[Object(i["createElementVNode"])("div",{class:"shape",style:Object(i["normalizeStyle"])({clipPath:e.style})},null,4)],8,Up))),128))]),(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l,e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:e.label},[e.label?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",qp,"按"+Object(i["toDisplayString"])(e.label)+"：",1)):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(a,{class:"row"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.children,e=>(Object(i["openBlock"])(),Object(i["createBlock"])(n,{style:{flex:"1"},key:e.key,onClick:t=>j("rect",e.ratio)},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.key),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)],64))),64))])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{class:"no-padding",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(r)]),_:1})]),_:1},8,["visible"])]),_:1}),Object(i["createVNode"])(d),Object(i["createVNode"])(Ap),Object(i["createVNode"])(d),Object(i["createVNode"])(Np),Object(i["createVNode"])(d),Object(i["createVNode"])(Cm),Object(i["createVNode"])(d),Object(i["createVNode"])($m),Object(i["createVNode"])(d),Object(i["createVNode"])(O,{onChange:o[2]||(o[2]=e=>f(e))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{class:"full-width-btn"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(m,{class:"btn-icon"}),Gp]),_:1})]),_:1}),Object(i["createVNode"])(n,{class:"full-width-btn",onClick:o[3]||(o[3]=e=>v())},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(y,{class:"btn-icon"}),Yp]),_:1}),Object(i["createVNode"])(n,{class:"full-width-btn",onClick:o[4]||(o[4]=e=>h())},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(g,{class:"btn-icon"}),Xp]),_:1})])}}});l("6e11");const Wp=b()(Zp,[["__scopeId","data-v-e8d702d2"]]);var Jp=Wp;const Qp=e=>(Object(i["pushScopeId"])("data-v-02998580"),e=e(),Object(i["popScopeId"])(),e),Kp={class:"shape-style-panel"},eO={class:"row"},tO=Object(i["createTextVNode"])("纯色填充"),lO=Object(i["createTextVNode"])("渐变填充"),oO=Qp(()=>Object(i["createElementVNode"])("div",{style:{flex:"1"}},null,-1)),cO=Object(i["createTextVNode"])("线性渐变"),nO=Object(i["createTextVNode"])("径向渐变"),aO={class:"row"},rO=Qp(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"起点颜色：",-1)),iO={class:"row"},sO=Qp(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"终点颜色：",-1)),dO={key:0,class:"row"},uO=Qp(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"渐变角度：",-1)),bO=Object(i["createTextVNode"])("+"),mO=Object(i["createTextVNode"])("-");var pO=Object(i["defineComponent"])({__name:"ShapeStylePanel",setup(e){const t=Object(n["c"])(),l=Object(n["e"])(),{handleElement:o,handleElementId:c,richTextAttrs:r,availableFonts:s}=Object(a["c"])(t),d=o,u=Object(i["ref"])("#000"),b=Object(i["ref"])({type:"linear",rotate:0,color:["#fff","#fff"]}),m=Object(i["ref"])("fill"),p=Object(i["ref"])("middle");Object(i["watch"])(o,()=>{var e,t;o.value&&"shape"===o.value.type&&(u.value=o.value.fill||"#fff",b.value=o.value.gradient||{type:"linear",rotate:0,color:[u.value,"#fff"]},m.value=o.value.gradient?"gradient":"fill",p.value=(null===(e=o.value)||void 0===e||null===(t=e.text)||void 0===t?void 0:t.align)||"middle")},{deep:!0,immediate:!0});const{addHistorySnapshot:O}=Object(ll["a"])(),j=e=>{l.updateElement({id:c.value,props:e}),O()},f=e=>{"fill"===e?(l.removeElementProps({id:c.value,propName:"gradient"}),O()):j({gradient:b.value})},v=e=>{if(!b.value)return;const t={...b.value,...e};j({gradient:t})},h=e=>{j({fill:e})},y=e=>{const t=o.value,l={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"},c=t.text||l;j({text:{...c,align:e}})},g=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],x=(e,t)=>{fn.emit(mn.RICH_TEXT_COMMAND,{action:{command:e,value:t}})};return(e,t)=>{var l;const o=Object(i["resolveComponent"])("SelectOption"),c=Object(i["resolveComponent"])("Select"),n=Object(i["resolveComponent"])("ColorPicker"),a=Object(i["resolveComponent"])("Popover"),O=Object(i["resolveComponent"])("Slider"),j=Object(i["resolveComponent"])("Divider"),k=Object(i["resolveComponent"])("IconFontSize"),C=Object(i["resolveComponent"])("SelectOptGroup"),N=Object(i["resolveComponent"])("IconAddText"),E=Object(i["resolveComponent"])("InputGroup"),w=Object(i["resolveComponent"])("IconText"),V=Object(i["resolveComponent"])("Button"),I=Object(i["resolveComponent"])("Tooltip"),B=Object(i["resolveComponent"])("IconHighLight"),S=Object(i["resolveComponent"])("ButtonGroup"),L=Object(i["resolveComponent"])("IconTextBold"),_=Object(i["resolveComponent"])("CheckboxButton"),T=Object(i["resolveComponent"])("IconTextItalic"),M=Object(i["resolveComponent"])("IconTextUnderline"),D=Object(i["resolveComponent"])("IconFormat"),A=Object(i["resolveComponent"])("CheckboxButtonGroup"),z=Object(i["resolveComponent"])("IconAlignTextLeft"),F=Object(i["resolveComponent"])("RadioButton"),$=Object(i["resolveComponent"])("IconAlignTextCenter"),R=Object(i["resolveComponent"])("IconAlignTextRight"),P=Object(i["resolveComponent"])("RadioGroup"),H=Object(i["resolveComponent"])("IconAlignTextTopOne"),U=Object(i["resolveComponent"])("IconAlignTextMiddleOne"),q=Object(i["resolveComponent"])("IconAlignTextBottomOne");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Kp,[Object(i["createElementVNode"])("div",eO,[Object(i["createVNode"])(c,{style:{flex:"10"},value:m.value,onChange:t[0]||(t[0]=e=>f(e))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{value:"fill"},{default:Object(i["withCtx"])(()=>[tO]),_:1}),Object(i["createVNode"])(o,{value:"gradient"},{default:Object(i["withCtx"])(()=>[lO]),_:1})]),_:1},8,["value"]),oO,"fill"===m.value?(Object(i["openBlock"])(),Object(i["createBlock"])(a,{key:0,trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>h(e))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:u.value,style:{flex:"10"}},null,8,["color"])]),_:1})):(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:1,style:{flex:"10"},value:b.value.type,onChange:t[2]||(t[2]=e=>v({type:e}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{value:"linear"},{default:Object(i["withCtx"])(()=>[cO]),_:1}),Object(i["createVNode"])(o,{value:"radial"},{default:Object(i["withCtx"])(()=>[nO]),_:1})]),_:1},8,["value"]))]),"gradient"===m.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("div",aO,[rO,Object(i["createVNode"])(a,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{modelValue:b.value.color[0],"onUpdate:modelValue":t[3]||(t[3]=e=>v({color:[e,b.value.color[1]]}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:b.value.color[0],style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createElementVNode"])("div",iO,[sO,Object(i["createVNode"])(a,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{modelValue:b.value.color[1],"onUpdate:modelValue":t[4]||(t[4]=e=>v({color:[b.value.color[0],e]}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:b.value.color[1],style:{flex:"3"}},null,8,["color"])]),_:1})]),"linear"===b.value.type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",dO,[uO,Object(i["createVNode"])(O,{class:"slider",min:0,max:360,step:15,value:b.value.rotate,onChange:t[5]||(t[5]=e=>v({rotate:e}))},null,8,["value"])])):Object(i["createCommentVNode"])("",!0)],64)):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(Op),Object(i["createVNode"])(j),null!==(l=Object(i["unref"])(d).text)&&void 0!==l&&l.content?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createVNode"])(E,{compact:"",class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c,{style:{flex:"3"},value:Object(i["unref"])(r).fontname,onChange:t[6]||(t[6]=e=>x("fontname",e))},{suffixIcon:Object(i["withCtx"])(()=>[Object(i["createVNode"])(k)]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(C,{label:"系统字体"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(s),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:e.value,value:e.value},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({fontFamily:e.value})},Object(i["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(i["createVNode"])(C,{label:"在线字体"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(Jb["b"]),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:e.value,value:e.value},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"]),Object(i["createVNode"])(c,{style:{flex:"2"},value:Object(i["unref"])(r).fontsize,onChange:t[7]||(t[7]=e=>x("fontsize",e))},{suffixIcon:Object(i["withCtx"])(()=>[Object(i["createVNode"])(N)]),default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(g,e=>Object(i["createVNode"])(o,{key:e,value:e},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),Object(i["createVNode"])(S,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{modelValue:Object(i["unref"])(r).color,"onUpdate:modelValue":t[8]||(t[8]=e=>x("color",e))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(V,{class:"text-color-btn",style:{flex:"3"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(w),Object(i["createElementVNode"])("div",{class:"text-color-block",style:Object(i["normalizeStyle"])({backgroundColor:Object(i["unref"])(r).color})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(a,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{modelValue:Object(i["unref"])(r).backcolor,"onUpdate:modelValue":t[9]||(t[9]=e=>x("backcolor",e))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字高亮"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(V,{class:"text-color-btn",style:{flex:"3"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(B),Object(i["createElementVNode"])("div",{class:"text-color-block",style:Object(i["normalizeStyle"])({backgroundColor:Object(i["unref"])(r).backcolor})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大字号"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(V,{class:"font-size-btn",style:{flex:"2"},onClick:t[10]||(t[10]=e=>x("fontsize-add"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(k),bO]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小字号"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(V,{class:"font-size-btn",style:{flex:"2"},onClick:t[11]||(t[11]=e=>x("fontsize-reduce"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(k),mO]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(A,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(_,{style:{flex:"1"},checked:Object(i["unref"])(r).bold,onClick:t[12]||(t[12]=e=>x("bold"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(L)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(_,{style:{flex:"1"},checked:Object(i["unref"])(r).em,onClick:t[13]||(t[13]=e=>x("em"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(T)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(_,{style:{flex:"1"},checked:Object(i["unref"])(r).underline,onClick:t[14]||(t[14]=e=>x("underline"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(M)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"清除格式"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(_,{style:{flex:"1"},onClick:t[15]||(t[15]=e=>x("clear"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(D)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(P,{class:"row","button-style":"solid",value:Object(i["unref"])(r).align,onChange:t[16]||(t[16]=e=>x("align",e.target.value))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(F,{value:"left",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(z)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(F,{value:"center",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])($)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(F,{value:"right",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(R)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"]),Object(i["createVNode"])(P,{class:"row","button-style":"solid",value:p.value,onChange:t[17]||(t[17]=e=>y(e.target.value))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"顶对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(F,{value:"top",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(H)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(F,{value:"middle",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(U)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"底对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(F,{value:"bottom",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(q)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"]),Object(i["createVNode"])(j)],64)):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(Cm),Object(i["createVNode"])(j),Object(i["createVNode"])($m),Object(i["createVNode"])(j),Object(i["createVNode"])(cm)])}}});l("de23");const OO=b()(pO,[["__scopeId","data-v-02998580"]]);var jO=OO;const fO=e=>(Object(i["pushScopeId"])("data-v-938968a2"),e=e(),Object(i["popScopeId"])(),e),vO={class:"line-style-panel"},hO={class:"row"},yO=fO(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"线条样式：",-1)),gO=Object(i["createTextVNode"])("实线"),xO=Object(i["createTextVNode"])("虚线"),kO={class:"row"},CO=fO(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"线条颜色：",-1)),NO={class:"row"},EO=fO(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"线条宽度：",-1)),wO={class:"row"},VO=fO(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"起点样式：",-1)),IO=Object(i["createTextVNode"])("无"),BO=Object(i["createTextVNode"])("箭头"),SO=Object(i["createTextVNode"])("圆点"),LO={class:"row"},_O=fO(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"终点样式：",-1)),TO=Object(i["createTextVNode"])("无"),MO=Object(i["createTextVNode"])("箭头"),DO=Object(i["createTextVNode"])("圆点");var AO=Object(i["defineComponent"])({__name:"LineStylePanel",setup(e){const t=Object(n["e"])(),{handleElement:l}=Object(a["c"])(Object(n["c"])()),o=l,{addHistorySnapshot:c}=Object(ll["a"])(),r=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),c())};return(e,t)=>{const l=Object(i["resolveComponent"])("SelectOption"),c=Object(i["resolveComponent"])("Select"),n=Object(i["resolveComponent"])("ColorPicker"),a=Object(i["resolveComponent"])("Popover"),s=Object(i["resolveComponent"])("InputNumber"),d=Object(i["resolveComponent"])("Divider");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",vO,[Object(i["createElementVNode"])("div",hO,[yO,Object(i["createVNode"])(c,{style:{flex:"3"},value:Object(i["unref"])(o).style,onChange:t[0]||(t[0]=e=>r({style:e}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(l,{value:"solid"},{default:Object(i["withCtx"])(()=>[gO]),_:1}),Object(i["createVNode"])(l,{value:"dashed"},{default:Object(i["withCtx"])(()=>[xO]),_:1})]),_:1},8,["value"])]),Object(i["createElementVNode"])("div",kO,[CO,Object(i["createVNode"])(a,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{modelValue:Object(i["unref"])(o).color,"onUpdate:modelValue":t[1]||(t[1]=e=>r({color:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:Object(i["unref"])(o).color,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createElementVNode"])("div",NO,[EO,Object(i["createVNode"])(s,{value:Object(i["unref"])(o).width,onChange:t[2]||(t[2]=e=>r({width:e})),style:{flex:"3"}},null,8,["value"])]),Object(i["createElementVNode"])("div",wO,[VO,Object(i["createVNode"])(c,{style:{flex:"3"},value:Object(i["unref"])(o).points[0],onChange:t[3]||(t[3]=e=>r({points:[e,Object(i["unref"])(o).points[1]]}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(l,{value:""},{default:Object(i["withCtx"])(()=>[IO]),_:1}),Object(i["createVNode"])(l,{value:"arrow"},{default:Object(i["withCtx"])(()=>[BO]),_:1}),Object(i["createVNode"])(l,{value:"dot"},{default:Object(i["withCtx"])(()=>[SO]),_:1})]),_:1},8,["value"])]),Object(i["createElementVNode"])("div",LO,[_O,Object(i["createVNode"])(c,{style:{flex:"3"},value:Object(i["unref"])(o).points[1],onChange:t[4]||(t[4]=e=>r({points:[Object(i["unref"])(o).points[0],e]}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(l,{value:""},{default:Object(i["withCtx"])(()=>[TO]),_:1}),Object(i["createVNode"])(l,{value:"arrow"},{default:Object(i["withCtx"])(()=>[MO]),_:1}),Object(i["createVNode"])(l,{value:"dot"},{default:Object(i["withCtx"])(()=>[DO]),_:1})]),_:1},8,["value"])]),Object(i["createVNode"])(d),Object(i["createVNode"])($m)])}}});l("d806");const zO=b()(AO,[["__scopeId","data-v-938968a2"]]);var FO=zO;const $O={class:"chart-data-editor"},RO={class:"editor-content"},PO={class:"range-box"},HO=["id","onFocus","onPaste"],UO={class:"btns"},qO={class:"left"},GO=Object(i["createTextVNode"])("清空"),YO={class:"right"},XO=Object(i["createTextVNode"])("取消"),ZO=Object(i["createTextVNode"])("确认");var WO=Object(i["defineComponent"])({__name:"ChartDataEditor",props:{data:{type:Object,required:!0}},emits:["save","close"],setup(e,{emit:t}){const l=e,o=100,c=32,n=Object(i["ref"])([0,0]),a=Object(i["ref"])({width:0,height:0}),r=Object(i["ref"])(null),s=Object(i["computed"])(()=>{const e=n.value[0]*o,t=n.value[1]*c;return[{type:"t",style:{width:e+"px"}},{type:"b",style:{top:t+"px",width:e+"px"}},{type:"l",style:{height:t+"px"}},{type:"r",style:{left:e+"px",height:t+"px"}}]}),d=Object(i["computed"])(()=>{const e=n.value[0]*o,t=n.value[1]*c;return{left:e+"px",top:t+"px"}}),u=()=>{const e=[],{labels:t,legends:o,series:c}=l.data,a=t.length,r=c.length;e.push(["",...o]);for(let l=0;l<a;l++){const o=[t[l]];for(let e=0;e<r;e++)o.push(c[e][l]+"");e.push(o)}for(let l=0;l<a+1;l++)for(let t=0;t<r+1;t++){const o=document.querySelector(`#cell-${l}-${t}`);o&&(o.value=e[l][t]+"")}n.value=[r+1,a+1]};Object(i["onMounted"])(u);const b=()=>{if(!r.value)return;const[e,t]=r.value,l=document.querySelector(`#cell-${e+1}-${t}`);l&&l.focus()},m=e=>{const t=e.key.toUpperCase();t===Ht.ENTER&&b()};Object(i["onMounted"])(()=>{document.addEventListener("keydown",m)}),Object(i["onUnmounted"])(()=>{document.removeEventListener("keydown",m)});const p=()=>{const[e,l]=n.value,o=[],c=[],a=[];for(let t=1;t<l;t++){let e="类别"+t;const l=document.querySelector(`#cell-${t}-0`);l&&l.value&&(e=l.value),o.push(e)}for(let t=1;t<e;t++){let e="系列"+t;const l=document.querySelector("#cell-0-"+t);l&&l.value&&(e=l.value),c.push(e)}for(let t=1;t<e;t++){const e=[];for(let o=1;o<l;o++){const l=document.querySelector(`#cell-${o}-${t}`);let c=0;l&&l.value&&+l.value&&(c=+l.value),e.push(c)}a.push(e)}t("save",{labels:o,legends:c,series:a})},O=()=>{for(let e=1;e<31;e++)for(let t=1;t<7;t++){const l=document.querySelector(`#cell-${e}-${t}`);l&&(l.value="")}},j=(e,t,l)=>{if(e.preventDefault(),!e.clipboardData)return;const o=e.clipboardData.items[0];o&&"string"===o.kind&&"text/plain"===o.type&&o.getAsString(e=>{const o=qe(e);if("object"===typeof o)return;const c=Ge(e);if(c){const e=t+c.length,o=l+c[0].length;for(let n=t;n<e;n++)for(let e=l;e<o;e++){const o=document.querySelector(`#cell-${n}-${e}`);o&&(o.value=c[n-t][e-l])}}})},f=()=>t("close"),v=e=>{let t=!0;const l=e.pageX,r=e.pageY,i=n.value[0]*o,s=n.value[1]*c;document.onmousemove=e=>{if(!t)return;const o=e.pageX,c=e.pageY,n=o-l,d=c-r,u=i+n,b=s+d;a.value={width:u,height:b}},document.onmouseup=e=>{t=!1,document.onmousemove=null,document.onmouseup=null;const i=e.pageX,s=e.pageY;if(l===i&&r===s)return;let d=a.value.width,u=a.value.height;d%o>.5*o&&(d+=o-d%o),u%c>.5*c&&(u+=c-u%c);let b=Math.round(u/c),m=Math.round(d/o);b<3&&(b=3),m<2&&(m=2),n.value=[m,b],a.value={width:0,height:0}}};return(e,t)=>{const l=Object(i["resolveComponent"])("Button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",$O,[Object(i["createElementVNode"])("div",RO,[Object(i["createElementVNode"])("div",PO,[Object(i["createElementVNode"])("div",{class:"temp-range",style:Object(i["normalizeStyle"])({width:a.value.width+"px",height:a.value.height+"px"})},null,4),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(s),e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["range-line",e.type]),key:e.type,style:Object(i["normalizeStyle"])(e.style)},null,6))),128)),Object(i["createElementVNode"])("div",{class:"resizable",style:Object(i["normalizeStyle"])(Object(i["unref"])(d)),onMousedown:t[0]||(t[0]=Object(i["withModifiers"])(e=>v(e),["stop"]))},null,36)]),Object(i["createElementVNode"])("table",null,[Object(i["createElementVNode"])("tbody",null,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(31,e=>Object(i["createElementVNode"])("tr",{key:e},[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(7,t=>Object(i["createElementVNode"])("td",{key:t,class:Object(i["normalizeClass"])({head:1===t&&e<=n.value[1]||1===e&&t<=n.value[0]})},[Object(i["createElementVNode"])("input",{class:Object(i["normalizeClass"])(["item",{selected:e<=n.value[1]&&t<=n.value[0]}]),id:`cell-${e-1}-${t-1}`,autocomplete:"off",onFocus:l=>r.value=[e-1,t-1],onPaste:l=>j(l,e-1,t-1)},null,42,HO)],2)),64))])),64))])])]),Object(i["createElementVNode"])("div",UO,[Object(i["createElementVNode"])("div",qO,[Object(i["createVNode"])(l,{class:"btn",onClick:t[1]||(t[1]=e=>O())},{default:Object(i["withCtx"])(()=>[GO]),_:1})]),Object(i["createElementVNode"])("div",YO,[Object(i["createVNode"])(l,{class:"btn",onClick:t[2]||(t[2]=e=>f())},{default:Object(i["withCtx"])(()=>[XO]),_:1}),Object(i["createVNode"])(l,{type:"primary",class:"btn",onClick:t[3]||(t[3]=e=>p()),style:{"margin-left":"10px"}},{default:Object(i["withCtx"])(()=>[ZO]),_:1})])])])}}});l("ca17");const JO=b()(WO,[["__scopeId","data-v-53b32689"]]);var QO=JO;const KO=e=>(Object(i["pushScopeId"])("data-v-769d6876"),e=e(),Object(i["popScopeId"])(),e),ej={class:"chart-style-panel"},tj=Object(i["createTextVNode"])(" 编辑图表数据 "),lj={class:"row"},oj=Object(i["createTextVNode"])("面积图样式"),cj=Object(i["createTextVNode"])("散点图样式"),nj={class:"row"},aj=Object(i["createTextVNode"])("使用平滑曲线"),rj={key:1,class:"row"},ij=Object(i["createTextVNode"])("条形图样式"),sj=Object(i["createTextVNode"])("堆叠样式"),dj={key:2,class:"row"},uj=Object(i["createTextVNode"])("环形图样式"),bj={class:"row"},mj=KO(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"图例：",-1)),pj=Object(i["createTextVNode"])("不显示"),Oj=Object(i["createTextVNode"])("显示在上方"),jj=Object(i["createTextVNode"])("显示在下方"),fj={class:"row"},vj=KO(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"背景填充：",-1)),hj={class:"row"},yj=KO(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"网格颜色：",-1)),gj={style:{flex:"2"}},xj={class:"color-btn-wrap",style:{flex:"3"}},kj=["onClick"],Cj={class:"preset-themes"},Nj=["onClick","onMouseenter"],Ej=Object(i["createTextVNode"])("推荐主题"),wj=Object(i["createTextVNode"])(" 添加主题色 ");var Vj=Object(i["defineComponent"])({__name:"index",setup(e){const t=[["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d"],["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78"],["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],["#893448","#d95850","#eb8146","#ffb248","#f2d643","#ebdba4"],["#4ea397","#22c3aa","#7bd9a5","#d0648a","#f58db2","#f2b3c9"],["#3fb1e3","#6be6c1","#626c91","#a0a7e6","#c4ebad","#96dee8"],["#fc97af","#87f7cf","#f7f494","#72ccff","#f7c5a0","#d4a4eb"],["#c1232b","#27727b","#fcce10","#e87c25","#b5c334","#fe8463"],["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3"],["#e01f54","#001852","#f5e8c8","#b8d2c7","#c6b38e","#a4d8c2"],["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8"],["#8a7ca8","#e098c7","#8fd3e8","#71669e","#cc70af","#7cb4cc"]],l=Object(n["c"])(),o=Object(n["e"])(),{handleElement:c,handleElementId:r}=Object(a["c"])(l),{theme:s}=Object(a["c"])(o),d=c,u=Object(i["ref"])(!1),b=Object(i["ref"])(!1),m=Object(i["ref"])([-1,-1]),{addHistorySnapshot:p}=Object(ll["a"])(),O=Object(i["ref"])("#000"),j=Object(i["ref"])([]),f=Object(i["ref"])(""),v=Object(i["ref"])(""),h=Object(i["ref"])(!0),y=Object(i["ref"])(!0),g=Object(i["ref"])(!1),x=Object(i["ref"])(!1),k=Object(i["ref"])(!1),C=Object(i["ref"])(!1);Object(i["watch"])(c,()=>{if(c.value&&"chart"===c.value.type){if(O.value=c.value.fill||"#fff",c.value.options){const{lineSmooth:e,showLine:t,showArea:l,horizontalBars:o,donut:n,stackBars:a}=c.value.options;void 0!==e&&(h.value=e),void 0!==t&&(y.value=t),void 0!==l&&(g.value=l),void 0!==o&&(x.value=o),void 0!==n&&(k.value=n),void 0!==a&&(C.value=a)}j.value=c.value.themeColor,f.value=c.value.gridColor||"#333",v.value=c.value.legend||""}},{deep:!0,immediate:!0});const N=e=>{o.updateElement({id:r.value,props:e}),p()},E=e=>{u.value=!1,N({data:e})},w=e=>{N({fill:e})},V=e=>{const t=c.value,l={...t.options,...e};N({options:l})},I=(e,t)=>{const l={themeColor:j.value.map((l,o)=>o===t?e:l)};N(l)},B=()=>{const e={themeColor:[...j.value,s.value.themeColor]};N(e)},S=(e,t)=>{const l=e.slice(0,t+1);N({themeColor:l}),b.value=!1},L=e=>{const t={themeColor:j.value.filter((t,l)=>l!==e)};N(t)},_=e=>{N({gridColor:e})},T=e=>{N({legend:e})},M=()=>u.value=!0;return fn.on(mn.OPEN_CHART_DATA_EDITOR,M),Object(i["onUnmounted"])(()=>{fn.off(mn.OPEN_CHART_DATA_EDITOR,M)}),(e,l)=>{const o=Object(i["resolveComponent"])("IconEdit"),c=Object(i["resolveComponent"])("Button"),n=Object(i["resolveComponent"])("Divider"),a=Object(i["resolveComponent"])("Checkbox"),r=Object(i["resolveComponent"])("SelectOption"),s=Object(i["resolveComponent"])("Select"),p=Object(i["resolveComponent"])("ColorPicker"),N=Object(i["resolveComponent"])("Popover"),M=Object(i["resolveComponent"])("IconCloseSmall"),D=Object(i["resolveComponent"])("Tooltip"),A=Object(i["resolveComponent"])("IconPlus"),z=Object(i["resolveComponent"])("ButtonGroup"),F=Object(i["resolveComponent"])("Modal");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ej,[Object(i["createVNode"])(c,{class:"full-width-btn",onClick:l[0]||(l[0]=e=>u.value=!0)},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{class:"btn-icon"}),tj]),_:1}),Object(i["createVNode"])(n),"line"===Object(i["unref"])(d).chartType?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("div",lj,[Object(i["createVNode"])(a,{onChange:l[1]||(l[1]=e=>V({showArea:e.target.checked})),checked:g.value,style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[oj]),_:1},8,["checked"]),Object(i["createVNode"])(a,{onChange:l[2]||(l[2]=e=>V({showLine:!e.target.checked})),checked:!y.value,style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[cj]),_:1},8,["checked"])]),Object(i["createElementVNode"])("div",nj,[Object(i["createVNode"])(a,{onChange:l[3]||(l[3]=e=>V({lineSmooth:e.target.checked})),checked:h.value},{default:Object(i["withCtx"])(()=>[aj]),_:1},8,["checked"])])],64)):Object(i["createCommentVNode"])("",!0),"bar"===Object(i["unref"])(d).chartType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",rj,[Object(i["createVNode"])(a,{onChange:l[4]||(l[4]=e=>V({horizontalBars:e.target.checked})),checked:x.value},{default:Object(i["withCtx"])(()=>[ij]),_:1},8,["checked"]),Object(i["createVNode"])(a,{onChange:l[5]||(l[5]=e=>V({stackBars:e.target.checked})),checked:C.value},{default:Object(i["withCtx"])(()=>[sj]),_:1},8,["checked"])])):Object(i["createCommentVNode"])("",!0),"pie"===Object(i["unref"])(d).chartType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",dj,[Object(i["createVNode"])(a,{onChange:l[6]||(l[6]=e=>V({donut:e.target.checked})),checked:k.value},{default:Object(i["withCtx"])(()=>[uj]),_:1},8,["checked"])])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(n),Object(i["createElementVNode"])("div",bj,[mj,Object(i["createVNode"])(s,{style:{flex:"3"},value:v.value,onChange:l[7]||(l[7]=e=>T(e))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(r,{value:""},{default:Object(i["withCtx"])(()=>[pj]),_:1}),Object(i["createVNode"])(r,{value:"top"},{default:Object(i["withCtx"])(()=>[Oj]),_:1}),Object(i["createVNode"])(r,{value:"bottom"},{default:Object(i["withCtx"])(()=>[jj]),_:1})]),_:1},8,["value"])]),Object(i["createVNode"])(n),Object(i["createElementVNode"])("div",fj,[vj,Object(i["createVNode"])(N,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(p,{modelValue:O.value,"onUpdate:modelValue":l[8]||(l[8]=e=>w(e))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:O.value,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createElementVNode"])("div",hj,[yj,Object(i["createVNode"])(N,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(p,{modelValue:f.value,"onUpdate:modelValue":l[9]||(l[9]=e=>_(e))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:f.value,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createVNode"])(n),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(j.value,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"row",key:t},[Object(i["createElementVNode"])("div",gj,Object(i["toDisplayString"])(0===t?"主题配色：":""),1),Object(i["createVNode"])(N,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(p,{modelValue:e,"onUpdate:modelValue":e=>I(e,t)},null,8,["modelValue","onUpdate:modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",xj,[Object(i["createVNode"])(im,{color:e,style:{width:"100%"}},null,8,["color"]),Object(i["createVNode"])(D,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除"},{default:Object(i["withCtx"])(()=>[0!==t?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"delete-color-btn",onClick:Object(i["withModifiers"])(e=>L(t),["stop"])},[Object(i["createVNode"])(M)],8,kj)):Object(i["createCommentVNode"])("",!0)]),_:2},1032,["mouseEnterDelay"])])]),_:2},1024)]))),128)),Object(i["createVNode"])(z,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(N,{trigger:"click",visible:b.value,"onUpdate:visible":l[11]||(l[11]=e=>b.value=e)},{content:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Cj,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t,(e,t)=>Object(i["createElementVNode"])("div",{class:"preset-theme",key:t},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e,(o,c)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["preset-theme-color",{select:m.value[0]===t&&c<=m.value[1]}]),key:o,style:Object(i["normalizeStyle"])({backgroundColor:o}),onClick:t=>S(e,c),onMouseenter:e=>m.value=[t,c],onMouseleave:l[10]||(l[10]=e=>m.value=[-1,-1])},null,46,Nj))),128))])),64))])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c,{class:"no-padding",style:{flex:"2"}},{default:Object(i["withCtx"])(()=>[Ej]),_:1})]),_:1},8,["visible"]),Object(i["createVNode"])(c,{class:"no-padding",disabled:j.value.length>=10,style:{flex:"3"},onClick:l[12]||(l[12]=e=>B())},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(A,{class:"btn-icon"}),wj]),_:1},8,["disabled"])]),_:1}),Object(i["createVNode"])(n),Object(i["createVNode"])(Cm),Object(i["createVNode"])(F,{visible:u.value,"onUpdate:visible":l[15]||(l[15]=e=>u.value=e),footer:null,centered:"",closable:!1,width:648,destroyOnClose:""},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(QO,{data:Object(i["unref"])(d).data,onClose:l[13]||(l[13]=e=>u.value=!1),onSave:l[14]||(l[14]=e=>E(e))},null,8,["data"])]),_:1},8,["visible"])])}}});l("d074");const Ij=b()(Vj,[["__scopeId","data-v-769d6876"]]);var Bj=Ij;const Sj=e=>(Object(i["pushScopeId"])("data-v-7e28e1d8"),e=e(),Object(i["popScopeId"])(),e),Lj={class:"table-style-panel"},_j={class:"row"},Tj=Sj(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"行数：",-1)),Mj={class:"set-count",style:{flex:"3"}},Dj={class:"count-text"},Aj={class:"row"},zj=Sj(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"列数：",-1)),Fj={class:"set-count",style:{flex:"3"}},$j={class:"count-text"},Rj={class:"row theme-switch"},Pj=Sj(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"启用主题表格：",-1)),Hj={class:"switch-wrapper",style:{flex:"3"}},Uj={class:"row"},qj=Object(i["createTextVNode"])("标题行"),Gj=Object(i["createTextVNode"])("汇总行"),Yj={class:"row"},Xj=Object(i["createTextVNode"])("第一列"),Zj=Object(i["createTextVNode"])("最后一列"),Wj={class:"row"},Jj=Sj(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"主题颜色：",-1));var Qj=Object(i["defineComponent"])({__name:"TableStylePanel",setup(e){const t=Object(n["e"])(),{handleElement:l,handleElementId:o,selectedTableCells:c,availableFonts:r}=Object(a["c"])(Object(n["c"])()),s=Object(i["computed"])(()=>t.theme.themeColor),d=["12px","14px","16px","18px","20px","22px","24px","28px","32px"],u=Object(i["ref"])({bold:!1,em:!1,underline:!1,strikethrough:!1,color:"#000",backcolor:"#000",fontsize:"12px",fontname:"微软雅黑",align:"left"}),b=Object(i["ref"])(),m=Object(i["ref"])(!1),p=Object(i["ref"])(0),O=Object(i["ref"])(0),j=Object(i["ref"])(0),f=Object(i["ref"])(0);Object(i["watch"])(l,()=>{l.value&&"table"===l.value.type&&(b.value=l.value.theme,m.value=!!b.value,p.value=l.value.data.length,O.value=l.value.data[0].length,j.value=l.value.data.length,f.value=l.value.data[0].length)},{deep:!0,immediate:!0});const{addHistorySnapshot:v}=Object(ll["a"])(),h=()=>{if(!l.value||"table"!==l.value.type)return;let e=0,t=0;if(c.value.length){const l=c.value[0];e=+l.split("_")[0],t=+l.split("_")[1]}const o=l.value.data[e][t].style;u.value=o?{bold:!!o.bold,em:!!o.em,underline:!!o.underline,strikethrough:!!o.strikethrough,color:o.color||"#000",backcolor:o.backcolor||"#000",fontsize:o.fontsize||"12px",fontname:o.fontname||"微软雅黑",align:o.align||"left"}:{bold:!1,em:!1,underline:!1,strikethrough:!1,color:"#000",backcolor:"#000",fontsize:"12px",fontname:"微软雅黑",align:"left"}};Object(i["onMounted"])(()=>{c.value.length&&h()}),Object(i["watch"])(c,h);const y=e=>{t.updateElement({id:o.value,props:e}),v()},g=e=>{const t=l.value,o=JSON.parse(JSON.stringify(t.data));for(let l=0;l<o.length;l++)for(let t=0;t<o[l].length;t++)if(!c.value.length||c.value.includes(`${l}_${t}`)){const c=o[l][t].style||{};o[l][t].style={...c,...e}}y({data:o}),h()},x=e=>{if(!b.value)return;const t={...b.value,...e};y({theme:t})},k=e=>{if(e){const e={theme:{color:s.value,rowHeader:!0,rowFooter:!1,colHeader:!1,colFooter:!1}};y(e)}else t.removeElementProps({id:o.value,propName:"theme"}),v()},C=e=>{const t=l.value,o=t.data.length;if(e>o){const l=new Array(O.value).fill({id:Object(qt["b"])(10),colspan:1,rowspan:1,text:""}),c=new Array(e-o).fill(l),n=JSON.parse(JSON.stringify(t.data));n.push(...c),y({data:n})}else{const l=t.data.slice(0,e);y({data:l})}},N=e=>{const t=l.value,o=t.data[0].length;let c=t.data,n=t.colWidths.map(e=>e*t.width);if(e>o){c=c.map(t=>{const l=new Array(e-o).fill({id:Object(qt["b"])(10),colspan:1,rowspan:1,text:""});return t.push(...l),t});const t=new Array(e-o).fill(100);n.push(...t)}else c=c.map(t=>t.slice(0,e)),n=n.slice(0,e);const a=n.reduce((e,t)=>e+t),r=n.map(e=>e/a),i={width:a,data:c,colWidths:r};y(i)};return(e,t)=>{const l=Object(i["resolveComponent"])("IconFontSize"),o=Object(i["resolveComponent"])("SelectOption"),c=Object(i["resolveComponent"])("SelectOptGroup"),n=Object(i["resolveComponent"])("Select"),a=Object(i["resolveComponent"])("IconAddText"),s=Object(i["resolveComponent"])("InputGroup"),j=Object(i["resolveComponent"])("ColorPicker"),f=Object(i["resolveComponent"])("IconText"),v=Object(i["resolveComponent"])("Button"),h=Object(i["resolveComponent"])("Tooltip"),y=Object(i["resolveComponent"])("Popover"),E=Object(i["resolveComponent"])("IconFill"),w=Object(i["resolveComponent"])("ButtonGroup"),V=Object(i["resolveComponent"])("IconTextBold"),I=Object(i["resolveComponent"])("CheckboxButton"),B=Object(i["resolveComponent"])("IconTextItalic"),S=Object(i["resolveComponent"])("IconTextUnderline"),L=Object(i["resolveComponent"])("IconStrikethrough"),_=Object(i["resolveComponent"])("CheckboxButtonGroup"),T=Object(i["resolveComponent"])("IconAlignTextLeft"),M=Object(i["resolveComponent"])("RadioButton"),D=Object(i["resolveComponent"])("IconAlignTextCenter"),A=Object(i["resolveComponent"])("IconAlignTextRight"),z=Object(i["resolveComponent"])("RadioGroup"),F=Object(i["resolveComponent"])("Divider"),$=Object(i["resolveComponent"])("IconMinus"),R=Object(i["resolveComponent"])("IconPlus"),P=Object(i["resolveComponent"])("Switch"),H=Object(i["resolveComponent"])("Checkbox");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Lj,[Object(i["createVNode"])(s,{compact:"",class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{flex:"3"},value:u.value.fontname,onChange:t[0]||(t[0]=e=>g({fontname:e}))},{suffixIcon:Object(i["withCtx"])(()=>[Object(i["createVNode"])(l)]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c,{label:"系统字体"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(r),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:e.value,value:e.value},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({fontFamily:e.value})},Object(i["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(i["createVNode"])(c,{label:"在线字体"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(Jb["b"]),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:e.value,value:e.value},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"]),Object(i["createVNode"])(n,{style:{flex:"2"},value:u.value.fontsize,onChange:t[1]||(t[1]=e=>g({fontsize:e}))},{suffixIcon:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a)]),default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(d,e=>Object(i["createVNode"])(o,{key:e,value:e},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),Object(i["createVNode"])(w,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(y,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(j,{modelValue:u.value.color,"onUpdate:modelValue":t[2]||(t[2]=e=>g({color:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(h,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(v,{class:"text-color-btn",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(f),Object(i["createElementVNode"])("div",{class:"text-color-block",style:Object(i["normalizeStyle"])({backgroundColor:u.value.color})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(y,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(j,{modelValue:u.value.backcolor,"onUpdate:modelValue":t[3]||(t[3]=e=>g({backcolor:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(h,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"单元格填充"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(v,{class:"text-color-btn",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(E),Object(i["createElementVNode"])("div",{class:"text-color-block",style:Object(i["normalizeStyle"])({backgroundColor:u.value.backcolor})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1})]),_:1}),Object(i["createVNode"])(_,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(h,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(I,{style:{flex:"1"},checked:u.value.bold,onClick:t[4]||(t[4]=e=>g({bold:!u.value.bold}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(V)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(h,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(I,{style:{flex:"1"},checked:u.value.em,onClick:t[5]||(t[5]=e=>g({em:!u.value.em}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(B)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(h,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(I,{style:{flex:"1"},checked:u.value.underline,onClick:t[6]||(t[6]=e=>g({underline:!u.value.underline}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(S)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(h,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除线"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(I,{style:{flex:"1"},checked:u.value.strikethrough,onClick:t[7]||(t[7]=e=>g({strikethrough:!u.value.strikethrough}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(L)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(z,{class:"row","button-style":"solid",value:u.value.align,onChange:t[8]||(t[8]=e=>g({align:e.target.value}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(h,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(M,{value:"left",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(T)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(h,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(M,{value:"center",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(D)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(h,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(M,{value:"right",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(A)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"]),Object(i["createVNode"])(F),Object(i["createVNode"])(Cm,{fixed:!0}),Object(i["createVNode"])(F),Object(i["createElementVNode"])("div",_j,[Tj,Object(i["createElementVNode"])("div",Mj,[Object(i["createVNode"])(v,{class:"btn",disabled:p.value<=1,onClick:t[9]||(t[9]=e=>C(p.value-1))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])($)]),_:1},8,["disabled"]),Object(i["createElementVNode"])("div",Dj,Object(i["toDisplayString"])(p.value),1),Object(i["createVNode"])(v,{class:"btn",disabled:p.value>=30,onClick:t[10]||(t[10]=e=>C(p.value+1))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(R)]),_:1},8,["disabled"])])]),Object(i["createElementVNode"])("div",Aj,[zj,Object(i["createElementVNode"])("div",Fj,[Object(i["createVNode"])(v,{class:"btn",disabled:O.value<=1,onClick:t[11]||(t[11]=e=>N(O.value-1))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])($)]),_:1},8,["disabled"]),Object(i["createElementVNode"])("div",$j,Object(i["toDisplayString"])(O.value),1),Object(i["createVNode"])(v,{class:"btn",disabled:O.value>=30,onClick:t[12]||(t[12]=e=>N(O.value+1))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(R)]),_:1},8,["disabled"])])]),Object(i["createVNode"])(F),Object(i["createElementVNode"])("div",Rj,[Pj,Object(i["createElementVNode"])("div",Hj,[Object(i["createVNode"])(P,{checked:m.value,onChange:t[13]||(t[13]=e=>k(e))},null,8,["checked"])])]),b.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("div",Uj,[Object(i["createVNode"])(H,{onChange:t[14]||(t[14]=e=>x({rowHeader:e.target.checked})),checked:b.value.rowHeader,style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[qj]),_:1},8,["checked"]),Object(i["createVNode"])(H,{onChange:t[15]||(t[15]=e=>x({rowFooter:e.target.checked})),checked:b.value.rowFooter,style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Gj]),_:1},8,["checked"])]),Object(i["createElementVNode"])("div",Yj,[Object(i["createVNode"])(H,{onChange:t[16]||(t[16]=e=>x({colHeader:e.target.checked})),checked:b.value.colHeader,style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Xj]),_:1},8,["checked"]),Object(i["createVNode"])(H,{onChange:t[17]||(t[17]=e=>x({colFooter:e.target.checked})),checked:b.value.colFooter,style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Zj]),_:1},8,["checked"])]),Object(i["createElementVNode"])("div",Wj,[Jj,Object(i["createVNode"])(y,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(j,{modelValue:b.value.color,"onUpdate:modelValue":t[18]||(t[18]=e=>x({color:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:b.value.color,style:{flex:"3"}},null,8,["color"])]),_:1})])],64)):Object(i["createCommentVNode"])("",!0)])}}});l("dcd4");const Kj=b()(Qj,[["__scopeId","data-v-7e28e1d8"]]);var ef=Kj;const tf=e=>(Object(i["pushScopeId"])("data-v-546adf8c"),e=e(),Object(i["popScopeId"])(),e),lf={class:"latex-style-panel"},of={class:"row"},cf=Object(i["createTextVNode"])("编辑 LaTeX"),nf={class:"row"},af=tf(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"颜色：",-1)),rf={class:"row"},sf=tf(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"粗细：",-1));var df=Object(i["defineComponent"])({__name:"LatexStylePanel",setup(e){const t=Object(n["e"])(),{handleElement:l}=Object(a["c"])(Object(n["c"])()),o=l,c=Object(i["ref"])(!1),{addHistorySnapshot:r}=Object(ll["a"])(),s=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),r())},d=e=>{s({path:e.path,latex:e.latex,width:e.w,height:e.h,viewBox:[e.w,e.h]})},u=()=>c.value=!0;return fn.on(mn.OPEN_LATEX_EDITOR,u),Object(i["onUnmounted"])(()=>{fn.off(mn.OPEN_LATEX_EDITOR,u)}),(e,t)=>{const l=Object(i["resolveComponent"])("Button"),n=Object(i["resolveComponent"])("Divider"),a=Object(i["resolveComponent"])("ColorPicker"),r=Object(i["resolveComponent"])("Popover"),u=Object(i["resolveComponent"])("InputNumber"),b=Object(i["resolveComponent"])("Modal");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",lf,[Object(i["createElementVNode"])("div",of,[Object(i["createVNode"])(l,{style:{flex:"1"},onClick:t[0]||(t[0]=e=>c.value=!0)},{default:Object(i["withCtx"])(()=>[cf]),_:1})]),Object(i["createVNode"])(n),Object(i["createElementVNode"])("div",nf,[af,Object(i["createVNode"])(r,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{modelValue:Object(i["unref"])(o).color,"onUpdate:modelValue":t[1]||(t[1]=e=>s({color:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:Object(i["unref"])(o).color,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createElementVNode"])("div",rf,[sf,Object(i["createVNode"])(u,{min:1,max:3,value:Object(i["unref"])(o).strokeWidth,onChange:t[2]||(t[2]=e=>s({strokeWidth:e})),style:{flex:"3"}},null,8,["value"])]),Object(i["createVNode"])(b,{visible:c.value,"onUpdate:visible":t[5]||(t[5]=e=>c.value=e),footer:null,centered:"",width:880,destroyOnClose:""},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(kb,{value:Object(i["unref"])(o).latex,onClose:t[3]||(t[3]=e=>c.value=!1),onUpdate:t[4]||(t[4]=e=>{d(e),c.value=!1})},null,8,["value"])]),_:1},8,["visible"])])}}});l("c041");const uf=b()(df,[["__scopeId","data-v-546adf8c"]]);var bf=uf;const mf=e=>(Object(i["pushScopeId"])("data-v-ff7125dc"),e=e(),Object(i["popScopeId"])(),e),pf={class:"video-style-panel"},Of=mf(()=>Object(i["createElementVNode"])("div",{class:"title"},"视频预览封面",-1)),jf={class:"background-image-wrapper"},ff={class:"background-image"},vf={class:"row"},hf=Object(i["createTextVNode"])("重置封面");var yf=Object(i["defineComponent"])({__name:"VideoStylePanel",setup(e){const t=Object(n["e"])(),{handleElement:l}=Object(a["c"])(Object(n["c"])()),o=l,{addHistorySnapshot:c}=Object(ll["a"])(),r=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),c())},s=e=>{const t=e[0];t&&Zt(t).then(e=>r({poster:e}))};return(e,t)=>{const l=Object(i["resolveComponent"])("IconPlus"),c=Object(i["resolveComponent"])("FileInput"),n=Object(i["resolveComponent"])("Button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",pf,[Of,Object(i["createElementVNode"])("div",jf,[Object(i["createVNode"])(c,{onChange:t[0]||(t[0]=e=>s(e))},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",ff,[Object(i["createElementVNode"])("div",{class:"content",style:Object(i["normalizeStyle"])({backgroundImage:`url(${Object(i["unref"])(o).poster})`})},[Object(i["createVNode"])(l)],4)])]),_:1})]),Object(i["createElementVNode"])("div",vf,[Object(i["createVNode"])(n,{style:{flex:"1"},onClick:t[1]||(t[1]=e=>r({poster:""}))},{default:Object(i["withCtx"])(()=>[hf]),_:1})])])}}});l("a81a");const gf=b()(yf,[["__scopeId","data-v-ff7125dc"]]);var xf=gf;const kf=e=>(Object(i["pushScopeId"])("data-v-5d723d50"),e=e(),Object(i["popScopeId"])(),e),Cf={class:"audio-style-panel"},Nf={class:"row"},Ef=kf(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"图标颜色：",-1)),wf={class:"row switch-row"},Vf=kf(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"自动播放：",-1)),If={class:"switch-wrapper",style:{flex:"3"}},Bf={class:"row switch-row"},Sf=kf(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"循环播放：",-1)),Lf={class:"switch-wrapper",style:{flex:"3"}};var _f=Object(i["defineComponent"])({__name:"AudioStylePanel",setup(e){const t=Object(n["e"])(),{handleElement:l}=Object(a["c"])(Object(n["c"])()),o=l,{addHistorySnapshot:c}=Object(ll["a"])(),r=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),c())};return(e,t)=>{const l=Object(i["resolveComponent"])("ColorPicker"),c=Object(i["resolveComponent"])("Popover"),n=Object(i["resolveComponent"])("Switch");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Cf,[Object(i["createElementVNode"])("div",Nf,[Ef,Object(i["createVNode"])(c,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(l,{modelValue:Object(i["unref"])(o).color,"onUpdate:modelValue":t[0]||(t[0]=e=>r({color:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:Object(i["unref"])(o).color,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createElementVNode"])("div",wf,[Vf,Object(i["createElementVNode"])("div",If,[Object(i["createVNode"])(n,{checked:Object(i["unref"])(o).autoplay,onChange:t[1]||(t[1]=e=>r({autoplay:e}))},null,8,["checked"])])]),Object(i["createElementVNode"])("div",Bf,[Sf,Object(i["createElementVNode"])("div",Lf,[Object(i["createVNode"])(n,{checked:Object(i["unref"])(o).loop,onChange:t[2]||(t[2]=e=>r({loop:e}))},null,8,["checked"])])])])}}});l("795e");const Tf=b()(_f,[["__scopeId","data-v-5d723d50"]]);var Mf=Tf;const Df=e=>(Object(i["pushScopeId"])("data-v-71469855"),e=e(),Object(i["popScopeId"])(),e),Af={class:"multi-style-panel"},zf={class:"row"},Ff=Df(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"填充颜色：",-1)),$f={class:"row"},Rf=Df(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"边框样式：",-1)),Pf=Object(i["createTextVNode"])("实线边框"),Hf=Object(i["createTextVNode"])("虚线边框"),Uf={class:"row"},qf=Df(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"边框颜色：",-1)),Gf={class:"row"},Yf=Df(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"边框粗细：",-1)),Xf=Object(i["createTextVNode"])("+"),Zf=Object(i["createTextVNode"])("-");var Wf=Object(i["defineComponent"])({__name:"MultiStylePanel",setup(e){const t=Object(n["e"])(),{richTextAttrs:l,availableFonts:o,activeElementList:c}=Object(a["c"])(Object(n["c"])()),{addHistorySnapshot:r}=Object(ll["a"])(),s=(e,l)=>{t.updateElement({id:e,props:l}),r()},d=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],u=Object(i["ref"])("#fff"),b=Object(i["ref"])({width:0,color:"#fff",style:"solid"}),m=e=>{for(const t of c.value){if("text"!==t.type&&"shape"!==t.type&&"chart"!==t.type||s(t.id,{fill:e}),"table"===t.type){const l=JSON.parse(JSON.stringify(t.data));for(let t=0;t<l.length;t++)for(let o=0;o<l[t].length;o++){const c=l[t][o].style||{};l[t][o].style={...c,backcolor:e}}s(t.id,{data:l})}"audio"===t.type&&s(t.id,{color:e})}u.value=e},p=e=>{for(const t of c.value){if("text"===t.type||"image"===t.type||"shape"===t.type||"table"===t.type||"chart"===t.type){const l=t.outline||{width:2,color:"#000",style:"solid"},o={outline:{...l,...e}};s(t.id,o)}"line"===t.type&&s(t.id,e)}b.value={...b.value,...e}},O=(e,t)=>{for(const o of c.value){var l;if(("text"===o.type||"shape"===o.type&&null!==(l=o.text)&&void 0!==l&&l.content)&&fn.emit(mn.RICH_TEXT_COMMAND,{target:o.id,action:{command:e,value:t}}),"table"===o.type){const l=JSON.parse(JSON.stringify(o.data));for(let o=0;o<l.length;o++)for(let c=0;c<l[o].length;c++){const n=l[o][c].style||{};l[o][c].style={...n,[e]:t}}s(o.id,{data:l})}"latex"===o.type&&"color"===e&&s(o.id,{color:t})}};return(e,t)=>{const c=Object(i["resolveComponent"])("ColorPicker"),n=Object(i["resolveComponent"])("Popover"),a=Object(i["resolveComponent"])("Divider"),r=Object(i["resolveComponent"])("SelectOption"),s=Object(i["resolveComponent"])("Select"),j=Object(i["resolveComponent"])("InputNumber"),f=Object(i["resolveComponent"])("IconFontSize"),v=Object(i["resolveComponent"])("SelectOptGroup"),h=Object(i["resolveComponent"])("IconAddText"),y=Object(i["resolveComponent"])("InputGroup"),g=Object(i["resolveComponent"])("IconText"),x=Object(i["resolveComponent"])("Button"),k=Object(i["resolveComponent"])("Tooltip"),C=Object(i["resolveComponent"])("IconHighLight"),N=Object(i["resolveComponent"])("ButtonGroup"),E=Object(i["resolveComponent"])("IconAlignTextLeft"),w=Object(i["resolveComponent"])("RadioButton"),V=Object(i["resolveComponent"])("IconAlignTextCenter"),I=Object(i["resolveComponent"])("IconAlignTextRight"),B=Object(i["resolveComponent"])("RadioGroup");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Af,[Object(i["createElementVNode"])("div",zf,[Ff,Object(i["createVNode"])(n,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>m(e))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:u.value,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createVNode"])(a),Object(i["createElementVNode"])("div",$f,[Rf,Object(i["createVNode"])(s,{style:{flex:"3"},value:b.value.style,onChange:t[1]||(t[1]=e=>p({style:e}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(r,{value:"solid"},{default:Object(i["withCtx"])(()=>[Pf]),_:1}),Object(i["createVNode"])(r,{value:"dashed"},{default:Object(i["withCtx"])(()=>[Hf]),_:1})]),_:1},8,["value"])]),Object(i["createElementVNode"])("div",Uf,[qf,Object(i["createVNode"])(n,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c,{modelValue:b.value.color,"onUpdate:modelValue":t[2]||(t[2]=e=>p({color:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:b.value.color||"#000",style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createElementVNode"])("div",Gf,[Yf,Object(i["createVNode"])(j,{value:b.value.width,onChange:t[3]||(t[3]=e=>p({width:e})),style:{flex:"3"}},null,8,["value"])]),Object(i["createVNode"])(a),Object(i["createVNode"])(y,{compact:"",class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(s,{style:{flex:"3"},value:Object(i["unref"])(l).fontname,onChange:t[4]||(t[4]=e=>O("fontname",e))},{suffixIcon:Object(i["withCtx"])(()=>[Object(i["createVNode"])(f)]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(v,{label:"系统字体"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(o),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:e.value,value:e.value},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({fontFamily:e.value})},Object(i["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(i["createVNode"])(v,{label:"在线字体"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(Jb["b"]),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:e.value,value:e.value},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"]),Object(i["createVNode"])(s,{style:{flex:"2"},value:Object(i["unref"])(l).fontsize,onChange:t[5]||(t[5]=e=>O("fontsize",e))},{suffixIcon:Object(i["withCtx"])(()=>[Object(i["createVNode"])(h)]),default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(d,e=>Object(i["createVNode"])(r,{key:e,value:e},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),Object(i["createVNode"])(N,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c,{modelValue:Object(i["unref"])(l).color,"onUpdate:modelValue":t[6]||(t[6]=e=>O("color",e))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(x,{class:"text-color-btn",style:{flex:"3"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(g),Object(i["createElementVNode"])("div",{class:"text-color-block",style:Object(i["normalizeStyle"])({backgroundColor:Object(i["unref"])(l).color})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(n,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c,{modelValue:Object(i["unref"])(l).backcolor,"onUpdate:modelValue":t[7]||(t[7]=e=>O("backcolor",e))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字高亮"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(x,{class:"text-color-btn",style:{flex:"3"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(C),Object(i["createElementVNode"])("div",{class:"text-color-block",style:Object(i["normalizeStyle"])({backgroundColor:Object(i["unref"])(l).backcolor})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大字号"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(x,{class:"font-size-btn",style:{flex:"2"},onClick:t[8]||(t[8]=e=>O("fontsize-add","2"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(f),Xf]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小字号"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(x,{class:"font-size-btn",style:{flex:"2"},onClick:t[9]||(t[9]=e=>O("fontsize-reduce","2"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(f),Zf]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(B,{class:"row","button-style":"solid",value:Object(i["unref"])(l).align,onChange:t[10]||(t[10]=e=>O("align",e.target.value))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(w,{value:"left",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(E)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(w,{value:"center",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(V)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(w,{value:"right",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(I)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"])])}}});l("1222");const Jf=b()(Wf,[["__scopeId","data-v-71469855"]]);var Qf=Jf;const Kf={class:"element-style-panel"};var ev=Object(i["defineComponent"])({__name:"index",setup(e){const t={[Qt.TEXT]:sp,[Qt.IMAGE]:Jp,[Qt.SHAPE]:jO,[Qt.LINE]:FO,[Qt.CHART]:Bj,[Qt.TABLE]:ef,[Qt.LATEX]:bf,[Qt.VIDEO]:xf,[Qt.AUDIO]:Mf},{activeElementIdList:l,activeElementList:o,handleElement:c,activeGroupElementId:r}=Object(a["c"])(Object(n["c"])()),s=Object(i["computed"])(()=>{if(l.value.length>1){if(!r.value)return Qf;const e=o.value.find(e=>e.id===r.value);return e&&t[e.type]||null}return c.value&&t[c.value.type]||null});return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Kf,[(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(Object(i["unref"])(s))))]))}});const tv=ev;var lv=tv;const ov=e=>(Object(i["pushScopeId"])("data-v-43e5f476"),e=e(),Object(i["popScopeId"])(),e),cv={class:"element-positopn-panel"},nv=ov(()=>Object(i["createElementVNode"])("div",{class:"title"},"层级：",-1)),av=Object(i["createTextVNode"])(" 置于顶层"),rv=Object(i["createTextVNode"])(" 置于底层"),iv=Object(i["createTextVNode"])(" 上移一层"),sv=Object(i["createTextVNode"])(" 下移一层"),dv=ov(()=>Object(i["createElementVNode"])("div",{class:"title"},"对齐：",-1)),uv={class:"row"},bv=ov(()=>Object(i["createElementVNode"])("div",{style:{flex:"3"}},"位置：",-1)),mv=ov(()=>Object(i["createElementVNode"])("div",{style:{flex:"1"}},null,-1)),pv=Object(i["createStaticVNode"])('<div class="row" data-v-43e5f476><div style="flex:3;" data-v-43e5f476></div><div style="flex:4;" class="label" data-v-43e5f476>X</div><div style="flex:1;" data-v-43e5f476></div><div style="flex:4;" class="label" data-v-43e5f476>Y</div></div>',1),Ov={class:"row"},jv=ov(()=>Object(i["createElementVNode"])("div",{style:{flex:"3"}},"大小：",-1)),fv={key:1,style:{flex:"1"}},vv=Object(i["createStaticVNode"])('<div class="row" data-v-43e5f476><div style="flex:3;" data-v-43e5f476></div><div style="flex:4;" class="label" data-v-43e5f476>宽</div><div style="flex:1;" data-v-43e5f476></div><div style="flex:4;" class="label" data-v-43e5f476>高</div></div>',1),hv={class:"row"},yv=ov(()=>Object(i["createElementVNode"])("div",{style:{flex:"3"}},"旋转：",-1)),gv=ov(()=>Object(i["createElementVNode"])("div",{style:{flex:"1"}},null,-1));var xv=Object(i["defineComponent"])({__name:"ElementPositionPanel",setup(e){const t=Object(n["e"])(),{handleElement:l,handleElementId:o}=Object(a["c"])(Object(n["c"])()),c=Object(i["ref"])(0),r=Object(i["ref"])(0),s=Object(i["ref"])(0),d=Object(i["ref"])(0),u=Object(i["ref"])(0),b=Object(i["ref"])(!1),m=Object(i["computed"])(()=>l.value&&xo[l.value.type]||20);Object(i["watch"])(l,()=>{l.value&&(c.value=Object(Mt["round"])(l.value.left,1),r.value=Object(Mt["round"])(l.value.top,1),b.value="fixedRatio"in l.value&&!!l.value.fixedRatio,"line"!==l.value.type&&(s.value=Object(Mt["round"])(l.value.width,1),d.value=Object(Mt["round"])(l.value.height,1),u.value="rotate"in l.value&&void 0!==l.value.rotate?Object(Mt["round"])(l.value.rotate,1):0))},{deep:!0,immediate:!0});const{orderElement:p}=ml(),{alignElementToCanvas:O}=_o(),{addHistorySnapshot:j}=Object(ll["a"])(),f=e=>{const l={left:e};t.updateElement({id:o.value,props:l}),j()},v=e=>{const l={top:e};t.updateElement({id:o.value,props:l}),j()},h=(e,t)=>{if(l.value&&"shape"===l.value.type&&"pathFormula"in l.value&&l.value.pathFormula){const o=Kt[l.value.pathFormula];let c="";return c="editable"in o?o.formula(e,t,l.value.keypoint):o.formula(e,t),{viewBox:[e,t],path:c}}return null},y=e=>{let l={width:e};const c=h(e,d.value);c&&(l={...l,...c}),t.updateElement({id:o.value,props:l}),j()},g=e=>{let l={height:e};const c=h(s.value,e);c&&(l={...l,...c}),t.updateElement({id:o.value,props:l}),j()},x=e=>{const l={rotate:e};t.updateElement({id:o.value,props:l}),j()},k=e=>{const l={fixedRatio:e};t.updateElement({id:o.value,props:l}),j()},C=e=>{let l=45*Math.floor(u.value/45);"+"===e?l+=45:"-"===e&&(l-=45),l<-180&&(l=-180),l>180&&(l=180);const c={rotate:l};t.updateElement({id:o.value,props:c}),j()};return(e,t)=>{const o=Object(i["resolveComponent"])("IconSendToBack"),n=Object(i["resolveComponent"])("Button"),a=Object(i["resolveComponent"])("IconBringToFrontOne"),j=Object(i["resolveComponent"])("ButtonGroup"),h=Object(i["resolveComponent"])("IconBringToFront"),N=Object(i["resolveComponent"])("IconSentToBack"),E=Object(i["resolveComponent"])("Divider"),w=Object(i["resolveComponent"])("IconAlignLeft"),V=Object(i["resolveComponent"])("Tooltip"),I=Object(i["resolveComponent"])("IconAlignVertically"),B=Object(i["resolveComponent"])("IconAlignRight"),S=Object(i["resolveComponent"])("IconAlignTop"),L=Object(i["resolveComponent"])("IconAlignHorizontally"),_=Object(i["resolveComponent"])("IconAlignBottom"),T=Object(i["resolveComponent"])("InputNumber"),M=Object(i["resolveComponent"])("IconLock"),D=Object(i["resolveComponent"])("IconUnlock"),A=Object(i["resolveComponent"])("IconRotate");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",cv,[nv,Object(i["createVNode"])(j,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{flex:"1"},onClick:t[0]||(t[0]=e=>Object(i["unref"])(p)(Object(i["unref"])(l),Object(i["unref"])(zt).TOP))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{class:"btn-icon"}),av]),_:1}),Object(i["createVNode"])(n,{style:{flex:"1"},onClick:t[1]||(t[1]=e=>Object(i["unref"])(p)(Object(i["unref"])(l),Object(i["unref"])(zt).BOTTOM))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{class:"btn-icon"}),rv]),_:1})]),_:1}),Object(i["createVNode"])(j,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{flex:"1"},onClick:t[2]||(t[2]=e=>Object(i["unref"])(p)(Object(i["unref"])(l),Object(i["unref"])(zt).UP))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(h,{class:"btn-icon"}),iv]),_:1}),Object(i["createVNode"])(n,{style:{flex:"1"},onClick:t[3]||(t[3]=e=>Object(i["unref"])(p)(Object(i["unref"])(l),Object(i["unref"])(zt).DOWN))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(N,{class:"btn-icon"}),sv]),_:1})]),_:1}),Object(i["createVNode"])(E),dv,Object(i["createVNode"])(j,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{flex:"1"},onClick:t[4]||(t[4]=e=>Object(i["unref"])(O)(Object(i["unref"])(Ft).LEFT))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(w)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"水平居中"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{flex:"1"},onClick:t[5]||(t[5]=e=>Object(i["unref"])(O)(Object(i["unref"])(Ft).HORIZONTAL))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(I)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{flex:"1"},onClick:t[6]||(t[6]=e=>Object(i["unref"])(O)(Object(i["unref"])(Ft).RIGHT))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(B)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(j,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{flex:"1"},onClick:t[7]||(t[7]=e=>Object(i["unref"])(O)(Object(i["unref"])(Ft).TOP))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(S)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"垂直居中"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{flex:"1"},onClick:t[8]||(t[8]=e=>Object(i["unref"])(O)(Object(i["unref"])(Ft).VERTICAL))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(L)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{flex:"1"},onClick:t[9]||(t[9]=e=>Object(i["unref"])(O)(Object(i["unref"])(Ft).BOTTOM))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(_)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(E),Object(i["createElementVNode"])("div",uv,[bv,Object(i["createVNode"])(T,{step:5,value:c.value,onChange:t[10]||(t[10]=e=>f(e)),style:{flex:"4"}},null,8,["value"]),mv,Object(i["createVNode"])(T,{step:5,value:r.value,onChange:t[11]||(t[11]=e=>v(e)),style:{flex:"4"}},null,8,["value"])]),pv,"line"!==Object(i["unref"])(l).type?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("div",Ov,[jv,Object(i["createVNode"])(T,{min:Object(i["unref"])(m),max:1500,step:5,value:s.value,onChange:t[12]||(t[12]=e=>y(e)),style:{flex:"4"}},null,8,["min","value"]),["image","shape","audio"].includes(Object(i["unref"])(l).type)?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[b.value?(Object(i["openBlock"])(),Object(i["createBlock"])(V,{key:0,mouseLeaveDelay:0,mouseEnterDelay:.5,title:"解除宽高比锁定"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(M,{style:{flex:"1"},class:"icon-btn",onClick:t[13]||(t[13]=e=>k(!1))})]),_:1},8,["mouseEnterDelay"])):(Object(i["openBlock"])(),Object(i["createBlock"])(V,{key:1,mouseLeaveDelay:0,mouseEnterDelay:.5,title:"宽高比锁定"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(D,{style:{flex:"1"},class:"icon-btn",onClick:t[14]||(t[14]=e=>k(!0))})]),_:1},8,["mouseEnterDelay"]))],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",fv)),Object(i["createVNode"])(T,{min:Object(i["unref"])(m),max:800,step:5,disabled:"text"===Object(i["unref"])(l).type,value:d.value,onChange:t[15]||(t[15]=e=>g(e)),style:{flex:"4"}},null,8,["min","disabled","value"])]),vv],64)):Object(i["createCommentVNode"])("",!0),["line","video","audio"].includes(Object(i["unref"])(l).type)?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createVNode"])(E),Object(i["createElementVNode"])("div",hv,[yv,Object(i["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"逆时针旋转"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(A,{class:"icon-btn",onClick:t[16]||(t[16]=e=>C("-")),style:{flex:"2"}})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"顺时针旋转"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(A,{class:"icon-btn",onClick:t[17]||(t[17]=e=>C("+")),style:Object(i["normalizeStyle"])({flex:2,transform:"rotateY(180deg)"})},null,8,["style"])]),_:1},8,["mouseEnterDelay"]),gv,Object(i["createVNode"])(T,{min:-180,max:180,step:5,value:u.value,onChange:t[18]||(t[18]=e=>x(e)),style:{flex:"4"}},null,8,["value"])])],64))])}}});l("cb45");const kv=b()(xv,[["__scopeId","data-v-43e5f476"]]);var Cv=kv;const Nv=1e3,Ev="click",wv="animate__",Vv=[{type:"bounce",name:"弹跳",children:[{name:"弹入",value:"bounceIn"},{name:"向右弹入",value:"bounceInLeft"},{name:"向左弹入",value:"bounceInRight"},{name:"向上弹入",value:"bounceInUp"},{name:"向下弹入",value:"bounceInDown"}]},{type:"fade",name:"浮现",children:[{name:"浮入",value:"fadeIn"},{name:"向下浮入",value:"fadeInDown"},{name:"向下长距浮入",value:"fadeInDownBig"},{name:"向右浮入",value:"fadeInLeft"},{name:"向右长距浮入",value:"fadeInLeftBig"},{name:"向左浮入",value:"fadeInRight"},{name:"向左长距浮入",value:"fadeInRightBig"},{name:"向上浮入",value:"fadeInUp"},{name:"向上长距浮入",value:"fadeInUpBig"},{name:"从左上浮入",value:"fadeInTopLeft"},{name:"从右上浮入",value:"fadeInTopRight"},{name:"从左下浮入",value:"fadeInBottomLeft"},{name:"从右下浮入",value:"fadeInBottomRight"}]},{type:"rotate",name:"旋转",children:[{name:"旋转进入",value:"rotateIn"},{name:"绕左下进入",value:"rotateInDownLeft"},{name:"绕右下进入",value:"rotateInDownRight"},{name:"绕左上进入",value:"rotateInUpLeft"},{name:"绕右上进入",value:"rotateInUpRight"}]},{type:"zoom",name:"缩放",children:[{name:"放大进入",value:"zoomIn"},{name:"向下放大进入",value:"zoomInDown"},{name:"从左放大进入",value:"zoomInLeft"},{name:"从右放大进入",value:"zoomInRight"},{name:"向上放大进入",value:"zoomInUp"}]},{type:"slide",name:"滑入",children:[{name:"向下滑入",value:"slideInDown"},{name:"从右滑入",value:"slideInLeft"},{name:"从左滑入",value:"slideInRight"},{name:"向上滑入",value:"slideInUp"}]},{type:"flip",name:"翻转",children:[{name:"X轴翻转进入",value:"flipInX"},{name:"Y轴翻转进入",value:"flipInY"}]},{type:"back",name:"放大滑入",children:[{name:"向下放大滑入",value:"backInDown"},{name:"从左放大滑入",value:"backInLeft"},{name:"从右放大滑入",value:"backInRight"},{name:"向上放大滑入",value:"backInUp"}]},{type:"lightSpeed",name:"飞入",children:[{name:"从右飞入",value:"lightSpeedInRight"},{name:"从左飞入",value:"lightSpeedInLeft"}]}],Iv=[{type:"bounce",name:"弹跳",children:[{name:"弹出",value:"bounceOut"},{name:"向左弹出",value:"bounceOutLeft"},{name:"向右弹出",value:"bounceOutRight"},{name:"向上弹出",value:"bounceOutUp"},{name:"向下弹出",value:"bounceOutDown"}]},{type:"fade",name:"浮现",children:[{name:"浮出",value:"fadeOut"},{name:"向下浮出",value:"fadeOutDown"},{name:"向下长距浮出",value:"fadeOutDownBig"},{name:"向左浮出",value:"fadeOutLeft"},{name:"向左长距浮出",value:"fadeOutLeftBig"},{name:"向右浮出",value:"fadeOutRight"},{name:"向右长距浮出",value:"fadeOutRightBig"},{name:"向上浮出",value:"fadeOutUp"},{name:"向上长距浮出",value:"fadeOutUpBig"},{name:"从左上浮出",value:"fadeOutTopLeft"},{name:"从右上浮出",value:"fadeOutTopRight"},{name:"从左下浮出",value:"fadeOutBottomLeft"},{name:"从右下浮出",value:"fadeOutBottomRight"}]},{type:"rotate",name:"旋转",children:[{name:"旋转退出",value:"rotateOut"},{name:"绕左下退出",value:"rotateOutDownLeft"},{name:"绕右下退出",value:"rotateOutDownRight"},{name:"绕左上退出",value:"rotateOutUpLeft"},{name:"绕右上退出",value:"rotateOutUpRight"}]},{type:"zoom",name:"缩放",children:[{name:"缩小退出",value:"zoomOut"},{name:"向下缩小退出",value:"zoomOutDown"},{name:"从左缩小退出",value:"zoomOutLeft"},{name:"从右缩小退出",value:"zoomOutRight"},{name:"向上缩小退出",value:"zoomOutUp"}]},{type:"slide",name:"滑出",children:[{name:"向下滑出",value:"slideOutDown"},{name:"从左滑出",value:"slideOutLeft"},{name:"从右滑出",value:"slideOutRight"},{name:"向上滑出",value:"slideOutUp"}]},{type:"flip",name:"翻转",children:[{name:"X轴翻转退出",value:"flipOutX"},{name:"Y轴翻转退出",value:"flipOutY"}]},{type:"back",name:"缩小滑出",children:[{name:"向下缩小滑出",value:"backOutDown"},{name:"从左缩小滑出",value:"backOutLeft"},{name:"从右缩小滑出",value:"backOutRight"},{name:"向上缩小滑出",value:"backOutUp"}]},{type:"lightSpeed",name:"飞出",children:[{name:"从右飞出",value:"lightSpeedOutRight"},{name:"从左飞出",value:"lightSpeedOutLeft"}]}],Bv=[{type:"shake",name:"晃动",children:[{name:"左右摇晃",value:"shakeX"},{name:"上下摇晃",value:"shakeY"},{name:"摇头",value:"headShake"},{name:"摆动",value:"swing"},{name:"晃动",value:"wobble"},{name:"惊恐",value:"tada"},{name:"果冻",value:"jello"}]},{type:"other",name:"其他",children:[{name:"弹跳",value:"bounce"},{name:"闪烁",value:"flash"},{name:"脉搏",value:"pulse"},{name:"橡皮筋",value:"rubberBand"},{name:"心跳（快）",value:"heartBeat"}]}],Sv=e=>(Object(i["pushScopeId"])("data-v-2f69234f"),e=e(),Object(i["popScopeId"])(),e),Lv={class:"element-animation-panel"},_v={key:0,class:"element-animation"},Tv={class:"tabs"},Mv=["onClick"],Dv={class:"type-title"},Av={class:"pool-item-wrapper"},zv=["onMouseenter","onClick"],Fv={key:0,class:"mask"},$v=Object(i["createTextVNode"])(" 添加动画 "),Rv={key:1,class:"tip"},Pv=Object(i["createTextVNode"])(" 选中画布中的元素添加动画"),Hv={class:"sequence-content"},Uv={class:"index"},qv={class:"text"},Gv={class:"handler"},Yv={key:0,class:"configs"},Xv={class:"config-item"},Zv=Sv(()=>Object(i["createElementVNode"])("div",{style:{flex:"3"}},"持续时长：",-1)),Wv={class:"config-item"},Jv=Sv(()=>Object(i["createElementVNode"])("div",{style:{flex:"3"}},"触发方式：",-1)),Qv=Object(i["createTextVNode"])("主动触发"),Kv=Object(i["createTextVNode"])("与上一动画同时"),eh=Object(i["createTextVNode"])("上一动画之后"),th={class:"config-item"},lh=Object(i["createTextVNode"])("更换动画");var oh=Object(i["defineComponent"])({__name:"ElementAnimationPanel",setup(e){const t={};for(const n of Vv)for(const e of n.children)t[e.value]=e.name;for(const n of Iv)for(const e of n.children)t[e.value]=e.name;for(const n of Bv)for(const e of n.children)t[e.value]=e.name;const l=["in","out","attention"],o=Object(n["e"])(),{handleElement:c,handleElementId:r}=Object(a["c"])(Object(n["c"])()),{currentSlide:s,formatedAnimations:d,currentSlideAnimations:u}=Object(a["c"])(o),b=[{key:"in",label:"入场"},{key:"out",label:"退场"},{key:"attention",label:"强调"}],m=Object(i["ref"])("in");Object(i["watch"])(()=>r.value,()=>{O.value=!1});const p=Object(i["ref"])(""),O=Object(i["ref"])(!1),{addHistorySnapshot:j}=Object(ll["a"])(),f=Object(i["computed"])(()=>{const e=[];for(let l=0;l<d.value.length;l++){const o=d.value[l];for(let c=0;c<o.animations.length;c++){const n=o.animations[c],a=s.value.elements.find(e=>e.id===n.elId);if(!a)continue;const r=go[a.type],i=t[n.effect];e.push({...n,index:0===c?l+1:"",elType:r,animationEffect:i})}}return e}),v=Object(i["computed"])(()=>{const e=u.value,t=e.filter(e=>e.elId===r.value);return t||[]}),h=e=>{const t=u.value.filter(t=>t.id!==e);o.updateSlide({animations:t}),j()},y=e=>{const{newIndex:t,oldIndex:l}=e;if(l===t)return;const c=JSON.parse(JSON.stringify(u.value)),n=c[l];c.splice(l,1),c.splice(t,0,n),o.updateSlide({animations:c}),j()},g=(e,t,l)=>{const o=document.querySelector(`#editable-element-${e} [class^=editable-element-]`);if(o){const e=`${wv}${t}`;document.documentElement.style.setProperty("--animate-duration",l+"ms"),o.classList.add(wv+"animated",e);const c=()=>{document.documentElement.style.removeProperty("--animate-duration"),o.classList.remove(wv+"animated",e)};o.addEventListener("animationend",c,{once:!0})}},x=(e,t)=>{if(t<100||t>5e3)return;const l=u.value.map(l=>l.id===e?{...l,duration:t}:l);o.updateSlide({animations:l}),j()},k=(e,t)=>{const l=u.value.map(l=>l.id===e?{...l,trigger:t}:l);o.updateSlide({animations:l}),j()},C=(e,t)=>{const l=u.value.map(l=>l.id===N.value?{...l,type:e,effect:t}:l);o.updateSlide({animations:l}),O.value=!1,j();const c=u.value.find(e=>e.elId===r.value),n=(null===c||void 0===c?void 0:c.duration)||Nv;g(r.value,t,n)},N=Object(i["ref"])(""),E=(e,t)=>{if(N.value)return void C(e,t);const l=JSON.parse(JSON.stringify(u.value));l.push({id:Object(qt["b"])(10),elId:r.value,type:e,effect:t,duration:Nv,trigger:Ev}),o.updateSlide({animations:l}),O.value=!1,j(),g(r.value,t,Nv)},w=Object(i["ref"])(!1),V=e=>{e?setTimeout(()=>w.value=!0,600):w.value=!1},I=e=>{O.value=!0,N.value=e,V(!0)},B={in:Vv,out:Iv,attention:Bv};return(e,t)=>{const o=Object(i["resolveComponent"])("IconEffects"),n=Object(i["resolveComponent"])("Button"),a=Object(i["resolveComponent"])("Popover"),r=Object(i["resolveComponent"])("IconClick"),s=Object(i["resolveComponent"])("Divider"),d=Object(i["resolveComponent"])("IconPlayOne"),u=Object(i["resolveComponent"])("Tooltip"),j=Object(i["resolveComponent"])("IconCloseSmall"),C=Object(i["resolveComponent"])("InputNumber"),S=Object(i["resolveComponent"])("SelectOption"),L=Object(i["resolveComponent"])("Select");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Lv,[Object(i["unref"])(c)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",_v,[Object(i["createVNode"])(a,{trigger:"click",visible:O.value,"onUpdate:visible":t[2]||(t[2]=e=>O.value=e),onVisibleChange:t[3]||(t[3]=e=>V(e))},{content:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Tv,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(b,e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["tab",e.key,{active:m.value===e.key}]),key:e.key,onClick:t=>m.value=e.key},Object(i["toDisplayString"])(e.label),11,Mv)),64))]),(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l,e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[m.value===e?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["animation-pool",e]),key:e},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(B[e],l=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"pool-type",key:l.name},[Object(i["createElementVNode"])("div",Dv,Object(i["toDisplayString"])(l.name)+"：",1),Object(i["createElementVNode"])("div",Av,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.children,l=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"pool-item",key:l.name,onMouseenter:e=>p.value=l.value,onMouseleave:t[0]||(t[0]=e=>p.value=""),onClick:t=>E(e,l.value)},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["animation-box",[Object(i["unref"])(wv)+"animated",Object(i["unref"])(wv)+"fast",p.value===l.value&&`${Object(i["unref"])(wv)}${l.value}`]])},Object(i["toDisplayString"])(l.name),3)],40,zv))),128))])]))),128)),w.value?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Fv))],2)):Object(i["createCommentVNode"])("",!0)],64))),64))]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{class:"element-animation-btn",onClick:t[1]||(t[1]=e=>N.value="")},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{style:{"margin-right":"5px"}}),$v]),_:1})]),_:1},8,["visible"])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Rv,[Object(i["createVNode"])(r,{style:{"margin-right":"5px"}}),Pv])),Object(i["createVNode"])(s),Object(i["createVNode"])(Object(i["unref"])(Db.a),{class:"animation-sequence",modelValue:Object(i["unref"])(f),animation:300,scroll:!0,scrollSensitivity:50,handle:".sequence-content",onEnd:y,itemKey:"id"},{item:Object(i["withCtx"])(({element:e})=>{var t,l;return[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["sequence-item",[e.type,{active:(null===(t=Object(i["unref"])(c))||void 0===t?void 0:t.id)===e.elId}]])},[Object(i["createElementVNode"])("div",Hv,[Object(i["createElementVNode"])("div",Uv,Object(i["toDisplayString"])(e.index),1),Object(i["createElementVNode"])("div",qv,"【"+Object(i["toDisplayString"])(e.elType)+"】"+Object(i["toDisplayString"])(e.animationEffect),1),Object(i["createElementVNode"])("div",Gv,[Object(i["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"预览"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(d,{class:"handler-btn",onClick:t=>g(e.elId,e.effect,e.duration)},null,8,["onClick"])]),_:2},1032,["mouseEnterDelay"]),Object(i["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(j,{class:"handler-btn",onClick:t=>h(e.id)},null,8,["onClick"])]),_:2},1032,["mouseEnterDelay"])])]),(null===(l=Object(i["unref"])(v)[0])||void 0===l?void 0:l.elId)===e.elId?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Yv,[Object(i["createVNode"])(s,{style:{margin:"16px 0"}}),Object(i["createElementVNode"])("div",Xv,[Zv,Object(i["createVNode"])(C,{min:500,max:3e3,step:500,value:e.duration,onChange:t=>x(e.id,t),style:{flex:"5"}},null,8,["value","onChange"])]),Object(i["createElementVNode"])("div",Wv,[Jv,Object(i["createVNode"])(L,{value:e.trigger,onChange:t=>k(e.id,t),style:{flex:"5"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(S,{value:"click"},{default:Object(i["withCtx"])(()=>[Qv]),_:1}),Object(i["createVNode"])(S,{value:"meantime"},{default:Object(i["withCtx"])(()=>[Kv]),_:1}),Object(i["createVNode"])(S,{value:"auto"},{default:Object(i["withCtx"])(()=>[eh]),_:1})]),_:2},1032,["value","onChange"])]),Object(i["createElementVNode"])("div",th,[Object(i["createVNode"])(n,{style:{flex:"1"},onClick:t=>I(e.id)},{default:Object(i["withCtx"])(()=>[lh]),_:2},1032,["onClick"])])])):Object(i["createCommentVNode"])("",!0)],2)]}),_:1},8,["modelValue"])])}}});l("cc39");const ch=b()(oh,[["__scopeId","data-v-2f69234f"]]);var nh=ch;const ah=[{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#5b9bd5","#ed7d31","#a5a5a5","#ffc000","#4472c4","#70ad47"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#83992a","#3c9670","#44709d","#a23b32","#d87728","#deb340"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#e48312","#bd582c","#865640","#9b8357","#c2bc80","#94a088"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#bdc8df","#003fa9","#f5ba00","#ff7567","#7676d9","#923ffc"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#90c225","#54a121","#e6b91e","#e86618","#c42f19","#918756"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#1cade4","#2683c6","#27ced7","#42ba97","#3e8853","#62a39f"]},{background:"#e9efd6",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#a5300f","#de7e18","#9f8351","#728653","#92aa4c","#6aac91"]},{background:"#17444e",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#b01513","#ea6312","#e6b729","#6bab90","#55839a","#9e5d9d"]},{background:"#36234d",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#b31166","#e33d6f","#e45f3c","#e9943a","#9b6bf2","#d63cd0"]},{background:"#247fad",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#052f61","#a50e82","#14967c","#6a9e1f","#e87d37","#c62324"]},{background:"#103f55",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#40aebd","#97e8d5","#a1cf49","#628f3e","#f2df3a","#fcb01c"]},{background:"#242367",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#ac3ec1","#477bd1","#46b298","#90ba4c","#dd9d31","#e25345"]},{background:"#e4b75e",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#f0a22e","#a5644e","#b58b80","#c3986d","#a19574","#c17529"]},{background:"#333333",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#bdc8df","#003fa9","#f5ba00","#ff7567","#7676d9","#923ffc"]}];var rh=()=>{const e=Object(n["e"])(),{slides:t,currentSlide:l,theme:o}=Object(a["c"])(e),{addHistorySnapshot:c}=Object(ll["a"])(),r=e=>{const t=[];for(const l of e.elements){if("shape"===l.type&&0!==ia()(l.fill).getAlpha()){const e=ia()(l.fill).toRgbString();t.includes(e)||t.push(e)}if("text"===l.type&&l.fill&&0!==ia()(l.fill).getAlpha()){const e=ia()(l.fill).toRgbString();t.includes(e)||t.push(e)}if("table"===l.type&&l.theme&&0!==ia()(l.theme.color).getAlpha()){const e=ia()(l.theme.color).toRgbString();t.includes(e)||t.push(e)}if("chart"===l.type&&l.fill&&0!==ia()(l.fill).getAlpha()){const e=ia()(l.fill).toRgbString();t.includes(e)||t.push(e)}if("line"===l.type&&0!==ia()(l.color).getAlpha()){const e=ia()(l.color).toRgbString();t.includes(e)||t.push(e)}if("audio"===l.type&&0!==ia()(l.color).getAlpha()){const e=ia()(l.color).toRgbString();t.includes(e)||t.push(e)}}return t},i=(e,t)=>{const l=r(e),o={};if(l.length>t.length){const e=ia()(t[0]).analogous(l.length-t.length+10),o=e.map(e=>e.toHexString()).slice(1);t.push(...o)}for(let c=0;c<l.length;c++)o[l[c]]=t[c];return o},s=(e,t)=>{const l=i(e,t.colors);e.background&&"image"===e.background.type||(e.background={type:"solid",color:t.background});for(const o of e.elements){if("shape"===o.type&&(o.fill=l[ia()(o.fill).toRgbString()]||o.fill,o.gradient&&delete o.gradient),"text"===o.type&&(o.fill&&(o.fill=l[ia()(o.fill).toRgbString()]||o.fill),o.defaultColor=t.fontColor,o.defaultFontName=t.fontname),"table"===o.type){o.theme&&(o.theme.color=l[ia()(o.theme.color).toRgbString()]||o.theme.color);for(const e of o.data)for(const l of e)l.style&&(l.style.color=t.fontColor,l.style.fontname=t.fontname)}"chart"===o.type&&(o.themeColor=[l[ia()(o.themeColor[0]).toRgbString()]]||!1,o.gridColor=t.fontColor),"line"===o.type&&(o.color=l[ia()(o.color).toRgbString()]||o.color),"audio"===o.type&&(o.color=l[ia()(o.color).toRgbString()]||o.color),"latex"===o.type&&(o.color=t.fontColor)}},d=t=>{const o=JSON.parse(JSON.stringify(l.value));s(o,t),e.updateSlide({background:o.background,elements:o.elements}),c()},u=l=>{const o=JSON.parse(JSON.stringify(t.value));for(const e of o)s(e,l);e.setTheme({backgroundColor:l.background,themeColor:l.colors[0],fontColor:l.fontColor,fontName:l.fontname}),e.setSlides(o),c()},b=()=>{const l=JSON.parse(JSON.stringify(t.value)),{themeColor:n,backgroundColor:a,fontColor:r,fontName:i}=o.value;for(const e of l){e.background&&"image"===e.background.type||(e.background={type:"solid",color:a});for(const t of e.elements)if("shape"===t.type)t.fill=n;else if("line"===t.type)t.color=n;else if("text"===t.type)t.defaultColor=r,t.defaultFontName=i,t.fill&&(t.fill=n);else if("table"===t.type){t.theme&&(t.theme.color=n);for(const e of t.data)for(const t of e)t.style&&(t.style.color=r,t.style.fontname=i)}else"chart"===t.type?(t.themeColor=[n],t.gridColor=r):"latex"===t.type?t.color=r:"audio"===t.type&&(t.color=n)}e.setSlides(l),c()};return{applyPresetThemeToSingleSlide:d,applyPresetThemeToAllSlides:u,applyThemeToAllSlides:b}};const ih=e=>(Object(i["pushScopeId"])("data-v-8c16beae"),e=e(),Object(i["popScopeId"])(),e),sh={class:"slide-design-panel"},dh=ih(()=>Object(i["createElementVNode"])("div",{class:"title"},"背景填充",-1)),uh={class:"row"},bh=Object(i["createTextVNode"])("纯色填充"),mh=Object(i["createTextVNode"])("图片填充"),ph=Object(i["createTextVNode"])("渐变填充"),Oh=ih(()=>Object(i["createElementVNode"])("div",{style:{flex:"1"}},null,-1)),jh=Object(i["createTextVNode"])("缩放"),fh=Object(i["createTextVNode"])("拼贴"),vh=Object(i["createTextVNode"])("缩放铺满"),hh=Object(i["createTextVNode"])("线性渐变"),yh=Object(i["createTextVNode"])("径向渐变"),gh={key:0,class:"background-image-wrapper"},xh={class:"background-image"},kh={key:1,class:"background-gradient-wrapper"},Ch={class:"row"},Nh=ih(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"起点颜色：",-1)),Eh={class:"row"},wh=ih(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"终点颜色：",-1)),Vh={key:0,class:"row"},Ih=ih(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"渐变角度：",-1)),Bh={class:"row"},Sh=Object(i["createTextVNode"])("应用背景到全部"),Lh={class:"row"},_h=ih(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"画布尺寸：",-1)),Th=Object(i["createTextVNode"])("宽屏 16 : 9"),Mh=Object(i["createTextVNode"])("宽屏 16 ：10"),Dh=Object(i["createTextVNode"])("标准 4 ：3"),Ah=ih(()=>Object(i["createElementVNode"])("div",{class:"title"},"全局主题",-1)),zh={class:"row"},Fh=ih(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"字体：",-1)),$h={class:"row"},Rh=ih(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"字体颜色：",-1)),Ph={class:"row"},Hh=ih(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"背景颜色：",-1)),Uh={class:"row"},qh=ih(()=>Object(i["createElementVNode"])("div",{style:{flex:"2"}},"主题色：",-1)),Gh={class:"row"},Yh=Object(i["createTextVNode"])("应用主题到全部"),Xh=ih(()=>Object(i["createElementVNode"])("div",{class:"title"},"预置主题",-1)),Zh={class:"theme-list"},Wh={class:"theme-item-content"},Jh={class:"colors"},Qh={class:"btns"},Kh=["onClick"],ey=["onClick"];var ty=Object(i["defineComponent"])({__name:"SlideDesignPanel",setup(e){const t=Object(n["e"])(),{availableFonts:l}=Object(a["c"])(Object(n["c"])()),{slides:o,currentSlide:c,viewportRatio:r,theme:s}=Object(a["c"])(t),d=Object(i["computed"])(()=>c.value.background?c.value.background:{type:"solid",value:"#fff"}),{addHistorySnapshot:u}=Object(ll["a"])(),{applyPresetThemeToSingleSlide:b,applyPresetThemeToAllSlides:m,applyThemeToAllSlides:p}=rh(),O=e=>{if("solid"===e){const e={...d.value,type:"solid",color:d.value.color||"#fff"};t.updateSlide({background:e})}else if("image"===e){const e={...d.value,type:"image",image:d.value.image||"",imageSize:d.value.imageSize||"cover"};t.updateSlide({background:e})}else{const e={...d.value,type:"gradient",gradientType:d.value.gradientType||"linear",gradientColor:d.value.gradientColor||["#fff","#fff"],gradientRotate:d.value.gradientRotate||0};t.updateSlide({background:e})}u()},j=e=>{t.updateSlide({background:{...d.value,...e}}),u()},f=e=>{const t=e[0];t&&Zt(t).then(e=>j({image:e}))},v=()=>{const e=o.value.map(e=>({...e,background:c.value.background}));t.setSlides(e),u()},h=e=>{t.setTheme(e)},y=e=>{t.setViewportRatio(e)};return(e,t)=>{const o=Object(i["resolveComponent"])("SelectOption"),c=Object(i["resolveComponent"])("Select"),n=Object(i["resolveComponent"])("ColorPicker"),a=Object(i["resolveComponent"])("Popover"),u=Object(i["resolveComponent"])("IconPlus"),g=Object(i["resolveComponent"])("FileInput"),x=Object(i["resolveComponent"])("Slider"),k=Object(i["resolveComponent"])("Button"),C=Object(i["resolveComponent"])("Divider"),N=Object(i["resolveComponent"])("SelectOptGroup");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",sh,[dh,Object(i["createElementVNode"])("div",uh,[Object(i["createVNode"])(c,{style:{flex:"10"},value:Object(i["unref"])(d).type,onChange:t[0]||(t[0]=e=>O(e))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{value:"solid"},{default:Object(i["withCtx"])(()=>[bh]),_:1}),Object(i["createVNode"])(o,{value:"image"},{default:Object(i["withCtx"])(()=>[mh]),_:1}),Object(i["createVNode"])(o,{value:"gradient"},{default:Object(i["withCtx"])(()=>[ph]),_:1})]),_:1},8,["value"]),Oh,"solid"===Object(i["unref"])(d).type?(Object(i["openBlock"])(),Object(i["createBlock"])(a,{key:0,trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{modelValue:Object(i["unref"])(d).color,"onUpdate:modelValue":t[1]||(t[1]=e=>j({color:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:Object(i["unref"])(d).color||"#fff",style:{flex:"10"}},null,8,["color"])]),_:1})):"image"===Object(i["unref"])(d).type?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:1,style:{flex:"10"},value:Object(i["unref"])(d).imageSize||"cover",onChange:t[2]||(t[2]=e=>j({imageSize:e}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{value:"contain"},{default:Object(i["withCtx"])(()=>[jh]),_:1}),Object(i["createVNode"])(o,{value:"repeat"},{default:Object(i["withCtx"])(()=>[fh]),_:1}),Object(i["createVNode"])(o,{value:"cover"},{default:Object(i["withCtx"])(()=>[vh]),_:1})]),_:1},8,["value"])):(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:2,style:{flex:"10"},value:Object(i["unref"])(d).gradientType,onChange:t[3]||(t[3]=e=>j({gradientType:e}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{value:"linear"},{default:Object(i["withCtx"])(()=>[hh]),_:1}),Object(i["createVNode"])(o,{value:"radial"},{default:Object(i["withCtx"])(()=>[yh]),_:1})]),_:1},8,["value"]))]),"image"===Object(i["unref"])(d).type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",gh,[Object(i["createVNode"])(g,{onChange:t[4]||(t[4]=e=>f(e))},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",xh,[Object(i["createElementVNode"])("div",{class:"content",style:Object(i["normalizeStyle"])({backgroundImage:`url(${Object(i["unref"])(d).image})`})},[Object(i["createVNode"])(u)],4)])]),_:1})])):Object(i["createCommentVNode"])("",!0),"gradient"===Object(i["unref"])(d).type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",kh,[Object(i["createElementVNode"])("div",Ch,[Nh,Object(i["createVNode"])(a,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{modelValue:Object(i["unref"])(d).gradientColor[0],"onUpdate:modelValue":t[5]||(t[5]=e=>j({gradientColor:[e,Object(i["unref"])(d).gradientColor[1]]}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:Object(i["unref"])(d).gradientColor[0],style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createElementVNode"])("div",Eh,[wh,Object(i["createVNode"])(a,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{modelValue:Object(i["unref"])(d).gradientColor[1],"onUpdate:modelValue":t[6]||(t[6]=e=>j({gradientColor:[Object(i["unref"])(d).gradientColor[0],e]}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:Object(i["unref"])(d).gradientColor[1],style:{flex:"3"}},null,8,["color"])]),_:1})]),"linear"===Object(i["unref"])(d).gradientType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Vh,[Ih,Object(i["createVNode"])(x,{class:"slider",min:0,max:360,step:15,value:Object(i["unref"])(d).gradientRotate,onChange:t[7]||(t[7]=e=>j({gradientRotate:e}))},null,8,["value"])])):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Bh,[Object(i["createVNode"])(k,{style:{flex:"1"},onClick:t[8]||(t[8]=e=>v())},{default:Object(i["withCtx"])(()=>[Sh]),_:1})]),Object(i["createVNode"])(C),Object(i["createElementVNode"])("div",Lh,[_h,Object(i["createVNode"])(c,{style:{flex:"3"},value:Object(i["unref"])(r),onChange:t[9]||(t[9]=e=>y(e))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{value:.5625},{default:Object(i["withCtx"])(()=>[Th]),_:1},8,["value"]),Object(i["createVNode"])(o,{value:.625},{default:Object(i["withCtx"])(()=>[Mh]),_:1},8,["value"]),Object(i["createVNode"])(o,{value:.75},{default:Object(i["withCtx"])(()=>[Dh]),_:1},8,["value"])]),_:1},8,["value"])]),Object(i["createVNode"])(C),Ah,Object(i["createElementVNode"])("div",zh,[Fh,Object(i["createVNode"])(c,{style:{flex:"3"},value:Object(i["unref"])(s).fontName,onChange:t[10]||(t[10]=e=>h({fontName:e}))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(N,{label:"系统字体"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(l),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:e.value,value:e.value},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({fontFamily:e.value})},Object(i["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(i["createVNode"])(N,{label:"在线字体"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(Jb["b"]),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:e.value,value:e.value},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),Object(i["createElementVNode"])("div",$h,[Rh,Object(i["createVNode"])(a,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{modelValue:Object(i["unref"])(s).fontColor,"onUpdate:modelValue":t[11]||(t[11]=e=>h({fontColor:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:Object(i["unref"])(s).fontColor,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createElementVNode"])("div",Ph,[Hh,Object(i["createVNode"])(a,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{modelValue:Object(i["unref"])(s).backgroundColor,"onUpdate:modelValue":t[12]||(t[12]=e=>h({backgroundColor:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:Object(i["unref"])(s).backgroundColor,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createElementVNode"])("div",Uh,[qh,Object(i["createVNode"])(a,{trigger:"click"},{content:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{modelValue:Object(i["unref"])(s).themeColor,"onUpdate:modelValue":t[13]||(t[13]=e=>h({themeColor:e}))},null,8,["modelValue"])]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(im,{color:Object(i["unref"])(s).themeColor,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(i["createElementVNode"])("div",Gh,[Object(i["createVNode"])(k,{style:{flex:"1"},onClick:t[14]||(t[14]=e=>Object(i["unref"])(p)())},{default:Object(i["withCtx"])(()=>[Yh]),_:1})]),Object(i["createVNode"])(C),Xh,Object(i["createElementVNode"])("div",Zh,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(ah),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"theme-item",key:t,style:Object(i["normalizeStyle"])({backgroundColor:e.background,fontFamily:e.fontname})},[Object(i["createElementVNode"])("div",Wh,[Object(i["createElementVNode"])("div",{class:"text",style:Object(i["normalizeStyle"])({color:e.fontColor})},"文字 Aa",4),Object(i["createElementVNode"])("div",Jh,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.colors,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"color-block",key:t,style:Object(i["normalizeStyle"])({backgroundColor:e})},null,4))),128))]),Object(i["createElementVNode"])("div",Qh,[Object(i["createElementVNode"])("div",{class:"btn",onClick:t=>Object(i["unref"])(b)(e)},"应用",8,Kh),Object(i["createElementVNode"])("div",{class:"btn",onClick:t=>Object(i["unref"])(m)(e)},"应用全局",8,ey)])])],4))),128))])])}}});l("a330");const ly=b()(ty,[["__scopeId","data-v-8c16beae"]]);var oy=ly;const cy={class:"slide-animation-panel"},ny={class:"animation-pool"},ay=["onClick"],ry={class:"animation-text"},iy=Object(i["createTextVNode"])("应用到全部");var sy=Object(i["defineComponent"])({__name:"SlideAnimationPanel",setup(e){const t=Object(n["e"])(),{slides:l,currentSlide:o}=Object(a["c"])(t),c=Object(i["computed"])(()=>o.value.turningMode||"slideY"),r=[{label:"无",value:"no"},{label:"淡入淡出",value:"fade"},{label:"左右推移",value:"slideX"},{label:"上下推移",value:"slideY"}],{addHistorySnapshot:s}=Object(ll["a"])(),d=e=>{e!==c.value&&(t.updateSlide({turningMode:e}),s())},u=()=>{const e=l.value.map(e=>({...e,turningMode:o.value.turningMode}));t.setSlides(e),s()};return(e,t)=>{const l=Object(i["resolveComponent"])("Button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",cy,[Object(i["createElementVNode"])("div",ny,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(r,e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["animation-item",{active:Object(i["unref"])(c)===e.value}]),key:e.label,onClick:t=>d(e.value)},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["animation-block",e.value])},null,2),Object(i["createElementVNode"])("div",ry,Object(i["toDisplayString"])(e.label),1)],10,ay)),64))]),Object(i["createVNode"])(l,{style:{width:"100%"},onClick:t[0]||(t[0]=e=>u())},{default:Object(i["withCtx"])(()=>[iy]),_:1})])}}});l("cc76");const dy=b()(sy,[["__scopeId","data-v-577ae912"]]);var uy=dy,by=()=>{const e=Object(n["e"])(),{activeElementIdList:t,activeElementList:l}=Object(a["c"])(Object(n["c"])()),{currentSlide:o}=Object(a["c"])(e),{addHistorySnapshot:c}=Object(ll["a"])(),r=n=>{const{minX:a,maxX:r,minY:i,maxY:s}=Object(Gt["b"])(l.value),d=JSON.parse(JSON.stringify(o.value.elements)),u={};for(const e of l.value)if(e.groupId&&!u[e.groupId]){const t=l.value.filter(t=>t.groupId===e.groupId);u[e.groupId]=Object(Gt["b"])(t)}if(n===Ft.LEFT)d.forEach(e=>{if(t.value.includes(e.id))if(e.groupId){const t=u[e.groupId],l=t.minX-a;e.left=e.left-l}else if("rotate"in e&&e.rotate){const{offsetX:t}=Object(Gt["e"])({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.left=a-t}else e.left=a});else if(n===Ft.RIGHT)d.forEach(e=>{if(t.value.includes(e.id))if(e.groupId){const t=u[e.groupId],l=t.maxX-r;e.left=e.left-l}else{const t="line"===e.type?Math.max(e.start[0],e.end[0]):e.width;if("rotate"in e&&e.rotate){const{offsetX:l}=Object(Gt["e"])({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.left=r-t+l}else e.left=r-t}});else if(n===Ft.TOP)d.forEach(e=>{if(t.value.includes(e.id))if(e.groupId){const t=u[e.groupId],l=t.minY-i;e.top=e.top-l}else if("rotate"in e&&e.rotate){const{offsetY:t}=Object(Gt["e"])({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.top=i-t}else e.top=i});else if(n===Ft.BOTTOM)d.forEach(e=>{if(t.value.includes(e.id))if(e.groupId){const t=u[e.groupId],l=t.maxY-s;e.top=e.top-l}else{const t="line"===e.type?Math.max(e.start[1],e.end[1]):e.height;if("rotate"in e&&e.rotate){const{offsetY:l}=Object(Gt["e"])({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.top=s-t+l}else e.top=s-t}});else if(n===Ft.HORIZONTAL){const e=(a+r)/2;d.forEach(l=>{if(t.value.includes(l.id))if(l.groupId){const t=u[l.groupId],o=(t.maxX+t.minX)/2,c=o-e;l.left=l.left-c}else{const t="line"===l.type?Math.max(l.start[0],l.end[0]):l.width;l.left=e-t/2}})}else if(n===Ft.VERTICAL){const e=(i+s)/2;d.forEach(l=>{if(t.value.includes(l.id))if(l.groupId){const t=u[l.groupId],o=(t.maxY+t.minY)/2,c=o-e;l.top=l.top-c}else{const t="line"===l.type?Math.max(l.start[1],l.end[1]):l.height;l.top=e-t/2}})}e.updateSlide({elements:d}),c()};return{alignActiveElement:r}},my=()=>{const e=Object(n["e"])(),{activeElementIdList:t,activeElementList:l}=Object(a["c"])(Object(n["c"])()),{currentSlide:o}=Object(a["c"])(e),{addHistorySnapshot:c}=Object(ll["a"])(),r=Object(i["computed"])(()=>{let e=0;const t=[];for(const o of l.value)o.groupId?t.includes(o.groupId)||(t.push(o.groupId),e+=1):e+=1;return e}),s=()=>{const{minX:n,maxX:a}=Object(Gt["b"])(l.value),r=JSON.parse(JSON.stringify(l.value)),i=JSON.parse(JSON.stringify(o.value.elements)),s=[];let d=[];for(const e of r)if(e.groupId){const t=d.find(t=>t.groupId===e.groupId);t?d=d.map(t=>t.groupId===e.groupId?{...t,els:[...t.els,e]}:t):d.push({groupId:e.groupId,els:[e]})}else{const{minX:t,maxX:l}=Object(Gt["c"])(e);s.push({min:t,max:l,el:e})}const u=[];for(const e of d){const{minX:t,maxX:l}=Object(Gt["b"])(e.els);u.push({min:t,max:l,els:e.els})}const b=[...s,...u];b.sort((e,t)=>e.min-t.min);let m=0;for(const e of b){const t=e.max-e.min;m+=t}const p=(a-n-m)/(b.length-1),O=[],j=b[0];let f={min:j.min,max:j.max};if("el"in j)O.push({pos:j.min,el:j.el});else for(const e of j.els){const{minX:t}=Object(Gt["c"])(e);O.push({pos:t,el:e})}for(let e=1;e<b.length;e++){const t=b[e],l=f.max-f.min,o=f.min+l+p,c=t.max-t.min;if(f={min:o,max:o+c},"el"in t)O.push({pos:o,el:t.el});else for(const e of t.els){const{minX:l}=Object(Gt["c"])(e),c=l-t.min;O.push({pos:o+c,el:e})}}for(const e of i)if(t.value.includes(e.id))for(const t of O)if(t.el.id===e.id)if("rotate"in e&&e.rotate){const{offsetX:l}=Object(Gt["e"])({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.left=t.pos-l}else e.left=t.pos;e.updateSlide({elements:i}),c()},d=()=>{const{minY:n,maxY:a}=Object(Gt["b"])(l.value),r=JSON.parse(JSON.stringify(l.value)),i=JSON.parse(JSON.stringify(o.value.elements)),s=[];let d=[];for(const e of r)if(e.groupId){const t=d.find(t=>t.groupId===e.groupId);t?d=d.map(t=>t.groupId===e.groupId?{...t,els:[...t.els,e]}:t):d.push({groupId:e.groupId,els:[e]})}else{const{minY:t,maxY:l}=Object(Gt["c"])(e);s.push({min:t,max:l,el:e})}const u=[];for(const e of d){const{minY:t,maxY:l}=Object(Gt["b"])(e.els);u.push({min:t,max:l,els:e.els})}const b=[...s,...u];b.sort((e,t)=>e.min-t.min);let m=0;for(const e of b){const t=e.max-e.min;m+=t}const p=(a-n-m)/(b.length-1),O=[],j=b[0];let f={min:j.min,max:j.max};if("el"in j)O.push({pos:j.min,el:j.el});else for(const e of j.els){const{minY:t}=Object(Gt["c"])(e);O.push({pos:t,el:e})}for(let e=1;e<b.length;e++){const t=b[e],l=f.max-f.min,o=f.min+l+p,c=t.max-t.min;if(f={min:o,max:o+c},"el"in t)O.push({pos:o,el:t.el});else for(const e of t.els){const{minY:l}=Object(Gt["c"])(e),c=l-t.min;O.push({pos:o+c,el:e})}}for(const e of i)if(t.value.includes(e.id))for(const t of O)if(t.el.id===e.id)if("rotate"in e&&e.rotate){const{offsetY:l}=Object(Gt["e"])({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.top=t.pos-l}else e.top=t.pos;e.updateSlide({elements:i}),c()};return{displayItemCount:r,uniformHorizontalDisplay:s,uniformVerticalDisplay:d}};const py={class:"multi-position-panel"},Oy=Object(i["createTextVNode"])("水平均匀分布"),jy=Object(i["createTextVNode"])("垂直均匀分布"),fy=Object(i["createTextVNode"])("组合"),vy=Object(i["createTextVNode"])("取消组合");var hy=Object(i["defineComponent"])({__name:"MultiPositionPanel",setup(e){const{canCombine:t,combineElements:l,uncombineElements:o}=sl(),{alignActiveElement:c}=by(),{alignElementToCanvas:n}=_o(),{displayItemCount:a,uniformHorizontalDisplay:r,uniformVerticalDisplay:s}=my(),d=e=>{t.value?c(e):n(e)};return(e,c)=>{const n=Object(i["resolveComponent"])("IconAlignLeft"),u=Object(i["resolveComponent"])("Button"),b=Object(i["resolveComponent"])("Tooltip"),m=Object(i["resolveComponent"])("IconAlignHorizontally"),p=Object(i["resolveComponent"])("IconAlignRight"),O=Object(i["resolveComponent"])("ButtonGroup"),j=Object(i["resolveComponent"])("IconAlignTop"),f=Object(i["resolveComponent"])("IconAlignVertically"),v=Object(i["resolveComponent"])("IconAlignBottom"),h=Object(i["resolveComponent"])("Divider"),y=Object(i["resolveComponent"])("IconGroup"),g=Object(i["resolveComponent"])("IconUngroup");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",py,[Object(i["createVNode"])(O,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(u,{style:{flex:"1"},onClick:c[0]||(c[0]=e=>d(Object(i["unref"])(Ft).LEFT))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"水平居中"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(u,{style:{flex:"1"},onClick:c[1]||(c[1]=e=>d(Object(i["unref"])(Ft).HORIZONTAL))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(m)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(u,{style:{flex:"1"},onClick:c[2]||(c[2]=e=>d(Object(i["unref"])(Ft).RIGHT))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(p)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["createVNode"])(O,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(u,{style:{flex:"1"},onClick:c[3]||(c[3]=e=>d(Object(i["unref"])(Ft).TOP))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(j)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"垂直居中"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(u,{style:{flex:"1"},onClick:c[4]||(c[4]=e=>d(Object(i["unref"])(Ft).VERTICAL))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(f)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(b,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下对齐"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(u,{style:{flex:"1"},onClick:c[5]||(c[5]=e=>d(Object(i["unref"])(Ft).BOTTOM))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(v)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(i["unref"])(a)>2?(Object(i["openBlock"])(),Object(i["createBlock"])(O,{key:0,class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(u,{style:{flex:"1"},onClick:c[6]||(c[6]=e=>Object(i["unref"])(r)())},{default:Object(i["withCtx"])(()=>[Oy]),_:1}),Object(i["createVNode"])(u,{style:{flex:"1"},onClick:c[7]||(c[7]=e=>Object(i["unref"])(s)())},{default:Object(i["withCtx"])(()=>[jy]),_:1})]),_:1})):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(h),Object(i["createVNode"])(O,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(u,{disabled:!Object(i["unref"])(t),onClick:c[8]||(c[8]=e=>Object(i["unref"])(l)()),style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(y,{style:{"margin-right":"3px"}}),fy]),_:1},8,["disabled"]),Object(i["createVNode"])(u,{disabled:Object(i["unref"])(t),onClick:c[9]||(c[9]=e=>Object(i["unref"])(o)()),style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(g,{style:{"margin-right":"3px"}}),vy]),_:1},8,["disabled"])]),_:1})])}}});l("1855");const yy=b()(hy,[["__scopeId","data-v-0d3881c5"]]);var gy=yy;const xy=[{key:"letter",label:"字母",children:["α","β","γ","δ","ϵ","ε","ζ","η","θ","ϑ","ι","κ","λ","μ","ν","ξ","π","ϖ","ρ","ϱ","σ","ς","τ","υ","ϕ","φ","χ","ψ","ω","Γ","Δ","Θ","Λ","Ξ","Π","Σ","Υ","Φ","Ψ","Ω","𝐀","𝐁","𝐂","𝐃","𝐄","𝐅","𝐆","𝐇","𝐈","𝐉","𝐊","𝐋","𝐌","𝐍","𝐎","𝐏","𝐐","𝐑","𝐒","𝐓","𝐔","𝐕","𝐖","𝐗","𝐘","𝐙","𝐚","𝐛","𝐜","𝐝","𝐞","𝐟","𝐠","𝐡","𝐢","𝐣","𝐤","𝐥","𝐦","𝐧","𝐨","𝐩","𝐪","𝐫","𝐬","𝐭","𝐮","𝐯","𝐰","𝐱","𝐲","𝐳","𝓐","𝓑","𝓒","𝓓","𝓔","𝓕","𝓖","𝓗","𝓘","𝓙","𝓚","𝓛","𝓜","𝓝","𝓞","𝓟","𝓠","𝓡","𝓢","𝓣","𝓤","𝓥","𝓦","𝓧","𝓨","𝓩","𝓪","𝓫","𝓬","𝓭","𝓮","𝓯","𝓰","𝓱","𝓲","𝓳","𝓴","𝓵","𝓶","𝓷","𝓸","𝓹","𝓺","𝓻","𝓼","𝓽","𝓾","𝓿","𝔀","𝔁","𝔂","𝔃"]},{key:"number",label:"序号",children:["①","②","③","④","⑤","⑥","⑦","⑧","⑨","⑩","⑪","⑫","⑬","⑭","⑮","⑯","⑰","⑱","⑲","⑳","⑴","⑵","⑶","⑷","⑸","⑹","⑺","⑻","⑼","⑽","⑾","⑿","⒀","⒁","⒂","⒃","⒄","⒅","⒆","⒇","º","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹","₀","₁","₂","₃","₄","₅","₆","₇","₈","₉","Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ","Ⅼ","Ⅽ","Ⅾ","Ⅿ","ⅰ","ⅱ","ⅲ","ⅳ","ⅴ","ⅵ","ⅶ","ⅷ","ⅸ","ⅹ","ⅺ","ⅻ","ⅼ","ⅽ","ⅾ","ⅿ","ↀ","ↁ","ↂ","㊀","㊁","㊂","㊃","㊄","㊅","㊆","㊇","㊈","㊉","㈠","㈡","㈢","㈣","㈤","㈥","㈦","㈧","㈨","㈩","𝟘","𝟙","𝟚","𝟛","𝟜","𝟝","𝟞","𝟟","𝟠","𝟡"]},{key:"math",label:"数学",children:["+","-","×","÷","=","~","¬","±","%","°","ǃ","‰","‱","½","⅓","⅔","¼","¾","<",">","l","o","g","l","g","l","n","⨂","⨁","⨄","⨃","⨅","⨆","√","∛","∜","∝","∞","∟","∠","∡","∢","∧","∨","∩","∪","∫","∬","∭","∮","∯","∰","∱","∲","∳","∴","∵","∼","∽","∾","∿","≃","≄","≅","≆","≇","≈","≊","≋","≌","≍","≎","≏","≐","≑","≒","≓","≔","≕","≤","≥","≦","≧","≨","≩","≪","≫","≺","≻","≼","≽","≾","≿","⊀","⊁","⊂","⊃","⊄","⊅","⊆","⊇","⊈","⊉","⊊","⊋","⊏","⊐","⊑","⊒","⊓","⊔","⊢","⊣","⊤","⊥","⊦","⊧","⊨","⊩","⊪","⊫","⊬","⊭","⊮","⊯","⊲","⊳","⊴","⊵","⋀","⋁","⋂","⋃","⋉","⋊","⋋","⋌","⟨","⟩","⟪","⟫","⟮","⟯","⧼","⧽","⦰"]},{key:"arrow",label:"箭头",children:["←","↑","→","↓","↔","↕","↖","↗","↘","↙","↚","↛","↜","↝","↞","↟","↠","↡","↢","↣","↤","↥","↦","↧","↨","↫","↬","↭","↮","↯","↰","↱","↲","↳","↴","↵","↶","↷","↸","↹","↺","↻","↼","↽","↾","↿","⇀","⇁","⇂","⇃","⇄","⇅","⇆","⇇","⇈","⇉","⇊","⇋","⇌","⇍","⇎","⇏","⇐","⇑","⇒","⇓","⇔","⇕","⇖","⇗","⇘","⇙","⇚","⇛","⇜","⇝","⇞","⇟","⇠","⇡","⇢","⇣","⇤","⇥","⇦","⇧","⇨","⇩","⇪","⇫","⇬","⇭","⇮","⇯","⇰","⇱","⇲","⇳","⇴","⇵","⇶","⇷","⇸","⇹","⇺","⇻","⇼","⇽","⇾","⇿"]},{key:"graph",label:"图形",children:["▢","▣","▤","▥","▦","▧","▨","▩","▭","▮","▯","▰","▱","▲","▷","▼","◁","◈","◉","◍","◐","◑","◒","◓","◔","◕","◧","◨","◩","◪","◫","◬","◭","◮"]}],ky={class:"symbol-panel"},Cy={class:"tabs"},Ny=["onClick"],Ey={class:"pool"},wy=["onClick"],Vy={class:"symbol"};var Iy=Object(i["defineComponent"])({__name:"SymbolPanel",setup(e){const t=Object(i["ref"])(xy[0].key),l=Object(i["computed"])(()=>{const e=xy.find(e=>e.key===t.value);return(null===e||void 0===e?void 0:e.children)||[]}),o=e=>{fn.emit(mn.RICH_TEXT_COMMAND,{action:{command:"insert",value:e}})};return(e,c)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ky,[Object(i["createElementVNode"])("div",Cy,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(xy),e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["tab",{active:t.value===e.key}]),key:e.key,onClick:l=>t.value=e.key},Object(i["toDisplayString"])(e.label),11,Ny))),128))]),Object(i["createElementVNode"])("div",Ey,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(l),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"symbol-item",key:t,onClick:t=>o(e)},[Object(i["createElementVNode"])("div",Vy,Object(i["toDisplayString"])(e),1)],8,wy))),128))])]))}});l("1126");const By=b()(Iy,[["__scopeId","data-v-ba0c96fc"]]);var Sy=By;const Ly={class:"toolbar"},_y={class:"tabs"},Ty=["onClick"],My={class:"content"};var Dy=Object(i["defineComponent"])({__name:"index",setup(e){const t=Object(n["c"])(),{activeElementIdList:l,handleElement:o,toolbarState:c}=Object(a["c"])(t),r=Object(i["computed"])(()=>{var e;return"text"===(null===(e=o.value)||void 0===e?void 0:e.type)?[{label:"样式",value:Wb["a"].EL_STYLE},{label:"符号",value:Wb["a"].SYMBOL},{label:"位置",value:Wb["a"].EL_POSITION},{label:"动画",value:Wb["a"].EL_ANIMATION}]:[{label:"样式",value:Wb["a"].EL_STYLE},{label:"位置",value:Wb["a"].EL_POSITION},{label:"动画",value:Wb["a"].EL_ANIMATION}]}),s=[{label:"设计",value:Wb["a"].SLIDE_DESIGN},{label:"切换",value:Wb["a"].SLIDE_ANIMATION},{label:"动画",value:Wb["a"].EL_ANIMATION}],d=[{label:"样式",value:Wb["a"].EL_STYLE},{label:"位置",value:Wb["a"].MULTI_POSITION}],u=e=>{t.setToolbarState(e)},b=Object(i["computed"])(()=>l.value.length?l.value.length>1?d:r.value:s);Object(i["watch"])(b,()=>{const e=b.value.map(e=>e.value);e.includes(c.value)||t.setToolbarState(e[0])});const m=Object(i["computed"])(()=>{const e={[Wb["a"].EL_STYLE]:lv,[Wb["a"].EL_POSITION]:Cv,[Wb["a"].EL_ANIMATION]:nh,[Wb["a"].SLIDE_DESIGN]:oy,[Wb["a"].SLIDE_ANIMATION]:uy,[Wb["a"].MULTI_POSITION]:gy,[Wb["a"].SYMBOL]:Sy};return e[c.value]||null});return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ly,[Object(i["createElementVNode"])("div",_y,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(b),e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["tab",{active:e.value===Object(i["unref"])(c)}]),key:e.value,onClick:t=>u(e.value)},Object(i["toDisplayString"])(e.label),11,Ty))),128))]),Object(i["createElementVNode"])("div",My,[(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(Object(i["unref"])(m))))])]))}});l("cd7e");const Ay=b()(Dy,[["__scopeId","data-v-5303bd17"]]);var zy=Ay;const Fy={class:"remark"},$y=["value"];var Ry=Object(i["defineComponent"])({__name:"index",props:{height:{type:Number,required:!0}},emits:["update:height"],setup(e,{emit:t}){const l=e,o=Object(n["e"])(),{currentSlide:c}=Object(a["c"])(o),r=Object(i["computed"])(()=>{var e;return(null===(e=c.value)||void 0===e?void 0:e.remark)||""}),s=e=>{const t=e.target.value;o.updateSlide({remark:t})},d=e=>{let o=!0;const c=e.pageY,n=l.height;document.onmousemove=e=>{if(!o)return;const l=e.pageY,a=l-c;let r=-a+n;r<40&&(r=40),r>120&&(r=120),t("update:height",r)},document.onmouseup=()=>{o=!1,document.onmousemove=null,document.onmouseup=null}};return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Fy,[Object(i["createElementVNode"])("div",{class:"resize-handler",onMousedown:t[0]||(t[0]=e=>d(e))},null,32),Object(i["createElementVNode"])("textarea",{value:Object(i["unref"])(r),placeholder:"点击输入演讲者备注",onInput:t[1]||(t[1]=e=>s(e))},null,40,$y)]))}});l("ec27");const Py=b()(Ry,[["__scopeId","data-v-82b674f6"]]);var Hy=Py;const Uy=e=>(Object(i["pushScopeId"])("data-v-60a953a0"),e=e(),Object(i["popScopeId"])(),e),qy={class:"export-img-dialog"},Gy={class:"thumbnails-view"},Yy={class:"configs"},Xy={class:"row"},Zy=Uy(()=>Object(i["createElementVNode"])("div",{class:"title"},"导出格式：",-1)),Wy=Object(i["createTextVNode"])("JPEG"),Jy=Object(i["createTextVNode"])("PNG"),Qy={class:"row"},Ky=Uy(()=>Object(i["createElementVNode"])("div",{class:"title"},"导出范围：",-1)),eg=Object(i["createTextVNode"])("全部"),tg=Object(i["createTextVNode"])("当前页"),lg=Object(i["createTextVNode"])("自定义"),og={key:0,class:"row"},cg=["data-range"],ng={class:"row"},ag=Uy(()=>Object(i["createElementVNode"])("div",{class:"title"},"图片质量：",-1)),rg={class:"row"},ig=Uy(()=>Object(i["createElementVNode"])("div",{class:"title"},"忽略在线字体：",-1)),sg={class:"config-item"},dg={class:"btns"},ug=Object(i["createTextVNode"])("导出图片"),bg=Object(i["createTextVNode"])("关闭");var mg=Object(i["defineComponent"])({__name:"ExportImage",emits:["close"],setup(e,{emit:t}){const{slides:l,currentSlide:o}=Object(a["c"])(Object(n["e"])()),c=Object(i["ref"])(),r=Object(i["ref"])("all"),s=Object(i["ref"])([1,l.value.length]),d=Object(i["ref"])("jpeg"),u=Object(i["ref"])(1),b=Object(i["ref"])(!0),m=Object(i["computed"])(()=>"all"===r.value?l.value:"current"===r.value?[o.value]:l.value.filter((e,t)=>{const[l,o]=s.value;return t>=l-1&&t<=o-1})),{exportImage:p,exporting:O}=Object(gl["a"])(),j=()=>{c.value&&p(c.value,d.value,u.value,b.value)};return(e,o)=>{const n=Object(i["resolveComponent"])("RadioButton"),a=Object(i["resolveComponent"])("RadioGroup"),p=Object(i["resolveComponent"])("Slider"),f=Object(i["resolveComponent"])("Switch"),v=Object(i["resolveComponent"])("Tooltip"),h=Object(i["resolveComponent"])("Button"),y=Object(i["resolveComponent"])("FullscreenSpin");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",qy,[Object(i["createElementVNode"])("div",Gy,[Object(i["createElementVNode"])("div",{class:"thumbnails",ref_key:"imageThumbnailsRef",ref:c},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(m),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(kd,{class:"thumbnail",key:e.id,slide:e,size:1600},null,8,["slide"]))),128))],512)]),Object(i["createElementVNode"])("div",Yy,[Object(i["createElementVNode"])("div",Xy,[Zy,Object(i["createVNode"])(a,{class:"config-item",value:d.value,"onUpdate:value":o[0]||(o[0]=e=>d.value=e)},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{width:"50%"},value:"jpeg"},{default:Object(i["withCtx"])(()=>[Wy]),_:1}),Object(i["createVNode"])(n,{style:{width:"50%"},value:"png"},{default:Object(i["withCtx"])(()=>[Jy]),_:1})]),_:1},8,["value"])]),Object(i["createElementVNode"])("div",Qy,[Ky,Object(i["createVNode"])(a,{class:"config-item",value:r.value,"onUpdate:value":o[1]||(o[1]=e=>r.value=e)},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{width:"33.33%"},value:"all"},{default:Object(i["withCtx"])(()=>[eg]),_:1}),Object(i["createVNode"])(n,{style:{width:"33.33%"},value:"current"},{default:Object(i["withCtx"])(()=>[tg]),_:1}),Object(i["createVNode"])(n,{style:{width:"33.33%"},value:"custom"},{default:Object(i["withCtx"])(()=>[lg]),_:1})]),_:1},8,["value"])]),"custom"===r.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",og,[Object(i["createElementVNode"])("div",{class:"title","data-range":`（${s.value[0]} ~ ${s.value[1]}）`},"自定义范围：",8,cg),Object(i["createVNode"])(p,{class:"config-item",range:"",min:1,max:Object(i["unref"])(l).length,step:1,value:s.value,"onUpdate:value":o[2]||(o[2]=e=>s.value=e)},null,8,["max","value"])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",ng,[ag,Object(i["createVNode"])(p,{class:"config-item",min:0,max:1,step:.1,value:u.value,"onUpdate:value":o[3]||(o[3]=e=>u.value=e)},null,8,["step","value"])]),Object(i["createElementVNode"])("div",rg,[ig,Object(i["createElementVNode"])("div",sg,[Object(i["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"导出时默认忽略在线字体，若您在幻灯片中使用了在线字体，且希望导出后保留相关样式，可选择关闭【忽略在线字体】选项，但要注意这将会增加导出用时。"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(f,{checked:b.value,"onUpdate:checked":o[4]||(o[4]=e=>b.value=e)},null,8,["checked"])]),_:1},8,["mouseEnterDelay"])])])]),Object(i["createElementVNode"])("div",dg,[Object(i["createVNode"])(h,{class:"btn export",type:"primary",onClick:o[5]||(o[5]=e=>j())},{default:Object(i["withCtx"])(()=>[ug]),_:1}),Object(i["createVNode"])(h,{class:"btn close",onClick:o[6]||(o[6]=e=>t("close"))},{default:Object(i["withCtx"])(()=>[bg]),_:1})]),Object(i["createVNode"])(y,{loading:Object(i["unref"])(O),tip:"正在导出..."},null,8,["loading"])])}}});l("e303");const pg=b()(mg,[["__scopeId","data-v-60a953a0"]]);var Og=pg;const jg={class:"export-json-dialog"},fg={class:"preview"},vg={class:"btns"},hg=Object(i["createTextVNode"])("导出 JSON"),yg=Object(i["createTextVNode"])("关闭");var gg=Object(i["defineComponent"])({__name:"ExportJSON",emits:["close"],setup(e,{emit:t}){const{slides:l}=Object(a["c"])(Object(n["e"])()),{exportJSON:o}=Object(gl["a"])();return(e,c)=>{const n=Object(i["resolveComponent"])("Button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",jg,[Object(i["createElementVNode"])("div",fg,[Object(i["createElementVNode"])("pre",null,Object(i["toDisplayString"])(Object(i["unref"])(l)),1)]),Object(i["createElementVNode"])("div",vg,[Object(i["createVNode"])(n,{class:"btn export",type:"primary",onClick:c[0]||(c[0]=e=>Object(i["unref"])(o)())},{default:Object(i["withCtx"])(()=>[hg]),_:1}),Object(i["createVNode"])(n,{class:"btn close",onClick:c[1]||(c[1]=e=>t("close"))},{default:Object(i["withCtx"])(()=>[yg]),_:1})])])}}});l("eba1");const xg=b()(gg,[["__scopeId","data-v-1bc24666"]]);var kg=xg;const Cg=()=>{const e=document.createElement("iframe");return e.style.width="0",e.style.height="0",e.style.position="absolute",e.style.right="0",e.style.top="0",e.style.border="0",document.body.appendChild(e),e},Ng=(e,t,l)=>{const o="<!DOCTYPE html>";let c="";const n=document.styleSheets;if(n)for(const u of n)if(u.cssRules)for(const e of u.cssRules)c+=e.cssText;const{width:a,height:r,margin:i}=l,s=`\n    <head>\n      <style type="text/css">\n        ${c} \n        html, body {\n          height: auto;\n          overflow: auto;\n        }\n        @media print {\n          @page {\n            size: ${a+2*i}px ${r+2*i}px;\n            margin: ${i}px;\n          }\n        }\n      </style>\n    </head>\n  `,d="<body>"+t.innerHTML+"</body>";e.open(),e.write(`\n    ${o}\n    <html>\n      ${s}\n      ${d}\n    </html>\n  `),e.close()},Eg=(e,t)=>{const l=Cg(),o=l.contentWindow;if(!l.contentDocument||!o)return;Ng(l.contentDocument,e,t);const c=()=>{o.focus(),o.print()},n=()=>{l.removeEventListener("load",c),o.removeEventListener("afterprint",n),document.body.removeChild(l)};l.addEventListener("load",c),o.addEventListener("afterprint",n)},wg=e=>(Object(i["pushScopeId"])("data-v-15b57798"),e=e(),Object(i["popScopeId"])(),e),Vg={class:"export-pdf-dialog"},Ig={class:"thumbnails-view"},Bg={class:"configs"},Sg={class:"row"},Lg=wg(()=>Object(i["createElementVNode"])("div",{class:"title"},"导出范围：",-1)),_g=Object(i["createTextVNode"])("全部幻灯片"),Tg=Object(i["createTextVNode"])("当前幻灯片"),Mg={class:"row"},Dg=wg(()=>Object(i["createElementVNode"])("div",{class:"title"},"每页数量：",-1)),Ag=Object(i["createTextVNode"])("1"),zg=Object(i["createTextVNode"])("2"),Fg=Object(i["createTextVNode"])("3"),$g={class:"row"},Rg=wg(()=>Object(i["createElementVNode"])("div",{class:"title"},"边缘留白：",-1)),Pg={class:"config-item"},Hg=wg(()=>Object(i["createElementVNode"])("div",{class:"tip"}," 注意：若打印预览与实际样式不一致，请在弹出的打印窗口中勾选【背景图形】选项。 ",-1)),Ug={class:"btns"},qg=Object(i["createTextVNode"])("打印 / 导出 PDF"),Gg=Object(i["createTextVNode"])("关闭");var Yg=Object(i["defineComponent"])({__name:"ExportPDF",emits:["close"],setup(e,{emit:t}){const{slides:l,currentSlide:o}=Object(a["c"])(Object(n["e"])()),c=Object(i["ref"])(),r=Object(i["ref"])("all"),s=Object(i["ref"])(1),d=Object(i["ref"])(!0),u=()=>{if(!c.value)return;const e={width:1600,height:"all"===r.value?900*s.value:900,margin:d.value?50:0};Eg(c.value,e)};return(e,n)=>{const a=Object(i["resolveComponent"])("RadioButton"),b=Object(i["resolveComponent"])("RadioGroup"),m=Object(i["resolveComponent"])("SelectOption"),p=Object(i["resolveComponent"])("Select"),O=Object(i["resolveComponent"])("Switch"),j=Object(i["resolveComponent"])("Button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Vg,[Object(i["createElementVNode"])("div",Ig,[Object(i["createElementVNode"])("div",{class:"thumbnails",ref_key:"pdfThumbnailsRef",ref:c},["current"===r.value?(Object(i["openBlock"])(),Object(i["createBlock"])(kd,{key:0,class:"thumbnail",slide:Object(i["unref"])(o),size:1600},null,8,["slide"])):(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:1},Object(i["renderList"])(Object(i["unref"])(l),(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(kd,{class:Object(i["normalizeClass"])(["thumbnail",{"break-page":(t+1)%s.value===0}]),key:e.id,slide:e,size:1600},null,8,["class","slide"]))),128))],512)]),Object(i["createElementVNode"])("div",Bg,[Object(i["createElementVNode"])("div",Sg,[Lg,Object(i["createVNode"])(b,{class:"config-item",value:r.value,"onUpdate:value":n[0]||(n[0]=e=>r.value=e)},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{style:{width:"50%"},value:"all"},{default:Object(i["withCtx"])(()=>[_g]),_:1}),Object(i["createVNode"])(a,{style:{width:"50%"},value:"current"},{default:Object(i["withCtx"])(()=>[Tg]),_:1})]),_:1},8,["value"])]),Object(i["createElementVNode"])("div",Mg,[Dg,Object(i["createVNode"])(p,{class:"config-item",value:s.value,"onUpdate:value":n[1]||(n[1]=e=>s.value=e)},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(m,{value:1},{default:Object(i["withCtx"])(()=>[Ag]),_:1}),Object(i["createVNode"])(m,{value:2},{default:Object(i["withCtx"])(()=>[zg]),_:1}),Object(i["createVNode"])(m,{value:3},{default:Object(i["withCtx"])(()=>[Fg]),_:1})]),_:1},8,["value"])]),Object(i["createElementVNode"])("div",$g,[Rg,Object(i["createElementVNode"])("div",Pg,[Object(i["createVNode"])(O,{checked:d.value,"onUpdate:checked":n[2]||(n[2]=e=>d.value=e)},null,8,["checked"])])]),Hg]),Object(i["createElementVNode"])("div",Ug,[Object(i["createVNode"])(j,{class:"btn export",type:"primary",onClick:n[3]||(n[3]=e=>u())},{default:Object(i["withCtx"])(()=>[qg]),_:1}),Object(i["createVNode"])(j,{class:"btn close",onClick:n[4]||(n[4]=e=>t("close"))},{default:Object(i["withCtx"])(()=>[Gg]),_:1})])])}}});l("7239");const Xg=b()(Yg,[["__scopeId","data-v-15b57798"]]);var Zg=Xg;const Wg=e=>(Object(i["pushScopeId"])("data-v-3fef9be0"),e=e(),Object(i["popScopeId"])(),e),Jg={class:"export-pptx-dialog"},Qg={class:"configs"},Kg={class:"row"},ex=Wg(()=>Object(i["createElementVNode"])("div",{class:"title"},"导出范围：",-1)),tx=Object(i["createTextVNode"])("全部"),lx=Object(i["createTextVNode"])("当前页"),ox=Object(i["createTextVNode"])("自定义"),cx={key:0,class:"row"},nx=["data-range"],ax={class:"row"},rx=Wg(()=>Object(i["createElementVNode"])("div",{class:"title"},"覆盖默认母版：",-1)),ix={class:"config-item"},sx={class:"btns"},dx=Object(i["createTextVNode"])("导出 PPTX"),ux=Object(i["createTextVNode"])("关闭");var bx=Object(i["defineComponent"])({__name:"ExportPPTX",emits:["close"],setup(e,{emit:t}){const{slides:l,currentSlide:o}=Object(a["c"])(Object(n["e"])()),{exportPPTX:c,exporting:r}=Object(gl["a"])(),s=Object(i["ref"])("all"),d=Object(i["ref"])([1,l.value.length]),u=Object(i["ref"])(!0),b=Object(i["computed"])(()=>"all"===s.value?l.value:"current"===s.value?[o.value]:l.value.filter((e,t)=>{const[l,o]=d.value;return t>=l-1&&t<=o-1}));return(e,o)=>{const n=Object(i["resolveComponent"])("RadioButton"),a=Object(i["resolveComponent"])("RadioGroup"),m=Object(i["resolveComponent"])("Slider"),p=Object(i["resolveComponent"])("Switch"),O=Object(i["resolveComponent"])("Button"),j=Object(i["resolveComponent"])("FullscreenSpin");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Jg,[Object(i["createElementVNode"])("div",Qg,[Object(i["createElementVNode"])("div",Kg,[ex,Object(i["createVNode"])(a,{class:"config-item",value:s.value,"onUpdate:value":o[0]||(o[0]=e=>s.value=e)},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{width:"33.33%"},value:"all"},{default:Object(i["withCtx"])(()=>[tx]),_:1}),Object(i["createVNode"])(n,{style:{width:"33.33%"},value:"current"},{default:Object(i["withCtx"])(()=>[lx]),_:1}),Object(i["createVNode"])(n,{style:{width:"33.33%"},value:"custom"},{default:Object(i["withCtx"])(()=>[ox]),_:1})]),_:1},8,["value"])]),"custom"===s.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",cx,[Object(i["createElementVNode"])("div",{class:"title","data-range":`（${d.value[0]} ~ ${d.value[1]}）`},"自定义范围：",8,nx),Object(i["createVNode"])(m,{class:"config-item",range:"",min:1,max:Object(i["unref"])(l).length,step:1,value:d.value,"onUpdate:value":o[1]||(o[1]=e=>d.value=e)},null,8,["max","value"])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",ax,[rx,Object(i["createElementVNode"])("div",ix,[Object(i["createVNode"])(p,{checked:u.value,"onUpdate:checked":o[2]||(o[2]=e=>u.value=e)},null,8,["checked"])])])]),Object(i["createElementVNode"])("div",sx,[Object(i["createVNode"])(O,{class:"btn export",type:"primary",onClick:o[3]||(o[3]=e=>Object(i["unref"])(c)(Object(i["unref"])(b),u.value))},{default:Object(i["withCtx"])(()=>[dx]),_:1}),Object(i["createVNode"])(O,{class:"btn close",onClick:o[4]||(o[4]=e=>t("close"))},{default:Object(i["withCtx"])(()=>[ux]),_:1})]),Object(i["createVNode"])(j,{loading:Object(i["unref"])(r),tip:"正在导出..."},null,8,["loading"])])}}});l("fef8");const mx=b()(bx,[["__scopeId","data-v-3fef9be0"]]);var px=mx;const Ox=e=>(Object(i["pushScopeId"])("data-v-e2b465d2"),e=e(),Object(i["popScopeId"])(),e),jx={class:"export-pptist-dialog"},fx={class:"configs"},vx={class:"row"},hx=Ox(()=>Object(i["createElementVNode"])("div",{class:"title"},"导出范围：",-1)),yx=Object(i["createTextVNode"])("全部"),gx=Object(i["createTextVNode"])("当前页"),xx=Object(i["createTextVNode"])("自定义"),kx={key:0,class:"row"},Cx=["data-range"],Nx=Ox(()=>Object(i["createElementVNode"])("div",{class:"tip"}," 提示：.pptist 是本应用的特有文件后缀，支持将该类型的文件导入回应用中。 ",-1)),Ex={class:"btns"},wx=Object(i["createTextVNode"])("导出 .pptist 文件"),Vx=Object(i["createTextVNode"])("关闭");var Ix=Object(i["defineComponent"])({__name:"ExportSpecificFile",emits:["close"],setup(e,{emit:t}){const{slides:l,currentSlide:o}=Object(a["c"])(Object(n["e"])()),{exportSpecificFile:c}=Object(gl["a"])(),r=Object(i["ref"])("all"),s=Object(i["ref"])([1,l.value.length]),d=Object(i["computed"])(()=>"all"===r.value?l.value:"current"===r.value?[o.value]:l.value.filter((e,t)=>{const[l,o]=s.value;return t>=l-1&&t<=o-1}));return(e,o)=>{const n=Object(i["resolveComponent"])("RadioButton"),a=Object(i["resolveComponent"])("RadioGroup"),u=Object(i["resolveComponent"])("Slider"),b=Object(i["resolveComponent"])("Button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",jx,[Object(i["createElementVNode"])("div",fx,[Object(i["createElementVNode"])("div",vx,[hx,Object(i["createVNode"])(a,{class:"config-item",value:r.value,"onUpdate:value":o[0]||(o[0]=e=>r.value=e)},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{width:"33.33%"},value:"all"},{default:Object(i["withCtx"])(()=>[yx]),_:1}),Object(i["createVNode"])(n,{style:{width:"33.33%"},value:"current"},{default:Object(i["withCtx"])(()=>[gx]),_:1}),Object(i["createVNode"])(n,{style:{width:"33.33%"},value:"custom"},{default:Object(i["withCtx"])(()=>[xx]),_:1})]),_:1},8,["value"])]),"custom"===r.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",kx,[Object(i["createElementVNode"])("div",{class:"title","data-range":`（${s.value[0]} ~ ${s.value[1]}）`},"自定义范围：",8,Cx),Object(i["createVNode"])(u,{class:"config-item",range:"",min:1,max:Object(i["unref"])(l).length,step:1,value:s.value,"onUpdate:value":o[1]||(o[1]=e=>s.value=e)},null,8,["max","value"])])):Object(i["createCommentVNode"])("",!0),Nx]),Object(i["createElementVNode"])("div",Ex,[Object(i["createVNode"])(b,{class:"btn export",type:"primary",onClick:o[2]||(o[2]=e=>Object(i["unref"])(c)(Object(i["unref"])(d)))},{default:Object(i["withCtx"])(()=>[wx]),_:1}),Object(i["createVNode"])(b,{class:"btn close",onClick:o[3]||(o[3]=e=>t("close"))},{default:Object(i["withCtx"])(()=>[Vx]),_:1})])])}}});l("bf43");const Bx=b()(Ix,[["__scopeId","data-v-e2b465d2"]]);var Sx=Bx;const Lx={class:"export-dialog"},_x={class:"tabs"},Tx=["onClick"],Mx={class:"content"};var Dx=Object(i["defineComponent"])({__name:"index",setup(e){const t=Object(n["c"])(),{dialogForExport:l}=Object(a["c"])(t),o=t.setDialogForExport,c=[{key:"pptist",label:"导出 pptist 文件"},{key:"pptx",label:"导出 PPTX"},{key:"image",label:"导出图片"},{key:"json",label:"导出 JSON"},{key:"pdf",label:"打印 / 导出 PDF"}],r=Object(i["computed"])(()=>{const e={image:Og,json:kg,pdf:Zg,pptx:px,pptist:Sx};return e[l.value]||null});return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Lx,[Object(i["createElementVNode"])("div",_x,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(c,e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["tab",{active:e.key===Object(i["unref"])(l)}]),key:e.key,onClick:t=>Object(i["unref"])(o)(e.key)},Object(i["toDisplayString"])(e.label),11,Tx)),64))]),Object(i["createElementVNode"])("div",Mx,[(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(Object(i["unref"])(r)),{onClose:t[0]||(t[0]=e=>Object(i["unref"])(o)(""))},null,32))])]))}});l("d970");const Ax=b()(Dx,[["__scopeId","data-v-1f8f1a8b"]]);var zx=Ax;const Fx={key:0,class:"pptist-editor"},$x={class:"layout-content"},Rx={class:"layout-content-center"};var Px=Object(i["defineComponent"])({__name:"index",setup(e){const t=Object(n["c"])(),l=Object(n["e"])(),{dialogForExport:c,handleElementId:r}=Object(a["c"])(t),{docsId:s}=Object(a["c"])(l),d=Object(i["ref"])(!1),u=Object(o["c"])(),b=()=>t.setDialogForExport(""),m=Object(i["ref"])(40);async function p(e){const t=await J(e);l.setSlides(JSON.parse(t.json)),d.value=!0}return hl(),yl(),Object(i["onMounted"])(()=>{const e=u.params.id;s.value=e,p(e),l.connectWebsocket()}),Object(i["onUnmounted"])(()=>{l.closeWebsocket()}),Object(i["watch"])(()=>r.value,(e,t)=>{t&&!e&&Object(i["nextTick"])(()=>{l._sync(s.value,l.slides.slice())})}),(e,t)=>{const l=Object(i["resolveComponent"])("Modal");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[d.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Fx,[Object(i["createVNode"])(bo,{class:"layout-header"}),Object(i["createElementVNode"])("div",$x,[Object(i["createVNode"])(Zb,{class:"layout-content-left"}),Object(i["createElementVNode"])("div",Rx,[Object(i["createVNode"])(_b,{class:"center-top"}),Object(i["createVNode"])($d,{class:"center-body",style:Object(i["normalizeStyle"])({height:`calc(100% - ${m.value+40}px)`})},null,8,["style"]),Object(i["createVNode"])(Hy,{class:"center-bottom",height:m.value,"onUpdate:height":t[0]||(t[0]=e=>m.value=e),style:Object(i["normalizeStyle"])({height:m.value+"px"})},null,8,["height","style"])]),Object(i["createVNode"])(zy,{class:"layout-content-right"})])])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(l,{visible:!!Object(i["unref"])(c),footer:null,centered:"",closable:!1,width:680,destroyOnClose:"",onCancel:t[1]||(t[1]=e=>b())},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(zx)]),_:1},8,["visible"])],64)}}});l("58ff");const Hx=b()(Px,[["__scopeId","data-v-a97652e6"]]);var Ux=Hx,qx=()=>{const e=Object(n["e"])(),{slides:t,slideIndex:l,formatedAnimations:o}=Object(a["c"])(e),c=Object(i["ref"])(0),r=Object(i["ref"])(!1),s=Object(i["ref"])(l.value),d=()=>{if(r.value)return;const{animations:e,autoNext:t}=o.value[c.value];c.value+=1,r.value=!0;let l=0;for(const o of e){const c=document.querySelector(`#screen-element-${o.elId} [class^=base-element-]`);if(!c){l+=1;continue}const n=`${wv}${o.effect}`;c.style.removeProperty("--animate-duration");for(const e of c.classList)-1!==e.indexOf(wv)&&c.classList.remove(e,wv+"animated");c.style.setProperty("--animate-duration",o.duration+"ms"),c.classList.add(n,wv+"animated");const a=()=>{"out"!==o.type&&(c.style.removeProperty("--animate-duration"),c.classList.remove(n,wv+"animated")),l+=1,l===e.length&&(r.value=!1,t&&d())};c.addEventListener("animationend",a,{once:!0})}},u=()=>{c.value-=1;const{animations:e}=o.value[c.value];for(const t of e){const e=document.querySelector(`#screen-element-${t.elId} [class^=base-element-]`);if(e){e.style.removeProperty("--animate-duration");for(const t of e.classList)-1!==t.indexOf(wv)&&e.classList.remove(t,wv+"animated")}}e.every(e=>"attention"===e.type)&&O()},b=Object(i["ref"])(0),m=()=>{b.value&&(clearInterval(b.value),b.value=0)};Object(i["onUnmounted"])(m);const p=Object(Mt["throttle"])((function(e){De["a"].success(e)}),1e3,{leading:!0,trailing:!1}),O=()=>{o.value.length&&c.value>0?u():l.value>0?(e.updateSlideIndex(l.value-1),l.value<s.value?(c.value=0,s.value=l.value):c.value=o.value.length):p("已经是第一页了"),r.value=!1},j=()=>{o.value.length&&c.value<o.value.length?d():l.value<t.value.length-1?(e.updateSlideIndex(l.value+1),c.value=0,r.value=!1):(p("已经是最后一页了"),m(),r.value=!1)},f=()=>{m(),De["a"].success("开始自动放映"),b.value=setInterval(j,2500)},v=Object(Mt["throttle"])((function(e){e.deltaY<0?O():e.deltaY>0&&j()}),500,{leading:!0,trailing:!1}),h=Object(i["ref"])(null),y=e=>{h.value={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}},g=e=>{if(!h.value)return;const t=Math.abs(h.value.x-e.changedTouches[0].pageX),l=e.changedTouches[0].pageY-h.value.y;Math.abs(l)>t&&Math.abs(l)>50&&(h.value=null,l>0?O():j())},x=e=>{const t=e.key.toUpperCase();t===Ht.UP||t===Ht.LEFT||t===Ht.PAGEUP?O():t!==Ht.DOWN&&t!==Ht.RIGHT&&t!==Ht.SPACE&&t!==Ht.ENTER&&t!==Ht.PAGEDOWN||j()};Object(i["onMounted"])(()=>document.addEventListener("keydown",x)),Object(i["onUnmounted"])(()=>document.removeEventListener("keydown",x));const k=()=>{e.updateSlideIndex(l.value-1),c.value=0},C=()=>{e.updateSlideIndex(l.value+1),c.value=0},N=t=>{e.updateSlideIndex(t),c.value=0},E=l=>{const o=t.value.findIndex(e=>e.id===l);-1!==o&&(e.updateSlideIndex(o),c.value=0)};return{autoPlayTimer:b,autoPlay:f,closeAutoPlay:m,mousewheelListener:v,touchStartListener:y,touchEndListener:g,turnPrevSlide:k,turnNextSlide:C,turnSlideToIndex:N,turnSlideToId:E,execPrev:O,execNext:j,animationIndex:c}},Gx=e=>{const t=Object(n["e"])(),{viewportRatio:l}=Object(a["c"])(t),o=Object(i["ref"])(0),c=Object(i["ref"])(0),r=()=>{const t=(null===e||void 0===e?void 0:e.value)||document.body,n=t.clientWidth,a=t.clientHeight;let r,i;a/n===l.value?(r=n,i=a):a/n>l.value?(r=n,i=n*l.value):(r=a/l.value,i=a),o.value=r,c.value=i};return Object(i["onMounted"])(()=>{r(),window.addEventListener("resize",r)}),Object(i["onUnmounted"])(()=>{window.removeEventListener("resize",r)}),{slideWidth:o,slideHeight:c}},Yx=()=>{const e=Object(i["ref"])(!0),t=Object(i["ref"])(!0),{exitScreening:l}=fl(),o=()=>{e.value=jl(),!e.value&&t.value&&l(),t.value=!0};Object(i["onMounted"])(()=>{e.value=jl(),document.addEventListener("fullscreenchange",o),document.addEventListener("webkitfullscreenchange",o)}),Object(i["onUnmounted"])(()=>{document.removeEventListener("fullscreenchange",o),document.removeEventListener("webkitfullscreenchange",o)});const c=()=>{e.value&&(t.value=!1,Ol())};return{fullscreenState:e,manualExitFullscreen:c}},Xx=Object(i["defineComponent"])({__name:"ScreenChartElement",props:{elementInfo:{type:Object,required:!0}},setup(e){return(t,l)=>(Object(i["openBlock"])(),Object(i["createBlock"])(Gs,{class:"screen-element-chart",elementInfo:e.elementInfo},null,8,["elementInfo"]))}});const Zx=Xx;var Wx=Zx;const Jx={class:"element-content"};var Qx=Object(i["defineComponent"])({__name:"ScreenVideoElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const{currentSlide:t}=Object(a["c"])(Object(n["e"])()),l=Object(i["inject"])(mo)||Object(i["ref"])(1),o=Object(i["inject"])(po)||Object(i["ref"])(""),c=Object(i["computed"])(()=>t.value.id===o.value);return(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"screen-element-video",style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["createElementVNode"])("div",Jx,[Object(i["unref"])(c)?(Object(i["openBlock"])(),Object(i["createBlock"])(jr,{key:0,width:e.elementInfo.width,height:e.elementInfo.height,src:e.elementInfo.src,poster:e.elementInfo.poster,scale:Object(i["unref"])(l)},null,8,["width","height","src","poster","scale"])):Object(i["createCommentVNode"])("",!0)])],4)],4))}});l("7a78");const Kx=b()(Qx,[["__scopeId","data-v-76457308"]]);var ek=Kx;const tk={class:"element-content"};var lk=Object(i["defineComponent"])({__name:"ScreenAudioElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,{viewportRatio:l,currentSlide:o}=Object(a["c"])(Object(n["e"])()),c=Object(i["inject"])(mo)||Object(i["ref"])(1),r=Object(i["inject"])(po)||Object(i["ref"])(""),s=Object(i["computed"])(()=>o.value.id===r.value),d=Object(i["computed"])(()=>Math.min(t.elementInfo.width,t.elementInfo.height)+"px"),u=Object(i["computed"])(()=>{const e=Wt,o=Wt*l.value,n=280/c.value,a=50/c.value,r=t.elementInfo.width,i=t.elementInfo.height,s=t.elementInfo.left,d=t.elementInfo.top;let u=0,b=i;return s+n>=e&&(u=r-n),d+i+a>=o&&(b=-a),{left:u+"px",top:b+"px"}}),b=Object(i["ref"])(),m=()=>{b.value&&b.value.toggle()};return(t,l)=>{const o=Object(i["resolveComponent"])("IconVolumeNotice");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"screen-element-audio",style:Object(i["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(i["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(i["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(i["createElementVNode"])("div",tk,[Object(i["createVNode"])(o,{class:"audio-icon",style:Object(i["normalizeStyle"])({fontSize:Object(i["unref"])(d),color:e.elementInfo.color}),onClick:l[0]||(l[0]=e=>m())},null,8,["style"]),Object(i["unref"])(s)?(Object(i["openBlock"])(),Object(i["createBlock"])(zr,{key:0,class:"audio-player",ref_key:"audioPlayerRef",ref:b,style:Object(i["normalizeStyle"])({...Object(i["unref"])(u)}),src:e.elementInfo.src,loop:e.elementInfo.loop,autoplay:e.elementInfo.autoplay,scale:Object(i["unref"])(c)},null,8,["style","src","loop","autoplay","scale"])):Object(i["createCommentVNode"])("",!0)])],4)],4)}}});l("3010");const ok=b()(lk,[["__scopeId","data-v-1172b8ee"]]);var ck=ok;const nk=["id","title"];var ak=Object(i["defineComponent"])({__name:"ScreenElement",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},animationIndex:{type:Number,required:!0},turnSlideToId:{type:Function,required:!0},manualExitFullscreen:{type:Function,required:!0}},setup(e){const t=e,l=Object(i["computed"])(()=>{const e={[Qt.IMAGE]:Es,[Qt.TEXT]:Bs,[Qt.SHAPE]:zs,[Qt.LINE]:Hs,[Qt.CHART]:Wx,[Qt.TABLE]:ld,[Qt.LATEX]:sd,[Qt.VIDEO]:ek,[Qt.AUDIO]:ck};return e[t.elementInfo.type]||null}),{formatedAnimations:o,theme:c}=Object(a["c"])(Object(n["e"])()),r=Object(i["computed"])(()=>{const e=o.value.findIndex(e=>{const l=e.animations.map(e=>e.elId);return l.includes(t.elementInfo.id)});if(-1===e)return!1;if(e<t.animationIndex)return!1;const l=o.value[e].animations.find(e=>e.elId===t.elementInfo.id);return"in"===(null===l||void 0===l?void 0:l.type)}),s=()=>{const e=t.elementInfo.link;e&&("web"===e.type?(t.manualExitFullscreen(),window.open(e.target)):"slide"===e.type&&t.turnSlideToId(e.target))};return(t,o)=>{var n;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["screen-element",{link:e.elementInfo.link}]),id:"screen-element-"+e.elementInfo.id,style:Object(i["normalizeStyle"])({zIndex:e.elementIndex,color:Object(i["unref"])(c).fontColor,fontFamily:Object(i["unref"])(c).fontName,visibility:Object(i["unref"])(r)?"hidden":"visible"}),title:(null===(n=e.elementInfo.link)||void 0===n?void 0:n.target)||"",onClick:o[0]||(o[0]=e=>s())},[(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(Object(i["unref"])(l)),{elementInfo:e.elementInfo},null,8,["elementInfo"]))],14,nk)}}});l("d2ee");const rk=b()(ak,[["__scopeId","data-v-a15cc1d8"]]);var ik=rk,sk=Object(i["defineComponent"])({__name:"ScreenSlide",props:{slide:{type:Object,required:!0},scale:{type:Number,required:!0},animationIndex:{type:Number,required:!0},turnSlideToId:{type:Function,required:!0},manualExitFullscreen:{type:Function,required:!0}},setup(e){const t=e,{viewportRatio:l}=Object(a["c"])(Object(n["e"])()),o=Object(i["computed"])(()=>t.slide.background),{backgroundStyle:c}=ei(o),r=Object(i["computed"])(()=>t.slide.id);return Object(i["provide"])(po,r),(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"screen-slide",style:Object(i["normalizeStyle"])({width:Object(i["unref"])(Wt)+"px",height:Object(i["unref"])(Wt)*Object(i["unref"])(l)+"px",transform:`scale(${e.scale})`})},[Object(i["createElementVNode"])("div",{class:"background",style:Object(i["normalizeStyle"])({...Object(i["unref"])(c)})},null,4),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.slide.elements,(t,l)=>(Object(i["openBlock"])(),Object(i["createBlock"])(ik,{key:t.id,elementInfo:t,elementIndex:l+1,animationIndex:e.animationIndex,turnSlideToId:e.turnSlideToId,manualExitFullscreen:e.manualExitFullscreen},null,8,["elementInfo","elementIndex","animationIndex","turnSlideToId","manualExitFullscreen"]))),128))],4))}});l("a060");const dk=b()(sk,[["__scopeId","data-v-7cf7f9e7"]]);var uk=dk;const bk={class:"screen-slide-list"};var mk=Object(i["defineComponent"])({__name:"ScreenSlideList",props:{slideWidth:{type:Number,required:!0},slideHeight:{type:Number,required:!0},animationIndex:{type:Number,required:!0},turnSlideToId:{type:Function,required:!0},manualExitFullscreen:{type:Function,required:!0}},setup(e){const t=e,{slides:l,slideIndex:o,currentSlide:c}=Object(a["c"])(Object(n["e"])()),r=Object(i["computed"])(()=>t.slideWidth/Wt);return Object(i["provide"])(mo,r),(t,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",bk,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(l),(t,l)=>{var n;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["slide-item","turning-mode-"+(t.turningMode||"slideY"),{current:l===Object(i["unref"])(o),before:l<Object(i["unref"])(o),after:l>Object(i["unref"])(o),hide:(l===Object(i["unref"])(o)-1||l===Object(i["unref"])(o)+1)&&t.turningMode!==Object(i["unref"])(c).turningMode}]),key:t.id},[Math.abs(Object(i["unref"])(o)-l)<2||null!==(n=t.animations)&&void 0!==n&&n.length?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"slide-content",style:Object(i["normalizeStyle"])({width:e.slideWidth+"px",height:e.slideHeight+"px"})},[Object(i["createVNode"])(uk,{slide:t,scale:Object(i["unref"])(r),animationIndex:e.animationIndex,turnSlideToId:e.turnSlideToId,manualExitFullscreen:e.manualExitFullscreen},null,8,["slide","scale","animationIndex","turnSlideToId","manualExitFullscreen"])],4)):Object(i["createCommentVNode"])("",!0)],2)}),128))]))}});l("afd6");const pk=b()(mk,[["__scopeId","data-v-0a0ca778"]]);var Ok=pk;const jk={class:"slide-thumbnails"},fk={class:"return-button"},vk={class:"slide-thumbnails-content"},hk=["onClick"];var yk=Object(i["defineComponent"])({__name:"SlideThumbnails",props:{turnSlideToIndex:{type:Function,required:!0}},emits:["close"],setup(e,{emit:t}){const l=e,{slides:o,slideIndex:c}=Object(a["c"])(Object(n["e"])()),{slidesLoadLimit:r}=Tb(),s=e=>{l.turnSlideToIndex(e),t("close")};return(e,l)=>{const n=Object(i["resolveComponent"])("IconArrowCircleLeft");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",jk,[Object(i["createElementVNode"])("div",fk,[Object(i["createVNode"])(n,{class:"icon",onClick:l[0]||(l[0]=e=>t("close"))})]),Object(i["createElementVNode"])("div",vk,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(o),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["thumbnail",{active:t===Object(i["unref"])(c)}]),key:e.id,onClick:e=>s(t)},[Object(i["createVNode"])(kd,{slide:e,size:150,visible:t<Object(i["unref"])(r)},null,8,["slide","visible"])],10,hk))),128))])])}}});l("2803");const gk=b()(yk,[["__scopeId","data-v-b7c6c0cc"]]);var xk=gk;const kk={key:0,class:"blackboard"};var Ck=Object(i["defineComponent"])({__name:"WritingBoard",props:{color:{type:String,default:"#ffcc00"},model:{type:String,default:"pen"},blackboard:{type:Boolean,default:!1}},setup(e,{expose:t}){const l=e;let o=null;const c=Object(i["ref"])(),n=Object(i["ref"])(),a=Object(i["ref"])(6),r=Object(i["ref"])(80),s=Object(i["ref"])(24);let d={x:0,y:0},u=!1,b=0,m=-1;const p=Object(i["ref"])({x:0,y:0}),O=Object(i["ref"])(!1),j=Object(i["ref"])(0),f=Object(i["ref"])(0),v=Object(i["computed"])(()=>n.value?j.value/n.value.width:1),h=Object(i["computed"])(()=>n.value?f.value/n.value.height:1),y=()=>{c.value&&(j.value=c.value.clientWidth,f.value=c.value.clientHeight)},g=new ResizeObserver(y);Object(i["onMounted"])(()=>{c.value&&g.observe(c.value)}),Object(i["onUnmounted"])(()=>{c.value&&g.unobserve(c.value)});const x=()=>{n.value&&c.value&&(o=n.value.getContext("2d"),o&&(n.value.width=c.value.clientWidth,n.value.height=c.value.clientHeight,o.lineCap="round",o.lineJoin="round"))};Object(i["onMounted"])(x);const k=()=>{o&&("mark"===l.model?(o.globalCompositeOperation="xor",o.globalAlpha=.5):"pen"===l.model&&(o.globalCompositeOperation="source-over",o.globalAlpha=1))};Object(i["watch"])(()=>l.model,k);const C=(e,t,c)=>{if(!o)return;const n=d.x,a=d.y;o.lineWidth=c,o.strokeStyle=l.color,o.beginPath(),o.moveTo(n,a),o.lineTo(e,t),o.stroke(),o.closePath()},N=(e,t)=>{if(!o||!n.value)return;const l=d.x,c=d.y,a=r.value/2,i=a*Math.sin(Math.atan((t-c)/(e-l))),s=a*Math.cos(Math.atan((t-c)/(e-l))),u=[l+i,c-s],b=[l-i,c+s],m=[e+i,t-s],p=[e-i,t+s];o.save(),o.beginPath(),o.arc(e,t,a,0,2*Math.PI),o.clip(),o.clearRect(0,0,n.value.width,n.value.height),o.restore(),o.save(),o.beginPath(),o.moveTo(...u),o.lineTo(...m),o.lineTo(...p),o.lineTo(...b),o.closePath(),o.clip(),o.clearRect(0,0,n.value.width,n.value.height),o.restore()},E=(e,t)=>{const l=d.x,o=d.y;return Math.sqrt((e-l)*(e-l)+(t-o)*(t-o))},w=(e,t)=>{const l=10,o=.1,c=a.value,n=3,r=e/t;let i;return i=r<=o?c:r>=l?n:c-r/l*c,-1===m?i:1*i/3+2*m/3},V=(e,t)=>{const o=(new Date).getTime();if("pen"===l.model){const l=E(e,t),c=o-b,n=w(l,c);C(e,t,n),m=n}else"mark"===l.model?C(e,t,s.value):N(e,t);d={x:e,y:t},b=(new Date).getTime()},I=e=>{if(!n.value)return[0,0];const t=e instanceof MouseEvent?e:e.changedTouches[0],l=n.value.getBoundingClientRect(),o=t.pageX-l.x,c=t.pageY-l.y;return[o,c]},B=e=>{const[t,l]=I(e),o=t/v.value,c=l/h.value;u=!0,d={x:o,y:c},b=(new Date).getTime(),e instanceof MouseEvent||(p.value={x:t,y:l},O.value=!0)},S=e=>{const[t,l]=I(e),o=t/v.value,c=l/h.value;p.value={x:t,y:l},u&&V(o,c)},L=()=>{u&&(u=!1)},_=()=>{o&&n.value&&o.clearRect(0,0,n.value.width,n.value.height)},T=()=>{var e;return null===(e=n.value)||void 0===e?void 0:e.toDataURL()},M=e=>{const t=new Image;t.src=e,t.onload=()=>{o&&o.drawImage(t,0,0)}},D=Object(Mt["throttle"])((function(e){"eraser"===l.model&&(e.deltaY<0&&r.value<200?r.value+=20:e.deltaY>0&&r.value>20&&(r.value-=20)),"pen"===l.model&&(e.deltaY<0&&a.value<10?a.value+=2:e.deltaY>0&&a.value>4&&(a.value-=2)),"mark"===l.model&&(e.deltaY<0&&s.value<40?s.value+=4:e.deltaY>0&&s.value>16&&(s.value-=4))}),300,{leading:!0,trailing:!1});return t({clearCanvas:_,getImageDataURL:T,setImageDataURL:M}),(t,l)=>{const o=Object(i["resolveComponent"])("IconWrite"),d=Object(i["resolveComponent"])("IconHighLight");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"writing-board",ref_key:"writingBoardRef",ref:c},[e.blackboard?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",kk)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("canvas",{class:"canvas",ref_key:"canvasRef",ref:n,style:Object(i["normalizeStyle"])({width:j.value+"px",height:f.value+"px"}),onMousedown:l[0]||(l[0]=e=>B(e)),onMousemove:l[1]||(l[1]=e=>S(e)),onMouseup:l[2]||(l[2]=e=>L()),onTouchstart:l[3]||(l[3]=e=>B(e)),onTouchmove:l[4]||(l[4]=e=>S(e)),onTouchend:l[5]||(l[5]=e=>{L(),O.value=!1}),onMouseleave:l[6]||(l[6]=e=>{L(),O.value=!1}),onMouseenter:l[7]||(l[7]=e=>O.value=!0),onWheel:l[8]||(l[8]=e=>Object(i["unref"])(D)(e))},null,36),O.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},["eraser"===e.model?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"eraser",style:Object(i["normalizeStyle"])({left:p.value.x-r.value/2+"px",top:p.value.y-r.value/2+"px",width:r.value+"px",height:r.value+"px"})},null,4)):Object(i["createCommentVNode"])("",!0),"pen"===e.model?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,class:"pen",style:Object(i["normalizeStyle"])({left:p.value.x-a.value/2+"px",top:p.value.y-6*a.value+a.value/2+"px",color:e.color})},["pen"===e.model?(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:0,class:"icon",size:6*a.value},null,8,["size"])):Object(i["createCommentVNode"])("",!0)],4)):Object(i["createCommentVNode"])("",!0),"mark"===e.model?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:2,class:"pen",style:Object(i["normalizeStyle"])({left:p.value.x-s.value/2+"px",top:p.value.y+"px",color:e.color})},["mark"===e.model?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:0,class:"icon",size:1.5*s.value},null,8,["size"])):Object(i["createCommentVNode"])("",!0)],4)):Object(i["createCommentVNode"])("",!0)],64)):Object(i["createCommentVNode"])("",!0)],512)}}});l("5fa4");const Nk=b()(Ck,[["__scopeId","data-v-1d4eb7f0"]]);var Ek=Nk;const wk={class:"writing-board-tool"},Vk={class:"colors"},Ik=["onClick"];var Bk=Object(i["defineComponent"])({__name:"WritingBoardTool",props:{slideWidth:{type:Number,required:!0},slideHeight:{type:Number,required:!0},position:{type:Object,default:()=>({right:"5px",bottom:"5px"})}},emits:["close"],setup(e,{emit:t}){const l=["#000000","#ffffff","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c","#ffff3a"],o=Object(i["ref"])(),c=Object(i["ref"])("#e2534d"),n=Object(i["ref"])("pen"),a=Object(i["ref"])(!1),r=e=>{n.value=e},s=()=>{o.value.clearCanvas()},d=e=>{"eraser"===n.value&&(n.value="pen"),c.value=e},u=()=>{t("close")};return(t,b)=>{const m=Object(i["resolveComponent"])("IconWrite"),p=Object(i["resolveComponent"])("Tooltip"),O=Object(i["resolveComponent"])("IconHighLight"),j=Object(i["resolveComponent"])("IconErase"),f=Object(i["resolveComponent"])("IconClear"),v=Object(i["resolveComponent"])("IconFill"),h=Object(i["resolveComponent"])("IconClose");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",wk,[Object(i["createElementVNode"])("div",{class:"writing-board-wrap",style:Object(i["normalizeStyle"])({width:e.slideWidth+"px",height:e.slideHeight+"px"})},[Object(i["createVNode"])(Ek,{ref_key:"writingBoardRef",ref:o,color:c.value,blackboard:a.value,model:n.value},null,8,["color","blackboard","model"])],4),Object(i["createElementVNode"])("div",{class:"tools",style:Object(i["normalizeStyle"])(e.position)},[Object(i["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"画笔"},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["btn",{active:"pen"===n.value}]),onClick:b[0]||(b[0]=e=>r("pen"))},[Object(i["createVNode"])(m,{class:"icon"})],2)]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"荧光笔"},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["btn",{active:"mark"===n.value}]),onClick:b[1]||(b[1]=e=>r("mark"))},[Object(i["createVNode"])(O,{class:"icon"})],2)]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"橡皮擦"},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["btn",{active:"eraser"===n.value}]),onClick:b[2]||(b[2]=e=>r("eraser"))},[Object(i["createVNode"])(j,{class:"icon"})],2)]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"清除墨迹"},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:"btn",onClick:b[3]||(b[3]=e=>s())},[Object(i["createVNode"])(f,{class:"icon"})])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"黑板"},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["btn",{active:a.value}]),onClick:b[4]||(b[4]=e=>a.value=!a.value)},[Object(i["createVNode"])(v,{class:"icon"})],2)]),_:1},8,["mouseEnterDelay"]),Object(i["createElementVNode"])("div",Vk,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l,e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["color",{active:e===c.value}]),key:e,style:Object(i["normalizeStyle"])({backgroundColor:e}),onClick:t=>d(e)},null,14,Ik)),64))]),Object(i["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"关闭画笔"},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:"btn",onClick:b[5]||(b[5]=e=>u())},[Object(i["createVNode"])(h,{class:"icon"})])]),_:1},8,["mouseEnterDelay"])],4)])}}});l("4f60");const Sk=b()(Bk,[["__scopeId","data-v-876081a6"]]);var Lk=Sk;const _k={class:"tools-left"},Tk={class:"content"};var Mk=Object(i["defineComponent"])({__name:"BaseView",props:{changeViewMode:{type:Function,required:!0}},setup(e){const t=e,{slides:l,slideIndex:o}=Object(a["c"])(Object(n["e"])()),{autoPlayTimer:c,autoPlay:r,closeAutoPlay:s,mousewheelListener:d,touchStartListener:u,touchEndListener:b,turnPrevSlide:m,turnNextSlide:p,turnSlideToIndex:O,turnSlideToId:j,execPrev:f,execNext:v,animationIndex:h}=qx(),{slideWidth:y,slideHeight:g}=Gx(),{exitScreening:x}=fl(),{fullscreenState:k,manualExitFullscreen:C}=Yx(),N=Object(i["ref"])(!1),E=Object(i["ref"])(!1),w=Object(i["ref"])(!1),V=Object(i["ref"])(!1),I=()=>[{text:"上一页",subText:"↑ ←",disable:o.value<=0,handler:()=>m()},{text:"下一页",subText:"↓ →",disable:o.value>=l.value.length-1,handler:()=>p()},{text:"第一页",disable:0===o.value,handler:()=>O(0)},{text:"最后一页",disable:o.value===l.value.length-1,handler:()=>O(l.value.length-1)},{divider:!0},{text:"显示工具栏",handler:()=>N.value=!0},{text:"查看所有幻灯片",handler:()=>w.value=!0},{text:"画笔工具",handler:()=>E.value=!0},{text:"演讲者视图",handler:()=>t.changeViewMode("presenter")},{divider:!0},{text:c.value?"取消自动放映":"自动放映",handler:c.value?s:r},{text:"结束放映",subText:"ESC",handler:x}];return(t,c)=>{const n=Object(i["resolveComponent"])("IconLeftTwo"),a=Object(i["resolveComponent"])("IconRightTwo"),r=Object(i["resolveComponent"])("IconWrite"),s=Object(i["resolveComponent"])("Tooltip"),m=Object(i["resolveComponent"])("IconMagic"),p=Object(i["resolveComponent"])("IconListView"),B=Object(i["resolveComponent"])("IconOffScreenOne"),S=Object(i["resolveComponent"])("IconFullScreenOne"),L=Object(i["resolveComponent"])("IconPower"),_=Object(i["resolveDirective"])("contextmenu");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["base-view",{"laser-pen":V.value}])},[Object(i["withDirectives"])(Object(i["createVNode"])(Ok,{slideWidth:Object(i["unref"])(y),slideHeight:Object(i["unref"])(g),animationIndex:Object(i["unref"])(h),turnSlideToId:Object(i["unref"])(j),manualExitFullscreen:Object(i["unref"])(C),onWheel:c[0]||(c[0]=e=>Object(i["unref"])(d)(e)),onTouchstart:c[1]||(c[1]=e=>Object(i["unref"])(u)(e)),onTouchend:c[2]||(c[2]=e=>Object(i["unref"])(b)(e))},null,8,["slideWidth","slideHeight","animationIndex","turnSlideToId","manualExitFullscreen"]),[[_,I]]),w.value?(Object(i["openBlock"])(),Object(i["createBlock"])(xk,{key:0,turnSlideToIndex:Object(i["unref"])(O),onClose:c[3]||(c[3]=e=>w.value=!1)},null,8,["turnSlideToIndex"])):Object(i["createCommentVNode"])("",!0),E.value?(Object(i["openBlock"])(),Object(i["createBlock"])(Lk,{key:1,slideWidth:Object(i["unref"])(y),slideHeight:Object(i["unref"])(g),onClose:c[4]||(c[4]=e=>E.value=!1)},null,8,["slideWidth","slideHeight"])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",_k,[Object(i["createVNode"])(n,{class:"tool-btn",theme:"two-tone",fill:["#111","#fff"],onClick:c[5]||(c[5]=e=>Object(i["unref"])(f)())}),Object(i["createVNode"])(a,{class:"tool-btn",theme:"two-tone",fill:["#111","#fff"],onClick:c[6]||(c[6]=e=>Object(i["unref"])(v)())})]),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["tools-right",{visible:N.value}]),onMouseleave:c[14]||(c[14]=e=>N.value=!1),onMouseenter:c[15]||(c[15]=e=>N.value=!0)},[Object(i["createElementVNode"])("div",Tk,[Object(i["createElementVNode"])("div",{class:"tool-btn page-number",onClick:c[7]||(c[7]=e=>w.value=!0)},"幻灯片 "+Object(i["toDisplayString"])(Object(i["unref"])(o)+1)+" / "+Object(i["toDisplayString"])(Object(i["unref"])(l).length),1),Object(i["createVNode"])(s,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"画笔工具"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(r,{class:"tool-btn",onClick:c[8]||(c[8]=e=>E.value=!0)})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(s,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"激光笔"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(m,{class:Object(i["normalizeClass"])(["tool-btn",{active:V.value}]),onClick:c[9]||(c[9]=e=>V.value=!V.value)},null,8,["class"])]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(s,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"演讲者视图"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(p,{class:"tool-btn",onClick:c[10]||(c[10]=t=>e.changeViewMode("presenter"))})]),_:1},8,["mouseEnterDelay"]),Object(i["createVNode"])(s,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:Object(i["unref"])(k)?"退出全屏":"进入全屏"},{default:Object(i["withCtx"])(()=>[Object(i["unref"])(k)?(Object(i["openBlock"])(),Object(i["createBlock"])(B,{key:0,class:"tool-btn",onClick:c[11]||(c[11]=e=>Object(i["unref"])(C)())})):(Object(i["openBlock"])(),Object(i["createBlock"])(S,{key:1,class:"tool-btn",onClick:c[12]||(c[12]=e=>Object(i["unref"])(pl)())}))]),_:1},8,["mouseEnterDelay","title"]),Object(i["createVNode"])(s,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"结束放映"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(L,{class:"tool-btn",onClick:c[13]||(c[13]=e=>Object(i["unref"])(x)())})]),_:1},8,["mouseEnterDelay"])])],34)],2)}}});l("4a2e");const Dk=b()(Mk,[["__scopeId","data-v-d72d6626"]]);var Ak=Dk;const zk=e=>(Object(i["pushScopeId"])("data-v-5fba3eec"),e=e(),Object(i["popScopeId"])(),e),Fk={class:"presenter-view"},$k={class:"toolbar"},Rk=zk(()=>Object(i["createElementVNode"])("span",null,"普通视图",-1)),Pk=zk(()=>Object(i["createElementVNode"])("span",null,"画笔",-1)),Hk=zk(()=>Object(i["createElementVNode"])("span",null,"激光笔",-1)),Uk=zk(()=>Object(i["createElementVNode"])("span",null,"结束放映",-1)),qk={class:"content"},Gk=["onClick"],Yk={class:"remark"},Xk={class:"header"},Zk=zk(()=>Object(i["createElementVNode"])("span",null,"演讲者备注",-1)),Wk=["innerHTML"],Jk={class:"remark-scale"};var Qk=Object(i["defineComponent"])({__name:"PresenterView",props:{changeViewMode:{type:Function,required:!0}},setup(e){const t=e,{slides:l,slideIndex:o,viewportRatio:c,currentSlide:r}=Object(a["c"])(Object(n["e"])()),s=Object(i["ref"])(),d=Object(i["ref"])(),u=Object(i["ref"])(!1),b=Object(i["ref"])(!1),{mousewheelListener:m,touchStartListener:p,touchEndListener:O,turnPrevSlide:j,turnNextSlide:f,turnSlideToIndex:v,turnSlideToId:h,animationIndex:y}=qx(),{slideWidth:g,slideHeight:x}=Gx(s),{exitScreening:k}=fl(),{slidesLoadLimit:C}=Tb(),{fullscreenState:N,manualExitFullscreen:E}=Yx(),w=Object(i["ref"])(16),V=Object(i["computed"])(()=>Yt(r.value.remark||"无备注")),I=e=>{d.value&&d.value.scrollBy(e.deltaY,0)},B=e=>{e<12||e>40||(w.value=e)};Object(i["watch"])(o,()=>{Object(i["nextTick"])(()=>{if(!d.value)return;const e=d.value.querySelector(".thumbnail.active");if(!e)return;const t=d.value.offsetWidth,l=e.offsetLeft;d.value.scrollTo({left:l-t/2,behavior:"smooth"})})});const S=()=>[{text:"上一页",subText:"↑ ←",disable:o.value<=0,handler:()=>j()},{text:"下一页",subText:"↓ →",disable:o.value>=l.value.length-1,handler:()=>f()},{text:"第一页",disable:0===o.value,handler:()=>v(0)},{text:"最后一页",disable:o.value===l.value.length-1,handler:()=>v(l.value.length-1)},{divider:!0},{text:"画笔工具",handler:()=>u.value=!0},{text:"普通视图",handler:()=>t.changeViewMode("base")},{divider:!0},{text:"结束放映",subText:"ESC",handler:k}];return(t,n)=>{const a=Object(i["resolveComponent"])("IconListView"),r=Object(i["resolveComponent"])("IconWrite"),j=Object(i["resolveComponent"])("IconMagic"),f=Object(i["resolveComponent"])("IconOffScreenOne"),L=Object(i["resolveComponent"])("Divider"),_=Object(i["resolveComponent"])("IconPower"),T=Object(i["resolveComponent"])("IconMinus"),M=Object(i["resolveComponent"])("IconPlus"),D=Object(i["resolveDirective"])("contextmenu");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Fk,[Object(i["createElementVNode"])("div",$k,[Object(i["createElementVNode"])("div",{class:"tool-btn",onClick:n[0]||(n[0]=t=>e.changeViewMode("base"))},[Object(i["createVNode"])(a,{class:"tool-icon"}),Rk]),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["tool-btn",{active:u.value}]),onClick:n[1]||(n[1]=e=>u.value=!u.value)},[Object(i["createVNode"])(r,{class:"tool-icon"}),Pk],2),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["tool-btn",{active:b.value}]),onClick:n[2]||(n[2]=e=>b.value=!b.value)},[Object(i["createVNode"])(j,{class:"tool-icon"}),Hk],2),Object(i["createElementVNode"])("div",{class:"tool-btn",onClick:n[3]||(n[3]=()=>Object(i["unref"])(N)?Object(i["unref"])(E)():Object(i["unref"])(pl)())},[Object(i["unref"])(N)?(Object(i["openBlock"])(),Object(i["createBlock"])(f,{key:0,class:"tool-icon"})):(Object(i["openBlock"])(),Object(i["createBlock"])(f,{key:1,class:"tool-icon"})),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(Object(i["unref"])(N)?"退出全屏":"全屏"),1)]),Object(i["createVNode"])(L,{class:"divider"}),Object(i["createElementVNode"])("div",{class:"tool-btn",onClick:n[4]||(n[4]=e=>Object(i["unref"])(k)())},[Object(i["createVNode"])(_,{class:"tool-icon"}),Uk])]),Object(i["createElementVNode"])("div",qk,[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["slide-list-wrap",{"laser-pen":b.value}]),ref_key:"slideListWrapRef",ref:s},[Object(i["withDirectives"])(Object(i["createVNode"])(Ok,{slideWidth:Object(i["unref"])(g),slideHeight:Object(i["unref"])(x),animationIndex:Object(i["unref"])(y),turnSlideToId:Object(i["unref"])(h),manualExitFullscreen:Object(i["unref"])(E),onWheel:n[5]||(n[5]=e=>Object(i["unref"])(m)(e)),onTouchstart:n[6]||(n[6]=e=>Object(i["unref"])(p)(e)),onTouchend:n[7]||(n[7]=e=>Object(i["unref"])(O)(e))},null,8,["slideWidth","slideHeight","animationIndex","turnSlideToId","manualExitFullscreen"]),[[D,S]]),u.value?(Object(i["openBlock"])(),Object(i["createBlock"])(Lk,{key:0,slideWidth:Object(i["unref"])(g),slideHeight:Object(i["unref"])(x),position:{left:"75px",top:"5px"},onClose:n[8]||(n[8]=e=>u.value=!1)},null,8,["slideWidth","slideHeight"])):Object(i["createCommentVNode"])("",!0)],2),Object(i["createElementVNode"])("div",{class:"thumbnails",ref_key:"thumbnailsRef",ref:d,onWheel:n[9]||(n[9]=Object(i["withModifiers"])(e=>I(e),["prevent"]))},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(l),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["thumbnail",{active:t===Object(i["unref"])(o)}]),key:e.id,onClick:e=>Object(i["unref"])(v)(t)},[Object(i["createVNode"])(kd,{slide:e,size:120/Object(i["unref"])(c),visible:t<Object(i["unref"])(C)},null,8,["slide","size","visible"])],10,Gk))),128))],544)]),Object(i["createElementVNode"])("div",Yk,[Object(i["createElementVNode"])("div",Xk,[Zk,Object(i["createElementVNode"])("span",null,"P "+Object(i["toDisplayString"])(Object(i["unref"])(o)+1)+" / "+Object(i["toDisplayString"])(Object(i["unref"])(l).length),1)]),Object(i["createElementVNode"])("div",{class:"remark-content",style:Object(i["normalizeStyle"])({fontSize:w.value+"px"}),innerHTML:Object(i["unref"])(V)},null,12,Wk),Object(i["createElementVNode"])("div",Jk,[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["scale-btn",{disable:12===w.value}]),onClick:n[10]||(n[10]=e=>B(w.value-2))},[Object(i["createVNode"])(T)],2),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["scale-btn",{disable:40===w.value}]),onClick:n[11]||(n[11]=e=>B(w.value+2))},[Object(i["createVNode"])(M)],2)])])])}}});l("7a60");const Kk=b()(Qk,[["__scopeId","data-v-5fba3eec"]]);var eC=Kk;const tC={class:"pptist-screen"};var lC=Object(i["defineComponent"])({__name:"index",setup(e){const t=Object(i["ref"])("base"),l=e=>{t.value=e},{exitScreening:o}=fl(),c=e=>{const t=e.key.toUpperCase();t===Ht.ESC&&o()};return Object(i["onMounted"])(()=>document.addEventListener("keydown",c)),Object(i["onUnmounted"])(()=>document.removeEventListener("keydown",c)),(e,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",tC,["base"===t.value?(Object(i["openBlock"])(),Object(i["createBlock"])(Ak,{key:0,changeViewMode:l})):"presenter"===t.value?(Object(i["openBlock"])(),Object(i["createBlock"])(eC,{key:1,changeViewMode:l})):Object(i["createCommentVNode"])("",!0)]))}});l("4764");const oC=b()(lC,[["__scopeId","data-v-6bf3d190"]]);var cC=oC,nC=Object(i["defineComponent"])({__name:"MobileEditableElement",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},selectElement:{type:Function,required:!0}},setup(e){const t=e,l=Object(i["computed"])(()=>{const e={[Qt.IMAGE]:yc,[Qt.TEXT]:_n,[Qt.SHAPE]:Zn,[Qt.LINE]:aa,[Qt.CHART]:ja,[Qt.TABLE]:Da,[Qt.LATEX]:Pa,[Qt.VIDEO]:hr,[Qt.AUDIO]:Rr};return e[t.elementInfo.type]||null});return(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"mobile-editable-element",style:Object(i["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(Object(i["unref"])(l)),{elementInfo:e.elementInfo,selectElement:e.selectElement,contextmenus:()=>null},null,8,["elementInfo","selectElement","contextmenus"]))],4))}});const aC=nC;var rC=aC,iC=Object(i["defineComponent"])({__name:"MobileOperate",props:{elementInfo:{type:Object,required:!0},isSelected:{type:Boolean,required:!0},canvasScale:{type:Number,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,l=Object(i["computed"])(()=>"rotate"in t.elementInfo?t.elementInfo.rotate:0),o=Object(i["computed"])(()=>t.elementInfo.width*t.canvasScale),c=Object(i["computed"])(()=>t.elementInfo.height*t.canvasScale),{borderLines:n,resizeHandlers:a,textElementResizeHandlers:r}=ji(o,c),s="text"===t.elementInfo.type||"table"===t.elementInfo.type?r:a;return(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"mobile-operate",style:Object(i["normalizeStyle"])({top:e.elementInfo.top*e.canvasScale+"px",left:e.elementInfo.left*e.canvasScale+"px",transform:`rotate(${Object(i["unref"])(l)}deg)`,transformOrigin:`${e.elementInfo.width*e.canvasScale/2}px ${e.elementInfo.height*e.canvasScale/2}px`})},[e.isSelected?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(n),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(xi,{class:"operate-border-line",key:e.type,type:e.type,style:Object(i["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(s),t=>(Object(i["openBlock"])(),Object(i["createBlock"])(hi,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(i["normalizeStyle"])(t.style),onTouchstart:Object(i["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onTouchstart"]))),128))],64)):Object(i["createCommentVNode"])("",!0)],4))}});l("dd03");const sC=b()(iC,[["__scopeId","data-v-7fdc6c04"]]);var dC=sC;const uC={class:"mobile-thumbnails"},bC=["onClick"],mC={class:"label"};var pC=Object(i["defineComponent"])({__name:"MobileThumbnails",setup(e){const t=Object(n["e"])(),{slides:l,slideIndex:o}=Object(a["c"])(t),{slidesLoadLimit:c}=Tb(),r=e=>{t.updateSlideIndex(e)};return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",uC,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(l),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["thumbnail-item",{active:Object(i["unref"])(o)===t}]),key:e.id,onClick:e=>r(t)},[Object(i["createElementVNode"])("div",mC,Object(i["toDisplayString"])(t+1),1),Object(i["createVNode"])(kd,{class:"thumbnail",slide:e,size:120,visible:t<Object(i["unref"])(c)},null,8,["slide","visible"])],10,bC))),128))]))}});l("dd28");const OC=b()(pC,[["__scopeId","data-v-4a0c7aa7"]]);var jC=OC;const fC={class:"slide-toolbar"},vC={class:"remark"},hC=["value"],yC={class:"toolbar"},gC=Object(i["createTextVNode"])(" 新幻灯片"),xC=Object(i["createTextVNode"])(" 复制"),kC=Object(i["createTextVNode"])(" 删除"),CC=Object(i["createTextVNode"])(" 文字"),NC=Object(i["createTextVNode"])("图片 "),EC=Object(i["createTextVNode"])(" 矩形"),wC=Object(i["createTextVNode"])(" 圆形");var VC=Object(i["defineComponent"])({__name:"SlideToolbar",setup(e){const t=Object(n["e"])(),{viewportRatio:l,currentSlide:o}=Object(a["c"])(t),{createSlide:c,copyAndPasteSlide:r,deleteSlide:s}=al(),{createTextElement:d,createImageElement:u,createShapeElement:b}=ol(),m=()=>{const e=400,t=56;d({left:(Wt-e)/2,top:(Wt*l.value-t)/2,width:e,height:t},"<p>新添加文本</p>")},p=e=>{e&&e[0]&&Zt(e[0]).then(e=>u(e))},O=e=>{const t={viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z"},o={viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z"},c={square:t,round:o},n=200;b({left:(Wt-n)/2,top:(Wt*l.value-n)/2,width:n,height:n},c[e])},j=Object(i["computed"])(()=>{var e;return(null===(e=o.value)||void 0===e?void 0:e.remark)||""}),f=e=>{const l=e.target.value;t.updateSlide({remark:l})};return(e,t)=>{const l=Object(i["resolveComponent"])("IconPlus"),o=Object(i["resolveComponent"])("Button"),n=Object(i["resolveComponent"])("IconCopy"),a=Object(i["resolveComponent"])("IconDelete"),d=Object(i["resolveComponent"])("ButtonGroup"),u=Object(i["resolveComponent"])("IconFontSize"),b=Object(i["resolveComponent"])("IconPicture"),v=Object(i["resolveComponent"])("FileInput"),h=Object(i["resolveComponent"])("IconSquare"),y=Object(i["resolveComponent"])("IconRound");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",fC,[Object(i["createElementVNode"])("div",vC,[Object(i["createElementVNode"])("textarea",{value:Object(i["unref"])(j),placeholder:"点击输入演讲者备注",onInput:t[0]||(t[0]=e=>f(e))},null,40,hC)]),Object(i["createElementVNode"])("div",yC,[Object(i["createVNode"])(d,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{style:{flex:"1"},onClick:t[1]||(t[1]=e=>Object(i["unref"])(c)())},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(l,{class:"icon"}),gC]),_:1}),Object(i["createVNode"])(o,{style:{flex:"1"},onClick:t[2]||(t[2]=e=>Object(i["unref"])(r)())},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{class:"icon"}),xC]),_:1}),Object(i["createVNode"])(o,{style:{flex:"1"},onClick:t[3]||(t[3]=e=>Object(i["unref"])(s)())},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a,{class:"icon"}),kC]),_:1})]),_:1}),Object(i["createVNode"])(d,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o,{style:{flex:"1"},onClick:t[4]||(t[4]=e=>m())},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(u,{class:"icon"}),CC]),_:1}),Object(i["createVNode"])(o,{style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(v,{onChange:t[5]||(t[5]=e=>p(e))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(b,{class:"icon"}),NC]),_:1})]),_:1}),Object(i["createVNode"])(o,{style:{flex:"1"},onClick:t[6]||(t[6]=e=>O("square"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(h,{class:"icon"}),EC]),_:1}),Object(i["createVNode"])(o,{style:{flex:"1"},onClick:t[7]||(t[7]=e=>O("round"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(y,{class:"icon"}),wC]),_:1})]),_:1})]),Object(i["createVNode"])(jC)])}}});l("e62b");const IC=b()(VC,[["__scopeId","data-v-5c24a24d"]]);var BC=IC;const SC=e=>(Object(i["pushScopeId"])("data-v-446388c6"),e=e(),Object(i["popScopeId"])(),e),LC={class:"element-toolbar"},_C={class:"tabs"},TC=["onClick"],MC={class:"content"},DC={key:0,class:"style"},AC=Object(i["createTextVNode"])("+"),zC=Object(i["createTextVNode"])("-"),FC={class:"row-block"},$C=SC(()=>Object(i["createElementVNode"])("div",{class:"label"},"文字颜色：",-1)),RC={class:"colors"},PC=["onClick"],HC={class:"row-block"},UC=SC(()=>Object(i["createElementVNode"])("div",{class:"label"},"填充色：",-1)),qC={class:"colors"},GC=["onClick"],YC={key:1,class:"common"},XC=Object(i["createTextVNode"])(" 复制"),ZC=Object(i["createTextVNode"])(" 删除"),WC=Object(i["createTextVNode"])(" 置顶"),JC=Object(i["createTextVNode"])(" 置底"),QC=Object(i["createTextVNode"])(" 上移"),KC=Object(i["createTextVNode"])(" 下移"),eN=Object(i["createTextVNode"])(" 左对齐"),tN=Object(i["createTextVNode"])(" 水平居中"),lN=Object(i["createTextVNode"])(" 右对齐"),oN=Object(i["createTextVNode"])(" 上对齐"),cN=Object(i["createTextVNode"])(" 垂直居中"),nN=Object(i["createTextVNode"])(" 下对齐");var aN=Object(i["defineComponent"])({__name:"ElementToolbar",setup(e){const t=["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c","#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57"],l=Object(n["c"])(),o=Object(n["e"])(),{handleElement:c,handleElementId:r,richTextAttrs:s}=Object(a["c"])(l),{addHistorySnapshot:d}=Object(ll["a"])(),u=(e,t)=>{o.updateElement({id:e,props:t}),d()},b=[{key:"style",label:"样式"},{key:"common",label:"布局"}],m=Object(i["ref"])("common"),{orderElement:p}=ml(),{alignElementToCanvas:O}=_o(),{addElementsFromData:j}=Object(cl["a"])(),{deleteElement:f}=il(),v=()=>{const e=JSON.parse(JSON.stringify(c.value));j([e])},h=(e,t)=>{fn.emit(mn.RICH_TEXT_COMMAND,{action:{command:e,value:t}})},y=e=>{var t;if(c.value){if(("text"===c.value.type||"shape"===c.value.type&&null!==(t=c.value.text)&&void 0!==t&&t.content)&&fn.emit(mn.RICH_TEXT_COMMAND,{action:{command:"color",value:e}}),"table"===c.value.type){const t=JSON.parse(JSON.stringify(c.value.data));for(let l=0;l<t.length;l++)for(let o=0;o<t[l].length;o++){const c=t[l][o].style||{};t[l][o].style={...c,color:e}}u(r.value,{data:t})}"latex"===c.value.type&&u(r.value,{color:e})}},g=e=>{if(c.value){if("text"!==c.value.type&&"shape"!==c.value.type&&"chart"!==c.value.type||u(r.value,{fill:e}),"table"===c.value.type){const t=JSON.parse(JSON.stringify(c.value.data));for(let l=0;l<t.length;l++)for(let o=0;o<t[l].length;o++){const c=t[l][o].style||{};t[l][o].style={...c,backcolor:e}}u(r.value,{data:t})}"audio"===c.value.type&&u(r.value,{color:e})}};return(e,l)=>{const o=Object(i["resolveComponent"])("IconTextBold"),n=Object(i["resolveComponent"])("CheckboxButton"),a=Object(i["resolveComponent"])("IconTextItalic"),r=Object(i["resolveComponent"])("IconTextUnderline"),d=Object(i["resolveComponent"])("IconStrikethrough"),u=Object(i["resolveComponent"])("CheckboxButtonGroup"),j=Object(i["resolveComponent"])("IconFontSize"),x=Object(i["resolveComponent"])("Button"),k=Object(i["resolveComponent"])("ButtonGroup"),C=Object(i["resolveComponent"])("Divider"),N=Object(i["resolveComponent"])("IconAlignTextLeft"),E=Object(i["resolveComponent"])("RadioButton"),w=Object(i["resolveComponent"])("IconAlignTextCenter"),V=Object(i["resolveComponent"])("IconAlignTextRight"),I=Object(i["resolveComponent"])("RadioGroup"),B=Object(i["resolveComponent"])("IconCopy"),S=Object(i["resolveComponent"])("IconDelete"),L=Object(i["resolveComponent"])("IconSendToBack"),_=Object(i["resolveComponent"])("IconBringToFrontOne"),T=Object(i["resolveComponent"])("IconBringToFront"),M=Object(i["resolveComponent"])("IconSentToBack"),D=Object(i["resolveComponent"])("IconAlignLeft"),A=Object(i["resolveComponent"])("IconAlignVertically"),z=Object(i["resolveComponent"])("IconAlignRight"),F=Object(i["resolveComponent"])("IconAlignTop"),$=Object(i["resolveComponent"])("IconAlignHorizontally"),R=Object(i["resolveComponent"])("IconAlignBottom");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",LC,[Object(i["createElementVNode"])("div",_C,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(b,e=>Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["tab",{active:m.value===e.key}]),key:e.key,onClick:t=>m.value=e.key},Object(i["toDisplayString"])(e.label),11,TC)),64))]),Object(i["createElementVNode"])("div",MC,["style"===m.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",DC,[Object(i["createVNode"])(u,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(n,{style:{flex:"1"},checked:Object(i["unref"])(s).bold,onClick:l[0]||(l[0]=e=>h("bold"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(o)]),_:1},8,["checked"]),Object(i["createVNode"])(n,{style:{flex:"1"},checked:Object(i["unref"])(s).em,onClick:l[1]||(l[1]=e=>h("em"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(a)]),_:1},8,["checked"]),Object(i["createVNode"])(n,{style:{flex:"1"},checked:Object(i["unref"])(s).underline,onClick:l[2]||(l[2]=e=>h("underline"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(r)]),_:1},8,["checked"]),Object(i["createVNode"])(n,{style:{flex:"1"},checked:Object(i["unref"])(s).strikethrough,onClick:l[3]||(l[3]=e=>h("strikethrough"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(d)]),_:1},8,["checked"])]),_:1}),Object(i["createVNode"])(k,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(x,{style:{flex:"2"},onClick:l[4]||(l[4]=e=>h("fontsize-add"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(j),AC]),_:1}),Object(i["createVNode"])(x,{style:{flex:"2"},onClick:l[5]||(l[5]=e=>h("fontsize-reduce"))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(j),zC]),_:1})]),_:1}),Object(i["createVNode"])(C,{style:{margin:"20px 0"}}),Object(i["createVNode"])(I,{class:"row","button-style":"solid",value:Object(i["unref"])(s).align,onChange:l[6]||(l[6]=e=>h("align",e.target.value))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(E,{value:"left",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(N)]),_:1}),Object(i["createVNode"])(E,{value:"center",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(w)]),_:1}),Object(i["createVNode"])(E,{value:"right",style:{flex:"1"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(V)]),_:1})]),_:1},8,["value"]),Object(i["createVNode"])(C,{style:{margin:"20px 0"}}),Object(i["createElementVNode"])("div",FC,[$C,Object(i["createElementVNode"])("div",RC,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t,e=>Object(i["createElementVNode"])("div",{class:"color",key:e,onClick:t=>y(e)},[Object(i["createElementVNode"])("div",{class:"color-block",style:Object(i["normalizeStyle"])({backgroundColor:e})},null,4)],8,PC)),64))])]),Object(i["createElementVNode"])("div",HC,[UC,Object(i["createElementVNode"])("div",qC,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t,e=>Object(i["createElementVNode"])("div",{class:"color",key:e,onClick:t=>g(e)},[Object(i["createElementVNode"])("div",{class:"color-block",style:Object(i["normalizeStyle"])({backgroundColor:e})},null,4)],8,GC)),64))])])])):Object(i["createCommentVNode"])("",!0),"common"===m.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",YC,[Object(i["createVNode"])(k,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(x,{style:{flex:"1"},onClick:l[7]||(l[7]=e=>v())},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(B,{class:"icon"}),XC]),_:1}),Object(i["createVNode"])(x,{style:{flex:"1"},onClick:l[8]||(l[8]=e=>Object(i["unref"])(f)())},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(S,{class:"icon"}),ZC]),_:1})]),_:1}),Object(i["createVNode"])(C,{style:{margin:"20px 0"}}),Object(i["createVNode"])(k,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(x,{style:{flex:"1"},onClick:l[9]||(l[9]=e=>Object(i["unref"])(p)(Object(i["unref"])(c),Object(i["unref"])(zt).TOP))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(L,{class:"icon"}),WC]),_:1}),Object(i["createVNode"])(x,{style:{flex:"1"},onClick:l[10]||(l[10]=e=>Object(i["unref"])(p)(Object(i["unref"])(c),Object(i["unref"])(zt).BOTTOM))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(_,{class:"icon"}),JC]),_:1}),Object(i["createVNode"])(x,{style:{flex:"1"},onClick:l[11]||(l[11]=e=>Object(i["unref"])(p)(Object(i["unref"])(c),Object(i["unref"])(zt).UP))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(T,{class:"icon"}),QC]),_:1}),Object(i["createVNode"])(x,{style:{flex:"1"},onClick:l[12]||(l[12]=e=>Object(i["unref"])(p)(Object(i["unref"])(c),Object(i["unref"])(zt).DOWN))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(M,{class:"icon"}),KC]),_:1})]),_:1}),Object(i["createVNode"])(C,{style:{margin:"20px 0"}}),Object(i["createVNode"])(k,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(x,{style:{flex:"1"},onClick:l[13]||(l[13]=e=>Object(i["unref"])(O)(Object(i["unref"])(Ft).LEFT))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(D,{class:"icon"}),eN]),_:1}),Object(i["createVNode"])(x,{style:{flex:"1"},onClick:l[14]||(l[14]=e=>Object(i["unref"])(O)(Object(i["unref"])(Ft).HORIZONTAL))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(A,{class:"icon"}),tN]),_:1}),Object(i["createVNode"])(x,{style:{flex:"1"},onClick:l[15]||(l[15]=e=>Object(i["unref"])(O)(Object(i["unref"])(Ft).RIGHT))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(z,{class:"icon"}),lN]),_:1})]),_:1}),Object(i["createVNode"])(k,{class:"row"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(x,{style:{flex:"1"},onClick:l[16]||(l[16]=e=>Object(i["unref"])(O)(Object(i["unref"])(Ft).TOP))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(F,{class:"icon"}),oN]),_:1}),Object(i["createVNode"])(x,{style:{flex:"1"},onClick:l[17]||(l[17]=e=>Object(i["unref"])(O)(Object(i["unref"])(Ft).VERTICAL))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])($,{class:"icon"}),cN]),_:1}),Object(i["createVNode"])(x,{style:{flex:"1"},onClick:l[18]||(l[18]=e=>Object(i["unref"])(O)(Object(i["unref"])(Ft).BOTTOM))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(R,{class:"icon"}),nN]),_:1})]),_:1})])):Object(i["createCommentVNode"])("",!0)])])}}});l("1c65");const rN=b()(aN,[["__scopeId","data-v-446388c6"]]);var iN=rN;const sN={class:"mobile-editor-header"},dN={class:"history"},uN=Object(i["createTextVNode"])(" 撤销"),bN=Object(i["createTextVNode"])(" 重做"),mN=Object(i["createTextVNode"])(" 退出编辑");var pN=Object(i["defineComponent"])({__name:"Header",props:{changeMode:{type:Function,required:!0}},setup(e){const{canUndo:t,canRedo:l}=Object(a["c"])(Object(n["f"])()),{redo:o,undo:c}=Object(ll["a"])();return(n,a)=>{const r=Object(i["resolveComponent"])("IconBack"),s=Object(i["resolveComponent"])("IconNext"),d=Object(i["resolveComponent"])("IconLogout");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",sN,[Object(i["createElementVNode"])("div",dN,[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["history-item",{disable:!Object(i["unref"])(t)}]),onClick:a[0]||(a[0]=Object(i["withModifiers"])(e=>Object(i["unref"])(c)(),["stop"]))},[Object(i["createVNode"])(r),uN],2),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["history-item",{disable:!Object(i["unref"])(l)}]),onClick:a[1]||(a[1]=Object(i["withModifiers"])(e=>Object(i["unref"])(o)(),["stop"]))},[Object(i["createVNode"])(s),bN],2)]),Object(i["createElementVNode"])("div",{class:"back",onClick:a[2]||(a[2]=t=>e.changeMode("preview"))},[Object(i["createVNode"])(d),mN])])}}});l("601c");const ON=b()(pN,[["__scopeId","data-v-8639f30e"]]);var jN=ON;const fN={class:"mobile-editor"};var vN=Object(i["defineComponent"])({__name:"index",props:{changeMode:{type:Function,required:!0}},setup(e){const t=Object(n["e"])(),l=Object(n["c"])(),{slideIndex:o,currentSlide:c,viewportRatio:r}=Object(a["c"])(t),{activeElementIdList:s,handleElement:d}=Object(a["c"])(l),u=Object(i["ref"])(),b=Object(i["ref"])([]),m=Object(i["computed"])(()=>c.value.background),{backgroundStyle:p}=ei(m),O=Object(i["computed"])(()=>{if(!u.value)return 1;const e=u.value.clientWidth,t=u.value.clientHeight,l=t/e;return l>=r.value?(e-20)/Wt:(t-20)/r.value/Wt});Object(i["onMounted"])(()=>{s.value.length&&l.setActiveElementIdList([]),0!==o.value&&t.updateSlideIndex(0)});const j=Object(i["computed"])(()=>({width:Wt*O.value+"px",height:Wt*r.value*O.value+"px"})),f=Object(i["ref"])([]),v=()=>{f.value=c.value?JSON.parse(JSON.stringify(c.value.elements)):[]};Object(i["watchEffect"])(v);const{dragElement:h}=Io(f,b,O),{scaleElement:y}=wo(f,b,O),g=(e,t,o=!0)=>{s.value.includes(t.id)||(l.setActiveElementIdList([t.id]),l.setHandleElementId(t.id)),o&&h(e,t)},x=()=>{l.setActiveElementIdList([])};return(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",fN,[Object(i["createVNode"])(jN,{changeMode:e.changeMode},null,8,["changeMode"]),Object(i["createElementVNode"])("div",{class:"content",ref_key:"contentRef",ref:u,onTouchstart:l[0]||(l[0]=e=>x())},[Object(i["createElementVNode"])("div",{class:"viewport-wrapper",style:Object(i["normalizeStyle"])(Object(i["unref"])(j))},[Object(i["createElementVNode"])("div",{class:"background",style:Object(i["normalizeStyle"])(Object(i["unref"])(p))},null,4),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(b.value,(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(ai,{key:t,type:e.type,axis:e.axis,length:e.length,canvasScale:Object(i["unref"])(O)},null,8,["type","axis","length","canvasScale"]))),128)),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(f.value,e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:e.id},["line"!==e.type?(Object(i["openBlock"])(),Object(i["createBlock"])(dC,{key:0,elementInfo:e,isSelected:Object(i["unref"])(s).includes(e.id),canvasScale:Object(i["unref"])(O),scaleElement:Object(i["unref"])(y)},null,8,["elementInfo","isSelected","canvasScale","scaleElement"])):Object(i["createCommentVNode"])("",!0)],64))),128)),Object(i["createElementVNode"])("div",{class:"viewport",style:Object(i["normalizeStyle"])({transform:`scale(${Object(i["unref"])(O)})`})},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(f.value,(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(rC,{key:e.id,elementInfo:e,elementIndex:t+1,selectElement:g},null,8,["elementInfo","elementIndex"]))),128))],4)],4)],544),Object(i["createVNode"])(BC),Object(i["unref"])(d)?(Object(i["openBlock"])(),Object(i["createBlock"])(iN,{key:0})):Object(i["createCommentVNode"])("",!0)]))}});l("2d86");const hN=b()(vN,[["__scopeId","data-v-8cdcde82"]]);var yN=hN;const gN={class:"header"},xN=Object(i["createTextVNode"])(" 退出播放");var kN=Object(i["defineComponent"])({__name:"MobilePlayer",props:{changeMode:{type:Function,required:!0}},setup(e){const t=Object(n["e"])(),{slides:l,slideIndex:o,currentSlide:c,viewportRatio:r}=Object(a["c"])(t),s=Object(i["ref"])(!1),d=Object(i["ref"])({width:0,height:0});Object(i["onMounted"])(()=>{0!==o.value&&t.updateSlideIndex(0),d.value={width:document.body.clientHeight,height:document.body.clientWidth}});const u=Object(i["computed"])(()=>{const e=d.value.height/d.value.width;let t=0,l=0;return e>=r.value?(t=d.value.width,l=t*r.value):(l=d.value.height,t=l/r.value),{width:t,height:l}}),b=Object(i["ref"])(null),m=e=>{b.value={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}},p=e=>{if(!b.value)return;const c=Math.abs(b.value.y-e.changedTouches[0].pageY),n=e.changedTouches[0].pageX-b.value.x;Math.abs(n)>c&&Math.abs(n)>50&&(b.value=null,n<0&&o.value>0&&t.updateSlideIndex(o.value-1),n>0&&o.value<l.value.length-1&&t.updateSlideIndex(o.value+1))};return(t,n)=>{const a=Object(i["resolveComponent"])("IconLogout");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"mobile-player",style:Object(i["normalizeStyle"])({width:d.value.width+"px",height:d.value.height+"px",transform:`rotate(90deg) translateY(-${d.value.height}px)`})},[Object(i["createElementVNode"])("div",{class:"screen-slide-list",onClick:n[0]||(n[0]=e=>s.value=!s.value),onTouchstart:n[1]||(n[1]=e=>m(e)),onTouchend:n[2]||(n[2]=e=>p(e))},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(l),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["slide-item","turning-mode-"+(e.turningMode||"slideY"),{current:t===Object(i["unref"])(o),before:t<Object(i["unref"])(o),after:t>Object(i["unref"])(o),hide:(t===Object(i["unref"])(o)-1||t===Object(i["unref"])(o)+1)&&e.turningMode!==Object(i["unref"])(c).turningMode}]),key:e.id},[Math.abs(Object(i["unref"])(o)-t)<2?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"slide-content",style:Object(i["normalizeStyle"])({width:Object(i["unref"])(u).width+"px",height:Object(i["unref"])(u).height+"px"})},[Object(i["createVNode"])(kd,{slide:e,size:Object(i["unref"])(u).width},null,8,["slide","size"])],4)):Object(i["createCommentVNode"])("",!0)],2))),128))],32),s.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("div",gN,[Object(i["createElementVNode"])("div",{class:"back",onClick:n[3]||(n[3]=t=>e.changeMode("preview"))},[Object(i["createVNode"])(a),xN])]),Object(i["createVNode"])(jC,{class:"thumbnails"})],64)):Object(i["createCommentVNode"])("",!0)],4)}}});l("4f8b");const CN=b()(kN,[["__scopeId","data-v-5293de3b"]]);var NN=CN;const EN={class:"thumbnail-list"},wN={class:"menu"},VN=Object(i["createTextVNode"])(" 编辑"),IN=Object(i["createTextVNode"])(" 播放");var BN=Object(i["defineComponent"])({__name:"MobilePreview",props:{changeMode:{type:Function,required:!0}},setup(e){const{slides:t}=Object(a["c"])(Object(n["e"])()),{slidesLoadLimit:l}=Tb(),o=Object(i["ref"])(),c=Object(i["ref"])(0);return Object(i["onMounted"])(()=>{o.value&&(c.value=o.value.clientWidth)}),(n,a)=>{const r=Object(i["resolveComponent"])("IconEdit"),s=Object(i["resolveComponent"])("Divider"),d=Object(i["resolveComponent"])("IconFullScreenPlay");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"mobile-preview",ref_key:"mobileRef",ref:o},[Object(i["createElementVNode"])("div",EN,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(t),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"thumbnail-item",key:e.id},[Object(i["createVNode"])(kd,{slide:e,size:c.value-20,visible:t<Object(i["unref"])(l)},null,8,["slide","size","visible"])]))),128))]),Object(i["createElementVNode"])("div",wN,[Object(i["createElementVNode"])("div",{class:"menu-item",onClick:a[0]||(a[0]=t=>e.changeMode("editor"))},[Object(i["createVNode"])(r,{class:"icon"}),VN]),Object(i["createVNode"])(s,{type:"vertical",style:{height:"30px"}}),Object(i["createElementVNode"])("div",{class:"menu-item",onClick:a[1]||(a[1]=t=>e.changeMode("player"))},[Object(i["createVNode"])(d,{class:"icon"}),IN])])],512)}}});l("9670");const SN=b()(BN,[["__scopeId","data-v-6414f8a8"]]);var LN=SN;const _N={class:"mobile"};var TN=Object(i["defineComponent"])({__name:"index",setup(e){const t=Object(i["ref"])("preview"),l=e=>t.value=e,o=Object(i["computed"])(()=>{const e={editor:yN,player:NN,preview:LN};return e[t.value]||null});return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",_N,[(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(Object(i["unref"])(o)),{changeMode:l}))]))}});l("be01");const MN=b()(TN,[["__scopeId","data-v-1fb24d48"]]);var DN=MN,AN=Object(i["defineComponent"])({__name:"PptistEditor",setup(e){const t=At(),l=Object(n["c"])(),o=Object(n["f"])(),{databaseId:c}=Object(a["c"])(l),{screening:r}=Object(a["c"])(Object(n["d"])());return window.onbeforeunload=()=>!1,Object(i["onMounted"])(()=>{o.initSnapshotDatabase(),l.setAvailableFonts()}),window.addEventListener("unload",()=>{const e=localStorage.getItem(Tt["a"]),t=e?JSON.parse(e):[];t.push(c.value);const l=JSON.stringify(t);localStorage.setItem(Tt["a"],l)}),(e,l)=>Object(i["unref"])(r)?(Object(i["openBlock"])(),Object(i["createBlock"])(cC,{key:0})):Object(i["unref"])(t)?(Object(i["openBlock"])(),Object(i["createBlock"])(Ux,{key:1})):(Object(i["openBlock"])(),Object(i["createBlock"])(DN,{key:2}))}});l("aceb");const zN=AN;var FN=zN,$N=(l("0f78"),l("1220"));const RN=e=>(Object(i["pushScopeId"])("data-v-4691cd0c"),e=e(),Object(i["popScopeId"])(),e),PN={class:"join-invite-page"},HN={key:0,class:"invite-card"},UN={class:"content"},qN={class:"bold"},GN=RN(()=>Object(i["createElementVNode"])("span",null," 的 ",-1)),YN={class:"bold"},XN=RN(()=>Object(i["createElementVNode"])("div",null," 正在邀请你加入团队 ",-1)),ZN={key:0,class:"tips"},WN=Object(i["createTextVNode"])("加入团队");var JN=Object(i["defineComponent"])({__name:"JoinTeam",setup(e){const t=Object(o["c"])(),{inviteId:l}=t.params,r=Object(i["ref"])(),s=Object(i["ref"])(),d=Object(i["ref"])(),{loginState:u}=Object(a["c"])(Object(n["a"])());async function b(){const{team:e,invite:t}=await Object(O["f"])(l);r.value=e,s.value=t;const o=await Object(Fe["a"])(null===t||void 0===t?void 0:t.inviterUserId);d.value=o}function m(){$N["a"].confirm({title:"未登录",content:"加入团队前，请先登录账号",okText:"去登录",cancelText:"取消",centered:!0,onOk:()=>{localStorage.setItem("inviteId",l),lE.push({name:"login"})}})}async function p(){if(!u.value&&!localStorage.getItem("token"))return void m();const e=await Object(O["a"])(l);var t;e&&(De["a"].success("你已成功加入 "+(null===(t=r.value)||void 0===t?void 0:t.name)),setTimeout(()=>{var e;lE.push({path:"/team/"+(null===(e=r.value)||void 0===e?void 0:e.id)})},1e3))}return Object(i["onMounted"])(()=>{b()}),(e,t)=>{var l,o,n;const a=Object(i["resolveComponent"])("Avatar"),u=Object(i["resolveComponent"])("Button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",PN,[r.value&&s.value&&d.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",HN,[Object(i["createVNode"])(a,{size:100,src:null===(l=r.value)||void 0===l?void 0:l.logo,draggable:!1},null,8,["src"]),Object(i["createElementVNode"])("div",UN,[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("span",qN,Object(i["toDisplayString"])(null===(o=r.value)||void 0===o?void 0:o.name),1),GN,Object(i["createElementVNode"])("span",YN,Object(i["toDisplayString"])(Object(i["unref"])(c["a"])(d.value)),1)]),XN,null!==(n=s.value)&&void 0!==n&&n.outdateTimestamp?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ZN,"这个邀请链接将在 "+Object(i["toDisplayString"])(Math.ceil((s.value.outdateTimestamp-Date.now())/864e5))+" 天后过期",1)):Object(i["createCommentVNode"])("",!0)]),Object(i["createVNode"])(u,{type:"primary",class:"primary-btn-large",onClick:t[0]||(t[0]=e=>p())},{default:Object(i["withCtx"])(()=>[WN]),_:1})])):Object(i["createCommentVNode"])("",!0)])}}});l("3564");const QN=b()(JN,[["__scopeId","data-v-4691cd0c"]]);var KN=QN;const eE=Object(o["a"])({history:Object(o["b"])("/"),routes:[{name:"home",component:l.e("chunk-40567b6e").then(l.bind(null,"c937")),path:"/",meta:{title:""},children:[{component:Oe,path:"home"},{component:G,path:"team/:teamId"},{component:Bt,path:"member/:teamId"},...["data","recycle","setting","group","user"].map(e=>({component:ge,path:e+"/:teamId"}))]},{component:_t,path:"/createDocs",name:"createDocs",meta:{title:"新建文档"}},{component:FN,path:"/editor/:id",meta:{title:"文档"}},{name:"login",path:"/login",component:p,meta:{title:"登录中..."}},{name:"join-team",path:"/join-team/:inviteId",component:KN,meta:{title:"加入团队"}}]}),tE=["login","join-team"];eE.beforeEach((e,t,l)=>{const{user:o}=Object(a["c"])(Object(n["a"])());var i;if(tE.includes(null===e||void 0===e?void 0:e.name))return null!==e&&void 0!==e&&null!==(i=e.meta)&&void 0!==i&&i.title&&r(e.meta.title),void l();c["b"].getUserInfo().then(t=>{var c;t?(o.value=t,null!==e&&void 0!==e&&null!==(c=e.meta)&&void 0!==c&&c.title&&r(e.meta.title),l()):l({name:"login"})}).catch(e=>{l({name:"login"})})});var lE=t["a"]=eE},"4f60":function(e,t,l){"use strict";l("731d")},"4f8b":function(e,t,l){"use strict";l("3637")},5018:function(e,t,l){},"503e":function(e,t,l){},"528c":function(e,t,l){"use strict";l("bd22")},"52aa":function(e,t,l){},5416:function(e,t,l){},"555f":function(e,t,l){},5619:function(e,t,l){},5634:function(e,t,l){"use strict";l("8604")},5688:function(e,t,l){"use strict";l("5ee9")},"56d8":function(e,t,l){"use strict";l("4ab6")},"573c":function(e,t,l){"use strict";l("5df5")},5828:function(e,t,l){},"58de":function(e,t,l){"use strict";l("37ad")},"58eb":function(e,t,l){"use strict";l("129f")},"58ff":function(e,t,l){"use strict";l("4435")},5952:function(e,t,l){},5970:function(e,t,l){"use strict";l("9601")},5977:function(e,t,l){"use strict";l("75ad")},"597f":function(e,t,l){"use strict";l("0976")},"59bb":function(e,t,l){"use strict";l("c367")},"5a58":function(e,t,l){"use strict";l("0fcb")},"5b8a":function(e,t,l){},"5b9c":function(e,t,l){},"5d4b":function(e,t,l){"use strict";l("2e7d")},"5d81":function(e,t,l){"use strict";var o=l("518b"),c=l("5a11"),n=l("0613"),a=l("806f"),r=l("0a20");t["a"]=()=>{const e=Object(n["c"])(),t=Object(n["e"])(),{currentSlide:l}=Object(o["c"])(t),{addHistorySnapshot:i}=Object(r["a"])(),s=o=>{const{groupIdMap:c,elIdMap:n}=Object(a["a"])(o),r=l.value.elements.map(e=>e.id);for(const e of o){const t=r.includes(e.id);e.id=n[e.id],t&&(e.left=e.left+10,e.top=e.top+10),e.groupId&&(e.groupId=c[e.groupId])}t.addElement(o),e.setActiveElementIdList(Object.values(n)),i()},d=e=>{const l=e.map(e=>{const{groupIdMap:t,elIdMap:l}=Object(a["a"])(e.elements);for(const o of e.elements)o.id=l[o.id],o.groupId&&(o.groupId=t[o.groupId]);if(e.animations)for(const o of e.animations)o.id=Object(c["b"])(10),o.elId=l[o.elId];return{...e,id:Object(c["b"])(10)}});t.addSlide(l),i()};return{addElementsFromData:s,addSlidesFromData:d}}},"5dd9":function(e,t,l){"use strict";l("b8e1")},"5df5":function(e,t,l){},"5dfd":function(e,t,l){},"5ee9":function(e,t,l){},"5fa4":function(e,t,l){"use strict";l("c5c5")},"601c":function(e,t,l){"use strict";l("62fc")},"614e":function(e,t,l){"use strict";l("777a")},"629d":function(e,t,l){},"62fc":function(e,t,l){},"64e5":function(e,t,l){},"65f2":function(e,t,l){},"679c":function(e,t,l){"use strict";l("5828")},"6b66":function(e,t,l){},"6bca":function(e,t,l){"use strict";l.d(t,"b",(function(){return c})),l.d(t,"a",(function(){return n})),l.d(t,"d",(function(){return a})),l.d(t,"e",(function(){return s})),l.d(t,"h",(function(){return O})),l.d(t,"g",(function(){return v})),l.d(t,"f",(function(){return h})),l.d(t,"c",(function(){return y}));var o=l("ce1c");const c=e=>{const{empty:t}=e.state.selection;t&&Object(o["d"])(e.state,e.dispatch)},n=(e,t,l)=>{if(l)e.dispatch(e.state.tr.addMark(l.from,l.to,t));else{const{$from:l,$to:o}=e.state.selection;e.dispatch(e.state.tr.addMark(l.pos,o.pos,t))}},a=(e,t,l,o)=>{let c=t;const n=e=>e.type===o;let a=null,r=null,i=null;while(c<=l){const t=e.nodeAt(c);if(!t||!t.marks)return null;const l=t.marks.find(n);if(!l)return null;if(a&&l!==a)return null;r=r||t,a=a||l,i=t,c++}let s=t,d=l,u=0;c=t-1;while(c>u){const t=e.nodeAt(c),l=t&&t.marks.find(n);if(!l||l!==a)break;s=c,r=t,c--}c=l+1,u=e.nodeSize-2;while(c<u){const t=e.nodeAt(c),l=t&&t.marks.find(n);if(!l||l!==a)break;d=c,i=t,c++}return{mark:a,from:{node:r,pos:s},to:{node:i,pos:d}}},r=(e,t)=>Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e,i=(e,t)=>{for(let l=e.depth;l>0;l--){const o=e.node(l);if(t(o))return{pos:l>0?e.before(l):0,start:e.start(l),depth:l,node:o}}},s=e=>t=>i(t.$from,e),d=e=>t=>s(t=>r(e,t))(t),u=(e,t)=>{const l=t.schema.nodes[e];return!!d(l)(t.selection)},b=e=>{var t,l;const{selection:o,doc:c}=e.state,{from:n}=o;let a=c.nodeAt(n)||c.nodeAt(n-1);return null!==(t=a)&&void 0!==t&&t.lastChild&&(a=a.lastChild),(null===(l=a)||void 0===l?void 0:l.marks)||[]},m=(e,t,l)=>{for(const o of e)if(o.type.name===t&&o.attrs[l])return o.attrs[l];return null},p=(e,t)=>{for(const l of e)if(l.type.name===t)return!0;return!1},O=(e,t)=>{const{from:l,$from:o,to:c,empty:n}=e.selection;return n?t.isInSet(e.storedMarks||o.marks()):e.doc.rangeHasMark(l,c,t)},j=(e,t)=>{const{selection:l,doc:o}=e.state,{from:c,to:n}=l;let a=!0,r="";return o.nodesBetween(c,n,e=>(a&&e.attrs[t]&&(a=!1,r=e.attrs[t]),a)),r},f={color:"#000",backcolor:"#000",fontsize:"20px",fontname:"微软雅黑",align:"left"},v=(e,t={})=>{t={...f,...t};const l=b(e),o=p(l,"strong"),c=p(l,"em"),n=p(l,"underline"),a=p(l,"strikethrough"),r=p(l,"superscript"),i=p(l,"subscript"),s=p(l,"code"),d=m(l,"forecolor","color")||t.color,O=m(l,"backcolor","backcolor")||t.backcolor,v=m(l,"fontsize","fontsize")||t.fontsize,h=m(l,"fontname","fontname")||t.fontname,y=m(l,"link","href")||"",g=j(e,"align")||t.align,x=u("bullet_list",e.state),k=u("ordered_list",e.state),C=u("blockquote",e.state);return{bold:o,em:c,underline:n,strikethrough:a,superscript:r,subscript:i,code:s,color:d,backcolor:O,fontsize:v,fontname:h,link:y,align:g,bulletList:x,orderedList:k,blockquote:C}},h=e=>{const t=b(e),l=m(t,"fontsize","fontsize")||f.fontsize;return parseInt(l)},y={bold:!1,em:!1,underline:!1,strikethrough:!1,superscript:!1,subscript:!1,code:!1,color:"#000",backcolor:"#000",fontsize:"20px",fontname:"微软雅黑",link:"",align:"left",bulletList:!1,orderedList:!1,blockquote:!1}},"6e11":function(e,t,l){"use strict";l("b68e")},"6e48":function(e,t,l){},"701d":function(e,t,l){"use strict";l("5416")},7038:function(e,t,l){},"71bb":function(e,t,l){"use strict";l("f5f4")},"721a":function(e,t,l){},7239:function(e,t,l){"use strict";l("9223")},"729c":function(e,t,l){},"731d":function(e,t,l){},7559:function(e,t,l){},"75ad":function(e,t,l){},"75e6":function(e,t,l){"use strict";l("413a")},"76c1":function(e,t,l){"use strict";l("0e86")},"76e0":function(e,t,l){},"777a":function(e,t,l){},7851:function(e,t,l){"use strict";l("15f6")},7857:function(e,t,l){},"78b5":function(e,t,l){},"795e":function(e,t,l){"use strict";l("e4e9")},"7a60":function(e,t,l){"use strict";l("4a22")},"7a78":function(e,t,l){"use strict";l("fd96")},"7f69":function(e,t,l){},"806f":function(e,t,l){"use strict";l.d(t,"f",(function(){return a})),l.d(t,"e",(function(){return r})),l.d(t,"c",(function(){return i})),l.d(t,"b",(function(){return s})),l.d(t,"h",(function(){return d})),l.d(t,"a",(function(){return u})),l.d(t,"g",(function(){return b})),l.d(t,"d",(function(){return m}));var o=l("6dcd"),c=l.n(o),n=l("5a11");const a=e=>{const{left:t,top:l,width:o,height:c,rotate:n=0}=e,a=Math.sqrt(Math.pow(o,2)+Math.pow(c,2))/2,r=180*Math.atan(c/o)/Math.PI,i=(180-n-r)*Math.PI/180,s=(r-n)*Math.PI/180,d=t+o/2,u=l+c/2,b=[d+a*Math.cos(i),d+a*Math.cos(s),d-a*Math.cos(i),d-a*Math.cos(s)],m=[u-a*Math.sin(i),u-a*Math.sin(s),u+a*Math.sin(i),u+a*Math.sin(s)];return{xRange:[Math.min(...b),Math.max(...b)],yRange:[Math.min(...m),Math.max(...m)]}},r=e=>{const{xRange:t,yRange:l}=a({left:e.left,top:e.top,width:e.width,height:e.height,rotate:0}),{xRange:o,yRange:c}=a({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});return{offsetX:o[0]-t[0],offsetY:c[0]-l[0]}},i=e=>{let t,l,o,c;if("line"===e.type)t=e.left,l=e.left+Math.max(e.start[0],e.end[0]),o=e.top,c=e.top+Math.max(e.start[1],e.end[1]);else if("rotate"in e&&e.rotate){const{left:n,top:r,width:i,height:s,rotate:d}=e,{xRange:u,yRange:b}=a({left:n,top:r,width:i,height:s,rotate:d});t=u[0],l=u[1],o=b[0],c=b[1]}else t=e.left,l=e.left+e.width,o=e.top,c=e.top+e.height;return{minX:t,maxX:l,minY:o,maxY:c}},s=e=>{const t=[],l=[],o=[],c=[];e.forEach(e=>{const{minX:n,maxX:a,minY:r,maxY:s}=i(e);t.push(n),l.push(r),o.push(a),c.push(s)});const n=Math.min(...t),a=Math.max(...o),r=Math.min(...l),s=Math.max(...c);return{minX:n,maxX:a,minY:r,maxY:s}},d=e=>{const t=[];return e.forEach(e=>{const l=t.findIndex(t=>t.value===e.value);if(-1===l)t.push(e);else{const o=t[l],c=Math.min(o.range[0],e.range[0]),n=Math.max(o.range[1],e.range[1]),a=[c,n],r={value:e.value,range:a};t[l]=r}}),t},u=e=>{const t={},l={};for(const o of e){const e=o.groupId;e&&!t[e]&&(t[e]=Object(n["b"])(10)),l[o.id]=Object(n["b"])(10)}return{groupIdMap:t,elIdMap:l}},b=e=>{const t=c()(e);return[t.setAlpha(.3).toRgbString(),t.setAlpha(.1).toRgbString()]},m=e=>{const t=e.start.join(","),l=e.end.join(",");if(e.broken){const o=e.broken.join(",");return`M${t} L${o} L${l}`}if(e.curve){const o=e.curve.join(",");return`M${t} Q${o} ${l}`}if(e.cubic){const[o,c]=e.cubic,n=o.join(","),a=c.join(",");return`M${t} C${n} ${a} ${l}`}return`M${t} L${l}`}},"80dc":function(e,t,l){"use strict";l("629d")},8216:function(e,t,l){"use strict";l("0dbd")},"823e":function(e,t,l){"use strict";l.d(t,"b",(function(){return o})),l.d(t,"a",(function(){return c}));const o=e=>e,c=e=>e},"82dc":function(e,t,l){},"84ba":function(e,t,l){},"85b1":function(e,t,l){},8604:function(e,t,l){},8612:function(e,t,l){},8628:function(e,t,l){"use strict";l("e81b")},8683:function(e,t,l){"use strict";l("4acf")},"887c":function(e,t,l){},"8c56":function(e,t,l){},"8d47":function(e,t,l){},"8e64":function(e,t,l){"use strict";l.d(t,"a",(function(){return u})),l.d(t,"b",(function(){return b}));var o=l("518b"),c=l("8b45"),n=l("8a35"),a=l("0c6c"),r=l("cd85"),i=l("1fe1"),s=l("129d");const d=[{name:"团队内容",key:"team",icon:c["a"]},{name:"内容数据分析",key:"data",icon:n["a"]},{name:"成员管理",key:"member",icon:a["a"]},{name:"用户管理",key:"user",icon:a["a"]},{name:"内容组管理",key:"group",icon:r["a"]},{name:"设置",key:"setting",icon:i["a"]},{name:"回收站",key:"recycle",icon:s["a"]}];function u(e,t){return Object.values(t).flat().find(t=>t.key===e)}const b=Object(o["b"])("dashboard",{state:()=>({sidebarKey:"home",menuItems:{},user:null,loginState:null,activeMenuItem:null,headerBarMenuItems:d,activeHeaderBarMenuKey:"docs",currentTeam:null}),actions:{setSidebarKey(e){this.sidebarKey=e},setUser(e){this.user=e},setLoginState(e){this.loginState=e},setActiveHeaderBarMenuKey(e){this.activeHeaderBarMenuKey=e},setCurrentTeam(e){this.currentTeam=e}}})},"921b":function(e,t,l){"use strict";l("a2c3")},9223:function(e,t,l){},9300:function(e,t,l){"use strict";l("9787")},"95e8":function(e,t,l){},9601:function(e,t,l){},9670:function(e,t,l){"use strict";l("5dfd")},9787:function(e,t,l){},"97a6":function(e,t,l){},"97b0":function(e,t,l){},9845:function(e,t,l){},9854:function(e,t,l){"use strict";l("0401")},"990c":function(e,t,l){"use strict";l("2beb")},"9b34":function(e,t,l){},"9b4d":function(e,t,l){"use strict";l("3295")},"9d6d":function(e,t,l){"use strict";l("7fa4");var o=l("3f13"),c=l("f101"),n=l.n(c);t["a"]=()=>{async function e(e,t,l,o){const c=localStorage.getItem("token"),a=await n()({method:e,url:t,data:l,headers:{authentication:"Bearer "+c,...o}});return a}n.a.defaults.baseURL="https://storyboard-api.aside.fun",n.a.interceptors.response.use(e=>{var t,l,c;return null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.code?200!==e.data.code?(o["a"].warning((null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.message)||"网络错误"),null):null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data:e});const t=(t,l,o)=>e("POST",t,l,o),l=(t,l,o)=>e("GET",t,l,o);return{client:n.a,post:t,get:l}}},"9dbb":function(e,t,l){},"9fce":function(e,t,l){},"9ff2":function(e,t,l){"use strict";l("65f2")},a060:function(e,t,l){"use strict";l("5b8a")},a0a8:function(e,t,l){"use strict";l.d(t,"a",(function(){return r}));const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="data:image/svg+xml;base64,",n=e=>{e=e.replace(/\r\n/g,"\n");let t="";for(let l=0;l<e.length;l++){const o=e.charCodeAt(l);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},a=e=>{let t,l,c,a,r,i,s,d="",u=0;e=n(e);while(u<e.length)t=e.charCodeAt(u++),l=e.charCodeAt(u++),c=e.charCodeAt(u++),a=t>>2,r=(3&t)<<4|l>>4,i=(15&l)<<2|c>>6,s=63&c,isNaN(l)?i=s=64:isNaN(c)&&(s=64),d=d+o.charAt(a)+o.charAt(r)+o.charAt(i)+o.charAt(s);return d},r=e=>{const t=new XMLSerializer,l=t.serializeToString(e);return c+a(l)}},a160:function(e,t,l){},a2c3:function(e,t,l){},a320:function(e,t,l){"use strict";l("c23d")},a330:function(e,t,l){"use strict";l("52aa")},a36d:function(e,t,l){},a37a:function(e,t,l){},a438:function(e,t,l){},a511:function(e,t,l){"use strict";l("4320")},a669:function(e,t,l){"use strict";l("5619")},a81a:function(e,t,l){"use strict";l("ccb7")},a8d7:function(e,t,l){"use strict";l("8d47")},a9b0:function(e,t,l){"use strict";l("8612")},ac7f:function(e,t,l){},aceb:function(e,t,l){"use strict";l("64e5")},ae3f:function(e,t,l){},ae9f:function(e,t,l){"use strict";l("2841")},aea9:function(e,t,l){},afd6:function(e,t,l){"use strict";l("18f6")},b096:function(e,t,l){"use strict";l("aea9")},b2b4:function(e,t,l){"use strict";l("7038")},b342:function(e,t,l){},b510:function(e,t,l){"use strict";l("a438")},b583:function(e,t,l){},b68e:function(e,t,l){},b854:function(e,t,l){},b8e1:function(e,t,l){},b9fe:function(e,t,l){},bc8c:function(e,t,l){"use strict";l("df90")},bcf0:function(e,t,l){"use strict";l("e26e")},bd22:function(e,t,l){},bde5:function(e,t,l){"use strict";l("20aee")},be01:function(e,t,l){"use strict";l("3680")},bf43:function(e,t,l){"use strict";l("0d13")},c041:function(e,t,l){"use strict";l("5018")},c145:function(e,t,l){},c148:function(e,t,l){},c205:function(e,t,l){"use strict";var o;l.d(t,"a",(function(){return o})),function(e){e["SYMBOL"]="symbol",e["EL_ANIMATION"]="elAnimation",e["EL_STYLE"]="elStyle",e["EL_POSITION"]="elPosition",e["SLIDE_DESIGN"]="slideDesign",e["SLIDE_ANIMATION"]="slideAnimation",e["MULTI_POSITION"]="multiPosition"}(o||(o={}))},c23d:function(e,t,l){},c24c:function(e,t,l){"use strict";l("9dbb")},c367:function(e,t,l){},c5ac:function(e,t,l){},c5c5:function(e,t,l){},c860:function(e,t,l){},ca17:function(e,t,l){"use strict";l("b342")},ca3c:function(e,t,l){"use strict";l("0dc3")},cb45:function(e,t,l){"use strict";l("b9fe")},cc39:function(e,t,l){"use strict";l("721a")},cc76:function(e,t,l){"use strict";l("03ea")},ccb7:function(e,t,l){},cd49:function(e,t,l){},cd49d:function(e,t,l){"use strict";l.r(t),l.d(t,"app",(function(){return yo}));l("5f6b");var o=l("3ad8"),c=(l("0c9b"),l("ee9f")),n=(l("56ec"),l("24c9")),a=(l("1a50"),l("6faa")),r=(l("c532"),l("81c8")),i=(l("5104"),l("6ebd")),s=(l("66f6"),l("c5e9")),d=(l("2eac"),l("d997")),u=(l("a77d"),l("370b")),b=(l("2245"),l("2c28")),m=(l("0f78"),l("1220")),p=(l("5899"),l("284a")),O=(l("10e9"),l("7a3f")),j=(l("2cd8"),l("7ce3")),f=(l("3527"),l("cd12")),v=(l("9b4e"),l("cce6")),h=(l("5baf"),l("14d1")),y=(l("e63e"),l("f02c")),g=(l("f5e5"),l("865b")),x=(l("199c"),l("09d3")),k=(l("acfa"),l("9401")),C=l("3eb2"),N=l("518b");function E(e,t){const l=Object(C["resolveComponent"])("router-view"),o=Object(C["resolveComponent"])("ConfigProvider");return Object(C["openBlock"])(),Object(C["createBlock"])(o,{autoInsertSpaceInButton:!1},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l)]),_:1})}l("0f92");var w=l("6dd4"),V=l.n(w);const I={},B=V()(I,[["render",E]]);var S=B,L=l("fb74");Object(L["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});l("0aa8"),l("15aa"),l("1081"),l("7af6"),l("5952"),l("c860"),l("ae3f"),l("8c56");var _=l("dedc"),T=l("9eb0"),M=l("18ab"),D=l("4dee"),A=l("55209"),z=l("1dca"),F=l("d51c"),$=l("faf7"),R=l("8891"),P=l("02b7"),H=l("c869"),U=l("00f4"),q=l("3d51"),G=l("0873"),Y=l("c4f2"),X=l("68b3"),Z=l("2456"),W=l("18cd"),J=l("cb8f"),Q=l("fdef"),K=l("098c"),ee=l("6f6f"),te=l("5876"),le=l("f461"),oe=l("ac8b"),ce=l("62c8"),ne=l("6bb1"),ae=l("2d72"),re=l("cf67"),ie=l("d97b"),se=l("c8e1"),de=l("9e78"),ue=l("c102"),be=l("0e00"),me=l("a1cf"),pe=l("d6cd"),Oe=l("26b1"),je=l("05d7"),fe=l("7176"),ve=l("414b"),he=l("be34"),ye=l("555d"),ge=l("9091"),xe=l("57c4"),ke=l("593d"),Ce=l("5520"),Ne=l("bfe6"),Ee=l("e8d8"),we=l("304d"),Ve=l("4039"),Ie=l("40ff"),Be=l("a576"),Se=l("6776"),Le=l("fca2"),_e=l("2a2c"),Te=l("03f6"),Me=l("d61a"),De=l("ae8c"),Ae=l("df7b"),ze=l("0df0"),Fe=l("31b8"),$e=l("334c"),Re=l("94ce"),Pe=l("6b5d"),He=l("d3d6"),Ue=l("de6e"),qe=l("3838"),Ge=l("8157"),Ye=l("f2bf"),Xe=l("8254"),Ze=l("561a"),We=l("345e"),Je=l("5d4f"),Qe=l("dab7"),Ke=l("74bf"),et=l("ee93"),tt=l("cd496"),lt=l("d226"),ot=l("1506"),ct=l("b5b7"),nt=l("27af"),at=l("b330"),rt=l("11ec"),it=l("b834"),st=l("74b2"),dt=l("7ef1"),ut=l("67df"),bt=l("8e8d"),mt=l("69e8"),pt=l("530b"),Ot=l("1bcc"),jt=l("5719"),ft=l("6ff0"),vt=l("7788"),ht=l("7bc4"),yt=l("55fd"),gt=l("aab2"),xt=l("dc9d"),kt=l("afcc"),Ct=l("a35c"),Nt=l("60f7"),Et=l("43b9"),wt=l("d699"),Vt=l("15df"),It=l("89ca");const Bt={IconPlayOne:It["a"],IconFullScreenPlay:Vt["a"],IconLock:wt["a"],IconUnlock:Et["a"],IconPpt:Nt["a"],IconFormat:Ct["a"],IconPicture:kt["a"],IconFullScreen:xt["a"],IconList:gt["a"],IconOrderedList:yt["a"],IconHelpcenter:ht["a"],IconFlipVertically:vt["a"],IconFlipHorizontally:ft["a"],IconFontSize:jt["a"],IconCode:Ot["a"],IconTextBold:pt["a"],IconTextItalic:mt["a"],IconTextUnderline:bt["a"],IconStrikethrough:ut["a"],IconEdit:dt["a"],IconQuote:st["a"],IconBackgroundColor:it["a"],IconGroup:rt["a"],IconUngroup:at["a"],IconBack:nt["a"],IconNext:ct["a"],IconFullwidth:ot["a"],IconAlignTop:lt["a"],IconAlignLeft:tt["a"],IconAlignRight:et["a"],IconAlignBottom:Ke["a"],IconAlignVertically:Qe["a"],IconAlignHorizontally:Je["a"],IconBringToFront:We["a"],IconSendToBack:Ze["a"],IconAlignTextLeft:Xe["a"],IconAlignTextRight:Ye["a"],IconAlignTextCenter:Ge["a"],IconRowHeight:qe["a"],IconWrite:Ue["a"],IconInsertTable:He["a"],IconAddText:Pe["a"],IconFill:Re["a"],IconTailoring:$e["a"],IconEffects:Fe["a"],IconColorFilter:ze["a"],IconDown:Ae["a"],IconPlus:De["a"],IconMinus:Me["a"],IconConnection:Te["a"],IconBringToFrontOne:_e["a"],IconSentToBack:Le["a"],IconGithub:Se["a"],IconChartProportion:Be["a"],IconChartHistogram:Ie["a"],IconChartHistogramOne:Ve["a"],IconChartLineArea:we["a"],IconChartRing:Ee["a"],IconChartScatter:Ne["a"],IconChartLine:Ce["a"],IconChartPie:ke["a"],IconText:xe["a"],IconRotate:ge["a"],IconLeftTwo:ye["a"],IconRightTwo:he["a"],IconPlatte:ve["a"],IconUpOne:fe["a"],IconDownOne:je["a"],IconClose:Oe["a"],IconCloseSmall:pe["a"],IconUndo:me["a"],IconTransform:be["a"],IconClick:ue["a"],IconTheme:de["a"],IconArrowCircleLeft:se["a"],IconGraphicDesign:ie["a"],IconLogout:re["a"],IconErase:ae["a"],IconClear:ne["a"],IconFolderClose:ce["a"],IconAlignTextTopOne:oe["a"],IconAlignTextBottomOne:le["a"],IconAlignTextMiddleOne:te["a"],IconPause:ee["a"],IconVolumeMute:K["a"],IconVolumeNotice:Q["a"],IconVolumeSmall:J["a"],IconVideoTwo:W["a"],IconFormula:Z["a"],IconLinkOne:X["a"],IconFullScreenOne:Y["a"],IconOffScreenOne:G["a"],IconPower:q["a"],IconListView:U["a"],IconMagic:H["a"],IconHighLight:P["a"],IconShare:R["a"],IconIndentLeft:$["a"],IconIndentRight:F["a"],IconVerticalSpacingBetweenItems:z["a"],IconCopy:A["a"],IconDelete:D["a"],IconSquare:M["a"],IconRound:T["a"],IconNeedle:_["a"]};var St={install(e){for(const t of Object.keys(Bt))e.component(t,Bt[t])}};const Lt=["accept"];var _t=Object(C["defineComponent"])({__name:"FileInput",props:{accept:{type:String,default:"image/*"}},emits:["change"],setup(e,{emit:t}){const l=Object(C["ref"])(),o=()=>{l.value&&(l.value.value="",l.value.click())},c=e=>{const l=e.target.files;l&&t("change",l)};return(t,n)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"file-input",onClick:n[1]||(n[1]=e=>o())},[Object(C["renderSlot"])(t.$slots,"default"),Object(C["createElementVNode"])("input",{class:"input",type:"file",name:"upload",ref_key:"inputRef",ref:l,accept:e.accept,onChange:n[0]||(n[0]=e=>c(e))},null,40,Lt)]))}});l("e25c");const Tt=V()(_t,[["__scopeId","data-v-4727b7ff"]]);var Mt=Tt,Dt=Object(C["defineComponent"])({__name:"CheckboxButton",props:{checked:{type:Boolean,default:!1}},setup(e){return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("button",{class:Object(C["normalizeClass"])(["checkbox-button",{checked:e.checked}])},[Object(C["renderSlot"])(t.$slots,"default")],2))}});l("573c");const At=V()(Dt,[["__scopeId","data-v-699cf016"]]);var zt=At;const Ft={class:"checkbox-button-group"};function $t(e,t){return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Ft,[Object(C["renderSlot"])(e.$slots,"default",{},void 0,!0)])}l("5634");const Rt={},Pt=V()(Rt,[["render",$t],["__scopeId","data-v-b8aa6eac"]]);var Ht=Pt,Ut=(l("7fa4"),l("3f13")),qt=l("6dcd"),Gt=l.n(qt),Yt=l("bcba"),Xt=l("33f7"),Zt=Object(C["defineComponent"])({__name:"Checkboard",props:{size:{type:Number,default:8},white:{type:String,default:"#fff"},grey:{type:String,default:"#e6e6e6"}},setup(e){const t=e,l={},o=(e,t,l)=>{const o=document.createElement("canvas");o.width=o.height=2*l;const c=o.getContext("2d");return c?(c.fillStyle=e,c.fillRect(0,0,o.width,o.height),c.fillStyle=t,c.fillRect(0,0,l,l),c.translate(l,l),c.fillRect(0,0,l,l),o.toDataURL()):null},c=(e,t,c)=>{const n=e+","+t+","+c;if(l[n])return l[n];const a=o(e,t,c);return l[n]=a,a},n=Object(C["computed"])(()=>{const e=c(t.white,t.grey,t.size);return{backgroundImage:`url(${e})`}});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"checkerboard",style:Object(C["normalizeStyle"])(Object(C["unref"])(n))},null,4))}});l("a8d7");const Wt=V()(Zt,[["__scopeId","data-v-7494636c"]]);var Jt=Wt;const Qt=e=>(Object(C["pushScopeId"])("data-v-246b525c"),e=e(),Object(C["popScopeId"])(),e),Kt={class:"alpha"},el={class:"alpha-checkboard-wrap"},tl=Qt(()=>Object(C["createElementVNode"])("div",{class:"alpha-picker"},null,-1)),ll=[tl];var ol=Object(C["defineComponent"])({__name:"Alpha",props:{value:{type:Object,required:!0}},emits:["colorChange"],setup(e,{emit:t}){const l=e,o=Object(C["computed"])(()=>l.value),c=Object(C["computed"])(()=>{const e=[o.value.r,o.value.g,o.value.b].join(",");return`linear-gradient(to right, rgba(${e}, 0) 0%, rgba(${e}, 1) 100%)`}),n=Object(C["ref"])(),a=e=>{if(e.preventDefault(),!n.value)return;const l=n.value.clientWidth,c=n.value.getBoundingClientRect().left+window.pageXOffset,a=e.pageX-c;let r;r=a<0?0:a>l?1:Math.round(100*a/l)/100,o.value.a!==r&&t("colorChange",{r:o.value.r,g:o.value.g,b:o.value.b,a:r})},r=()=>{window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",r)},i=e=>{a(e),window.addEventListener("mousemove",a),window.addEventListener("mouseup",r)};return Object(C["onUnmounted"])(r),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Kt,[Object(C["createElementVNode"])("div",el,[Object(C["createVNode"])(Jt)]),Object(C["createElementVNode"])("div",{class:"alpha-gradient",style:Object(C["normalizeStyle"])({background:Object(C["unref"])(c)})},null,4),Object(C["createElementVNode"])("div",{class:"alpha-container",ref_key:"alphaRef",ref:n,onMousedown:t[0]||(t[0]=e=>i(e))},[Object(C["createElementVNode"])("div",{class:"alpha-pointer",style:Object(C["normalizeStyle"])({left:100*Object(C["unref"])(o).a+"%"})},ll,4)],544)]))}});l("e83e");const cl=V()(ol,[["__scopeId","data-v-246b525c"]]);var nl=cl;const al=e=>(Object(C["pushScopeId"])("data-v-60c3cca1"),e=e(),Object(C["popScopeId"])(),e),rl={class:"hue"},il=al(()=>Object(C["createElementVNode"])("div",{class:"hue-picker"},null,-1)),sl=[il];var dl=Object(C["defineComponent"])({__name:"Hue",props:{value:{type:Object,required:!0},hue:{type:Number,required:!0}},emits:["colorChange"],setup(e,{emit:t}){const l=e,o=Object(C["ref"])(0),c=Object(C["ref"])(""),n=Object(C["computed"])(()=>{const e=Gt()(l.value).toHsl();return-1!==l.hue&&(e.h=l.hue),e}),a=Object(C["computed"])(()=>0===n.value.h&&"right"===c.value?"100%":100*n.value.h/360+"%");Object(C["watch"])(()=>l.value,()=>{const e=Gt()(l.value).toHsl(),t=0===e.s?l.hue:e.h;0!==t&&t-o.value>0&&(c.value="right"),0!==t&&t-o.value<0&&(c.value="left"),o.value=t});const r=Object(C["ref"])(),i=e=>{if(e.preventDefault(),!r.value)return;const o=r.value.clientWidth,c=r.value.getBoundingClientRect().left+window.pageXOffset,a=e.pageX-c;let i,s;a<0?i=0:a>o?i=360:(s=100*a/o,i=360*s/100),-1!==l.hue&&n.value.h===i||t("colorChange",{h:i,l:n.value.l,s:n.value.s,a:n.value.a})},s=()=>{window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",s)},d=e=>{i(e),window.addEventListener("mousemove",i),window.addEventListener("mouseup",s)};return Object(C["onUnmounted"])(s),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",rl,[Object(C["createElementVNode"])("div",{class:"hue-container",ref_key:"hueRef",ref:r,onMousedown:t[0]||(t[0]=e=>d(e))},[Object(C["createElementVNode"])("div",{class:"hue-pointer",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(a)})},sl,4)],544)]))}});l("179a");const ul=V()(dl,[["__scopeId","data-v-60c3cca1"]]);var bl=ul;const ml=e=>(Object(C["pushScopeId"])("data-v-d230faf4"),e=e(),Object(C["popScopeId"])(),e),pl=ml(()=>Object(C["createElementVNode"])("div",{class:"saturation-white"},null,-1)),Ol=ml(()=>Object(C["createElementVNode"])("div",{class:"saturation-black"},null,-1)),jl=ml(()=>Object(C["createElementVNode"])("div",{class:"saturation-circle"},null,-1)),fl=[jl];var vl=Object(C["defineComponent"])({__name:"Saturation",props:{value:{type:Object,required:!0},hue:{type:Number,required:!0}},emits:["colorChange"],setup(e,{emit:t}){const l=e,o=Object(C["computed"])(()=>{const e=Gt()(l.value).toHsv();return-1!==l.hue&&(e.h=l.hue),e}),c=Object(C["computed"])(()=>`hsl(${o.value.h}, 100%, 50%)`),n=Object(C["computed"])(()=>-100*o.value.v+1+100+"%"),a=Object(C["computed"])(()=>100*o.value.s+"%"),r=Object(Yt["throttle"])((function(e){t("colorChange",e)}),20,{leading:!0,trailing:!1}),i=Object(C["ref"])(),s=e=>{if(e.preventDefault(),!i.value)return;const t=i.value.clientWidth,l=i.value.clientHeight,c=i.value.getBoundingClientRect().left+window.pageXOffset,n=i.value.getBoundingClientRect().top+window.pageYOffset,a=Object(Yt["clamp"])(e.pageX-c,0,t),s=Object(Yt["clamp"])(e.pageY-n,0,l),d=a/t,u=Object(Yt["clamp"])(-s/l+1,0,1);r({h:o.value.h,s:d,v:u,a:o.value.a})},d=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",d)},u=e=>{s(e),window.addEventListener("mousemove",s),window.addEventListener("mouseup",d)};return Object(C["onUnmounted"])(d),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"saturation",ref_key:"saturationRef",ref:i,style:Object(C["normalizeStyle"])({background:Object(C["unref"])(c)}),onMousedown:t[0]||(t[0]=e=>u(e))},[pl,Ol,Object(C["createElementVNode"])("div",{class:"saturation-pointer",style:Object(C["normalizeStyle"])({top:Object(C["unref"])(n),left:Object(C["unref"])(a)})},fl,4)],36))}});l("0516");const hl=V()(vl,[["__scopeId","data-v-d230faf4"]]);var yl=hl;const gl={class:"editable-input"},xl=["value"];var kl=Object(C["defineComponent"])({__name:"EditableInput",props:{value:{type:Object,required:!0}},emits:["colorChange"],setup(e,{emit:t}){const l=e,o=Object(C["computed"])(()=>{let e="";return e=l.value.a<1?Gt()(l.value).toHex8String().toUpperCase():Gt()(l.value).toHexString().toUpperCase(),e.replace("#","")}),c=e=>{const l=e.target.value;l.length>=6&&t("colorChange",Gt()(l).toRgb())};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",gl,[Object(C["createElementVNode"])("input",{class:"input-content",value:Object(C["unref"])(o),onInput:t[0]||(t[0]=e=>c(e))},null,40,xl)]))}});l("a9b0");const Cl=V()(kl,[["__scopeId","data-v-2f428dde"]]);var Nl=Cl;const El={class:"color-picker"},wl={class:"picker-saturation-wrap"},Vl={class:"picker-controls"},Il={class:"picker-color-wrap"},Bl={class:"picker-sliders"},Sl={class:"picker-hue-wrap"},Ll={class:"picker-alpha-wrap"},_l={class:"picker-field"},Tl={class:"picker-presets"},Ml=["onClick"],Dl={class:"picker-gradient-presets"},Al=["onClick"],zl={class:"picker-presets"},Fl=["onClick"],$l={key:0,class:"recent-colors-title"},Rl={class:"picker-presets"},Pl=["onClick"];var Hl=Object(C["defineComponent"])({__name:"index",props:{modelValue:{type:String,default:"#e86b99"}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,o="RECENT_COLORS",c=[["#7f7f7f","#f2f2f2"],["#0d0d0d","#808080"],["#1c1a10","#ddd8c3"],["#0e243d","#c6d9f0"],["#233f5e","#dae5f0"],["#632623","#f2dbdb"],["#4d602c","#eaf1de"],["#3f3150","#e6e0ec"],["#1e5867","#d9eef3"],["#99490f","#fee9da"]],n=(e,t,l)=>{const o=Gt()(e).toRgb(),c=Gt()(t).toRgb(),n=(c.r-o.r)/l,a=(c.g-o.g)/l,r=(c.b-o.b)/l,i=[];for(let s=0;s<l;s++){const e=Gt()({r:o.r+n*s,g:o.g+a*s,b:o.b+r*s}).toRgbString();i.push(e)}return i},a=()=>{const e=[];for(const t of c)e.push(n(t[1],t[0],5));return e},r=["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c"],i=["#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57","#00afee","#0071be","#00215f","#72349d"],s=Object(C["ref"])(-1),d=Object(C["ref"])([]),u=Object(C["computed"])({get(){return Gt()(l.modelValue).toRgb()},set(e){const l=`rgba(${[e.r,e.g,e.b,e.a].join(",")})`;t("update:modelValue",l)}}),b=a(),m=Object(C["computed"])(()=>`rgba(${[u.value.r,u.value.g,u.value.b,u.value.a].join(",")})`),p=e=>{s.value=Gt()(e).toHsl().h,t("update:modelValue",e)},O=Object(Yt["debounce"])((function(){const e=Gt()(u.value).toRgbString();if(!d.value.includes(e)){d.value=[e,...d.value];const t=10;d.value.length>t&&(d.value=d.value.slice(0,t))}}),300,{trailing:!0});Object(C["onMounted"])(()=>{const e=localStorage.getItem(o);e&&(d.value=JSON.parse(e))}),Object(C["watch"])(d,()=>{const e=JSON.stringify(d.value);localStorage.setItem(o,e)});const j=e=>{"h"in e?(s.value=e.h,u.value=Gt()(e).toRgb()):(s.value=Gt()(e).toHsl().h,u.value=e),O()},f=()=>{const e="EyeDropper"in window;e?v():h()},v=()=>{Ut["a"].success("按 ESC 键关闭取色吸管");const e=new window.EyeDropper;e.open().then(e=>{const t=Gt()(e.sRGBHex);s.value=t.toHsl().h,u.value=t.toRgb(),O()}).catch(()=>{Ut["a"].success("关闭取色吸管")})},h=()=>{const e=document.querySelector(".canvas");if(!e)return;const t=document.createElement("div");t.style.cssText="position: fixed; top: 0; left: 0; bottom: 0; right: 0; z-index: 9999; cursor: wait;",document.body.appendChild(t);const l=document.createElement("div");l.style.cssText="position: absolute; top: -100px; left: -100px; width: 16px; height: 16px; border: 1px solid #000; z-index: 999",t.appendChild(l);const{left:o,top:c,width:n,height:a}=e.getBoundingClientRect(),r=e=>(!e.tagName||"FOREIGNOBJECT"!==e.tagName.toUpperCase())&&(!e.classList||!e.classList.contains("operate"));Object(Xt["a"])(e,{filter:r,fontEmbedCSS:"",width:n,height:a,canvasWidth:n,canvasHeight:a,pixelRatio:1}).then(e=>{e.style.cssText=`position: absolute; top: ${c}px; left: ${o}px; cursor: crosshair;`,t.style.cursor="default",t.appendChild(e);const n=e.getContext("2d");if(!n)return;let a="";const r=e=>{const t=e.x,r=e.y,i=t-o,s=r-c,[d,u,b,m]=n.getImageData(i,s,1,1).data;a=`rgba(${d}, ${u}, ${b}, ${(m/255).toFixed(2)})`,l.style.left=t+10+"px",l.style.top=r+10+"px",l.style.backgroundColor=a},i=()=>{a="",l.style.left="-100px",l.style.top="-100px",l.style.backgroundColor=""},d=l=>{if(a&&0===l.button){const e=Gt()(a);s.value=e.toHsl().h,u.value=e.toRgb(),O()}document.body.removeChild(t),e.removeEventListener("mousemove",r),e.removeEventListener("mouseleave",i),window.removeEventListener("mousedown",d)};e.addEventListener("mousemove",r),e.addEventListener("mouseleave",i),window.addEventListener("mousedown",d)}).catch(()=>{Ut["a"].error("取色吸管初始化失败"),document.body.removeChild(t)})};return(e,t)=>{const l=Object(C["resolveComponent"])("IconNeedle");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",El,[Object(C["createElementVNode"])("div",wl,[Object(C["createVNode"])(yl,{value:Object(C["unref"])(u),hue:s.value,onColorChange:t[0]||(t[0]=e=>j(e))},null,8,["value","hue"])]),Object(C["createElementVNode"])("div",Vl,[Object(C["createElementVNode"])("div",Il,[Object(C["createElementVNode"])("div",{class:"picker-current-color",style:Object(C["normalizeStyle"])({background:Object(C["unref"])(m)})},null,4),Object(C["createVNode"])(Jt)]),Object(C["createElementVNode"])("div",Bl,[Object(C["createElementVNode"])("div",Sl,[Object(C["createVNode"])(bl,{value:Object(C["unref"])(u),hue:s.value,onColorChange:t[1]||(t[1]=e=>j(e))},null,8,["value","hue"])]),Object(C["createElementVNode"])("div",Ll,[Object(C["createVNode"])(nl,{value:Object(C["unref"])(u),onColorChange:t[2]||(t[2]=e=>j(e))},null,8,["value"])])])]),Object(C["createElementVNode"])("div",_l,[Object(C["createVNode"])(Nl,{class:"input",value:Object(C["unref"])(u),onColorChange:t[3]||(t[3]=e=>j(e))},null,8,["value"]),Object(C["createElementVNode"])("div",{class:"straw",onClick:t[4]||(t[4]=e=>f())},[Object(C["createVNode"])(l)])]),Object(C["createElementVNode"])("div",Tl,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(r,e=>Object(C["createElementVNode"])("div",{class:"picker-presets-color",key:e,style:Object(C["normalizeStyle"])({background:e}),onClick:t=>p(e)},null,12,Ml)),64))]),Object(C["createElementVNode"])("div",Dl,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(b),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"picker-gradient-col",key:t},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"picker-gradient-color",key:e,style:Object(C["normalizeStyle"])({background:e}),onClick:t=>p(e)},null,12,Al))),128))]))),128))]),Object(C["createElementVNode"])("div",zl,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(i,e=>Object(C["createElementVNode"])("div",{key:e,class:"picker-presets-color",style:Object(C["normalizeStyle"])({background:e}),onClick:t=>p(e)},null,12,Fl)),64))]),d.value.length?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",$l,"最近使用：")):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",Rl,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(d.value,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:e,class:"picker-presets-color alpha",onClick:t=>p(e)},[Object(C["createElementVNode"])("div",{class:"picker-presets-color-content",style:Object(C["normalizeStyle"])({background:e})},null,4)],8,Pl))),128))])])}}});l("ecf8");const Ul=V()(Hl,[["__scopeId","data-v-c46eb110"]]);var ql=Ul;const Gl={key:0,class:"fullscreen-spin"};var Yl=Object(C["defineComponent"])({__name:"FullscreenSpin",props:{loading:{type:Boolean,default:!1},tip:{type:String,default:""}},setup(e){return(t,l)=>{const o=Object(C["resolveComponent"])("Spin");return e.loading?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Gl,[Object(C["createVNode"])(o,{tip:e.tip,size:"large"},null,8,["tip"])])):Object(C["createCommentVNode"])("",!0)}}});l("5d4b");const Xl=V()(Yl,[["__scopeId","data-v-16ead44e"]]);var Zl=Xl;const Wl={FileInput:Mt,CheckboxButton:zt,CheckboxButtonGroup:Ht,ColorPicker:ql,FullscreenSpin:Zl};var Jl={install(e){for(const t of Object.keys(Wl))e.component(t,Wl[t])}};const Ql={class:"menu-content"},Kl=["onClick"],eo={class:"text"},to={key:0,class:"sub-text"};var lo=Object(C["defineComponent"])({__name:"MenuContent",props:{menus:{type:Array,required:!0},handleClickMenuItem:{type:Function,required:!0}},setup(e){return(t,l)=>{const o=Object(C["resolveComponent"])("menu-content",!0);return Object(C["openBlock"])(),Object(C["createElementBlock"])("ul",Ql,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.menus,(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:t.text||l},[t.hide?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createElementBlock"])("li",{key:0,class:Object(C["normalizeClass"])(["menu-item",{divider:t.divider,disable:t.disable}]),onClick:Object(C["withModifiers"])(l=>e.handleClickMenuItem(t),["stop"])},[t.divider?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:Object(C["normalizeClass"])(["menu-item-content",{"has-children":t.children,"has-handler":t.handler}])},[Object(C["createElementVNode"])("span",eo,Object(C["toDisplayString"])(t.text),1),t.subText&&!t.children?(Object(C["openBlock"])(),Object(C["createElementBlock"])("span",to,Object(C["toDisplayString"])(t.subText),1)):Object(C["createCommentVNode"])("",!0),t.children&&t.children.length?(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:1,class:"sub-menu",menus:t.children,handleClickMenuItem:e.handleClickMenuItem},null,8,["menus","handleClickMenuItem"])):Object(C["createCommentVNode"])("",!0)],2))],10,Kl))],64))),128))])}}});l("ca3c");const oo=V()(lo,[["__scopeId","data-v-e470e712"]]);var co=oo,no=Object(C["defineComponent"])({__name:"index",props:{axis:{type:Object,required:!0},el:{type:Object,required:!0},menus:{type:Array,required:!0},removeContextmenu:{type:Function,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e=170,l=30,o=11,c=5,{x:n,y:a}=t.axis,r=t.menus.filter(e=>!(e.divider||e.hide)).length,i=t.menus.filter(e=>e.divider).length,s=e,d=r*l+i*o+2*c,u=document.body.clientWidth,b=document.body.clientHeight;return{left:u<=n+s?n-s:n,top:b<=a+d?a-d:a}}),o=e=>{e.disable||e.children&&!e.handler||(e.handler&&e.handler(t.el),t.removeContextmenu())};return(t,c)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,[Object(C["createElementVNode"])("div",{class:"mask",onContextmenu:c[0]||(c[0]=Object(C["withModifiers"])(t=>e.removeContextmenu(),["prevent"])),onMousedown:c[1]||(c[1]=t=>e.removeContextmenu())},null,32),Object(C["createElementVNode"])("div",{class:"contextmenu",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(l).left+"px",top:Object(C["unref"])(l).top+"px"}),onContextmenu:c[2]||(c[2]=Object(C["withModifiers"])(()=>{},["prevent"]))},[Object(C["createVNode"])(co,{menus:e.menus,handleClickMenuItem:o},null,8,["menus"])],36)],64))}});l("b096");const ao=no;var ro=ao;const io="CTX_CONTEXTMENU_HANDLER",so=(e,t,l)=>{t.stopPropagation(),t.preventDefault();const o=l.value(e);if(!o)return;let c=null;const n=()=>{c&&(document.body.removeChild(c),c=null),e.classList.remove("contextmenu-active"),document.body.removeEventListener("scroll",n),window.removeEventListener("resize",n)},a={axis:{x:t.x,y:t.y},el:e,menus:o,removeContextmenu:n};c=document.createElement("div");const r=Object(C["createVNode"])(ro,a,null);Object(C["render"])(r,c),document.body.appendChild(c),e.classList.add("contextmenu-active"),document.body.addEventListener("scroll",n),window.addEventListener("resize",n)},uo={mounted(e,t){e[io]=l=>so(e,l,t),e.addEventListener("contextmenu",e[io])},unmounted(e){e&&e[io]&&(e.removeEventListener("contextmenu",e[io]),delete e[io])}};var bo=uo;const mo="CTX_CLICK_OUTSIDE_HANDLER",po=(e,t,l)=>{const o=l.value,c=t.composedPath(),n=c?c.indexOf(e)<0:!e.contains(t.target);n&&o(t)},Oo={mounted(e,t){e[mo]=l=>po(e,l,t),setTimeout(()=>{document.addEventListener("click",e[mo])},0)},unmounted(e){e[mo]&&(document.removeEventListener("click",e[mo]),delete e[mo])}};var jo=Oo,fo={install(e){e.directive("contextmenu",bo),e.directive("click-outside",jo)}},vo=l("107d"),ho=l("4f07");const yo=Object(C["createApp"])(S);yo.component("InputNumber",k["a"]),yo.component("Divider",x["a"]),yo.component("Button",g["a"]),yo.component("ButtonGroup",g["a"].Group),yo.component("Tooltip",y["a"]),yo.component("Popover",h["a"]),yo.component("Slider",v["a"]),yo.component("Select",f["a"]),yo.component("SelectOption",f["a"].Option),yo.component("SelectOptGroup",f["a"].OptGroup),yo.component("Switch",j["a"]),yo.component("Radio",O["a"]),yo.component("RadioGroup",O["a"].Group),yo.component("RadioButton",O["a"].Button),yo.component("Input",p["a"]),yo.component("InputGroup",p["a"].Group),yo.component("TextArea",p["a"].TextArea),yo.component("Modal",m["a"]),yo.component("Dropdown",b["a"]),yo.component("Menu",u["a"]),yo.component("MenuItem",u["a"].Item),yo.component("MenuItemGroup",u["a"].ItemGroup),yo.component("Checkbox",d["a"]),yo.component("Drawer",s["a"]),yo.component("Spin",i["a"]),yo.component("SubMenu",u["a"].SubMenu),yo.component("Avatar",r["a"]),yo.component("ConfigProvider",a["a"]),yo.component("MenuDivider",u["a"].Divider),yo.component("Upload",n["a"]),yo.component("Tabs",c["a"]),yo.component("TabPane",c["a"].TabPane),yo.component("Empty",o["a"]),yo.component("Skeleton",vo["a"]),yo.component("SkeletonTheme",vo["b"]),yo.use(St),yo.use(Jl),yo.use(fo),yo.use(ho["a"]),yo.use(Object(N["a"])()),yo.mount("#app")},cd7e:function(e,t,l){"use strict";l("3083")},cd84:function(e,t,l){},d074:function(e,t,l){"use strict";l("33a1")},d12f:function(e,t,l){"use strict";l("6b66")},d2ee:function(e,t,l){"use strict";l("7857")},d2f3:function(e,t,l){"use strict";l("25b1")},d56b:function(e,t,l){},d806:function(e,t,l){"use strict";l("ac7f")},d928:function(e,t,l){},d970:function(e,t,l){"use strict";l("d928")},d9c9:function(e,t,l){},dbf4:function(e,t,l){"use strict";l("1a38")},dcd4:function(e,t,l){"use strict";l("fa8b")},dd03:function(e,t,l){"use strict";l("503e")},dd28:function(e,t,l){"use strict";l("0017")},dd7b:function(e,t,l){"use strict";l("39e2")},dd8f:function(e,t,l){},de23:function(e,t,l){"use strict";l("e84b")},de97:function(e,t,l){},deb6:function(e,t,l){"use strict";l.d(t,"a",(function(){return o}));const o="PPTIST_DISCARDED_DB"},df90:function(e,t,l){},e227:function(e,t,l){},e25c:function(e,t,l){"use strict";l("5b9c")},e26e:function(e,t,l){},e2a7:function(e,t,l){"use strict";l("e227")},e303:function(e,t,l){"use strict";l("d9c9")},e4e9:function(e,t,l){},e62b:function(e,t,l){"use strict";l("10c4")},e81b:function(e,t,l){},e83e:function(e,t,l){"use strict";l("9845")},e84b:function(e,t,l){},e9df:function(e,t,l){"use strict";l("cd49")},eba1:function(e,t,l){"use strict";l("887c")},ebd4:function(e,t,l){},ec27:function(e,t,l){"use strict";l("76e0")},ecf8:function(e,t,l){"use strict";l("3a8e")},ef5a:function(e,t,l){},f005:function(e,t,l){},f075:function(e,t,l){},f40d:function(e,t,l){"use strict";l("2338")},f5f4:function(e,t,l){},f630:function(e,t,l){"use strict";l("a37a")},fa3d:function(e,t,l){"use strict";l("555f")},fa8b:function(e,t,l){},fa96:function(e,t,l){},fac9:function(e,t,l){"use strict";l("047a")},fbfe:function(e,t,l){"use strict";l("0045")},fd96:function(e,t,l){},fef7:function(e,t,l){"use strict";l("c145")},fef8:function(e,t,l){"use strict";l("9fce")}});
//# sourceMappingURL=app.17a8ef0e.js.map