(function(e){function t(t){for(var o,a,r=t[0],i=t[1],s=t[2],u=0,b=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&b.push(c[a][0]),c[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);d&&d(t);while(b.length)b.shift()();return n.push.apply(n,s||[]),l()}function l(){for(var e,t=0;t<n.length;t++){for(var l=n[t],o=!0,r=1;r<l.length;r++){var i=l[r];0!==c[i]&&(o=!1)}o&&(n.splice(t--,1),e=a(a.s=l[0]))}return e}var o={},c={app:0},n=[];function a(t){if(o[t])return o[t].exports;var l=o[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,a),l.l=!0,l.exports}a.m=e,a.c=o,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(l,o,function(t){return e[t]}.bind(null,o));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var s=0;s<r.length;s++)t(r[s]);var d=i;n.push([1,"chunk-vendors"]),l()})({0:function(e,t){},"0017":function(e,t,l){},"0045":function(e,t,l){},"0239":function(e,t,l){"use strict";l("95e8")},"02bd":function(e,t,l){"use strict";l("82dc")},"02ca":function(e,t,l){"use strict";l("729c")},"02e1":function(e,t,l){},"03ea":function(e,t,l){},"0401":function(e,t,l){},"047a":function(e,t,l){},"0491":function(e,t,l){"use strict";l("4302")},"04c7":function(e,t,l){"use strict";(function(e){l("7fa4");var o=l("3f13"),c=l("3eb2"),n=l("518b"),a=l("bcba"),r=l("e7dc"),i=l("b2f2"),s=l("6dcd"),d=l.n(s),u=l("33f7"),b=l("0613"),m=l("806f"),p=l("2ef4"),O=l("05c7"),j=l("823e"),f=l("a0a8"),v=l("5d81"),h=l("f101"),y=l.n(h);t["a"]=()=>{const t=Object(b["e"])(),{slides:l,theme:s,viewportRatio:h}=Object(n["c"])(t),{addSlidesFromData:g}=Object(v["a"])(),x=Object(c["ref"])(!1),k=(e,t,l,c=!0)=>{x.value=!0;const n="png"===t?u["c"]:u["b"],a=e.querySelectorAll("foreignObject [xmlns]");a.forEach(e=>e.removeAttribute("xmlns")),setTimeout(()=>{const a={quality:l,width:1600};c&&(a.fontEmbedCSS=""),n(e,a).then(e=>{x.value=!1,Object(r["saveAs"])(e,"pptist_slides."+t)}).catch(()=>{x.value=!1,o["a"].error("导出图片失败")})},200)},C=e=>{const t=new Blob([Object(j["b"])(JSON.stringify(e))],{type:""});Object(r["saveAs"])(t,"pptist_slides.pptist")},N=(e,l=!1)=>{const c=e[0],n=new FileReader;n.addEventListener("load",()=>{try{const e=JSON.parse(Object(j["a"])(n.result));l?t.setSlides(e):g(e)}catch{o["a"].error("无法正确读取 / 解析该文件")}}),n.readAsText(c)},E=()=>{const e=new Blob([JSON.stringify(l.value)],{type:""});Object(r["saveAs"])(e,"pptist_slides.json")},w=e=>{const t=d()(e),l=t.getAlpha(),o=0===l?"#ffffff":t.setAlpha(1).toHexString();return{alpha:l,color:o}},V=async t=>{const l=/(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/;if(l.test(t)){const l=await y()({url:t,method:"GET",responseType:"blob"}),o=new Blob([l.data]),c=await o.arrayBuffer();return e.from(c).toString("base64")}return Promise.resolve(t)},I=e=>{const t=Object(p["a"])(e);let l=!1,o=0;const c=[],n=(e,t={})=>{for(const r of e){const e="tagName"in r&&["div","li","p"].includes(r.tagName);if(e&&c.length){const e=c[c.length-1];e.options||(e.options={}),e.options.breakLine=!0}const i={...t},s="attributes"in r?r.attributes.find(e=>"style"===e.key):null;if(s&&s.value){const e=s.value.split(";");for(const t of e){const[e,l]=t.split(": "),[o,c]=[Object(a["trim"])(e),Object(a["trim"])(l)];o&&c&&(i[o]=c)}}if("tagName"in r){if("em"===r.tagName&&(i["font-style"]="italic"),"strong"===r.tagName&&(i["font-weight"]="bold"),"sup"===r.tagName&&(i["vertical-align"]="super"),"sub"===r.tagName&&(i["vertical-align"]="sub"),"a"===r.tagName){const e=r.attributes.find(e=>"href"===e.key);i["href"]=(null===e||void 0===e?void 0:e.value)||""}if("ul"===r.tagName&&(i["list-type"]="ul"),"ol"===r.tagName&&(i["list-type"]="ol"),"li"===r.tagName&&(l=!0),"p"===r.tagName&&"attributes"in r){const e=r.attributes.find(e=>"data-indent"===e.key);e&&e.value&&(o=+e.value)}}if("tagName"in r&&"br"===r.tagName)c.push({text:"",options:{breakLine:!0}});else if("content"in r){const e=r.content.replace(/&nbsp;/g," ").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/\n/g,""),t={};i["font-size"]&&(t.fontSize=.75*parseInt(i["font-size"])),i["color"]&&(t.color=w(i["color"]).color),i["background-color"]&&(t.highlight=w(i["background-color"]).color),i["text-decoration-line"]&&(-1!==i["text-decoration-line"].indexOf("underline")&&(t.underline={color:t.color||"#000000",style:"sng"}),-1!==i["text-decoration-line"].indexOf("line-through")&&(t.strike="sngStrike")),i["text-decoration"]&&(-1!==i["text-decoration"].indexOf("underline")&&(t.underline={color:t.color||"#000000",style:"sng"}),-1!==i["text-decoration"].indexOf("line-through")&&(t.strike="sngStrike")),i["vertical-align"]&&("super"===i["vertical-align"]&&(t.superscript=!0),"sub"===i["vertical-align"]&&(t.subscript=!0)),i["text-align"]&&(t.align=i["text-align"]),i["font-weight"]&&(t.bold="bold"===i["font-weight"]),i["font-style"]&&(t.italic="italic"===i["font-style"]),i["font-family"]&&(t.fontFace=i["font-family"]),i["href"]&&(t.hyperlink={url:i["href"]}),l&&"ol"===i["list-type"]&&(t.bullet={type:"number",indent:15},t.paraSpaceBefore=.1,l=!1),l&&"ul"===i["list-type"]&&(t.bullet={indent:15},t.paraSpaceBefore=.1,l=!1),o&&(t.indentLevel=o,o=0),c.push({text:e,options:t})}else"children"in r&&n(r.children,i)}};return n(t),c},B=(e,t={x:1,y:1})=>e.map(e=>{if(void 0!==e.close)return{close:!0};if("M"===e.type)return{x:e.x/100*t.x,y:e.y/100*t.y,moveTo:!0};if(e.curve){if("cubic"===e.curve.type)return{x:e.x/100*t.x,y:e.y/100*t.y,curve:{type:"cubic",x1:e.curve.x1/100*t.x,y1:e.curve.y1/100*t.y,x2:e.curve.x2/100*t.x,y2:e.curve.y2/100*t.y}};if("quadratic"===e.curve.type)return{x:e.x/100*t.x,y:e.y/100*t.y,curve:{type:"quadratic",x1:e.curve.x1/100*t.x,y1:e.curve.y1/100*t.y}}}return{x:e.x/100*t.x,y:e.y/100*t.y}}),S=e=>{const t=w(e.color),{h:l,v:o}=e;let c=4,n=45;return 0===l&&0===o?(c=4,n=45):0===l?o>0?(c=o,n=90):(c=-o,n=270):0===o?l>0?(c=l,n=1):(c=-l,n=180):l>0&&o>0?(c=Math.max(l,o),n=45):l>0&&o<0?(c=Math.max(l,-o),n=315):l<0&&o>0?(c=Math.max(-l,o),n=135):l<0&&o<0&&(c=Math.max(-l,-o),n=225),{type:"outer",color:t.color.replace("#",""),opacity:t.alpha,blur:.75*e.blur,offset:c,angle:n}},L=e=>{const t=w((null===e||void 0===e?void 0:e.color)||"#000000");return{color:t.color,transparency:100*(1-t.alpha),width:.75*(e.width||1),dashType:"solid"===e.style?"solid":"dash"}},_=e=>{const{type:t,target:o}=e;if("web"===t)return{url:o};if("slide"===t){const e=l.value.findIndex(e=>e.id===o);if(-1!==e)return{slide:e+1}}return null},T=async(e,t)=>{x.value=!0;const l=new i["a"];if(.625===h.value?l.layout="LAYOUT_16x10":.75===h.value?l.layout="LAYOUT_4x3":l.layout="LAYOUT_16x9",t){const{color:e,alpha:t}=w(s.value.backgroundColor);l.defineSlideMaster({title:"PPTIST_MASTER",background:{color:e,transparency:100*(1-t)}})}for(const o of e){const e=l.addSlide();if(o.background){const t=o.background;if("image"===t.type&&t.image){const l=await V(t.image);e.background={data:l}}else if("solid"===t.type&&t.color){const l=w(t.color);e.background={color:l.color,transparency:100*(1-l.alpha)}}else if("gradient"===t.type&&t.gradientColor){const[l,o]=t.gradientColor,c=d.a.mix(l,o).toHexString(),n=w(c);e.background={color:n.color,transparency:100*(1-n.alpha)}}}if(o.remark&&e.addNotes(o.remark),o.elements)for(const t of o.elements)if("text"===t.type){var c;const l=I(t.content),o={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,fontSize:15,fontFace:"微软雅黑",color:"#000000",valign:"top",margin:7.5,paraSpaceBefore:3.75,lineSpacingMultiple:1.2,autoFit:!0};if(t.rotate&&(o.rotate=t.rotate),t.wordSpace&&(o.charSpacing=.75*t.wordSpace),t.lineHeight&&(o.lineSpacingMultiple=t.lineHeight/1.25),t.fill){const e=w(t.fill),l=void 0===t.opacity?1:t.opacity;o.fill={color:e.color,transparency:100*(1-e.alpha*l)}}t.defaultColor&&(o.color=w(t.defaultColor).color),t.defaultFontName&&(o.fontFace=t.defaultFontName),t.shadow&&(o.shadow=S(t.shadow)),null!==(c=t.outline)&&void 0!==c&&c.width&&(o.line=L(t.outline)),void 0!==t.opacity&&(o.transparency=100*(1-t.opacity)),void 0!==t.paragraphSpace&&(o.paraSpaceBefore=.75*t.paragraphSpace),e.addText(l,o)}else if("image"===t.type){var n,a;const l={data:await V(t.src),x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100};if(t.flipH&&(l.flipH=t.flipH),t.flipV&&(l.flipV=t.flipV),t.rotate&&(l.rotate=t.rotate),t.link){const e=_(t.link);e&&(l.hyperlink=e)}if(null!==(n=t.filters)&&void 0!==n&&n.opacity&&(l.transparency=100-parseInt(null===(a=t.filters)||void 0===a?void 0:a.opacity)),t.clip){"ellipse"===t.clip.shape&&(l.rounding=!0);const[e,o]=t.clip.range,[c,n]=e,[a,r]=o,i=t.width/((a-c)/100),s=t.height/((r-n)/100);l.w=i/100,l.h=s/100,l.sizing={type:"crop",x:c/100*i/100,y:n/100*s/100,w:(a-c)/100*i/100,h:(r-n)/100*s/100}}e.addImage(l)}else if("shape"===t.type){if(t.special){const l=document.querySelector(`.thumbnail-list .base-element-${t.id} svg`),o=Object(f["a"])(l),c={data:o,x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100};if(t.rotate&&(c.rotate=t.rotate),t.link){const e=_(t.link);e&&(c.hyperlink=e)}e.addImage(c)}else{var r;const l={x:t.width/t.viewBox[0],y:t.height/t.viewBox[1]},o=B(Object(O["a"])(t.path),l),c=w(t.fill),n=void 0===t.opacity?1:t.opacity,a={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,fill:{color:c.color,transparency:100*(1-c.alpha*n)},points:o};if(t.flipH&&(a.flipH=t.flipH),t.flipV&&(a.flipV=t.flipV),t.shadow&&(a.shadow=S(t.shadow)),null!==(r=t.outline)&&void 0!==r&&r.width&&(a.line=L(t.outline)),t.link){const e=_(t.link);e&&(a.hyperlink=e)}e.addShape("custGeom",a)}if(t.text){const l=I(t.text.content),o={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,fontSize:15,fontFace:"微软雅黑",color:"#000000",paraSpaceBefore:3.75,valign:t.text.align};t.rotate&&(o.rotate=t.rotate),t.text.defaultColor&&(o.color=w(t.text.defaultColor).color),t.text.defaultFontName&&(o.fontFace=t.text.defaultFontName),e.addText(l,o)}}else if("line"===t.type){const l=Object(m["d"])(t),o=B(Object(O["a"])(l)),{minX:c,maxX:n,minY:a,maxY:r}=Object(m["c"])(t),i=w(t.color),s={x:t.left/100,y:t.top/100,w:(n-c)/100,h:(r-a)/100,line:{color:i.color,transparency:100*(1-i.alpha),width:.75*t.width,dashType:"solid"===t.style?"solid":"dash",beginArrowType:t.points[0]?"arrow":"none",endArrowType:t.points[1]?"arrow":"none"},points:o};t.shadow&&(s.shadow=S(t.shadow)),e.addShape("custGeom",s)}else if("chart"===t.type){const o=[];for(let e=0;e<t.data.series.length;e++){const l=t.data.series[e];o.push({name:"系列"+(e+1),labels:t.data.labels,values:l})}let c=[];if(10===t.themeColor.length)c=t.themeColor.map(e=>w(e).color);else if(1===t.themeColor.length)c=d()(t.themeColor[0]).analogous(10).map(e=>w(e.toHexString()).color);else{const e=t.themeColor.length,l=d()(t.themeColor[e-1]).analogous(11-e).map(e=>e.toHexString());c=[...t.themeColor.slice(0,e-1),...l].map(e=>w(e).color)}const n={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,chartColors:"pie"===t.chartType?c:c.slice(0,t.data.series.length)};t.fill&&(n.fill=w(t.fill).color),t.legend&&(n.showLegend=!0,n.legendPos="top"===t.legend?"t":"b",n.legendColor=w(t.gridColor||"#000000").color,n.legendFontSize=10.5);let a=l.ChartType.bar;var u;if("bar"===t.chartType)a=l.ChartType.bar,n.barDir=null!==(u=t.options)&&void 0!==u&&u.horizontalBars?"bar":"col";else if("line"===t.chartType){var b,p,j;null!==(b=t.options)&&void 0!==b&&b.showArea?a=l.ChartType.area:!1===(null===(p=t.options)||void 0===p?void 0:p.showLine)?(a=l.ChartType.scatter,o.unshift({name:"X-Axis",values:Array(t.data.series[0].length).fill(0).map((e,t)=>t)}),n.lineSize=0):a=l.ChartType.line,null!==(j=t.options)&&void 0!==j&&j.lineSmooth&&(n.lineSmooth=!0)}else if("pie"===t.chartType){var v;null!==(v=t.options)&&void 0!==v&&v.donut?(a=l.ChartType.doughnut,n.holeSize=75):a=l.ChartType.pie}e.addChart(a,o,n)}else if("table"===t.type){const l=[];for(let e=0;e<t.data.length;e++){const o=t.data[e];for(let t=0;t<o.length;t++){const c=o[t];if(c.colspan>1||c.rowspan>1)for(let o=e;o<e+c.rowspan;o++)for(let n=o===e?t+1:t;n<t+c.colspan;n++)l.push(`${o}_${n}`)}}const o=[],c=t.theme;let n=null,a=[];c&&(n=w(c.color),a=Object(m["g"])(c.color).map(e=>w(e)));for(let e=0;e<t.data.length;e++){const r=t.data[e],i=[];for(let o=0;o<r.length;o++){var y,g,k,C,N,E,T,M,D;const s=r[o],d={colspan:s.colspan,rowspan:s.rowspan,bold:(null===(y=s.style)||void 0===y?void 0:y.bold)||!1,italic:(null===(g=s.style)||void 0===g?void 0:g.em)||!1,underline:{style:null!==(k=s.style)&&void 0!==k&&k.underline?"sng":"none"},align:(null===(C=s.style)||void 0===C?void 0:C.align)||"left",valign:"middle",fontFace:(null===(N=s.style)||void 0===N?void 0:N.fontname)||"微软雅黑",fontSize:.75*(null!==(E=s.style)&&void 0!==E&&E.fontsize?parseInt(null===(T=s.style)||void 0===T?void 0:T.fontsize):14)};if(c&&n){let l;l=e%2===0?a[1]:a[0],(c.rowHeader&&0===e||c.rowFooter&&e===t.data.length-1||c.colHeader&&0===o||c.colFooter&&o===r.length-1)&&(l=n),d.fill={color:l.color,transparency:100*(1-l.alpha)}}if(null!==(M=s.style)&&void 0!==M&&M.backcolor){const e=w(s.style.backcolor);d.fill={color:e.color,transparency:100*(1-e.alpha)}}null!==(D=s.style)&&void 0!==D&&D.color&&(d.color=w(s.style.color).color),l.includes(`${e}_${o}`)||i.push({text:s.text,options:d})}i.length&&o.push(i)}const r={x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100,colW:t.colWidths.map(e=>t.width*e/100)};t.theme&&(r.fill={color:"#ffffff"}),t.outline.width&&t.outline.color&&(r.border={type:"solid"===t.outline.style?"solid":"dash",pt:.75*t.outline.width,color:w(t.outline.color).color}),e.addTable(o,r)}else if("latex"===t.type){const l=document.querySelector(`.thumbnail-list .base-element-${t.id} svg`),o=Object(f["a"])(l),c={data:o,x:t.left/100,y:t.top/100,w:t.width/100,h:t.height/100};if(t.link){const e=_(t.link);e&&(c.hyperlink=e)}e.addImage(c)}}l.writeFile({fileName:"pptist.pptx"}).then(()=>x.value=!1).catch(e=>{x.value=!1,o["a"].error("导出失败")})};return{exporting:x,exportImage:k,exportJSON:E,importSpecificFile:N,exportSpecificFile:C,exportPPTX:T}}}).call(this,l("257d").Buffer)},"04d2":function(e,t,l){},"0516":function(e,t,l){"use strict";l("46bb")},"05c7":function(e,t,l){"use strict";l.d(t,"a",(function(){return a}));var o=l("f0a5"),c=l("12d6");const n={1:"Z",2:"M",4:"H",8:"V",16:"L",32:"C",64:"S",128:"Q",256:"T",512:"A"},a=e=>{const t=new o["a"](e),l=[];for(const o of t.commands){const e=n[o.type];if(2!==o.type&&16!==o.type||l.push({x:o.x,y:o.y,relative:o.relative,type:e}),32===o.type)l.push({x:o.x,y:o.y,curve:{type:"cubic",x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},relative:o.relative,type:e});else if(128===o.type)l.push({x:o.x,y:o.y,curve:{type:"quadratic",x1:o.x1,y1:o.y1},relative:o.relative,type:e});else if(512===o.type){const e=l[l.length-1];if(!["M","L","Q","C"].includes(e.type))continue;const t=Object(c["a"])({px:e.x,py:e.y,cx:o.x,cy:o.y,rx:o.rX,ry:o.rY,xAxisRotation:o.xRot,largeArcFlag:o.lArcFlag,sweepFlag:o.sweepFlag});for(const o of t)l.push({x:o.x,y:o.y,curve:{type:"cubic",x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},relative:!1,type:"C"})}else{if(1!==o.type)continue;l.push({close:!0,type:e})}}return l}},"0613":function(e,t,l){"use strict";l.d(t,"c",(function(){return E})),l.d(t,"e",(function(){return k})),l.d(t,"f",(function(){return T})),l.d(t,"b",(function(){return M})),l.d(t,"d",(function(){return D})),l.d(t,"a",(function(){return A["b"]}));var o=l("5a11"),c=l("518b"),n=l("c205"),a=l("4c44"),r=l("6bca");const i=e=>{if("string"!==typeof e)return!1;const t="Arial";if(e.toLowerCase()===t.toLowerCase())return!0;const l=100,o=100,c=100,n="a",a=document.createElement("canvas"),r=a.getContext("2d");if(!r)return!1;a.width=o,a.height=c,r.textAlign="center",r.fillStyle="black",r.textBaseline="middle";const i=e=>{r.clearRect(0,0,o,c),r.font=`${l}px ${e}, ${t}`,r.fillText(n,o/2,c/2);const a=r.getImageData(0,0,o,c).data;return[].slice.call(a).filter(e=>0!==e)};return i(t).join("")!==i(e).join("")};l("f3e6");var s=l("6dcd"),d=l.n(s),u=l("bcba");const b=[{id:"slide-1",elements:[{type:"text",id:"mid_e29ab2d3a",left:145,top:228,width:711,height:77,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333"}],background:{type:"solid",color:"#fff"}}],m={themeColor:"#5b9bd5",fontColor:"#333",fontName:"Microsoft Yahei",backgroundColor:"#fff"},p=[{id:"template",elements:[{type:"shape",id:"4cbRxp",left:0,top:200,width:546,height:362.5,viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z",fill:"{{themeColor}}",fixedRatio:!1,opacity:.7,rotate:0},{type:"shape",id:"ookHrf",left:0,top:0,width:300,height:320,viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z",fill:"{{themeColor}}",fixedRatio:!1,flipV:!0,rotate:0},{type:"text",id:"AkIh3E",left:355,top:95.11111111111111,width:585,height:116,lineHeight:1.2,content:"<p style=''><strong><span style='font-size: 80px'>输入标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:6},{type:"text",id:"7stmVP",left:355,top:253.25,width:585,height:56,content:"<p><span style='font-size:  24px'>请在此处输入副标题</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"line",id:"FnpZs4",left:361,top:238,start:[0,0],end:[549,0],points:["",""],color:"{{themeColor}}",style:"solid",width:2}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"ptNnUJ",left:145,top:148,width:711,height:77,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"mRHvQN",left:207.50000000000003,top:249.84259259259264,width:585,height:56,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处添加副标题</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"line",id:"7CQDwc",left:323.09259259259267,top:238.33333333333334,start:[0,0],end:[354.8148148148148,0],points:["",""],color:"{{themeColor}}",style:"solid",width:4},{type:"shape",id:"09wqWw",left:-27.648148148148138,top:432.73148148148147,width:1056.2962962962963,height:162.96296296296296,viewBox:[200,200],path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"vSheCJ",left:183.5185185185185,top:175.5092592592593,width:605.1851851851851,height:185.18518518518516,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0},{type:"shape",id:"Mpwv7x",left:211.29629629629628,top:201.80555555555557,width:605.1851851851851,height:185.18518518518516,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,opacity:.7},{type:"text",id:"WQOTAp",left:304.9074074074074,top:198.10185185185182,width:417.9629629629629,height:140,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 80px'>感谢观看</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:5}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"MZVO1kkj",elements:[{type:"shape",id:"cql0h8",left:0,top:0,width:352.59259259259255,height:562.5,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0},{type:"shape",id:"_RTaF4",left:171.4814814814814,top:100.13888888888887,width:362.22222222222223,height:362.22222222222223,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"rgba(255,255,255,0)",fixedRatio:!1,rotate:0,outline:{width:10,color:"{{backgroundColor}}",style:"solid"}},{type:"shape",id:"UZfo8N",left:216.66666666666663,top:145.32407407407408,width:271.85185185185185,height:271.85185185185185,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='font-size: 80px'>01</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"ysqtBg",left:561.4814814814814,top:100.1388888888889,width:359.25925925925924,height:80,content:"<p style=''><strong><span style='font-size: 40px'>在此处输入标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"lXsoHa",left:572.5925925925925,top:202.3611111111111,width:257.77777777777777,height:260,content:"<ol><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li></ol>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",lineHeight:2,fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"EBBnTr",left:360.5996472663139,top:141.8496472663139,width:278.80070546737215,height:278.80070546737215,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:0,color:"{{backgroundColor}}",style:"solid"}},{type:"shape",id:"gDIWDH",left:456.4373897707231,top:98.287037037037,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"DUWT7E",left:317.037037037037,top:237.68738977072314,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"pbhn38",left:456.43738977072303,top:377.08774250440916,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"CvMKrO",left:595.8377425044091,top:237.6873897707231,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"adudHB",left:402.962962962963,top:39.39814814814815,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"9UpDwg",left:402.962962962963,top:473.1018518518518,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"GERdpB",left:111.48148148148151,top:256.25,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"G5qoho",left:691.1111111111111,top:256.25,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"shape",id:"vdZcI6",left:415.18518518518516,top:196.4351851851852,width:169.62962962962962,height:169.62962962962962,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"tYUmrx",left:156.66666666666683,top:149.02777777777771,width:264.4444444444445,height:264.4444444444445,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'><span style='font-size: 60px'>01</span></span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"0GVHf8",left:342.2222222222223,top:217.17592592592587,width:128.14814814814812,height:128.14814814814812,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0},{type:"text",id:"BO33Sv",left:378.8888888888889,top:235.24999999999994,width:464.4444444444444,height:92,content:"<p style=''><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"Hj7ttp",left:69.35185185185185,top:49.21759259259262,width:420,height:63,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>1.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"FmKMNB",left:69.35185185185185,top:129.28240740740745,width:420,height:384,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"rI7ZeO",left:510.64814814814815,top:49.21759259259262,width:420,height:63,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>2.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"KspwGc",left:510.64814814814815,top:129.28240740740745,width:420,height:384,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"Rx63Jo",left:69.35185185185179,top:51.71759259259262,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>1.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"ulyuzE",left:69.35185185185179,top:131.78240740740745,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"kr35Ca",left:510.6481481481481,top:51.71759259259262,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>2.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"BNQSpC",left:510.6481481481481,top:131.78240740740745,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"Vr38Nu",left:69.35185185185185,top:301.71759259259255,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>3.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"IwKRSu",left:69.35185185185185,top:381.7824074074074,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"0Opr1v",left:510.64814814814815,top:301.71759259259255,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>4.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"4L9Uzz",left:510.64814814814815,top:381.7824074074074,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"GdEGxg",left:134.53703703703704,top:127.25,width:152.77777777777777,height:308,lineHeight:1.8,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 40px'>请在此处输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:8,fill:"{{themeColor}}"},{type:"text",id:"y5sAfw",left:332.8703703703704,top:127.25,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容1</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"VeuocM",left:332.8703703703704,top:212.0648148148148,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容2</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"RyFWQe",left:332.8703703703704,top:296.8796296296296,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容3</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"Q56viI",left:332.8703703703704,top:381.69444444444446,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容4</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"SUWirT",left:73.8888888888889,top:64.21296296296302,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"YjzN1M",left:148.70370370370372,top:64.21296296296302,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"fS09I7",left:527.5925925925926,top:64.21296296296302,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"qCnfB1",left:602.4074074074074,top:64.21296296296302,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"difAAT",left:73.8888888888889,top:221.25000000000003,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"EUlvMo",left:148.70370370370372,top:221.25000000000003,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"US_9jB",left:527.5925925925926,top:221.25000000000003,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"243MnQ",left:602.4074074074074,top:221.25000000000003,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"Y_KUj0",left:73.8888888888889,top:378.287037037037,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>5</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"9GglMe",left:148.70370370370372,top:378.287037037037,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"eSInje",left:527.5925925925926,top:378.287037037037,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>6</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"0S3yUg",left:602.4074074074074,top:378.287037037037,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}}];function O(){return new Worker(l.p+"js/sync.worker.fd5231f4.worker.js")}function j(){return new Worker(l.p+"js/snapshot.worker.0f5cdeb1.worker.js")}var f=l("3a6a"),v=l("33f7"),h=l("9d6d");const y=new O,g=new j;let x;const k=Object(c["b"])("slides",{state:()=>({theme:m,slides:b,slideIndex:0,viewportRatio:.5625,docsId:"",coopUsers:[localStorage.getItem("token")],coopUserInfo:{},cloudSlidesLoaded:!1}),getters:{currentSlide(e){return e.slides[e.slideIndex]},currentSlideAnimations(e){const t=e.slides[e.slideIndex];if(null===t||void 0===t||!t.animations)return[];const l=t.elements,o=l.map(e=>e.id);return t.animations.filter(e=>o.includes(e.elId))},formatedAnimations(e){const t=e.slides[e.slideIndex];if(null===t||void 0===t||!t.animations)return[];const l=t.elements,o=l.map(e=>e.id),c=t.animations.filter(e=>o.includes(e.elId)),n=[];for(const a of c)if("click"!==a.trigger&&n.length){if("meantime"===a.trigger){const e=n[n.length-1];e.animations=e.animations.filter(e=>e.elId!==a.elId),e.animations.push(a),n[n.length-1]=e}else if("auto"===a.trigger){const e=n[n.length-1];e.autoNext=!0,n[n.length-1]=e,n.push({animations:[a],autoNext:!1})}}else n.push({animations:[a],autoNext:!1});return n},layouts(e){const{themeColor:t,fontColor:l,fontName:o,backgroundColor:c}=e.theme,n=d()(l).isDark()?"rgba(230, 230, 230, 0.5)":"rgba(180, 180, 180, 0.5)",a=JSON.stringify(p).replaceAll("{{themeColor}}",t).replaceAll("{{fontColor}}",l).replaceAll("{{fontName}}",o).replaceAll("{{backgroundColor}}",c).replaceAll("{{subColor}}",n);return JSON.parse(a)}},actions:{setDocsId(e){this.docsId=e},setTheme(e){this.theme={...this.theme,...e}},setViewportRatio(e){this.viewportRatio=e},setSlides(e){this.slides=e},addSlide(e,t,l=!1){const o=Array.isArray(e)?e:[e],c=null!==t&&void 0!==t?t:this.slideIndex,n=c+1;var a;(this.slides.splice(n,0,...o),this._sync(this.docsId,this.slides.slice()),l)||(this.slideIndex=n,null===(a=x)||void 0===a||a.send(JSON.stringify({event:"broadcast-update",data:{type:"addSlide",slideIndex:n-1,data:e}})))},updateSlide(e,t,l=!1){var o;const c=null!==t&&void 0!==t?t:this.slideIndex;this.slides[c]={...this.slides[c],...e},this._sync(this.docsId,this.slides.slice()),l||null===(o=x)||void 0===o||o.send(JSON.stringify({event:"broadcast-update",data:{type:"updateSlide",slideIndex:this.slideIndex,data:e}}))},deleteSlide(e,t,l=!1){var o;const c=Array.isArray(e)?e:[e],n=[];for(let i=0;i<c.length;i++){const e=this.slides.findIndex(e=>e.id===c[i]);n.push(e)}let a=Math.min(...n);const r=this.slides.length-c.length-1;a>r&&(a=r),this.slideIndex=a,this.slides=this.slides.filter(e=>!c.includes(e.id)),this._sync(this.docsId,this.slides.slice()),l||null===(o=x)||void 0===o||o.send(JSON.stringify({event:"broadcast-update",data:{type:"deleteSlide",slideIndex:this.slideIndex,data:e}}))},updateSlideIndex(e){var t;this.slideIndex=e,null===(t=x)||void 0===t||t.send(JSON.stringify({event:"broadcast-user-trivial",data:{type:"slide-selection",slideIndex:e}}))},addElement(e,t,l=!1){var o;const c=Array.isArray(e)?e:[e],n=null!==t&&void 0!==t?t:this.slideIndex,a=this.slides[n].elements,r=[...a,...c];this.slides[n].elements=r,this._sync(this.docsId,this.slides.slice()),l||null===(o=x)||void 0===o||o.send(JSON.stringify({event:"broadcast-update",data:{type:"addElement",slideIndex:this.slideIndex,data:e}}))},deleteElement(e,t,l=!1){var o;const c=Array.isArray(e)?e:[e],n=null!==t&&void 0!==t?t:this.slideIndex,a=this.slides[n].elements,r=a.filter(e=>!c.includes(e.id));this.slides[n].elements=r,this._sync(this.docsId,this.slides.slice()),l||null===(o=x)||void 0===o||o.send(JSON.stringify({event:"broadcast-update",data:{type:"deleteElement",slideIndex:this.slideIndex,data:e}}))},updateElement(e,t,l=!1){var o;const{id:c,props:n}=e,a="string"===typeof c?[c]:c,r=null!==t&&void 0!==t?t:this.slideIndex,i=this.slides[r],s=i.elements.map(e=>a.includes(e.id)?{...e,...n}:e);this.slides[r].elements=s,l||null===(o=x)||void 0===o||o.send(JSON.stringify({event:"broadcast-update",data:{type:"updateElement",slideIndex:this.slideIndex,data:e}}))},_sync:Object(u["throttle"])(async(e,t)=>{const l=document.querySelector(".thumbnail-item .thumbnail"),o=l?await Object(v["c"])(l,{quality:1,canvasWidth:640,canvasHeight:360,style:{outline:"unset"}}):"";y.postMessage({type:"sync",json:JSON.stringify(t),docsId:e,jpg:o,token:localStorage.getItem("token"),isDev:!1})},3e3),_snapshoot(){const e=document.querySelector(".thumbnail-item .thumbnail");g.postMessage({type:"snapshot",dom:e})},removeElementProps(e,t,l=!1){const{id:o,propName:c}=e,n="string"===typeof c?[c]:c,a=null!==t&&void 0!==t?t:this.slideIndex,r=this.slides[a],i=r.elements.map(e=>e.id===o?Object(u["omit"])(e,n):e);this.slides[a].elements=i},updateCoopUsers(e){this.coopUsers=e,e.forEach(e=>{var t;null!==(t=this.coopUserInfo[e])&&void 0!==t&&t.avatar||Object(f["a"])(e).then(t=>{var l;this.updateCoopUserAvatar(e,null!==(l=t.photo)&&void 0!==l?l:"")})})},updateCoopUserInfo(e,t){var l,o;null!==(o=(l=this.coopUserInfo)[e])&&void 0!==o||(l[e]={}),this.coopUserInfo[e]={...this.coopUserInfo[e],...t}},updateCoopUserAvatar(e,t){var l,o;null!==(o=(l=this.coopUserInfo)[e])&&void 0!==o||(l[e]={}),this.coopUserInfo[e].avatar=t},connectWebsocket(){const e=new WebSocket(h["a"]);e.onopen=()=>{e.send(JSON.stringify({event:"auth",data:{docId:this.docsId,token:localStorage.getItem("token")}})),x=e},e.onmessage=e=>{const t=JSON.parse(e.data);"broadcast-update"===t.event?this[t.data.type](t.data.data,t.data.slideIndex,!0):"broadcast-user"===t.event?this.updateCoopUsers(t.data.users):"broadcast-user-trivial"===t.event&&"slide-selection"===t.data.type&&this.updateCoopUserInfo(t.fromUser,{currentSlide:t.data.slideIndex})}},cloudSlidesLoadedCallback(){this.cloudSlidesLoaded||(this.cloudSlidesLoaded=!0,this._sync(this.docsId,this.slides.slice()))},closeWebsocket(){var e;null===(e=x)||void 0===e||e.close()}}}),C=Object(o["a"])("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),N=C(10),E=Object(c["b"])("main",{state:()=>({activeElementIdList:[],handleElementId:"",activeGroupElementId:"",canvasPercentage:90,canvasScale:1,canvasDragged:!1,thumbnailsFocus:!1,editorAreaFocus:!1,disableHotkeys:!1,gridLineSize:0,showRuler:!1,creatingElement:null,availableFonts:a["a"],toolbarState:n["a"].SLIDE_DESIGN,clipingImageElementId:"",richTextAttrs:r["c"],selectedTableCells:[],isScaling:!1,selectedSlidesIndex:[],dialogForExport:"",databaseId:N}),getters:{activeElementList(e){const t=k(),l=t.currentSlide;return l&&l.elements?l.elements.filter(t=>e.activeElementIdList.includes(t.id)):[]},handleElement(e){const t=k(),l=t.currentSlide;return l&&l.elements&&l.elements.find(t=>e.handleElementId===t.id)||null}},actions:{setActiveElementIdList(e){1===e.length?this.handleElementId=e[0]:this.handleElementId="",this.activeElementIdList=e},setHandleElementId(e){this.handleElementId=e},setActiveGroupElementId(e){this.activeGroupElementId=e},setCanvasPercentage(e){this.canvasPercentage=e},setCanvasScale(e){this.canvasScale=e},setCanvasDragged(e){this.canvasDragged=e},setThumbnailsFocus(e){this.thumbnailsFocus=e},setEditorareaFocus(e){this.editorAreaFocus=e},setDisableHotkeysState(e){this.disableHotkeys=e},setGridLineSize(e){this.gridLineSize=e},setRulerState(e){this.showRuler=e},setCreatingElement(e){this.creatingElement=e},setAvailableFonts(){this.availableFonts=a["a"].filter(e=>i(e.value))},setToolbarState(e){this.toolbarState=e},setClipingImageElementId(e){this.clipingImageElementId=e},setRichtextAttrs(e){this.richTextAttrs=e},setSelectedTableCells(e){this.selectedTableCells=e},setScalingState(e){this.isScaling=e},updateSelectedSlidesIndex(e){this.selectedSlidesIndex=e},setDialogForExport(e){this.dialogForExport=e}}});var w=l("44c0"),V=l("4ef3"),I=l("deb6");const B="PPTist",S=async()=>{const e=(new Date).getTime(),t=localStorage.getItem(I["a"]),l=t?JSON.parse(t):[],o=await V["a"].getDatabaseNames(),c=o.filter(t=>{if(-1===t.indexOf(B))return!1;const[o,c,n]=t.split("_");return o!==B||!c||!n||(!!l.includes(c)||e-+n>=432e5)});for(const n of c)V["a"].delete(n);localStorage.removeItem(I["a"])};class L extends V["a"]{constructor(){super(`${B}_${N}_${(new Date).getTime()}`),Object(w["a"])(this,"snapshots",void 0),this.version(1).stores({snapshots:"++id"}),this.snapshots=this.table("snapshots")}}const _=new L,T=Object(c["b"])("snapshot",{state:()=>({snapshotCursor:-1,snapshotLength:0}),getters:{canUndo(e){return e.snapshotCursor>0},canRedo(e){return e.snapshotCursor<e.snapshotLength-1}},actions:{setSnapshotCursor(e){this.snapshotCursor=e},setSnapshotLength(e){this.snapshotLength=e},async initSnapshotDatabase(){const e=k();await S();const t={index:e.slideIndex,slides:e.slides};await _.snapshots.add(t),this.setSnapshotCursor(0),this.setSnapshotLength(1)},async addSnapshot(){const e=k(),t=await _.snapshots.orderBy("id").keys();let l=[];this.snapshotCursor>=0&&this.snapshotCursor<t.length-1&&(l=t.slice(this.snapshotCursor+1));const o={index:e.slideIndex,slides:e.slides};await _.snapshots.add(o);let c=t.length-l.length+1;const n=20;c>n&&(l.push(t[0]),c--),c>=2&&_.snapshots.update(t[c-2],{index:e.slideIndex}),await _.snapshots.bulkDelete(l),this.setSnapshotCursor(c-1),this.setSnapshotLength(c)},async unDo(){if(this.snapshotCursor<=0)return;const e=k(),t=E(),l=this.snapshotCursor-1,o=await _.snapshots.orderBy("id").toArray(),c=o[l],{index:n,slides:a}=c,r=n>a.length-1?a.length-1:n;e.setSlides(a),e.updateSlideIndex(r),this.setSnapshotCursor(l),t.setActiveElementIdList([])},async reDo(){if(this.snapshotCursor>=this.snapshotLength-1)return;const e=k(),t=E(),l=this.snapshotCursor+1,o=await _.snapshots.orderBy("id").toArray(),c=o[l],{index:n,slides:a}=c,r=n>a.length-1?a.length-1:n;e.setSlides(a),e.updateSlideIndex(r),this.setSnapshotCursor(l),t.setActiveElementIdList([])}}}),M=Object(c["b"])("keyboard",{state:()=>({ctrlKeyState:!1,shiftKeyState:!1,spaceKeyState:!1}),getters:{ctrlOrShiftKeyActive(e){return e.ctrlKeyState||e.shiftKeyState}},actions:{setCtrlKeyState(e){this.ctrlKeyState=e},setShiftKeyState(e){this.shiftKeyState=e},setSpaceKeyState(e){this.spaceKeyState=e}}}),D=Object(c["b"])("screen",{state:()=>({screening:!1}),actions:{setScreening(e){this.screening=e}}});var A=l("8e64")},"07f0":function(e,t,l){"use strict";l("9b34")},"0995":function(e,t,l){},"0a14":function(e,t,l){},"0a20":function(e,t,l){"use strict";var o=l("bcba"),c=l("0613");t["a"]=()=>{const e=Object(c["f"])(),t=Object(o["debounce"])((function(){e.addSnapshot()}),300,{trailing:!0}),l=Object(o["throttle"])((function(){e.reDo()}),100,{leading:!0,trailing:!1}),n=Object(o["throttle"])((function(){e.unDo()}),100,{leading:!0,trailing:!1});return{addHistorySnapshot:t,redo:l,undo:n}}},"0baa":function(e,t,l){},"0d13":function(e,t,l){},"0dbd":function(e,t,l){},"0dc3":function(e,t,l){},"0e86":function(e,t,l){},"0f64":function(e,t,l){"use strict";l("de97")},"0f92":function(e,t,l){"use strict";l("02e1")},"0fcb":function(e,t,l){},1:function(e,t,l){e.exports=l("cd49d")},"107b":function(e,t,l){},"10c4":function(e,t,l){},1126:function(e,t,l){"use strict";l("0995")},1222:function(e,t,l){"use strict";l("b583")},"129f":function(e,t,l){},15689:function(e,t,l){"use strict";l("0a14")},"15f6":function(e,t,l){},"16f3":function(e,t,l){},"179a":function(e,t,l){"use strict";l("85b1")},"180d":function(e,t,l){"use strict";l("fa96")},1855:function(e,t,l){"use strict";l("97b0")},"18c8":function(e,t,l){"use strict";l("8b87")},"18f6":function(e,t,l){},1933:function(e,t,l){"use strict";l("6e48")},"197ca":function(e,t,l){"use strict";l("dd8f")},"1a38":function(e,t,l){},"1c65":function(e,t,l){"use strict";l("84ba")},"1ebd":function(e,t,l){"use strict";l("cd84")},"1f3d":function(e,t,l){},2:function(e,t){},"20aee":function(e,t,l){},2338:function(e,t,l){},2460:function(e,t,l){"use strict";l("483c")},"24bc":function(e,t,l){"use strict";l("f075")},"25b1":function(e,t,l){},2626:function(e,t,l){"use strict";l("7f69")},2803:function(e,t,l){"use strict";l("2a2b")},2841:function(e,t,l){},"28eb":function(e,t,l){"use strict";l("4916")},"2a2b":function(e,t,l){},"2ac5":function(e,t,l){},"2beb":function(e,t,l){},"2d82":function(e,t,l){},"2d86":function(e,t,l){"use strict";l("d56b")},"2e7d":function(e,t,l){},"2ef4":function(e,t,l){"use strict";l.d(t,"a",(function(){return w}));var o=l("bcba");const c=["style","script","template"],n=["html","head","body","p","dt","dd","li","option","thead","th","tbody","tr","td","tfoot","colgroup"],a={li:["ul","ol","menu"],dt:["dl"],dd:["dl"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table"],td:["table"]},r=["!doctype","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],i=(e,t)=>{const l=t-e.position;s(e,l)},s=(e,t)=>{e.position=e.position+t},d=(e,t)=>{const l=!1;while(!l){const l=e.indexOf("<",t);if(-1===l)return l;const o=e.charAt(l+1);if("/"===o||"!"===o||/[A-Za-z0-9]/.test(o))return l;t=l+1}return-1},u=e=>{const{str:t}=e;let l=d(t,e.position);if(l===e.position)return;-1===l&&(l=t.length);const o=t.slice(e.position,l);i(e,l),e.tokens.push({type:"text",content:o})},b=e=>{const{str:t}=e;s(e,4);let l=t.indexOf("--\x3e",e.position),o=l+3;-1===l&&(l=o=t.length);const c=t.slice(e.position,l);i(e,o),e.tokens.push({type:"comment",content:c})},m=e=>{const{str:t}=e,l=t.length;let o=e.position;while(o<l){const e=t.charAt(o),l=!(/\s/.test(e)||"/"===e||">"===e);if(l)break;o++}let c=o+1;while(c<l){const e=t.charAt(c),l=!(/\s/.test(e)||"/"===e||">"===e);if(!l)break;c++}i(e,c);const n=t.slice(o,c);return e.tokens.push({type:"tag",content:n}),n},p=e=>{const{str:t,tokens:l}=e;let c=e.position,n=null,a=c;const r=[],s=t.length;while(c<s){const e=t.charAt(c);if(n){const t=e===n;t&&(n=null),c++;continue}const l="/"===e||">"===e;if(l){c!==a&&r.push(t.slice(a,c));break}const o=/\s/.test(e);if(o){c!==a&&r.push(t.slice(a,c)),a=c+1,c++;continue}const i="'"===e||'"'===e;i?(n=e,c++):c++}i(e,c);const d="attribute";for(let i=0;i<r.length;i++){const e=r[i],t=-1===e.indexOf("=");if(t){const t=r[i+1];if(t&&Object(o["startsWith"])(t,"=")){if(t.length>1){const o=e+t;l.push({type:d,content:o}),i+=1;continue}const o=r[i+2];if(i+=1,o){const t=e+"="+o;l.push({type:d,content:t}),i+=1;continue}}}if(Object(o["endsWith"])(e,"=")){const t=r[i+1];if(t&&-1===t.indexOf("=")){const o=e+t;l.push({type:d,content:o}),i+=1;continue}const o=e.slice(0,-1);l.push({type:d,content:o})}else l.push({type:d,content:e})}},O=(e,t)=>{const{str:l,tokens:o}=t,c=e.toLowerCase(),n=l.length;let a=t.position;while(a<n){const e=l.indexOf("</",a);if(-1===e){u(t);break}const n={str:l,position:t.position,tokens:[]};i(n,e);const r=j(n);if(c===r.toLowerCase()){if(e!==t.position){const c=t.position;i(t,e),o.push({type:"text",content:l.slice(c,e)})}o.push(...n.tokens),i(t,n.position);break}a=n.position}},j=e=>{const{str:t}=e,l=t.charAt(e.position+1),o="/"===l;s(e,o?2:1),e.tokens.push({type:"tag-start",close:o});const c=m(e);p(e);const n=t.charAt(e.position),a="/"===n;return s(e,a?2:1),e.tokens.push({type:"tag-end",close:a}),c},f=e=>{const t=e.str,l=t.length;while(e.position<l){const l=e.position;if(u(e),e.position===l){const n=Object(o["startsWith"])(t,"!--",l+1);if(n)b(e);else{const t=j(e),l=t.toLowerCase();c.includes(l)&&O(t,e)}}}},v=e=>{const t={str:e,position:0,tokens:[]};return f(t),t.tokens},h=e=>{const t={tagName:null,children:[]},l={tokens:e,cursor:0,stack:[t]};return x(l),t.children},y=(e,t)=>{const l=a[e];if(l){let o=t.length-1;while(o>=0){const c=t[o].tagName;if(c===e)break;if(l.includes(c))return!0;o--}}return!1},g=(e,t)=>{e.splice(t)},x=e=>{const{stack:t,tokens:l}=e;let{cursor:o}=e,c=t[t.length-1].children;const a=l.length;while(o<a){const e=l[o];if("tag-start"!==e.type){c.push(e),o++;continue}const i=l[++o];o++;const s=i.content.toLowerCase();if(e.close){let e=t.length,c=!1;while(--e>-1)if(t[e].tagName===s){c=!0;break}while(o<a){if("tag-end"!==l[o].type)break;o++}if(c){g(t,e);break}continue}const d=n.includes(s);let u=d;if(u&&(u=!y(s,t)),u){let e=t.length-1;while(e>0){if(s===t[e].tagName){g(t,e);const l=e-1;c=t[l].children;break}e-=1}}const b=[];let m;while(o<a){const e=l[o];if("tag-end"===e.type){m=e;break}b.push(e.content),o++}if(!m)break;o++;const p=[],O={type:"element",tagName:i.content,attributes:b,children:p};c.push(O);const j=!(m.close||r.includes(s));if(j){t.push({tagName:s,children:p});const e={tokens:l,cursor:o,stack:t};x(e),o=e.cursor}}e.cursor=o},k=(e,t)=>{const l=e.indexOf(t);return-1===l?[e]:[e.slice(0,l),e.slice(l+t.length)]},C=e=>{const t=e.charAt(0),l=e.length-1,o='"'===t||"'"===t;return o&&t===e.charAt(l)?e.slice(1,l):e},N=e=>e.map(e=>{const t=k(e.trim(),"="),l=t[0],o="string"===typeof t[1]?C(t[1]):null;return{key:l,value:o}}),E=e=>e.map(e=>{if("element"===e.type){const t=E(e.children),l={type:"element",tagName:e.tagName.toLowerCase(),attributes:N(e.attributes),children:t};return l}const t={type:e.type,content:e.content};return t});l("3b4f");const w=e=>{const t=v(e),l=h(t);return E(l)}},"2f2f":function(e,t,l){"use strict";l("81a9")},3010:function(e,t,l){"use strict";l("42f9")},"307a":function(e,t,l){"use strict";l("16f3")},3083:function(e,t,l){},3295:function(e,t,l){},"331b":function(e,t,l){},3328:function(e,t,l){"use strict";l("a36d")},"335c":function(e,t,l){"use strict";l("a160")},"33a1":function(e,t,l){},"34f1":function(e,t,l){"use strict";l("f005")},3564:function(e,t,l){"use strict";l("7559")},3637:function(e,t,l){},3680:function(e,t,l){},3696:function(e,t,l){"use strict";l("c5ac")},"37ad":function(e,t,l){},3836:function(e,t,l){"use strict";l("97a6")},3929:function(e,t,l){"use strict";l("ebd4")},"39e2":function(e,t,l){},"3a6a":function(e,t,l){"use strict";l.d(t,"a",(function(){return a})),l.d(t,"b",(function(){return r}));var o=l("9d6d");const{get:c,post:n}=Object(o["b"])();function a(e){return c("/api/users/"+e,{})}function r(e){return n("/api/users/search",{keyword:e})}},"3a8e":function(e,t,l){},"413a":function(e,t,l){},"42f9":function(e,t,l){},4302:function(e,t,l){},4320:function(e,t,l){},4435:function(e,t,l){},"45c1":function(e,t,l){"use strict";l("ef5a")},"45c2":function(e,t,l){},4675:function(e,t,l){"use strict";l("1f3d")},"46bb":function(e,t,l){},"46fe":function(e,t,l){"use strict";l("2d82")},4731:function(e,t,l){"use strict";l("0baa")},4764:function(e,t,l){"use strict";l("04d2")},"483c":function(e,t,l){},4916:function(e,t,l){},"4a22":function(e,t,l){},"4a2e":function(e,t,l){"use strict";l("331b")},"4ab6":function(e,t,l){},"4acf":function(e,t,l){},"4b9a":function(e,t,l){"use strict";l("78b5")},"4c0e":function(e,t,l){"use strict";l("2ac5")},"4c44":function(e,t,l){"use strict";l.d(t,"a",(function(){return o})),l.d(t,"b",(function(){return c}));const o=[{label:"Arial",value:"Arial"},{label:"微软雅黑",value:"Microsoft Yahei"},{label:"宋体",value:"SimSun"},{label:"黑体",value:"SimHei"},{label:"楷体",value:"KaiTi"},{label:"新宋体",value:"NSimSun"},{label:"仿宋",value:"FangSong"},{label:"苹方",value:"PingFang SC"},{label:"华文黑体",value:"STHeiti"},{label:"华文楷体",value:"STKaiti"},{label:"华文宋体",value:"STSong"},{label:"华文仿宋",value:"STFangSong"},{label:"华文中宋",value:"STZhongSong"},{label:"华文琥珀",value:"STHupo"},{label:"华文新魏",value:"STXinwei"},{label:"华文隶书",value:"STLiti"},{label:"华文行楷",value:"STXingkai"},{label:"冬青黑体",value:"Hiragino Sans GB"},{label:"兰亭黑",value:"Lantinghei SC"},{label:"偏偏体",value:"Hanzipen SC"},{label:"手札体",value:"Hannotate SC"},{label:"宋体",value:"Songti SC"},{label:"娃娃体",value:"Wawati SC"},{label:"行楷",value:"Xingkai SC"},{label:"圆体",value:"Yuanti SC"},{label:"华文细黑",value:"STXihei"},{label:"幼圆",value:"YouYuan"},{label:"隶书",value:"LiSu"}],c=[{label:"仓耳小丸子",value:"仓耳小丸子"},{label:"优设标题黑",value:"优设标题黑"},{label:"峰广明锐体",value:"峰广明锐体"},{label:"摄图摩登小方体",value:"摄图摩登小方体"},{label:"站酷快乐体",value:"站酷快乐体"},{label:"字制区喜脉体",value:"字制区喜脉体"},{label:"素材集市康康体",value:"素材集市康康体"},{label:"素材集市酷方体",value:"素材集市酷方体"},{label:"途牛类圆体",value:"途牛类圆体"},{label:"锐字真言体",value:"锐字真言体"}]},"4f60":function(e,t,l){"use strict";l("731d")},"4f8b":function(e,t,l){"use strict";l("3637")},5018:function(e,t,l){},"503e":function(e,t,l){},"528c":function(e,t,l){"use strict";l("bd22")},"52aa":function(e,t,l){},5416:function(e,t,l){},"555f":function(e,t,l){},5619:function(e,t,l){},5634:function(e,t,l){"use strict";l("8604")},5688:function(e,t,l){"use strict";l("5ee9")},"56d8":function(e,t,l){"use strict";l("4ab6")},"573c":function(e,t,l){"use strict";l("5df5")},5828:function(e,t,l){},"58de":function(e,t,l){"use strict";l("37ad")},"58eb":function(e,t,l){"use strict";l("129f")},"58ff":function(e,t,l){"use strict";l("4435")},5952:function(e,t,l){},5970:function(e,t,l){"use strict";l("9601")},5977:function(e,t,l){"use strict";l("75ad")},"59bb":function(e,t,l){"use strict";l("c367")},"5a58":function(e,t,l){"use strict";l("0fcb")},"5b8a":function(e,t,l){},"5b9c":function(e,t,l){},"5d4b":function(e,t,l){"use strict";l("2e7d")},"5d81":function(e,t,l){"use strict";var o=l("518b"),c=l("5a11"),n=l("0613"),a=l("806f"),r=l("0a20");t["a"]=()=>{const e=Object(n["c"])(),t=Object(n["e"])(),{currentSlide:l}=Object(o["c"])(t),{addHistorySnapshot:i}=Object(r["a"])(),s=o=>{const{groupIdMap:c,elIdMap:n}=Object(a["a"])(o),r=l.value.elements.map(e=>e.id);for(const e of o){const t=r.includes(e.id);e.id=n[e.id],t&&(e.left=e.left+10,e.top=e.top+10),e.groupId&&(e.groupId=c[e.groupId])}t.addElement(o),e.setActiveElementIdList(Object.values(n)),i()},d=e=>{const l=e.map(e=>{const{groupIdMap:t,elIdMap:l}=Object(a["a"])(e.elements);for(const o of e.elements)o.id=l[o.id],o.groupId&&(o.groupId=t[o.groupId]);if(e.animations)for(const o of e.animations)o.id=Object(c["b"])(10),o.elId=l[o.elId];return{...e,id:Object(c["b"])(10)}});t.addSlide(l),i()};return{addElementsFromData:s,addSlidesFromData:d}}},"5dd9":function(e,t,l){"use strict";l("b8e1")},"5df5":function(e,t,l){},"5dfd":function(e,t,l){},"5ee9":function(e,t,l){},"5fa4":function(e,t,l){"use strict";l("c5c5")},"601c":function(e,t,l){"use strict";l("62fc")},"614e":function(e,t,l){"use strict";l("777a")},"629d":function(e,t,l){},"62fc":function(e,t,l){},"64e5":function(e,t,l){},"65f2":function(e,t,l){},"679c":function(e,t,l){"use strict";l("5828")},"6b66":function(e,t,l){},"6bca":function(e,t,l){"use strict";l.d(t,"b",(function(){return c})),l.d(t,"a",(function(){return n})),l.d(t,"d",(function(){return a})),l.d(t,"e",(function(){return s})),l.d(t,"h",(function(){return O})),l.d(t,"g",(function(){return v})),l.d(t,"f",(function(){return h})),l.d(t,"c",(function(){return y}));var o=l("ce1c");const c=e=>{const{empty:t}=e.state.selection;t&&Object(o["d"])(e.state,e.dispatch)},n=(e,t,l)=>{if(l)e.dispatch(e.state.tr.addMark(l.from,l.to,t));else{const{$from:l,$to:o}=e.state.selection;e.dispatch(e.state.tr.addMark(l.pos,o.pos,t))}},a=(e,t,l,o)=>{let c=t;const n=e=>e.type===o;let a=null,r=null,i=null;while(c<=l){const t=e.nodeAt(c);if(!t||!t.marks)return null;const l=t.marks.find(n);if(!l)return null;if(a&&l!==a)return null;r=r||t,a=a||l,i=t,c++}let s=t,d=l,u=0;c=t-1;while(c>u){const t=e.nodeAt(c),l=t&&t.marks.find(n);if(!l||l!==a)break;s=c,r=t,c--}c=l+1,u=e.nodeSize-2;while(c<u){const t=e.nodeAt(c),l=t&&t.marks.find(n);if(!l||l!==a)break;d=c,i=t,c++}return{mark:a,from:{node:r,pos:s},to:{node:i,pos:d}}},r=(e,t)=>Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e,i=(e,t)=>{for(let l=e.depth;l>0;l--){const o=e.node(l);if(t(o))return{pos:l>0?e.before(l):0,start:e.start(l),depth:l,node:o}}},s=e=>t=>i(t.$from,e),d=e=>t=>s(t=>r(e,t))(t),u=(e,t)=>{const l=t.schema.nodes[e];return!!d(l)(t.selection)},b=e=>{var t,l;const{selection:o,doc:c}=e.state,{from:n}=o;let a=c.nodeAt(n)||c.nodeAt(n-1);return null!==(t=a)&&void 0!==t&&t.lastChild&&(a=a.lastChild),(null===(l=a)||void 0===l?void 0:l.marks)||[]},m=(e,t,l)=>{for(const o of e)if(o.type.name===t&&o.attrs[l])return o.attrs[l];return null},p=(e,t)=>{for(const l of e)if(l.type.name===t)return!0;return!1},O=(e,t)=>{const{from:l,$from:o,to:c,empty:n}=e.selection;return n?t.isInSet(e.storedMarks||o.marks()):e.doc.rangeHasMark(l,c,t)},j=(e,t)=>{const{selection:l,doc:o}=e.state,{from:c,to:n}=l;let a=!0,r="";return o.nodesBetween(c,n,e=>(a&&e.attrs[t]&&(a=!1,r=e.attrs[t]),a)),r},f={color:"#000",backcolor:"#000",fontsize:"20px",fontname:"微软雅黑",align:"left"},v=(e,t={})=>{t={...f,...t};const l=b(e),o=p(l,"strong"),c=p(l,"em"),n=p(l,"underline"),a=p(l,"strikethrough"),r=p(l,"superscript"),i=p(l,"subscript"),s=p(l,"code"),d=m(l,"forecolor","color")||t.color,O=m(l,"backcolor","backcolor")||t.backcolor,v=m(l,"fontsize","fontsize")||t.fontsize,h=m(l,"fontname","fontname")||t.fontname,y=m(l,"link","href")||"",g=j(e,"align")||t.align,x=u("bullet_list",e.state),k=u("ordered_list",e.state),C=u("blockquote",e.state);return{bold:o,em:c,underline:n,strikethrough:a,superscript:r,subscript:i,code:s,color:d,backcolor:O,fontsize:v,fontname:h,link:y,align:g,bulletList:x,orderedList:k,blockquote:C}},h=e=>{const t=b(e),l=m(t,"fontsize","fontsize")||f.fontsize;return parseInt(l)},y={bold:!1,em:!1,underline:!1,strikethrough:!1,superscript:!1,subscript:!1,code:!1,color:"#000",backcolor:"#000",fontsize:"20px",fontname:"微软雅黑",link:"",align:"left",bulletList:!1,orderedList:!1,blockquote:!1}},"6c04":function(e,t,l){},"6e11":function(e,t,l){"use strict";l("b68e")},"6e48":function(e,t,l){},"701d":function(e,t,l){"use strict";l("5416")},7038:function(e,t,l){},"71bb":function(e,t,l){"use strict";l("f5f4")},"721a":function(e,t,l){},7239:function(e,t,l){"use strict";l("9223")},"729c":function(e,t,l){},"731d":function(e,t,l){},7559:function(e,t,l){},"75ad":function(e,t,l){},"75e6":function(e,t,l){"use strict";l("413a")},"76c1":function(e,t,l){"use strict";l("0e86")},"76e0":function(e,t,l){},"777a":function(e,t,l){},7851:function(e,t,l){"use strict";l("15f6")},7857:function(e,t,l){},"78b5":function(e,t,l){},"795e":function(e,t,l){"use strict";l("e4e9")},"7a60":function(e,t,l){"use strict";l("4a22")},"7a78":function(e,t,l){"use strict";l("fd96")},"7f1a":function(e,t,l){"use strict";l("ef22")},"7f69":function(e,t,l){},"806f":function(e,t,l){"use strict";l.d(t,"f",(function(){return a})),l.d(t,"e",(function(){return r})),l.d(t,"c",(function(){return i})),l.d(t,"b",(function(){return s})),l.d(t,"h",(function(){return d})),l.d(t,"a",(function(){return u})),l.d(t,"g",(function(){return b})),l.d(t,"d",(function(){return m}));var o=l("6dcd"),c=l.n(o),n=l("5a11");const a=e=>{const{left:t,top:l,width:o,height:c,rotate:n=0}=e,a=Math.sqrt(Math.pow(o,2)+Math.pow(c,2))/2,r=180*Math.atan(c/o)/Math.PI,i=(180-n-r)*Math.PI/180,s=(r-n)*Math.PI/180,d=t+o/2,u=l+c/2,b=[d+a*Math.cos(i),d+a*Math.cos(s),d-a*Math.cos(i),d-a*Math.cos(s)],m=[u-a*Math.sin(i),u-a*Math.sin(s),u+a*Math.sin(i),u+a*Math.sin(s)];return{xRange:[Math.min(...b),Math.max(...b)],yRange:[Math.min(...m),Math.max(...m)]}},r=e=>{const{xRange:t,yRange:l}=a({left:e.left,top:e.top,width:e.width,height:e.height,rotate:0}),{xRange:o,yRange:c}=a({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});return{offsetX:o[0]-t[0],offsetY:c[0]-l[0]}},i=e=>{let t,l,o,c;if("line"===e.type)t=e.left,l=e.left+Math.max(e.start[0],e.end[0]),o=e.top,c=e.top+Math.max(e.start[1],e.end[1]);else if("rotate"in e&&e.rotate){const{left:n,top:r,width:i,height:s,rotate:d}=e,{xRange:u,yRange:b}=a({left:n,top:r,width:i,height:s,rotate:d});t=u[0],l=u[1],o=b[0],c=b[1]}else t=e.left,l=e.left+e.width,o=e.top,c=e.top+e.height;return{minX:t,maxX:l,minY:o,maxY:c}},s=e=>{const t=[],l=[],o=[],c=[];e.forEach(e=>{const{minX:n,maxX:a,minY:r,maxY:s}=i(e);t.push(n),l.push(r),o.push(a),c.push(s)});const n=Math.min(...t),a=Math.max(...o),r=Math.min(...l),s=Math.max(...c);return{minX:n,maxX:a,minY:r,maxY:s}},d=e=>{const t=[];return e.forEach(e=>{const l=t.findIndex(t=>t.value===e.value);if(-1===l)t.push(e);else{const o=t[l],c=Math.min(o.range[0],e.range[0]),n=Math.max(o.range[1],e.range[1]),a=[c,n],r={value:e.value,range:a};t[l]=r}}),t},u=e=>{const t={},l={};for(const o of e){const e=o.groupId;e&&!t[e]&&(t[e]=Object(n["b"])(10)),l[o.id]=Object(n["b"])(10)}return{groupIdMap:t,elIdMap:l}},b=e=>{const t=c()(e);return[t.setAlpha(.3).toRgbString(),t.setAlpha(.1).toRgbString()]},m=e=>{const t=e.start.join(","),l=e.end.join(",");if(e.broken){const o=e.broken.join(",");return`M${t} L${o} L${l}`}if(e.curve){const o=e.curve.join(",");return`M${t} Q${o} ${l}`}if(e.cubic){const[o,c]=e.cubic,n=o.join(","),a=c.join(",");return`M${t} C${n} ${a} ${l}`}return`M${t} L${l}`}},"80dc":function(e,t,l){"use strict";l("629d")},"81a9":function(e,t,l){},8216:function(e,t,l){"use strict";l("0dbd")},"823e":function(e,t,l){"use strict";l.d(t,"b",(function(){return o})),l.d(t,"a",(function(){return c}));const o=e=>e,c=e=>e},"82dc":function(e,t,l){},"84ba":function(e,t,l){},"85b1":function(e,t,l){},8604:function(e,t,l){},8612:function(e,t,l){},8628:function(e,t,l){"use strict";l("e81b")},8683:function(e,t,l){"use strict";l("4acf")},"887c":function(e,t,l){},"8b87":function(e,t,l){},"8bae":function(e,t,l){},"8c56":function(e,t,l){},"8d47":function(e,t,l){},"8e64":function(e,t,l){"use strict";l.d(t,"a",(function(){return u})),l.d(t,"b",(function(){return b}));var o=l("518b"),c=l("8b45"),n=l("8a35"),a=l("0c6c"),r=l("cd85"),i=l("1fe1"),s=l("129d");const d=[{name:"团队内容",key:"team",icon:c["a"]},{name:"内容数据分析",key:"data",icon:n["a"]},{name:"成员管理",key:"member",icon:a["a"]},{name:"用户管理",key:"user",icon:a["a"]},{name:"内容组管理",key:"group",icon:r["a"]},{name:"设置",key:"setting",icon:i["a"]},{name:"回收站",key:"recycle",icon:s["a"]}];function u(e,t){return Object.values(t).flat().find(t=>t.key===e)}const b=Object(o["b"])("dashboard",{state:()=>({sidebarKey:"home",menuItems:{},user:null,loginState:null,activeMenuItem:null,headerBarMenuItems:d,activeHeaderBarMenuKey:"docs",currentTeam:null}),actions:{setSidebarKey(e){this.sidebarKey=e},setUser(e){this.user=e},setLoginState(e){this.loginState=e},setActiveHeaderBarMenuKey(e){this.activeHeaderBarMenuKey=e},setCurrentTeam(e){this.currentTeam=e}}})},"921b":function(e,t,l){"use strict";l("a2c3")},9223:function(e,t,l){},9300:function(e,t,l){"use strict";l("9787")},9359:function(e,t,l){"use strict";l("a1ca")},"95e8":function(e,t,l){},9601:function(e,t,l){},9670:function(e,t,l){"use strict";l("5dfd")},9787:function(e,t,l){},"97a6":function(e,t,l){},"97b0":function(e,t,l){},9845:function(e,t,l){},9854:function(e,t,l){"use strict";l("0401")},"990c":function(e,t,l){"use strict";l("2beb")},"9b34":function(e,t,l){},"9b4d":function(e,t,l){"use strict";l("3295")},"9d6d":function(e,t,l){"use strict";l.d(t,"a",(function(){return a}));l("7fa4");var o=l("3f13"),c=l("f101"),n=l.n(c);const a="ws://storyboard-api.aside.fun";t["b"]=()=>{async function e(e,t,l,o){const c=localStorage.getItem("token"),a=await n()({method:e,url:t,data:l,headers:{authentication:"Bearer "+c,...o}});return a}n.a.defaults.baseURL="https://storyboard-api.aside.fun",n.a.interceptors.response.use(e=>{var t,l,c;return null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.code?200!==e.data.code?(o["a"].warning((null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.message)||"网络错误"),null):null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data:e});const t=(t,l,o)=>e("POST",t,l,o),l=(t,l,o)=>e("GET",t,l,o);return{client:n.a,post:t,get:l}}},"9dbb":function(e,t,l){},"9fce":function(e,t,l){},"9ff2":function(e,t,l){"use strict";l("65f2")},a060:function(e,t,l){"use strict";l("5b8a")},a0a8:function(e,t,l){"use strict";l.d(t,"a",(function(){return r}));const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="data:image/svg+xml;base64,",n=e=>{e=e.replace(/\r\n/g,"\n");let t="";for(let l=0;l<e.length;l++){const o=e.charCodeAt(l);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},a=e=>{let t,l,c,a,r,i,s,d="",u=0;e=n(e);while(u<e.length)t=e.charCodeAt(u++),l=e.charCodeAt(u++),c=e.charCodeAt(u++),a=t>>2,r=(3&t)<<4|l>>4,i=(15&l)<<2|c>>6,s=63&c,isNaN(l)?i=s=64:isNaN(c)&&(s=64),d=d+o.charAt(a)+o.charAt(r)+o.charAt(i)+o.charAt(s);return d},r=e=>{const t=new XMLSerializer,l=t.serializeToString(e);return c+a(l)}},a160:function(e,t,l){},a1ca:function(e,t,l){},a2c3:function(e,t,l){},a320:function(e,t,l){"use strict";l("c23d")},a330:function(e,t,l){"use strict";l("52aa")},a36d:function(e,t,l){},a37a:function(e,t,l){},a438:function(e,t,l){},a511:function(e,t,l){"use strict";l("4320")},a669:function(e,t,l){"use strict";l("5619")},a81a:function(e,t,l){"use strict";l("ccb7")},a8d7:function(e,t,l){"use strict";l("8d47")},a9b0:function(e,t,l){"use strict";l("8612")},ac3b:function(e,t,l){"use strict";l("6c04")},ac7f:function(e,t,l){},aceb:function(e,t,l){"use strict";l("64e5")},ae3f:function(e,t,l){},ae9f:function(e,t,l){"use strict";l("2841")},aea9:function(e,t,l){},afc5:function(e,t,l){"use strict";l("107b")},afd6:function(e,t,l){"use strict";l("18f6")},b096:function(e,t,l){"use strict";l("aea9")},b2b4:function(e,t,l){"use strict";l("7038")},b342:function(e,t,l){},b510:function(e,t,l){"use strict";l("a438")},b583:function(e,t,l){},b68e:function(e,t,l){},b8e1:function(e,t,l){},b9fe:function(e,t,l){},bc30:function(e,t,l){"use strict";l("8bae")},bc8c:function(e,t,l){"use strict";l("df90")},bcf0:function(e,t,l){"use strict";l("e26e")},bd22:function(e,t,l){},bde5:function(e,t,l){"use strict";l("20aee")},be01:function(e,t,l){"use strict";l("3680")},bf43:function(e,t,l){"use strict";l("0d13")},c041:function(e,t,l){"use strict";l("5018")},c145:function(e,t,l){},c205:function(e,t,l){"use strict";var o;l.d(t,"a",(function(){return o})),function(e){e["SYMBOL"]="symbol",e["EL_ANIMATION"]="elAnimation",e["EL_STYLE"]="elStyle",e["EL_POSITION"]="elPosition",e["SLIDE_DESIGN"]="slideDesign",e["SLIDE_ANIMATION"]="slideAnimation",e["MULTI_POSITION"]="multiPosition"}(o||(o={}))},c23d:function(e,t,l){},c24c:function(e,t,l){"use strict";l("9dbb")},c367:function(e,t,l){},c5ac:function(e,t,l){},c5c5:function(e,t,l){},c743:function(e,t,l){"use strict";l("45c2")},c860:function(e,t,l){},ca17:function(e,t,l){"use strict";l("b342")},ca3c:function(e,t,l){"use strict";l("0dc3")},cb45:function(e,t,l){"use strict";l("b9fe")},cc39:function(e,t,l){"use strict";l("721a")},cc76:function(e,t,l){"use strict";l("03ea")},ccb7:function(e,t,l){},cd49:function(e,t,l){},cd49d:function(e,t,l){"use strict";l.r(t),l.d(t,"app",(function(){return HS}));l("5f6b");var o=l("3ad8"),c=(l("0c9b"),l("ee9f")),n=(l("56ec"),l("24c9")),a=(l("1a50"),l("6faa")),r=(l("c532"),l("81c8")),i=(l("5104"),l("6ebd")),s=(l("66f6"),l("c5e9")),d=(l("2eac"),l("d997")),u=(l("a77d"),l("370b")),b=(l("2245"),l("2c28")),m=(l("0f78"),l("1220")),p=(l("5899"),l("284a")),O=(l("10e9"),l("7a3f")),j=(l("2cd8"),l("7ce3")),f=(l("3527"),l("cd12")),v=(l("9b4e"),l("cce6")),h=(l("5baf"),l("14d1")),y=(l("e63e"),l("f02c")),g=(l("f5e5"),l("865b")),x=(l("199c"),l("09d3")),k=(l("acfa"),l("9401")),C=l("3eb2"),N=l("518b");function E(e,t){const l=Object(C["resolveComponent"])("router-view"),o=Object(C["resolveComponent"])("ConfigProvider");return Object(C["openBlock"])(),Object(C["createBlock"])(o,{autoInsertSpaceInButton:!1},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l)]),_:1})}l("0f92");var w=l("6dd4"),V=l.n(w);const I={},B=V()(I,[["render",E]]);var S=B,L=l("fb74");Object(L["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});l("0aa8"),l("15aa"),l("1081"),l("7af6"),l("5952"),l("c860"),l("ae3f"),l("8c56");var _=l("dedc"),T=l("9eb0"),M=l("18ab"),D=l("4dee"),A=l("55209"),z=l("1dca"),F=l("d51c"),$=l("faf7"),R=l("8891"),P=l("02b7"),H=l("c869"),U=l("00f4"),q=l("3d51"),G=l("0873"),Y=l("c4f2"),X=l("68b3"),Z=l("2456"),W=l("18cd"),J=l("cb8f"),Q=l("fdef"),K=l("098c"),ee=l("6f6f"),te=l("5876"),le=l("f461"),oe=l("ac8b"),ce=l("62c8"),ne=l("6bb1"),ae=l("2d72"),re=l("cf67"),ie=l("d97b"),se=l("c8e1"),de=l("9e78"),ue=l("c102"),be=l("0e00"),me=l("a1cf"),pe=l("d6cd"),Oe=l("26b1"),je=l("05d7"),fe=l("7176"),ve=l("414b"),he=l("be34"),ye=l("555d"),ge=l("9091"),xe=l("57c4"),ke=l("593d"),Ce=l("5520"),Ne=l("bfe6"),Ee=l("e8d8"),we=l("304d"),Ve=l("4039"),Ie=l("40ff"),Be=l("a576"),Se=l("6776"),Le=l("fca2"),_e=l("2a2c"),Te=l("03f6"),Me=l("d61a"),De=l("ae8c"),Ae=l("df7b"),ze=l("0df0"),Fe=l("31b8"),$e=l("334c"),Re=l("94ce"),Pe=l("6b5d"),He=l("d3d6"),Ue=l("de6e"),qe=l("3838"),Ge=l("8157"),Ye=l("f2bf"),Xe=l("8254"),Ze=l("561a"),We=l("345e"),Je=l("5d4f"),Qe=l("dab7"),Ke=l("74bf"),et=l("ee93"),tt=l("cd496"),lt=l("d226"),ot=l("1506"),ct=l("b5b7"),nt=l("27af"),at=l("b330"),rt=l("11ec"),it=l("b834"),st=l("74b2"),dt=l("7ef1"),ut=l("67df"),bt=l("8e8d"),mt=l("69e8"),pt=l("530b"),Ot=l("1bcc"),jt=l("5719"),ft=l("6ff0"),vt=l("7788"),ht=l("7bc4"),yt=l("55fd"),gt=l("aab2"),xt=l("dc9d"),kt=l("afcc"),Ct=l("a35c"),Nt=l("60f7"),Et=l("43b9"),wt=l("d699"),Vt=l("15df"),It=l("89ca");const Bt={IconPlayOne:It["a"],IconFullScreenPlay:Vt["a"],IconLock:wt["a"],IconUnlock:Et["a"],IconPpt:Nt["a"],IconFormat:Ct["a"],IconPicture:kt["a"],IconFullScreen:xt["a"],IconList:gt["a"],IconOrderedList:yt["a"],IconHelpcenter:ht["a"],IconFlipVertically:vt["a"],IconFlipHorizontally:ft["a"],IconFontSize:jt["a"],IconCode:Ot["a"],IconTextBold:pt["a"],IconTextItalic:mt["a"],IconTextUnderline:bt["a"],IconStrikethrough:ut["a"],IconEdit:dt["a"],IconQuote:st["a"],IconBackgroundColor:it["a"],IconGroup:rt["a"],IconUngroup:at["a"],IconBack:nt["a"],IconNext:ct["a"],IconFullwidth:ot["a"],IconAlignTop:lt["a"],IconAlignLeft:tt["a"],IconAlignRight:et["a"],IconAlignBottom:Ke["a"],IconAlignVertically:Qe["a"],IconAlignHorizontally:Je["a"],IconBringToFront:We["a"],IconSendToBack:Ze["a"],IconAlignTextLeft:Xe["a"],IconAlignTextRight:Ye["a"],IconAlignTextCenter:Ge["a"],IconRowHeight:qe["a"],IconWrite:Ue["a"],IconInsertTable:He["a"],IconAddText:Pe["a"],IconFill:Re["a"],IconTailoring:$e["a"],IconEffects:Fe["a"],IconColorFilter:ze["a"],IconDown:Ae["a"],IconPlus:De["a"],IconMinus:Me["a"],IconConnection:Te["a"],IconBringToFrontOne:_e["a"],IconSentToBack:Le["a"],IconGithub:Se["a"],IconChartProportion:Be["a"],IconChartHistogram:Ie["a"],IconChartHistogramOne:Ve["a"],IconChartLineArea:we["a"],IconChartRing:Ee["a"],IconChartScatter:Ne["a"],IconChartLine:Ce["a"],IconChartPie:ke["a"],IconText:xe["a"],IconRotate:ge["a"],IconLeftTwo:ye["a"],IconRightTwo:he["a"],IconPlatte:ve["a"],IconUpOne:fe["a"],IconDownOne:je["a"],IconClose:Oe["a"],IconCloseSmall:pe["a"],IconUndo:me["a"],IconTransform:be["a"],IconClick:ue["a"],IconTheme:de["a"],IconArrowCircleLeft:se["a"],IconGraphicDesign:ie["a"],IconLogout:re["a"],IconErase:ae["a"],IconClear:ne["a"],IconFolderClose:ce["a"],IconAlignTextTopOne:oe["a"],IconAlignTextBottomOne:le["a"],IconAlignTextMiddleOne:te["a"],IconPause:ee["a"],IconVolumeMute:K["a"],IconVolumeNotice:Q["a"],IconVolumeSmall:J["a"],IconVideoTwo:W["a"],IconFormula:Z["a"],IconLinkOne:X["a"],IconFullScreenOne:Y["a"],IconOffScreenOne:G["a"],IconPower:q["a"],IconListView:U["a"],IconMagic:H["a"],IconHighLight:P["a"],IconShare:R["a"],IconIndentLeft:$["a"],IconIndentRight:F["a"],IconVerticalSpacingBetweenItems:z["a"],IconCopy:A["a"],IconDelete:D["a"],IconSquare:M["a"],IconRound:T["a"],IconNeedle:_["a"]};var St={install(e){for(const t of Object.keys(Bt))e.component(t,Bt[t])}};const Lt=["accept"];var _t=Object(C["defineComponent"])({__name:"FileInput",props:{accept:{type:String,default:"image/*"}},emits:["change"],setup(e,{emit:t}){const l=Object(C["ref"])(),o=()=>{l.value&&(l.value.value="",l.value.click())},c=e=>{const l=e.target.files;l&&t("change",l)};return(t,n)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"file-input",onClick:n[1]||(n[1]=e=>o())},[Object(C["renderSlot"])(t.$slots,"default"),Object(C["createElementVNode"])("input",{class:"input",type:"file",name:"upload",ref_key:"inputRef",ref:l,accept:e.accept,onChange:n[0]||(n[0]=e=>c(e))},null,40,Lt)]))}});l("e25c");const Tt=V()(_t,[["__scopeId","data-v-4727b7ff"]]);var Mt=Tt,Dt=Object(C["defineComponent"])({__name:"CheckboxButton",props:{checked:{type:Boolean,default:!1}},setup(e){return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("button",{class:Object(C["normalizeClass"])(["checkbox-button",{checked:e.checked}])},[Object(C["renderSlot"])(t.$slots,"default")],2))}});l("573c");const At=V()(Dt,[["__scopeId","data-v-699cf016"]]);var zt=At;const Ft={class:"checkbox-button-group"};function $t(e,t){return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Ft,[Object(C["renderSlot"])(e.$slots,"default",{},void 0,!0)])}l("5634");const Rt={},Pt=V()(Rt,[["render",$t],["__scopeId","data-v-b8aa6eac"]]);var Ht=Pt,Ut=(l("7fa4"),l("3f13")),qt=l("6dcd"),Gt=l.n(qt),Yt=l("bcba"),Xt=l("33f7"),Zt=Object(C["defineComponent"])({__name:"Checkboard",props:{size:{type:Number,default:8},white:{type:String,default:"#fff"},grey:{type:String,default:"#e6e6e6"}},setup(e){const t=e,l={},o=(e,t,l)=>{const o=document.createElement("canvas");o.width=o.height=2*l;const c=o.getContext("2d");return c?(c.fillStyle=e,c.fillRect(0,0,o.width,o.height),c.fillStyle=t,c.fillRect(0,0,l,l),c.translate(l,l),c.fillRect(0,0,l,l),o.toDataURL()):null},c=(e,t,c)=>{const n=e+","+t+","+c;if(l[n])return l[n];const a=o(e,t,c);return l[n]=a,a},n=Object(C["computed"])(()=>{const e=c(t.white,t.grey,t.size);return{backgroundImage:`url(${e})`}});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"checkerboard",style:Object(C["normalizeStyle"])(Object(C["unref"])(n))},null,4))}});l("a8d7");const Wt=V()(Zt,[["__scopeId","data-v-7494636c"]]);var Jt=Wt;const Qt=e=>(Object(C["pushScopeId"])("data-v-246b525c"),e=e(),Object(C["popScopeId"])(),e),Kt={class:"alpha"},el={class:"alpha-checkboard-wrap"},tl=Qt(()=>Object(C["createElementVNode"])("div",{class:"alpha-picker"},null,-1)),ll=[tl];var ol=Object(C["defineComponent"])({__name:"Alpha",props:{value:{type:Object,required:!0}},emits:["colorChange"],setup(e,{emit:t}){const l=e,o=Object(C["computed"])(()=>l.value),c=Object(C["computed"])(()=>{const e=[o.value.r,o.value.g,o.value.b].join(",");return`linear-gradient(to right, rgba(${e}, 0) 0%, rgba(${e}, 1) 100%)`}),n=Object(C["ref"])(),a=e=>{if(e.preventDefault(),!n.value)return;const l=n.value.clientWidth,c=n.value.getBoundingClientRect().left+window.pageXOffset,a=e.pageX-c;let r;r=a<0?0:a>l?1:Math.round(100*a/l)/100,o.value.a!==r&&t("colorChange",{r:o.value.r,g:o.value.g,b:o.value.b,a:r})},r=()=>{window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",r)},i=e=>{a(e),window.addEventListener("mousemove",a),window.addEventListener("mouseup",r)};return Object(C["onUnmounted"])(r),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Kt,[Object(C["createElementVNode"])("div",el,[Object(C["createVNode"])(Jt)]),Object(C["createElementVNode"])("div",{class:"alpha-gradient",style:Object(C["normalizeStyle"])({background:Object(C["unref"])(c)})},null,4),Object(C["createElementVNode"])("div",{class:"alpha-container",ref_key:"alphaRef",ref:n,onMousedown:t[0]||(t[0]=e=>i(e))},[Object(C["createElementVNode"])("div",{class:"alpha-pointer",style:Object(C["normalizeStyle"])({left:100*Object(C["unref"])(o).a+"%"})},ll,4)],544)]))}});l("e83e");const cl=V()(ol,[["__scopeId","data-v-246b525c"]]);var nl=cl;const al=e=>(Object(C["pushScopeId"])("data-v-60c3cca1"),e=e(),Object(C["popScopeId"])(),e),rl={class:"hue"},il=al(()=>Object(C["createElementVNode"])("div",{class:"hue-picker"},null,-1)),sl=[il];var dl=Object(C["defineComponent"])({__name:"Hue",props:{value:{type:Object,required:!0},hue:{type:Number,required:!0}},emits:["colorChange"],setup(e,{emit:t}){const l=e,o=Object(C["ref"])(0),c=Object(C["ref"])(""),n=Object(C["computed"])(()=>{const e=Gt()(l.value).toHsl();return-1!==l.hue&&(e.h=l.hue),e}),a=Object(C["computed"])(()=>0===n.value.h&&"right"===c.value?"100%":100*n.value.h/360+"%");Object(C["watch"])(()=>l.value,()=>{const e=Gt()(l.value).toHsl(),t=0===e.s?l.hue:e.h;0!==t&&t-o.value>0&&(c.value="right"),0!==t&&t-o.value<0&&(c.value="left"),o.value=t});const r=Object(C["ref"])(),i=e=>{if(e.preventDefault(),!r.value)return;const o=r.value.clientWidth,c=r.value.getBoundingClientRect().left+window.pageXOffset,a=e.pageX-c;let i,s;a<0?i=0:a>o?i=360:(s=100*a/o,i=360*s/100),-1!==l.hue&&n.value.h===i||t("colorChange",{h:i,l:n.value.l,s:n.value.s,a:n.value.a})},s=()=>{window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",s)},d=e=>{i(e),window.addEventListener("mousemove",i),window.addEventListener("mouseup",s)};return Object(C["onUnmounted"])(s),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",rl,[Object(C["createElementVNode"])("div",{class:"hue-container",ref_key:"hueRef",ref:r,onMousedown:t[0]||(t[0]=e=>d(e))},[Object(C["createElementVNode"])("div",{class:"hue-pointer",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(a)})},sl,4)],544)]))}});l("179a");const ul=V()(dl,[["__scopeId","data-v-60c3cca1"]]);var bl=ul;const ml=e=>(Object(C["pushScopeId"])("data-v-d230faf4"),e=e(),Object(C["popScopeId"])(),e),pl=ml(()=>Object(C["createElementVNode"])("div",{class:"saturation-white"},null,-1)),Ol=ml(()=>Object(C["createElementVNode"])("div",{class:"saturation-black"},null,-1)),jl=ml(()=>Object(C["createElementVNode"])("div",{class:"saturation-circle"},null,-1)),fl=[jl];var vl=Object(C["defineComponent"])({__name:"Saturation",props:{value:{type:Object,required:!0},hue:{type:Number,required:!0}},emits:["colorChange"],setup(e,{emit:t}){const l=e,o=Object(C["computed"])(()=>{const e=Gt()(l.value).toHsv();return-1!==l.hue&&(e.h=l.hue),e}),c=Object(C["computed"])(()=>`hsl(${o.value.h}, 100%, 50%)`),n=Object(C["computed"])(()=>-100*o.value.v+1+100+"%"),a=Object(C["computed"])(()=>100*o.value.s+"%"),r=Object(Yt["throttle"])((function(e){t("colorChange",e)}),20,{leading:!0,trailing:!1}),i=Object(C["ref"])(),s=e=>{if(e.preventDefault(),!i.value)return;const t=i.value.clientWidth,l=i.value.clientHeight,c=i.value.getBoundingClientRect().left+window.pageXOffset,n=i.value.getBoundingClientRect().top+window.pageYOffset,a=Object(Yt["clamp"])(e.pageX-c,0,t),s=Object(Yt["clamp"])(e.pageY-n,0,l),d=a/t,u=Object(Yt["clamp"])(-s/l+1,0,1);r({h:o.value.h,s:d,v:u,a:o.value.a})},d=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",d)},u=e=>{s(e),window.addEventListener("mousemove",s),window.addEventListener("mouseup",d)};return Object(C["onUnmounted"])(d),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"saturation",ref_key:"saturationRef",ref:i,style:Object(C["normalizeStyle"])({background:Object(C["unref"])(c)}),onMousedown:t[0]||(t[0]=e=>u(e))},[pl,Ol,Object(C["createElementVNode"])("div",{class:"saturation-pointer",style:Object(C["normalizeStyle"])({top:Object(C["unref"])(n),left:Object(C["unref"])(a)})},fl,4)],36))}});l("0516");const hl=V()(vl,[["__scopeId","data-v-d230faf4"]]);var yl=hl;const gl={class:"editable-input"},xl=["value"];var kl=Object(C["defineComponent"])({__name:"EditableInput",props:{value:{type:Object,required:!0}},emits:["colorChange"],setup(e,{emit:t}){const l=e,o=Object(C["computed"])(()=>{let e="";return e=l.value.a<1?Gt()(l.value).toHex8String().toUpperCase():Gt()(l.value).toHexString().toUpperCase(),e.replace("#","")}),c=e=>{const l=e.target.value;l.length>=6&&t("colorChange",Gt()(l).toRgb())};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",gl,[Object(C["createElementVNode"])("input",{class:"input-content",value:Object(C["unref"])(o),onInput:t[0]||(t[0]=e=>c(e))},null,40,xl)]))}});l("a9b0");const Cl=V()(kl,[["__scopeId","data-v-2f428dde"]]);var Nl=Cl;const El={class:"color-picker"},wl={class:"picker-saturation-wrap"},Vl={class:"picker-controls"},Il={class:"picker-color-wrap"},Bl={class:"picker-sliders"},Sl={class:"picker-hue-wrap"},Ll={class:"picker-alpha-wrap"},_l={class:"picker-field"},Tl={class:"picker-presets"},Ml=["onClick"],Dl={class:"picker-gradient-presets"},Al=["onClick"],zl={class:"picker-presets"},Fl=["onClick"],$l={key:0,class:"recent-colors-title"},Rl={class:"picker-presets"},Pl=["onClick"];var Hl=Object(C["defineComponent"])({__name:"index",props:{modelValue:{type:String,default:"#e86b99"}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,o="RECENT_COLORS",c=[["#7f7f7f","#f2f2f2"],["#0d0d0d","#808080"],["#1c1a10","#ddd8c3"],["#0e243d","#c6d9f0"],["#233f5e","#dae5f0"],["#632623","#f2dbdb"],["#4d602c","#eaf1de"],["#3f3150","#e6e0ec"],["#1e5867","#d9eef3"],["#99490f","#fee9da"]],n=(e,t,l)=>{const o=Gt()(e).toRgb(),c=Gt()(t).toRgb(),n=(c.r-o.r)/l,a=(c.g-o.g)/l,r=(c.b-o.b)/l,i=[];for(let s=0;s<l;s++){const e=Gt()({r:o.r+n*s,g:o.g+a*s,b:o.b+r*s}).toRgbString();i.push(e)}return i},a=()=>{const e=[];for(const t of c)e.push(n(t[1],t[0],5));return e},r=["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c"],i=["#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57","#00afee","#0071be","#00215f","#72349d"],s=Object(C["ref"])(-1),d=Object(C["ref"])([]),u=Object(C["computed"])({get(){return Gt()(l.modelValue).toRgb()},set(e){const l=`rgba(${[e.r,e.g,e.b,e.a].join(",")})`;t("update:modelValue",l)}}),b=a(),m=Object(C["computed"])(()=>`rgba(${[u.value.r,u.value.g,u.value.b,u.value.a].join(",")})`),p=e=>{s.value=Gt()(e).toHsl().h,t("update:modelValue",e)},O=Object(Yt["debounce"])((function(){const e=Gt()(u.value).toRgbString();if(!d.value.includes(e)){d.value=[e,...d.value];const t=10;d.value.length>t&&(d.value=d.value.slice(0,t))}}),300,{trailing:!0});Object(C["onMounted"])(()=>{const e=localStorage.getItem(o);e&&(d.value=JSON.parse(e))}),Object(C["watch"])(d,()=>{const e=JSON.stringify(d.value);localStorage.setItem(o,e)});const j=e=>{"h"in e?(s.value=e.h,u.value=Gt()(e).toRgb()):(s.value=Gt()(e).toHsl().h,u.value=e),O()},f=()=>{const e="EyeDropper"in window;e?v():h()},v=()=>{Ut["a"].success("按 ESC 键关闭取色吸管");const e=new window.EyeDropper;e.open().then(e=>{const t=Gt()(e.sRGBHex);s.value=t.toHsl().h,u.value=t.toRgb(),O()}).catch(()=>{Ut["a"].success("关闭取色吸管")})},h=()=>{const e=document.querySelector(".canvas");if(!e)return;const t=document.createElement("div");t.style.cssText="position: fixed; top: 0; left: 0; bottom: 0; right: 0; z-index: 9999; cursor: wait;",document.body.appendChild(t);const l=document.createElement("div");l.style.cssText="position: absolute; top: -100px; left: -100px; width: 16px; height: 16px; border: 1px solid #000; z-index: 999",t.appendChild(l);const{left:o,top:c,width:n,height:a}=e.getBoundingClientRect(),r=e=>(!e.tagName||"FOREIGNOBJECT"!==e.tagName.toUpperCase())&&(!e.classList||!e.classList.contains("operate"));Object(Xt["a"])(e,{filter:r,fontEmbedCSS:"",width:n,height:a,canvasWidth:n,canvasHeight:a,pixelRatio:1}).then(e=>{e.style.cssText=`position: absolute; top: ${c}px; left: ${o}px; cursor: crosshair;`,t.style.cursor="default",t.appendChild(e);const n=e.getContext("2d");if(!n)return;let a="";const r=e=>{const t=e.x,r=e.y,i=t-o,s=r-c,[d,u,b,m]=n.getImageData(i,s,1,1).data;a=`rgba(${d}, ${u}, ${b}, ${(m/255).toFixed(2)})`,l.style.left=t+10+"px",l.style.top=r+10+"px",l.style.backgroundColor=a},i=()=>{a="",l.style.left="-100px",l.style.top="-100px",l.style.backgroundColor=""},d=l=>{if(a&&0===l.button){const e=Gt()(a);s.value=e.toHsl().h,u.value=e.toRgb(),O()}document.body.removeChild(t),e.removeEventListener("mousemove",r),e.removeEventListener("mouseleave",i),window.removeEventListener("mousedown",d)};e.addEventListener("mousemove",r),e.addEventListener("mouseleave",i),window.addEventListener("mousedown",d)}).catch(()=>{Ut["a"].error("取色吸管初始化失败"),document.body.removeChild(t)})};return(e,t)=>{const l=Object(C["resolveComponent"])("IconNeedle");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",El,[Object(C["createElementVNode"])("div",wl,[Object(C["createVNode"])(yl,{value:Object(C["unref"])(u),hue:s.value,onColorChange:t[0]||(t[0]=e=>j(e))},null,8,["value","hue"])]),Object(C["createElementVNode"])("div",Vl,[Object(C["createElementVNode"])("div",Il,[Object(C["createElementVNode"])("div",{class:"picker-current-color",style:Object(C["normalizeStyle"])({background:Object(C["unref"])(m)})},null,4),Object(C["createVNode"])(Jt)]),Object(C["createElementVNode"])("div",Bl,[Object(C["createElementVNode"])("div",Sl,[Object(C["createVNode"])(bl,{value:Object(C["unref"])(u),hue:s.value,onColorChange:t[1]||(t[1]=e=>j(e))},null,8,["value","hue"])]),Object(C["createElementVNode"])("div",Ll,[Object(C["createVNode"])(nl,{value:Object(C["unref"])(u),onColorChange:t[2]||(t[2]=e=>j(e))},null,8,["value"])])])]),Object(C["createElementVNode"])("div",_l,[Object(C["createVNode"])(Nl,{class:"input",value:Object(C["unref"])(u),onColorChange:t[3]||(t[3]=e=>j(e))},null,8,["value"]),Object(C["createElementVNode"])("div",{class:"straw",onClick:t[4]||(t[4]=e=>f())},[Object(C["createVNode"])(l)])]),Object(C["createElementVNode"])("div",Tl,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(r,e=>Object(C["createElementVNode"])("div",{class:"picker-presets-color",key:e,style:Object(C["normalizeStyle"])({background:e}),onClick:t=>p(e)},null,12,Ml)),64))]),Object(C["createElementVNode"])("div",Dl,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(b),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"picker-gradient-col",key:t},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"picker-gradient-color",key:e,style:Object(C["normalizeStyle"])({background:e}),onClick:t=>p(e)},null,12,Al))),128))]))),128))]),Object(C["createElementVNode"])("div",zl,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(i,e=>Object(C["createElementVNode"])("div",{key:e,class:"picker-presets-color",style:Object(C["normalizeStyle"])({background:e}),onClick:t=>p(e)},null,12,Fl)),64))]),d.value.length?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",$l,"最近使用：")):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",Rl,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(d.value,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:e,class:"picker-presets-color alpha",onClick:t=>p(e)},[Object(C["createElementVNode"])("div",{class:"picker-presets-color-content",style:Object(C["normalizeStyle"])({background:e})},null,4)],8,Pl))),128))])])}}});l("ecf8");const Ul=V()(Hl,[["__scopeId","data-v-c46eb110"]]);var ql=Ul;const Gl={key:0,class:"fullscreen-spin"};var Yl=Object(C["defineComponent"])({__name:"FullscreenSpin",props:{loading:{type:Boolean,default:!1},tip:{type:String,default:""}},setup(e){return(t,l)=>{const o=Object(C["resolveComponent"])("Spin");return e.loading?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Gl,[Object(C["createVNode"])(o,{tip:e.tip,size:"large"},null,8,["tip"])])):Object(C["createCommentVNode"])("",!0)}}});l("5d4b");const Xl=V()(Yl,[["__scopeId","data-v-16ead44e"]]);var Zl=Xl;const Wl={FileInput:Mt,CheckboxButton:zt,CheckboxButtonGroup:Ht,ColorPicker:ql,FullscreenSpin:Zl};var Jl={install(e){for(const t of Object.keys(Wl))e.component(t,Wl[t])}};const Ql={class:"menu-content"},Kl=["onClick"],eo={class:"text"},to={key:0,class:"sub-text"};var lo=Object(C["defineComponent"])({__name:"MenuContent",props:{menus:{type:Array,required:!0},handleClickMenuItem:{type:Function,required:!0}},setup(e){return(t,l)=>{const o=Object(C["resolveComponent"])("menu-content",!0);return Object(C["openBlock"])(),Object(C["createElementBlock"])("ul",Ql,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.menus,(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:t.text||l},[t.hide?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createElementBlock"])("li",{key:0,class:Object(C["normalizeClass"])(["menu-item",{divider:t.divider,disable:t.disable}]),onClick:Object(C["withModifiers"])(l=>e.handleClickMenuItem(t),["stop"])},[t.divider?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:Object(C["normalizeClass"])(["menu-item-content",{"has-children":t.children,"has-handler":t.handler}])},[Object(C["createElementVNode"])("span",eo,Object(C["toDisplayString"])(t.text),1),t.subText&&!t.children?(Object(C["openBlock"])(),Object(C["createElementBlock"])("span",to,Object(C["toDisplayString"])(t.subText),1)):Object(C["createCommentVNode"])("",!0),t.children&&t.children.length?(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:1,class:"sub-menu",menus:t.children,handleClickMenuItem:e.handleClickMenuItem},null,8,["menus","handleClickMenuItem"])):Object(C["createCommentVNode"])("",!0)],2))],10,Kl))],64))),128))])}}});l("ca3c");const oo=V()(lo,[["__scopeId","data-v-e470e712"]]);var co=oo,no=Object(C["defineComponent"])({__name:"index",props:{axis:{type:Object,required:!0},el:{type:Object,required:!0},menus:{type:Array,required:!0},removeContextmenu:{type:Function,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e=170,l=30,o=11,c=5,{x:n,y:a}=t.axis,r=t.menus.filter(e=>!(e.divider||e.hide)).length,i=t.menus.filter(e=>e.divider).length,s=e,d=r*l+i*o+2*c,u=document.body.clientWidth,b=document.body.clientHeight;return{left:u<=n+s?n-s:n,top:b<=a+d?a-d:a}}),o=e=>{e.disable||e.children&&!e.handler||(e.handler&&e.handler(t.el),t.removeContextmenu())};return(t,c)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,[Object(C["createElementVNode"])("div",{class:"mask",onContextmenu:c[0]||(c[0]=Object(C["withModifiers"])(t=>e.removeContextmenu(),["prevent"])),onMousedown:c[1]||(c[1]=t=>e.removeContextmenu())},null,32),Object(C["createElementVNode"])("div",{class:"contextmenu",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(l).left+"px",top:Object(C["unref"])(l).top+"px"}),onContextmenu:c[2]||(c[2]=Object(C["withModifiers"])(()=>{},["prevent"]))},[Object(C["createVNode"])(co,{menus:e.menus,handleClickMenuItem:o},null,8,["menus"])],36)],64))}});l("b096");const ao=no;var ro=ao;const io="CTX_CONTEXTMENU_HANDLER",so=(e,t,l)=>{t.stopPropagation(),t.preventDefault();const o=l.value(e);if(!o)return;let c=null;const n=()=>{c&&(document.body.removeChild(c),c=null),e.classList.remove("contextmenu-active"),document.body.removeEventListener("scroll",n),window.removeEventListener("resize",n)},a={axis:{x:t.x,y:t.y},el:e,menus:o,removeContextmenu:n};c=document.createElement("div");const r=Object(C["createVNode"])(ro,a,null);Object(C["render"])(r,c),document.body.appendChild(c),e.classList.add("contextmenu-active"),document.body.addEventListener("scroll",n),window.addEventListener("resize",n)},uo={mounted(e,t){e[io]=l=>so(e,l,t),e.addEventListener("contextmenu",e[io])},unmounted(e){e&&e[io]&&(e.removeEventListener("contextmenu",e[io]),delete e[io])}};var bo=uo;const mo="CTX_CLICK_OUTSIDE_HANDLER",po=(e,t,l)=>{const o=l.value,c=t.composedPath(),n=c?c.indexOf(e)<0:!e.contains(t.target);n&&o(t)},Oo={mounted(e,t){e[mo]=l=>po(e,l,t),setTimeout(()=>{document.addEventListener("click",e[mo])},0)},unmounted(e){e[mo]&&(document.removeEventListener("click",e[mo]),delete e[mo])}};var jo=Oo,fo={install(e){e.directive("contextmenu",bo),e.directive("click-outside",jo)}},vo=l("107d"),ho=l("1c72"),yo=l("4fa0");const go=new yo["a"]({domain:"https://storyboard.authing.cn",appId:"62dba4a3e1ad8483f1d98045",redirectUri:"https://aside.fun/login"});function xo(e){return(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.nickname)||(null===e||void 0===e?void 0:e.phone)||(null===e||void 0===e?void 0:e.email)||"匿名用户"}var ko=l("0613");function Co(e){if(!e)return"";document.title=e+" - 纷镜"}l("77ab");const No={class:"login-page"};var Eo=Object(C["defineComponent"])({__name:"Login",setup(e){const{user:t,loginState:l}=Object(N["c"])(Object(ko["a"])()),o=()=>{go.loginWithRedirect()};function c(){const e=localStorage.getItem("inviteId");if(e)return localStorage.removeItem("inviteId"),void PS.push({path:"/join-team/"+e});PS.push({name:"home"})}const n=async()=>{try{const e=await go.getLoginState();if(l.value=e,null===e||void 0===e||!e.accessToken)throw new Error;r(),c()}catch{o()}};async function a(){if(!go.isRedirectCallback())return void n();const e=await go.handleRedirectCallback();l.value=e;let t="";null!==e&&void 0!==e&&e.idToken&&(t=e.idToken,localStorage.setItem("token",t)),await r(),c()}async function r(){try{const e=await go.getUserInfo();e&&(t.value=e)}catch{o()}}return Object(C["onMounted"])(()=>{a()}),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",No," 跳转中，请稍后... "))}});l("56d8");const wo=V()(Eo,[["__scopeId","data-v-b9d69db2"]]);var Vo=wo,Io=l("9d6d");const{post:Bo,get:So}=Object(Io["b"])();var Lo;function _o(e){return Bo("/api/teams/create",e)}function To(){return So("/api/teams",{})}function Mo(e){return So(`/api/teams/${e}/detail`)}function Do(e){return So(`/api/teams/${e}/docs`)}function Ao(e){return So("/api/teams/invites/"+e)}function zo(e){return So(`/api/teams/${e}/members`)}function Fo(e,t,l){return Bo("/api/teams/invites/"+e,{inviterUserId:t,targetUserId:l})}function $o(e){return Bo(`/api/teams/invites/${e}/accept`,{})}(function(e){e[e["INDIVIDUAL"]=1]="INDIVIDUAL",e[e["PUBLIC"]=2]="PUBLIC"})(Lo||(Lo={}));var Ro=l("8e64");function Po(e){const t=6e4,l=60*t,o=24*l,c=30*o,n=(new Date).getTime()-new Date(e).getTime();if(n<0)return;const a=n/c,r=n/(7*o),i=n/o,s=n/l,d=n/t;let u="";function b(e){return` ${parseInt(e.toString()).toString()} `}return u=a>=1?b(a)+"月前":r>=1?b(r)+"周前":i>=1?b(i)+"天前":s>=1?b(s)+"小时前":d>=1?b(d)+"分钟前":"刚刚",u}const Ho=["src"],Uo={class:"docs-info"},qo={class:"title"},Go={class:"extra"};var Yo=Object(C["defineComponent"])({__name:"Project",props:{item:{type:Object,require:!0},team:{type:Object,required:!1}},setup(e){const t=e,l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAACmCAYAAADpnHI/AAACDElEQVR4nO3TMQqEUBAFwZ29/41/oLmIGChCUxW+SSbpWWttM/M7Otuu9rt34H3/rx8AnidsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUHChiBhQ5CwIUjYECRsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUHChiBhQ5CwIUjYECRsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUHChiBhQ5CwIUjYECRsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUHChiBhQ5CwIUjYECRsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUHChiBhQ5CwIUjYECRsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUHChiBhQ5CwIUjYECRsCBI2BAkbgoQNQcKGIGFDkLAhSNgQJGwIEjYECRuChA1BwoYgYUOQsCFI2BAkbAgSNgQJG4KEDUE7J6YFSL2yVpMAAAAASUVORK5CYII=",{_id:o,name:c,previewImageUrl:n,updatedTimestamp:a}=t.item||{};function r(){window.open("/editor/"+o,"_blank")}return(e,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"project",onClick:o[0]||(o[0]=e=>r())},[Object(C["createElementVNode"])("img",{src:Object(C["unref"])(n)||l,class:"cover",draggable:"false"},null,8,Ho),Object(C["createElementVNode"])("div",Uo,[Object(C["createElementVNode"])("div",qo,Object(C["toDisplayString"])(Object(C["unref"])(c)),1),Object(C["createElementVNode"])("div",Go,Object(C["toDisplayString"])(t.team?t.team.name+" ·":"")+" 更新于 "+Object(C["toDisplayString"])(Object(C["unref"])(Po)(Object(C["unref"])(a)||0)),1)])]))}});l("71bb");const Xo=V()(Yo,[["__scopeId","data-v-52f7a16e"]]);var Zo=Xo;const Wo={class:"project-wrapper"};var Jo=Object(C["defineComponent"])({__name:"ProjectWrapper",props:{items:{type:Array,required:!0},team:{type:Object,required:!1}},setup(e){const t=e;return(e,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Wo,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t.items||[],e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:e._id},[Object(C["createVNode"])(Zo,{item:e,team:t.team},null,8,["item","team"])]))),128))]))}});l("fa3d");const Qo=V()(Jo,[["__scopeId","data-v-504c2585"]]);var Ko=Qo;const ec=e=>(Object(C["pushScopeId"])("data-v-695f5a29"),e=e(),Object(C["popScopeId"])(),e),tc={key:0,class:"guide-bar"},lc={class:"left"},oc={class:"title"},cc={class:"content"},nc=Object(C["createTextVNode"])("你正在 "),ac=Object(C["createTextVNode"])(" 团队。"),rc=ec(()=>Object(C["createElementVNode"])("div",null,"你可以在左侧切换不同的团队或内容；也可以在这个分组下查看或创建内容，并在上方切换不同的功能。",-1)),ic=ec(()=>Object(C["createElementVNode"])("img",{src:"/imgs/guide-team.png",class:"cover",draggable:!1},null,-1));var sc=Object(C["defineComponent"])({__name:"GuideBar",setup(e){const{user:t,activeMenuItem:l}=Object(N["c"])(Object(ko["a"])());return(e,o)=>{var c,n;const a=Object(C["resolveComponent"])("Skeleton");return null!==(c=Object(C["unref"])(l))&&void 0!==c&&c.title?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",tc,[Object(C["createElementVNode"])("div",lc,[Object(C["createElementVNode"])("div",oc,Object(C["toDisplayString"])(Object(C["unref"])(xo)(Object(C["unref"])(t)))+"，你好！",1),Object(C["createElementVNode"])("div",cc,[Object(C["createElementVNode"])("div",null,[nc,Object(C["createElementVNode"])("strong",null,Object(C["toDisplayString"])(null===(n=Object(C["unref"])(l))||void 0===n?void 0:n.title),1),ac]),rc])]),ic])):(Object(C["openBlock"])(),Object(C["createBlock"])(a,{key:1,width:"100%",height:"148px"}))}}});l("2626");const dc=V()(sc,[["__scopeId","data-v-695f5a29"]]);var uc=dc,bc=l("ea90"),mc=l("4094");const{post:pc,get:Oc}=Object(Io["b"])();function jc(e){return pc("/api/docs",{teamId:e})}function fc(e){return Oc("/api/docs/"+e,{})}function vc(e,t){const l=new FormData;return l.append("file",t),pc("/api/docs/upload/"+e,l,{"Content-Type":"multipart/form-data"})}const hc=e=>(Object(C["pushScopeId"])("data-v-aa044eda"),e=e(),Object(C["popScopeId"])(),e),yc=hc(()=>Object(C["createElementVNode"])("input",{type:"file",accept:".ppt,.pptx",id:"upload"},null,-1));var gc=Object(C["defineComponent"])({__name:"UploadWrapper",props:{teamId:{type:String,required:!0}},setup(e){const t=e;function l(){const e=document.getElementById("upload");e.click()}return Object(C["onMounted"])(()=>{const e=document.getElementById("upload");e.addEventListener("change",async e=>{const[l]=e.target.files,o=await vc(t.teamId,l);window.open("/editor/"+o._id,"_blank")})}),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{onClick:t[0]||(t[0]=e=>l())},[yc,Object(C["renderSlot"])(e.$slots,"default")]))}});l("701d");const xc=V()(gc,[["__scopeId","data-v-aa044eda"]]);var kc=xc;const Cc={class:"team-page page-container"},Nc={key:0},Ec={class:"tools-bar"},wc={class:"left-side"},Vc={class:"flex-row"},Ic=Object(C["createElementVNode"])("div",{class:"title"},"团队内全部内容",-1),Bc={class:"filter flex-row"},Sc=Object(C["createElementVNode"])("span",null,"按时间排序",-1),Lc={class:"flex-row search-by-rules"},_c=Object(C["createElementVNode"])("span",null,"增加筛选条件",-1),Tc={key:0,class:"flex-row right-side"},Mc=Object(C["createElementVNode"])("img",{draggable:!1,class:"ppt-icon",src:"/imgs/ppt-icon.png"},null,-1),Dc=Object(C["createTextVNode"])(" 从文件导入 "),Ac=Object(C["createTextVNode"])("新建"),zc={class:"docs-container"},Fc={key:1},$c={class:"loading-wrapper docs-container"};var Rc=Object(C["defineComponent"])({__name:"Team",setup(e){const t=Object(ko["a"])(),{activeMenuItem:l,sidebarKey:o,menuItems:c,currentTeam:n}=Object(N["c"])(t),a=Object(C["ref"])(),r=Object(ho["c"])(),i=Object(C["ref"])(),s=Object(C["ref"])(!0);async function d(){s.value=!0;const{teamId:e}=r.params;o.value=e,l.value=Object(Ro["a"])(e,c.value)||null,a.value=await Do(e);const t=await Mo(e);i.value=t,n.value=t,Co(t.name),s.value=!1}return Object(C["watch"])(()=>{var e;return null===(e=r.params)||void 0===e?void 0:e.teamId},d),Object(C["onMounted"])(()=>{d(),t.setActiveHeaderBarMenuKey("team")}),(e,t)=>{var l,o,c;const n=Object(C["resolveComponent"])("Button"),r=Object(C["resolveComponent"])("router-link"),d=Object(C["resolveComponent"])("Empty"),u=Object(C["resolveComponent"])("Skeleton");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Cc,[Object(C["createVNode"])(uc),s.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Fc,[Object(C["createElementVNode"])("div",$c,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Array(8).fill(null),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:t,class:"item"},[Object(C["createVNode"])(u,{width:"100%",height:"240px"}),Object(C["createVNode"])(u,{width:"60%",class:"title",height:"16px"})]))),128))])])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Nc,[Object(C["createElementVNode"])("div",Ec,[Object(C["createElementVNode"])("div",wc,[Object(C["createElementVNode"])("div",Vc,[Ic,Object(C["createElementVNode"])("div",Bc,[Sc,Object(C["createVNode"])(Object(C["unref"])(bc["a"]),{class:"icon"})])]),Object(C["createElementVNode"])("a",Lc,[Object(C["createVNode"])(Object(C["unref"])(mc["a"])),_c])]),null!==(l=i.value)&&void 0!==l&&l.id?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Tc,[Object(C["createVNode"])(kc,{"team-id":i.value.id},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{class:"primary-btn load-btn"},{icon:Object(C["withCtx"])(()=>[Mc]),default:Object(C["withCtx"])(()=>[Dc]),_:1})]),_:1},8,["team-id"]),Object(C["createVNode"])(r,{to:{path:"/createDocs",query:{teamId:null===(o=i.value)||void 0===o?void 0:o.id}},target:"_blank"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{type:"primary",class:"primary-btn"},{default:Object(C["withCtx"])(()=>[Ac]),_:1})]),_:1},8,["to"])])):Object(C["createCommentVNode"])("",!0)]),Object(C["createElementVNode"])("div",zc,[null!==(c=a.value)&&void 0!==c&&c.length?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createBlock"])(d,{key:0,style:{marginTop:"200px"}})),Object(C["createVNode"])(Ko,{items:a.value||[],team:i.value},null,8,["items","team"])])]))])}}});l("ac3b");const Pc=Rc;var Hc=Pc;const Uc={class:"homepage"},qc={class:"group-info"},Gc=Object(C["createElementVNode"])("div",{class:"title"},"首页",-1),Yc={class:"buttons"},Xc=Object(C["createTextVNode"])("导入文件"),Zc=Object(C["createTextVNode"])("新建"),Wc={class:"group"},Jc={class:"title-bar"},Qc=Object(C["createElementVNode"])("h1",{style:{marginBottom:"16px"}},"最近访问",-1);var Kc=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(C["computed"])(()=>{var e,t;return null===(e=l.value["teamMenuItems"])||void 0===e||null===(t=e[0])||void 0===t?void 0:t.key}),{menuItems:l}=Object(N["c"])(Object(ko["a"])());async function o(){}return Object(C["onMounted"])(()=>{o()}),(e,l)=>{const o=Object(C["resolveComponent"])("Button"),c=Object(C["resolveComponent"])("router-link");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Uc,[Object(C["createElementVNode"])("div",qc,[Gc,Object(C["createElementVNode"])("div",Yc,[Object(C["createVNode"])(kc,{"team-id":Object(C["unref"])(t)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{class:"primary-btn"},{default:Object(C["withCtx"])(()=>[Xc]),_:1})]),_:1},8,["team-id"]),Object(C["createVNode"])(c,{to:{path:"/createDocs",query:{teamId:Object(C["unref"])(t)}},target:"_blank"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{type:"primary",class:"primary-btn"},{default:Object(C["withCtx"])(()=>[Zc]),_:1})]),_:1},8,["to"])])]),Object(C["createElementVNode"])("div",Wc,[Object(C["createElementVNode"])("div",Jc,[Qc,Object(C["createVNode"])(Ko,{items:[]})])])])}}});l("5dd9");const en=Kc;var tn=en;const ln=e=>(Object(C["pushScopeId"])("data-v-06eefdda"),e=e(),Object(C["popScopeId"])(),e),on={class:"unpublished-page page-container"},cn=ln(()=>Object(C["createElementVNode"])("div",{class:"tips"},"即将上线，敬请期待！",-1));var nn=Object(C["defineComponent"])({__name:"UnpublishedTips",setup(e){const t=Object(C["ref"])(!0);return(e,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",on,[Object(C["createElementVNode"])("img",{class:"tips-img",src:"https://static.aside.fun/upload/unpublished.png",draggable:!1,onLoad:l[0]||(l[0]=e=>t.value=!1)},null,32),cn]))}});l("18c8");const an=V()(nn,[["__scopeId","data-v-06eefdda"]]);var rn=an;const sn=e=>(Object(C["pushScopeId"])("data-v-484bcb4c"),e=e(),Object(C["popScopeId"])(),e),dn={key:0,class:"team-info"},un={class:"content"},bn={class:"left"},mn={class:"title"},pn={class:"desc"},On={class:"right"},jn={key:1,class:"team-info"},fn={class:"content"},vn={class:"left"},hn=sn(()=>Object(C["createElementVNode"])("div",null,null,-1));var yn=Object(C["defineComponent"])({__name:"TeamInfo",emits:["info"],setup(e,{emit:t}){const l=Object(ho["c"])(),o=Object(C["ref"])();async function c(){const{teamId:e}=l.params,c=await Mo(e);o.value=c,t("info",c)}return Object(C["watch"])(()=>{var e;return null===(e=l.params)||void 0===e?void 0:e.teamId},c),Object(C["onMounted"])(()=>{c()}),(e,t)=>{const l=Object(C["resolveComponent"])("Avatar"),c=Object(C["resolveComponent"])("Skeleton");return o.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",dn,[Object(C["createVNode"])(l,{size:84,src:o.value.logo,draggable:!1,class:"icon"},null,8,["src"]),Object(C["createElementVNode"])("div",un,[Object(C["createElementVNode"])("div",bn,[Object(C["createElementVNode"])("div",mn,Object(C["toDisplayString"])(o.value.name),1),Object(C["createElementVNode"])("div",pn,Object(C["toDisplayString"])(o.value.description),1)]),Object(C["createElementVNode"])("div",On,[Object(C["renderSlot"])(e.$slots,"default")])])])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",jn,[Object(C["createVNode"])(c,{circle:"",width:"84px",height:"84px"}),Object(C["createElementVNode"])("div",fn,[Object(C["createElementVNode"])("div",vn,[Object(C["createElementVNode"])("div",null,[Object(C["createVNode"])(c,{class:"title",height:"20px",width:"180px"})]),Object(C["createElementVNode"])("div",null,[Object(C["createVNode"])(c,{class:"desc",height:"20px",width:"360px"})])]),hn])]))}}});l("e2a7");const gn=V()(yn,[["__scopeId","data-v-484bcb4c"]]);var xn=gn,kn=l("d838"),Cn=l("0bad"),Nn=l("3a6a"),En=l("a2ea"),wn=l.n(En),Vn=l("823e");const In=e=>new Promise((t,l)=>{const o=document.createElement("button"),c=new wn.a(o,{text:()=>e,action:()=>"copy",container:document.body});c.on("success",e=>{c.destroy(),t(e)}),c.on("error",e=>{c.destroy(),l(e)}),document.body.appendChild(o),o.click(),document.body.removeChild(o)}),Bn=()=>new Promise((e,t)=>{var l;null!==(l=navigator.clipboard)&&void 0!==l&&l.readText?navigator.clipboard.readText().then(l=>(l||t("剪贴板为空或者不包含文本"),e(l))):t("浏览器不支持或禁止访问剪贴板，请使用快捷键 Ctrl + V")}),Sn=e=>{let t;try{t=JSON.parse(Object(Vn["a"])(e))}catch{t=e}return t},Ln=e=>{const t=e.split("\r\n");""===t[t.length-1]&&t.pop();let l=-1;const o=[];for(const c in t){if(o[c]=t[c].split("\t"),1===o[c].length)return null;if(-1===l)l=o[c].length;else if(l!==o[c].length)return null}return o},_n=e=>(Object(C["pushScopeId"])("data-v-5cb4781a"),e=e(),Object(C["popScopeId"])(),e),Tn={class:"invite-modal-container"},Mn={class:"invite-by-search"},Dn={class:"search-bar"},An=Object(C["createTextVNode"])("搜索"),zn={class:"searched-users"},Fn={class:"userinfo"},$n={class:"content"},Rn={class:"name"},Pn={class:"role"},Hn={key:0,class:"me"},Un=["onClick"],qn={class:"invite-by-link"},Gn={class:"title"},Yn=Object(C["createTextVNode"])(" 使用链接邀请 "),Xn=_n(()=>Object(C["createElementVNode"])("div",{class:"subtitle"},"成员同意后将加入团队",-1)),Zn=Object(C["createTextVNode"])("复制链接");var Wn=Object(C["defineComponent"])({__name:"InviteModal",props:{visible:{type:Boolean,required:!0},teamId:{type:String,required:!0},teamName:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const l=e,o=Object(C["ref"])(""),c=Object(C["ref"])([]),{user:n}=Object(N["c"])(Object(ko["a"])());async function a(){const e=await Object(Nn["b"])(o.value);c.value=e}async function r(e){var t;const o=l.teamId,c=(null===(t=n.value)||void 0===t?void 0:t.sub)||"",a=await Fo(o,c,e);await In(a),Ut["a"].success("已复制邀请链接")}return(e,i)=>{const s=Object(C["resolveComponent"])("Input"),d=Object(C["resolveComponent"])("Button"),u=Object(C["resolveComponent"])("Avatar"),b=Object(C["resolveComponent"])("Modal");return Object(C["openBlock"])(),Object(C["createBlock"])(b,{visible:l.visible,title:"邀请成员",width:500,footer:null,onCancel:i[4]||(i[4]=e=>t("close")),centered:""},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",Tn,[Object(C["createElementVNode"])("div",Mn,[Object(C["createElementVNode"])("div",Dn,[Object(C["createVNode"])(s,{value:o.value,"onUpdate:value":i[0]||(i[0]=e=>o.value=e),placeholder:"搜索用户昵称、手机号或邮箱",class:"input","allow-clear":"",onPressEnter:i[1]||(i[1]=e=>a())},{prefix:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Object(C["unref"])(kn["a"]))]),_:1},8,["value"]),Object(C["createVNode"])(d,{type:"primary",disabled:!o.value,onClick:i[2]||(i[2]=e=>a())},{default:Object(C["withCtx"])(()=>[An]),_:1},8,["disabled"])]),Object(C["createElementVNode"])("div",zn,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(c.value,e=>{var t;return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"user",key:e.id},[Object(C["createElementVNode"])("div",Fn,[Object(C["createVNode"])(u,{size:24,src:e.photo||"",draggable:!1},null,8,["src"]),Object(C["createElementVNode"])("div",$n,[Object(C["createElementVNode"])("span",Rn,Object(C["toDisplayString"])(e.name||e.nickname||e.phone||e.email),1)])]),Object(C["createElementVNode"])("div",Pn,[(null===(t=Object(C["unref"])(n))||void 0===t?void 0:t.sub)===e.id?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Hn,"我")):(Object(C["openBlock"])(),Object(C["createElementBlock"])("a",{key:1,onClick:t=>r(e.id)},"邀请",8,Un))])])}),128))])]),Object(C["createElementVNode"])("div",qn,[Object(C["createElementVNode"])("div",null,[Object(C["createElementVNode"])("div",Gn,[Object(C["createVNode"])(Object(C["unref"])(Cn["a"]),{class:"link"}),Yn]),Xn]),Object(C["createVNode"])(d,{type:"primary",class:"primary-btn",onClick:i[3]||(i[3]=e=>r())},{default:Object(C["withCtx"])(()=>[Zn]),_:1})])])]),_:1},8,["visible"])}}});l("b2b4");const Jn=V()(Wn,[["__scopeId","data-v-5cb4781a"]]);var Qn=Jn;const Kn=e=>(Object(C["pushScopeId"])("data-v-28e79ff7"),e=e(),Object(C["popScopeId"])(),e),ea={class:"team-member-page"},ta=Object(C["createTextVNode"])("新建文档"),la=Object(C["createTextVNode"])("邀请成员"),oa={key:0,class:"team-member"},ca={class:"userinfo"},na={class:"content"},aa={class:"name"},ra={key:0,class:"me"},ia=Kn(()=>Object(C["createElementVNode"])("div",{class:"role"},"成员",-1)),sa={key:1,class:"team-member"},da={class:"userinfo"},ua={class:"content"},ba={class:"name"},ma=Kn(()=>Object(C["createElementVNode"])("div",null,null,-1));var pa=Object(C["defineComponent"])({__name:"TeamMember",setup(e){const t=Object(ho["c"])(),l=Object(C["ref"])(!1),o=Object(C["ref"])(),c=Object(C["ref"])(!0),n=Object(ko["a"])(),{user:a,activeHeaderBarMenuKey:r}=Object(N["c"])(n),i=Object(C["ref"])([]);async function s(){r.value="member",c.value=!0;const{teamId:e}=t.params,{list:l}=await zo(e);i.value=l,c.value=!1}function d(e){o.value=e,n.setCurrentTeam(e)}return Object(C["onMounted"])(()=>{s()}),Object(C["watch"])(()=>{var e;return null===(e=t.params)||void 0===e?void 0:e.teamId},()=>{s()}),(e,n)=>{var r,s;const u=Object(C["resolveComponent"])("Button"),b=Object(C["resolveComponent"])("router-link"),m=Object(C["resolveComponent"])("Avatar"),p=Object(C["resolveComponent"])("Skeleton");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",ea,[Object(C["createVNode"])(xn,{onInfo:d},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b,{to:{path:"/createDocs",query:{teamId:Object(C["unref"])(t).params.teamId}},target:"_blank"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(u,{class:"primary-btn"},{default:Object(C["withCtx"])(()=>[ta]),_:1})]),_:1},8,["to"]),Object(C["createVNode"])(u,{class:"primary-btn",onClick:n[0]||(n[0]=e=>l.value=!0)},{default:Object(C["withCtx"])(()=>[la]),_:1})]),_:1}),c.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",sa,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Array(2).fill(null),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:t,class:"user"},[Object(C["createElementVNode"])("div",da,[Object(C["createVNode"])(p,{circle:"",width:"36px",height:"36px"}),Object(C["createElementVNode"])("div",ua,[Object(C["createElementVNode"])("span",ba,[Object(C["createVNode"])(p,{width:"180px",height:"20px"})])])]),ma]))),128))])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",oa,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(i.value,e=>{var t;return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"user",key:e.id},[Object(C["createElementVNode"])("div",ca,[Object(C["createVNode"])(m,{size:36,src:e.user.photo,draggable:!1},null,8,["src"]),Object(C["createElementVNode"])("div",na,[Object(C["createElementVNode"])("span",aa,Object(C["toDisplayString"])(Object(C["unref"])(xo)(e.user)),1),(null===(t=Object(C["unref"])(a))||void 0===t?void 0:t.sub)===e.user.id?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",ra,"我")):Object(C["createCommentVNode"])("",!0)])]),ia])}),128))])),Object(C["createVNode"])(Qn,{visible:l.value,onClose:n[1]||(n[1]=e=>l.value=!1),"team-id":null===(r=o.value)||void 0===r?void 0:r.id,"team-name":null===(s=o.value)||void 0===s?void 0:s.name},null,8,["visible","team-id","team-name"])])}}});l("528c");const Oa=V()(pa,[["__scopeId","data-v-28e79ff7"]]);var ja=Oa,fa=Object(C["defineComponent"])({__name:"EditorLandingPage",setup(e){const t=Object(ho["c"])();async function l(e){const t=await jc(e);PS.push({path:"/editor/"+t._id})}return Object(C["onMounted"])(()=>{var e;const o=null===(e=t.query)||void 0===e?void 0:e.teamId;o&&l(o)}),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div"))}});const va=fa;var ha=va,ya=l("deb6");const ga=(e,t)=>Object(Yt["padStart"])(""+e,t,"0"),xa=()=>!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|Mobile|BlackBerry|Symbian|Windows Phone)/i);var ka,Ca,Na,Ea,wa,Va;(function(e){e["UP"]="up",e["DOWN"]="down",e["TOP"]="top",e["BOTTOM"]="bottom"})(ka||(ka={})),function(e){e["TOP"]="top",e["BOTTOM"]="bottom",e["LEFT"]="left",e["RIGHT"]="right",e["VERTICAL"]="vertical",e["HORIZONTAL"]="horizontal",e["CENTER"]="center"}(Ca||(Ca={})),function(e){e["T"]="top",e["B"]="bottom",e["L"]="left",e["R"]="right"}(Na||(Na={})),function(e){e["LEFT_TOP"]="left-top",e["TOP"]="top",e["RIGHT_TOP"]="right-top",e["LEFT"]="left",e["RIGHT"]="right",e["LEFT_BOTTOM"]="left-bottom",e["BOTTOM"]="bottom",e["RIGHT_BOTTOM"]="right-bottom"}(Ea||(Ea={})),function(e){e["START"]="start",e["END"]="end",e["C"]="ctrl",e["C1"]="ctrl1",e["C2"]="ctrl2"}(wa||(wa={})),function(e){e["C"]="C",e["X"]="X",e["Z"]="Z",e["Y"]="Y",e["A"]="A",e["G"]="G",e["L"]="L",e["F"]="F",e["D"]="D",e["B"]="B",e["P"]="P",e["MINUS"]="-",e["EQUAL"]="=",e["DIGIT_0"]="0",e["DELETE"]="DELETE",e["UP"]="ARROWUP",e["DOWN"]="ARROWDOWN",e["LEFT"]="ARROWLEFT",e["RIGHT"]="ARROWRIGHT",e["ENTER"]="ENTER",e["SPACE"]=" ",e["TAB"]="TAB",e["BACKSPACE"]="BACKSPACE",e["ESC"]="ESCAPE",e["PAGEUP"]="PAGEUP",e["PAGEDOWN"]="PAGEDOWN",e["F5"]="F5"}(Va||(Va={}));const Ia=[{type:"通用",children:[{label:"剪切",value:"Ctrl + X"},{label:"复制",value:"Ctrl + C"},{label:"粘贴",value:"Ctrl + V"},{label:"快速复制粘贴",value:"Ctrl + D"},{label:"全选",value:"Ctrl + A"},{label:"撤销",value:"Ctrl + Z"},{label:"恢复",value:"Ctrl + Y"},{label:"删除",value:"Delete / Backspace"},{label:"多选",value:"按住 Ctrl 或 Shift"},{label:"打印",value:"Ctrl + P"},{label:"关闭弹窗",value:"ESC"}]},{type:"幻灯片放映",children:[{label:"从头开始放映幻灯片",value:"F5"},{label:"从当前开始放映幻灯片",value:"Shift + F5"},{label:"切换上一页",value:"↑ / ← / PgUp"},{label:"切换下一页",value:"↓ / → / PgDown"},{label:"切换下一页",value:"Enter / Space"},{label:"退出放映",value:"ESC"},{label:"调整画笔笔触大小",value:"鼠标滚轮"}]},{type:"幻灯片编辑",children:[{label:"新建幻灯片",value:"Enter"},{label:"移动画布",value:"Space + 鼠标拖拽"},{label:"缩放画布",value:"Ctrl + 鼠标滚轮"},{label:"放大画布",value:"Ctrl + ="},{label:"缩小画布",value:"Ctrl + -"},{label:"使画布适应当前屏幕",value:"Ctrl + 0"},{label:"上一页（未选中元素）",value:"↑ / ←"},{label:"下一页（未选中元素）",value:"↓ / →"},{label:"上一页",value:"鼠标上滚 / PgUp"},{label:"下一页",value:"鼠标下滚 / PgDown"}]},{type:"元素操作",children:[{label:"移动",value:"↑ / ← / ↓ / →"},{label:"锁定",value:"Ctrl + L"},{label:"组合",value:"Ctrl + G"},{label:"取消组合",value:"Ctrl + Shift + G"},{label:"置顶层",value:"Alt + F"},{label:"置底层",value:"Alt + B"},{label:"锁定宽高比例",value:"按住 Ctrl 或 Shift"},{label:"创建水平 / 垂直线条",value:"按住 Ctrl 或 Shift"},{label:"切换焦点元素",value:"Tab"},{label:"确认图片裁剪",value:"Enter"}]},{type:"表格编辑",children:[{label:"聚焦到下一个单元格",value:"Tab"},{label:"在上方插入一行",value:"Ctrl + ↑"},{label:"在下方插入一行",value:"Ctrl + ↓"},{label:"在左侧插入一列",value:"Ctrl + ←"},{label:"在右侧插入一列",value:"Ctrl + →"}]},{type:"图表数据编辑",children:[{label:"聚焦到下一行",value:"Enter"}]},{type:"文本编辑",children:[{label:"加粗",value:"Ctrl + B"},{label:"斜体",value:"Ctrl + I"},{label:"下划线",value:"Ctrl + U"},{label:"删除线",value:"Ctrl + D"}]}];var Ba=l("5a11"),Sa=l("806f");const La=e=>{const t=e.replace(/[\n\r]+/g,"<br>"),l=t.split("<br>");let o="";for(const c of l)c&&(o+=`<div>${c}</div>`);return o};l("b4a5"),l("46bd"),l("4012"),l("b600"),l("d5df");const _a=e=>new Promise(t=>{const l=document.createElement("img");l.src=e,l.style.opacity="0",document.body.appendChild(l),l.onload=()=>{const e=l.clientWidth,o=l.clientHeight;l.onload=null,l.onerror=null,document.body.removeChild(l),t({width:e,height:o})},l.onerror=()=>{l.onload=null,l.onerror=null}}),Ta=e=>new Promise(t=>{const l=new FileReader;l.addEventListener("load",()=>{t(l.result)}),l.readAsDataURL(e)}),Ma=1e3;var Da,Aa;(function(e){e["ROUND_RECT"]="roundRect",e["ROUND_RECT_DIAGONAL"]="roundRectDiagonal",e["ROUND_RECT_SINGLE"]="roundRectSingle",e["ROUND_RECT_SAMESIDE"]="roundRectSameSide",e["CUT_RECT_DIAGONAL"]="cutRectDiagonal",e["CUT_RECT_SINGLE"]="cutRectSingle",e["CUT_RECT_SAMESIDE"]="cutRectSameSide",e["MESSAGE"]="message",e["ROUND_MESSAGE"]="roundMessage",e["L"]="L",e["RING_RECT"]="ringRect",e["PLUS"]="plus",e["TRIANGLE"]="triangle",e["PARALLELOGRAM_LEFT"]="parallelogramLeft",e["PARALLELOGRAM_RIGHT"]="parallelogramRight",e["TRAPEZOID"]="trapezoid",e["BULLET"]="bullet",e["INDICATOR"]="indicator"})(Da||(Da={})),function(e){e["TEXT"]="text",e["IMAGE"]="image",e["SHAPE"]="shape",e["LINE"]="line",e["CHART"]="chart",e["TABLE"]="table",e["LATEX"]="latex",e["VIDEO"]="video",e["AUDIO"]="audio"}(Aa||(Aa={}));const za={[Da.ROUND_RECT]:{editable:!0,defaultValue:.125,range:[0,.5],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M ${o} 0 L ${e-o} 0 Q ${e} 0 ${e} ${o} L ${e} ${t-o} Q ${e} ${t} ${e-o} ${t} L ${o} ${t} Q 0 ${t} 0 ${t-o} L 0 ${o} Q 0 0 ${o} 0 Z`}},[Da.CUT_RECT_DIAGONAL]:{editable:!0,defaultValue:.2,range:[0,.9],relative:"right",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 ${t-o} L 0 0 L ${e-o} 0 L ${e} ${o} L ${e} ${t} L ${o} ${t} Z`}},[Da.CUT_RECT_SINGLE]:{editable:!0,defaultValue:.2,range:[0,.9],relative:"right",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 ${t} L 0 0 L ${e-o} 0 L ${e} ${o} L ${e} ${t} Z`}},[Da.CUT_RECT_SAMESIDE]:{editable:!0,defaultValue:.2,range:[0,.5],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 ${o} L ${o} 0 L ${e-o} 0 L ${e} ${o} L ${e} ${t} L 0 ${t} Z`}},[Da.ROUND_RECT_DIAGONAL]:{editable:!0,defaultValue:.125,range:[0,1],relative:"right",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 0 L ${e-o} 0 Q ${e} 0 ${e} ${o} L ${e} ${t} L ${o} ${t} Q 0 ${t} 0 ${t-o} L 0 0 Z`}},[Da.ROUND_RECT_SINGLE]:{editable:!0,defaultValue:.125,range:[0,1],relative:"right",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 0 L ${e-o} 0 Q ${e} 0 ${e} ${o} L ${e} ${t} L 0 ${t} L 0 0 Z`}},[Da.ROUND_RECT_SAMESIDE]:{editable:!0,defaultValue:.125,range:[0,.5],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 ${o} Q 0 0 ${o} 0 L ${e-o} 0 Q ${e} 0 ${e} ${o} L ${e} ${t} L 0 ${t} Z`}},[Da.MESSAGE]:{formula:(e,t)=>{const l=.2*e,o=.2*t;return`M 0 0 L ${e} 0 L ${e} ${t-o} L ${e/2} ${t-o} L ${e/2-l} ${t} L ${e/2-l} ${t-o} L 0 ${t-o} Z`}},[Da.ROUND_MESSAGE]:{formula:(e,t)=>{const l=.125*Math.min(e,t),o=.2*e,c=.2*t;return`M 0 ${l} Q 0 0 ${l} 0 L ${e-l} 0 Q ${e} 0 ${e} ${l} L ${e} ${t-l-c} Q ${e} ${t-c} ${e-l} ${t-c} L ${e/2} ${t-c} L ${e/2-o} ${t} L ${e/2-o} ${t-c} L ${l} ${t-c} Q 0 ${t-c} 0 ${t-l-c} L 0 ${l} Z`}},[Da.L]:{editable:!0,defaultValue:.25,range:[.1,.9],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 0 L 0 ${t} L ${e} ${t} L ${e} ${t-o} L ${o} ${t-o} L ${o} 0 Z`}},[Da.RING_RECT]:{editable:!0,defaultValue:.25,range:[.1,.45],relative:"left",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M 0 0 ${e} 0 ${e} ${t} L 0 ${t} L 0 0 Z M ${o} ${o} L ${o} ${t-o} L ${e-o} ${t-o} L ${e-o} ${o} Z`}},[Da.PLUS]:{editable:!0,defaultValue:.25,range:[.1,.9],relative:"center",getBaseSize:(e,t)=>Math.min(e,t),formula:(e,t,l)=>{const o=Math.min(e,t)*l;return`M ${e/2-o/2} 0 L ${e/2-o/2} ${t/2-o/2} L 0 ${t/2-o/2} L 0 ${t/2+o/2} L ${e/2-o/2} ${t/2+o/2} L ${e/2-o/2} ${t} L ${e/2+o/2} ${t} L ${e/2+o/2} ${t/2+o/2} L ${e} ${t/2+o/2} L ${e} ${t/2-o/2} L ${e/2+o/2} ${t/2-o/2} L ${e/2+o/2} 0 Z`}},[Da.TRIANGLE]:{editable:!0,defaultValue:.5,range:[0,1],relative:"left",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M ${o} 0 L 0 ${t} L ${e} ${t} Z`}},[Da.PARALLELOGRAM_LEFT]:{editable:!0,defaultValue:.25,range:[0,.9],relative:"left",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M ${o} 0 L ${e} 0 L ${e-o} ${t} L 0 ${t} Z`}},[Da.PARALLELOGRAM_RIGHT]:{editable:!0,defaultValue:.25,range:[0,.9],relative:"right",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M 0 0 L ${e-o} 0 L ${e} ${t} L ${o} ${t} Z`}},[Da.TRAPEZOID]:{editable:!0,defaultValue:.25,range:[0,.5],relative:"left",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M ${o} 0 L ${e-o} 0 L ${e} ${t} L 0 ${t} Z`}},[Da.BULLET]:{editable:!0,defaultValue:.2,range:[0,1],relative:"top",getBaseSize:(e,t)=>t,formula:(e,t,l)=>{const o=t*l;return`M ${e/2} 0 L 0 ${o} L 0 ${t} L ${e} ${t} L ${e} ${o} Z`}},[Da.INDICATOR]:{editable:!0,defaultValue:.2,range:[0,.9],relative:"right",getBaseSize:(e,t)=>e,formula:(e,t,l)=>{const o=e*l;return`M ${e} ${t/2} L ${e-o} 0 L 0 0 L ${o} ${t/2} L 0 ${t} L ${e-o} ${t} Z`}}},Fa=[{type:"矩形",children:[{viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z"},{viewBox:[200,200],path:"M 50 0 L 150 0 Q 200 0 200 50 L 200 150 Q 200 200 150 200 L 50 200 Q 0 200 0 150 L 0 50 Q 0 0 50 0 Z",pathFormula:Da.ROUND_RECT},{viewBox:[200,200],path:"M 0 150 L 0 0 L 150 0 L 200 50 L 200 200 L 50 200 Z",pathFormula:Da.CUT_RECT_DIAGONAL},{viewBox:[200,200],path:"M 0 200 L 0 0 L 150 0 L 200 50 L 200 200 Z",pathFormula:Da.CUT_RECT_SINGLE},{viewBox:[200,200],path:"M 0 50 L 50 0 L 150 0 L 200 50 L 200 200 L 0 200 Z",pathFormula:Da.CUT_RECT_SAMESIDE},{viewBox:[200,200],path:"M 0 0 L 150 0 Q 200 0 200 50 L 200 200 L 50 200 Q 0 200 0 150 L 0 0 Z",pathFormula:Da.ROUND_RECT_DIAGONAL},{viewBox:[200,200],path:"M 0 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 L 0 0 Z",pathFormula:Da.ROUND_RECT_SINGLE},{viewBox:[200,200],path:"M 0 50 Q 0 0 50 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 Z",pathFormula:Da.ROUND_RECT_SAMESIDE}]},{type:"常用形状",children:[{viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 200 L 200 200 L 100 0 Z",pathFormula:Da.TRIANGLE},{viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z"},{viewBox:[200,200],path:"M 50 0 L 200 0 L 150 200 L 0 200 L 50 0 Z",pathFormula:Da.PARALLELOGRAM_LEFT},{viewBox:[200,200],path:"M 0 0 L 150 0 L 200 200 L 50 200 L 0 0 Z",pathFormula:Da.PARALLELOGRAM_RIGHT},{viewBox:[200,200],path:"M 50 0 L 150 0 L 200 200 L 0 200 L 50 0 Z",pathFormula:Da.TRAPEZOID},{viewBox:[200,200],path:"M 100 0 L 0 100 L 100 200 L 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 50 L 0 200 L 200 200 L 200 50 L 100 0 Z",pathFormula:Da.BULLET},{viewBox:[200,200],path:"M 200 100 L 150 0 L 0 0 L 50 100 L 0 200 L 150 200 L 200 100 Z",pathFormula:Da.INDICATOR},{viewBox:[200,200],path:"M 0 200 A 50 100 0 1 1 200 200 L 0 200 Z"},{viewBox:[200,200],path:"M 40 20 A 100 100 0 1 0 200 100 L 100 100 L 40 20 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 100 100 L 100 0 Z"},{viewBox:[200,200],path:"M 160 20 A 100 100 0 1 0 200 100 L 100 100 L 160 20 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 200 0 L 100 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 0 Q 200 200 0 200 L 0 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 90 L 50 200 L 150 200 L 200 90 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 60 L 0 140 L 100 200 L 200 140 L 200 60 L 100 0 Z"},{viewBox:[200,200],path:"M 60 0 L 140 0 L 200 60 L 200 140 L 140 200 L 60 200 L 0 140 L 0 60 L 60 0 Z"},{viewBox:[200,200],path:"M 75 0 L 125 0 L 175 25 L 200 75 L 200 125 L 175 175 L 125 200 L 75 200 L 25 175 L 0 125 L 0 75 L 25 25 L 75 0 Z"},{viewBox:[200,200],path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 L 0 0 L 150 0 Z"},{viewBox:[200,200],path:"M 50 0 A 25 50 0 1 0 50 200 L 150 200 A 25 50 0 1 0 150 0 L 50 0 Z"},{viewBox:[200,200],path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 A 50 100 0 0 0 0 0 L 150 0 Z"},{viewBox:[200,200],path:"M 200 0 L 200 200 L 0 200 L 0 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 100 L 200 200 L 0 200 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 100 0 L 0 100 L 0 200 L 200 0 Z"},{viewBox:[200,200],path:"M 50 0 L 150 0 L 150 50 L 200 50 L 200 150 L 150 150 L 150 200 L 50 200 L 50 150 L 0 150 L 0 50 L 50 50 L 50 0 Z"},{viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 L 200 140 L 60 140 L 60 0 L 0 0 Z",pathFormula:Da.L},{viewBox:[200,200],path:"M0 0 L200 0 L200 200 L0 200 L0 0 Z M50 50 L50 150 L150 150 L150 50 Z",pathFormula:Da.RING_RECT},{viewBox:[200,200],path:"M0 100 A100 100 0 1 1 0 101 Z M150 100 A50 50 0 1 0 150 101 Z"},{viewBox:[200,200],path:"M 70 0 L 70 70 L 0 70 L 0 130 L 70 130 L 70 200 L 130 200 L 130 130 L 200 130 L 200 70 L 130 70 L 130 0 L 70 0 Z",pathFormula:Da.PLUS},{viewBox:[200,200],path:"M 40 0 L 0 40 L 60 100 L 0 160 L 40 200 L 100 140 L 160 200 L 200 160 L 140 100 L 200 40 L 160 0 L 100 60 L 40 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 0 L 200 160 L 100 160 L 60 200 L 60 160 L 0 160 Z",pathFormula:Da.MESSAGE},{viewBox:[200,200],path:"M 0 40 Q 0 0 40 0 L 160 0 Q 200 0 200 40 L 200 120 Q 200 160 160 160 L 100 160 L 60 200 L 60 160 L 40 160 Q 0 160 0 120 L 0 40 Z",pathFormula:Da.ROUND_MESSAGE},{viewBox:[200,200],path:"M 180 160 A 100 100 0 1 0 100 200 L 200 200 L 200 160 L 180 160 Z"},{viewBox:[200,200],path:"M 200 0 L 0 0 L 200 200 L 0 200 L 200 0 Z"},{viewBox:[200,200],path:"M 0 20 C 60 60 140 -40 200 20 L 200 180 C 140 140 60 240 0 180 L 0 20 Z"},{viewBox:[200,200],path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z"},{viewBox:[200,200],path:"M 100 0 Q 0 50 0 175 Q 100 225 200 175 Q 200 50 100 0 Z"},{viewBox:[200,200],path:"M 0 100 A 50 50 0 1 1 200 100 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 100 0 L 60 60 L 0 100 L 60 140 L 100 200 L 140 140 L 200 100 L 140 60 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 80 40 L 20 20 L 40 80 L 0 100 L 40 120 L 20 180 L 80 160 L 100 200 L 120 160 L 180 180 L 160 120 L 200 100 L 160 80 L 180 20 L 120 40 L 100 0 Z"}]},{type:"箭头",children:[{viewBox:[200,200],path:"M 100 0 L 0 100 L 50 100 L 50 200 L 150 200 L 150 100 L 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 200 L 200 100 L 150 100 L 150 0 L 50 0 L 50 100 L 0 100 L 100 200 Z"},{viewBox:[200,200],path:"M 0 100 L 100 0 L 100 50 L 200 50 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 100 0 L 100 50 L 0 50 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:[200,200],path:"M 100 0 L 0 60 L 60 60 L 60 140 L 0 140 L 100 200 L 200 140 L 140 140 L 140 60 L 200 60 L 100 0 Z"},{viewBox:[200,200],path:"M 0 100 L 60 0 L 60 60 L 140 60 L 140 0 L 200 100 L 140 200 L 140 140 L 60 140 L 60 200 L 0 100 Z"},{viewBox:[200,200],path:"M 100 0 L 60 40 L 80 40 L 80 80 L 40 80 L 40 60 L 0 100 L 40 140 L 40 120 L 80 120 L 80 160 L 60 160 L 100 200 L 140 160 L 120 160 L 120 120 L 160 120 L 160 140 L 200 100 L 160 60 L 160 80 L 120 80 L 120 40 L 140 40 L 100 0 Z"},{viewBox:[200,200],path:"M 0 100 L 100 0 L 100 50 L 200 50 L 150 100 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 100 0 L 100 50 L 0 50 L 50 100 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:[200,200],path:"M 0 100 L 80 20 L 80 80 L 120 80 L 120 0 L 200 0 L 200 200 L 120 200 L 120 120 L 80 120 L 80 180 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 120 20 L 120 80 L 80 80 L 80 0 L 0 0 L 0 200 L 80 200 L 80 120 L 120 120 L 120 180 L 200 100 Z"},{viewBox:[200,200],path:"M 0 0 L 120 0 L 200 100 L 120 200 L 0 200 L 80 100 L 0 0 Z"},{viewBox:[200,200],path:"M 80 0 L 200 0 L 120 100 L 200 200 L 80 200 L 0 100 L 80 0 Z"},{viewBox:[200,200],path:"M 0 0 L 140 0 L 200 100 L 140 200 L 0 200 L 0 100 L 0 0 Z"},{viewBox:[200,200],path:"M 60 0 L 200 0 L 200 100 L 200 200 L 60 200 L 0 100 L 60 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 100 L 0 200 L 60 100 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 0 100 L 200 200 L 140 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 0 L 80 0 L 200 100 L 80 200 L 0 200 L 120 100 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 120 0 L 0 100 L 120 200 L 200 200 L 80 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 200 L 180 200 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 160 L 0 160 L 0 200 Z"},{viewBox:[200,200],path:"M 0 200 L 0 20 L 160 20 L 160 0 L 200 40 L 160 80 L 160 60 L 40 60 L 40 200 L 0 200 Z"},{viewBox:[200,200],path:"M 40 180 L 180 180 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 140 L 40 140 L 40 120 L 0 160 L 40 200 L 40 180 Z"},{viewBox:[1024,1024],path:"M398.208 302.912V64L0 482.112l398.208 418.176V655.36c284.48 0 483.584 95.552 625.792 304.64-56.896-298.688-227.584-597.312-625.792-657.088z",special:!0},{viewBox:[1024,1024],path:"M625.792 302.912V64L1024 482.112l-398.208 418.176V655.36C341.312 655.36 142.208 750.912 0 960c56.896-298.688 227.584-597.312 625.792-657.088z",special:!0}]},{type:"其他形状",children:[{viewBox:[1024,1024],path:"M995.336 243.4016c-15.7584-36.5736-38.3376-69.26639999-66.91440001-97.37280001-28.5768-27.98879999-61.73999999-49.8624-98.78399999-65.26799998-38.22-15.876-78.6744-23.8728-120.4224-23.87280001-57.97680001 0-114.5424 15.876-163.69919999 45.864-11.76 7.17360001-22.932 15.05279999-33.51600001 23.63760001-10.584-8.5848-21.75600001-16.46400001-33.51600001-23.63760001-49.1568-29.98799999-105.7224-45.86399999-163.69919999-45.864-41.74799999 0-82.2024 7.9968-120.4224 23.87280001-36.9264 15.28799999-70.2072 37.27919999-98.78399999 65.26799998-28.6944 28.10640001-51.156 60.79919999-66.91440001 97.37280001-16.34639999 37.9848-24.696 78.3216-24.696 119.83439999 0 39.1608 7.9968 79.96800001 23.8728 121.48080001 13.28880001 34.692 32.34000001 70.67760001 56.6832 107.016 38.57279999 57.5064 91.61040001 117.4824 157.4664 178.28160001 109.1328 100.78319999 217.2072 170.4024 221.79359999 173.22479998l27.87120001 17.8752c12.348 7.8792 28.224 7.8792 40.572 0l27.87119999-17.8752c4.58639999-2.94 112.54319999-72.44159999 221.79360001-173.22479998 65.85599999-60.79919999 118.89359999-120.7752 157.4664-178.28160001 24.3432-36.33839999 43.512-72.324 56.68319999-107.016 15.876-41.5128 23.8728-82.32 23.87280001-121.48080001 0.1176-41.5128-8.232-81.8496-24.5784-119.83439999z",special:!0},{viewBox:[1024,1024],path:"M985.20746667 343.50079998l-303.32586667-44.08319999L546.28693333 24.5248c-3.70346666-7.5264-9.79626667-13.6192-17.32266665-17.32266668-18.87573334-9.3184-41.81333333-1.55306667-51.25120001 17.32266668L342.1184 299.41759999l-303.32586667 44.08319999c-8.36266667 1.19466667-16.00853333 5.13706667-21.8624 11.11040001-14.69440001 15.17226667-14.45546667 39.30453334 0.71679999 54.1184l219.46026668 213.9648-51.84853333 302.1312c-1.43359999 8.24320001-0.11946667 16.8448 3.82293333 24.25173333 9.79626667 18.6368 32.9728 25.92426667 51.6096 16.00853334L512 822.44266665l271.3088 142.64320001c7.40693333 3.9424 16.00853333 5.25653333 24.25173333 3.82293333 20.78719999-3.584 34.7648-23.296 31.1808-44.0832l-51.84853333-302.1312 219.46026668-213.9648c5.97333334-5.85386666 9.91573333-13.49973334 11.11039999-21.8624 3.2256-20.90666667-11.34933333-40.26026667-32.256-43.36640001z",special:!0},{viewBox:[1024,1024],path:"M852.65066667 405.84533333C800.54044445 268.40177778 667.76177778 170.66666667 512.22755555 170.66666667S223.91466667 268.288 171.80444445 405.73155555C74.29688889 431.33155555 2.27555555 520.07822222 2.27555555 625.77777778c0 125.72444445 101.83111111 227.55555555 227.44177778 227.55555555h564.56533334C919.89333333 853.33333333 1021.72444445 751.50222222 1021.72444445 625.77777778c0-105.472-71.79377778-194.21866667-169.07377778-219.93244445z",special:!0},{viewBox:[1024,1024],path:"M926.25224691 323.7371485H654.6457886L898.88200917 15.14388241c5.05486373-6.53433603 0.49315743-16.02761669-7.76722963-16.02761668H418.30008701c-3.45210206 0-6.78091476 1.84934039-8.50696579 4.93157436L90.35039154 555.76772251c-3.82197013 6.53433603 0.86302552 14.7947231 8.50696578 14.79472311h215.01664245l-110.22068713 440.88274851c-2.34249783 9.61657002 9.24670194 16.39748478 16.39748477 9.49328065L933.03316167 340.62779071c6.41104668-6.0411786 2.09591911-16.8906422-6.78091476-16.89064221z",special:!0},{viewBox:[1024,1024],path:"M878.47822222 463.30311111c-22.18666667-49.83466667-53.93066667-93.98044445-94.32177777-131.072l-33.10933334-30.37866666c-4.89244445-4.32355555-12.62933333-2.38933333-14.79111111 3.75466666l-14.79111111 42.43911111c-9.216 26.624-26.16888889 53.81688889-50.176 80.55466667-1.59288889 1.70666667-3.41333333 2.16177778-4.66488889 2.27555556-1.25155555 0.11377778-3.18577778-0.11377778-4.89244445-1.70666667-1.59288889-1.36533333-2.38933333-3.41333333-2.27555555-5.46133333 4.20977778-68.49422222-16.27022222-145.74933333-61.09866667-229.83111112C561.26577778 124.01777778 509.72444445 69.51822222 445.32622222 31.51644445l-46.99022222-27.648c-6.144-3.64088889-13.99466667 1.13777778-13.65333333 8.30577777l2.50311111 54.61333333c1.70666667 37.31911111-2.61688889 70.31466667-12.85688889 97.73511112-12.51555555 33.56444445-30.49244445 64.73955555-53.47555556 92.72888888-16.15644445 19.56977778-34.24711111 37.20533333-54.04444444 52.45155556-47.90044445 36.75022222-87.38133333 84.65066667-114.11911111 138.24C125.72444445 502.10133333 111.50222222 562.74488889 111.50222222 623.50222222c0 53.70311111 10.58133333 105.69955555 31.51644445 154.73777778 20.25244445 47.21777778 49.152 89.77066667 85.90222222 126.17955555 36.864 36.40888889 79.64444445 65.08088889 127.31733333 84.992C405.61777778 1010.11911111 457.95555555 1020.58666667 512 1020.58666667s106.38222222-10.46755555 155.76177778-31.06133334c47.67288889-19.91111111 90.56711111-48.46933333 127.31733333-84.992 36.864-36.40888889 65.76355555-78.96177778 85.90222222-126.17955555 20.93511111-49.03822222 31.51644445-101.03466667 31.51644445-154.73777778 0-55.52355555-11.37777778-109.45422222-34.01955556-160.31288889z",special:!0},{viewBox:[1024,1024],path:"M968.20337778 20.11591112H705.44042667c-22.17301333 0-41.92483556 15.16430222-47.14951111 37.33731555C642.36202666 124.73685332 582.08711111 173.03324444 512 173.03324444s-130.36202666-48.29639112-146.29091556-115.58001777c-5.22467555-22.17301333-24.84906667-37.33731556-47.14951111-37.33731555H55.79662222c-30.96576 0-56.06968889 25.10392889-56.06968888 56.06968888v321.12639999c0 30.96576 25.10392889 56.06968889 56.06968888 56.06968889h95.57333334v494.43271112c0 30.96576 25.10392889 56.06968889 56.06968889 56.06968888h609.1207111c30.96576 0 56.06968889-25.10392889 56.06968889-56.06968888V453.38168888h95.57333334c30.96576 0 56.06968889-25.10392889 56.06968888-56.06968889V76.1856c0-30.96576-25.10392889-56.06968889-56.06968888-56.06968888z",special:!0},{viewBox:[1024,1024],path:"M980.94648889 239.80714666H523.46880001L373.99210666 96.82944c-1.91146667-1.78403556-4.46008889-2.80348444-7.00871111-2.80348445H43.05351111c-22.55530667 0-40.77795555 18.22264888-40.77795555 40.77795557v754.39217776c0 22.55530667 18.22264888 40.77795555 40.77795555 40.77795557h937.89297778c22.55530667 0 40.77795555-18.22264888 40.77795555-40.77795557V280.58510222c0-22.55530667-18.22264888-40.77795555-40.77795555-40.77795556z",special:!0},{viewBox:[1024,1024],path:"M972.60904597 164.57058577L841.30587843 33.39070759c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480282-29.3428675-26.75379095 0-51.90482023 10.47959553-70.76809219 29.3428675L558.60337778 174.68031322c-18.86327195 18.86327195-29.34286748 44.1375906-29.34286749 70.64480283 0 26.75379095 10.47959553 51.90482023 29.34286749 70.76809218l103.31648301 103.31648302c-24.28800376 53.50758189-57.69942011 101.59043198-99.24793416 143.13894603-41.42522469 41.67180341-89.63136414 75.08321976-143.13894603 99.61780223L316.21649759 558.84995649c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480283-29.34286747-26.75379095 0-51.90482023 10.47959553-70.76809217 29.34286747L33.39070759 700.01627278c-18.86327195 18.86327195-29.34286748 44.1375906-29.3428675 70.76809217 0 26.75379095 10.47959553 51.90482023 29.3428675 70.76809219l131.05658883 131.05658883c30.08260365 30.205893 71.63111769 47.34311394 114.28923598 47.34311394 9.00012323 0 17.63037836-0.73973616 26.13734414-2.21920846 166.19405621-27.37023774 331.03192945-115.76870829 464.06114804-248.67463751C901.84095379 636.27567408 990.11613498 471.56109018 1017.85624079 304.87387654c8.38367642-50.91850535-8.50696579-103.31648302-45.24719482-140.30329077z",special:!0},{viewBox:[1024,1024],path:"M910.60451556 640.96028445c-20.38897778-65.49959112-43.83630221-120.54983112-79.89930667-210.64362666C836.31217778 193.67708444 737.93535999 2.27555556 511.36284444 2.27555556 282.24170667 2.27555556 186.03121778 197.50001778 192.14791111 430.31665779c-36.19043555 90.22122667-59.51032888 144.88917333-79.89930667 210.64362666-43.32657778 139.53706668-29.30915556 197.26336001-18.60494222 198.53767111 22.9376 2.80348444 89.32920888-105.00323556 89.32920889-105.00323556 0 62.44124445 32.11264001 143.86972444 101.69002667 202.61546667-33.64181333 10.32192-109.20846222 38.10190221-91.24067556 68.55793777 14.52714667 24.59420444 250.01984 15.67402668 317.94062222 8.02816 67.92078222 7.64586667 303.41347556 16.56604444 317.94062223-8.02816 17.96778667-30.32860444-57.72629333-58.23601779-91.24067555-68.55793777 69.57738667-58.87317334 101.69002667-140.30165333 101.69002667-202.61546667 0 0 66.39160889 107.80672 89.32920888 105.00323556 10.83164445-1.40174222 24.84906667-59.12803556-18.47751111-198.53767111z",special:!0},{viewBox:[1024,1024],path:"M1016.86992592 199.24764445c-37.13706667 16.01991111-77.55093333 27.54939259-119.17842962 32.03982222 42.96248889-25.60758518 75.60912592-66.02145185 91.02222222-114.08118519-39.68568889 23.66577778-84.58998518 41.02068148-131.31472593 50.00154074C819.53374815 126.79395555 765.76995555 101.79318518 706.18074075 101.79318518c-114.688 0-206.92385185 92.96402963-206.92385186 207.04521482 0 16.01991111 1.94180741 32.03982222 5.09724444 47.45291852-171.72859259-8.98085925-324.88865185-91.02222222-426.71217778-216.63288889-17.96171852 30.82619259-28.15620741 66.02145185-28.1562074 104.49351112 0 71.84687408 36.53025185 135.19834075 92.23585185 172.45677036-33.98162963-1.33499259-66.02145185-10.92266667-93.57084445-26.33576296v2.54862222c0 100.6098963 71.1186963 183.98625185 165.90317037 203.1616-17.3549037 4.49042963-35.92343703 7.03905185-54.49197037 7.03905185-13.47128889 0-26.2144-1.33499259-39.07887407-3.15543704C146.69748148 681.90814815 223.03478518 741.49736297 313.93564445 743.43917037c-71.1186963 55.7056-160.19911111 88.4736-256.9253926 88.4736-17.3549037 0-33.37481482-0.60681482-50.00154074-2.54862222C98.75911111 888.22518518 207.62168889 922.20681482 324.85831111 922.20681482 705.45256297 922.20681482 913.71140741 606.90583703 913.71140741 333.23235555c0-8.98085925 0-17.96171852-0.60681482-26.94257777 40.2925037-29.4912 75.60912592-66.02145185 103.76533333-107.04213333z",special:!0},{viewBox:[1024,1024],path:"M917.96720197 1.08889505H106.03279803C53.56084718 1.08889505 9.37393998 45.27580225 9.37393998 97.74775309v5.52336372c0 19.33177108 8.28504494 41.42522469 22.0934536 55.23363205l331.40179753 392.15879462v325.87843379c0 16.57008987 8.28504494 30.37849854 22.09345359 35.90186098l209.88780469 104.94390299 2.76168121 2.76168121c27.61681602 11.04672615 55.23363335-8.28504494 55.23363335-38.66354218V550.66354348l331.40179753-392.15879462c35.90186097-41.42522469 30.37849854-102.18222047-11.04672616-135.32240022-11.04672615-13.80840865-33.14017975-22.0934536-55.23363335-22.09345359z",special:!0},{viewBox:[1024,1024],path:"M491.70164031 97.48884502a25.89076502 25.89076502 0 0 1 40.59671938 0L745.66415762 367.01171317a25.89076502 25.89076502 0 0 0 30.49932208 7.72839349l208.00640948-89.14190458a25.89076502 25.89076502 0 0 1 35.56096592 29.06238339l-115.18801541 554.96855704A103.56306132 103.56306132 0 0 1 803.14165689 952.14301275H220.85834311a103.56306132 103.56306132 0 0 1-101.4011828-82.51387024l-115.18801541-554.96855704a25.89076502 25.89076502 0 0 1 35.54802012-29.06238339l208.01935528 89.14190458a25.89076502 25.89076502 0 0 0 30.49932208-7.72839349l213.36579793-269.52286815z",special:!0},{viewBox:[1024,1024],path:"M643.02466884 387.7801525c19.85376751-88.69205333 33.718272-152.84087467 41.61900049-192.57389433C704.52292267 95.17283515 652.90057916 2.27555515 550.58614084 2.27555515c-92.26012484 0-138.59407685 45.84971417-165.91530666 137.49816969l-0.70087152 2.67605334c-16.40038399 74.13942085-41.47882668 131.61085116-74.6746315 172.73287031a189.06953915 189.06953915 0 0 1-143.04142182 70.44391902l-26.17434983 0.5606965C77.66380049 387.52529067 27.76177817 438.90551468 27.76177817 501.84374084V881.55022182c0 77.4144 62.25009818 140.17422182 139.05282766 140.17422303h492.82707951c101.23127467 0 191.59267516-63.995904 225.93535999-159.98976l102.37815468-286.22301868c26.04691951-72.82688-11.39234134-153.15945284-83.63303784-179.42300483a138.04612267 138.04612267 0 0 0-47.17499733-8.30850884H643.02466884z",special:!0},{viewBox:[1024,1024],path:"M512 512c140.82958222 0 254.86222222-114.03264 254.86222222-254.86222222S652.82958222 2.27555555 512 2.27555555a254.78940445 254.78940445 0 0 0-254.86222222 254.86222223C257.13777778 397.96736 371.17041778 512 512 512z m0 72.81777778c-170.10232889 0-509.72444445 97.57582222-509.72444445 291.27111111v145.63555556h1019.4488889v-145.63555556c0-193.69528889-339.62211555-291.27111111-509.72444445-291.27111111z",special:!0},{viewBox:[1024,1024],path:"M1019.81297778 564.50161779l-138.89991111-472.51456c-8.66531556-25.99594668-29.43658667-43.45400889-57.21656889-43.45400891s-50.33528889 15.67402668-59.00060446 41.66997334l-92.00526221 274.48661334H351.69166222L259.6864 90.33045333c-8.66531556-25.99594668-31.22062222-41.66997333-59.00060444-41.66997332s-50.33528889 17.33063112-57.2165689 43.45400887L4.69674667 564.50161779c-5.22467555 17.33063112 1.78403556 36.44529778 15.67402667 46.89464887l491.11950221 368.27591113 492.77610666-368.27591113c13.76256-10.32192 20.77127111-29.43658667 15.54659557-46.89464887z",special:!0},{viewBox:[1024,1024],path:"M927.78951111 340.39277037c-12.01493333-47.81700741 12.01493333-124.03294815 89.08041481-150.97552592l-82.40545184-4.36906667s-31.19028148-109.22666667-174.27721483-118.9357037c-143.08693333-9.8304-236.65777778-3.64088889-236.65777777-3.6408889s106.07122963 67.47780741 63.5941926 187.74850371c-31.06891852 63.71555555-79.85682963 116.02299259-132.04290371 175.61220741-1.57771852 1.57771852-3.03407408 3.15543703-4.2477037 4.49042962C278.25493333 624.86755555 7.13007408 934.34311111 7.13007408 934.34311111c298.43152592 78.15774815 498.43768889-7.64586667 616.76657777-110.56165926 24.87940741-0.24272592 43.5693037-0.36408889 56.19105185-0.36408888 164.8109037 0 304.13558518-142.72284445 298.43152593-301.4656-3.88361482-109.1053037-38.71478518-133.74198518-50.72971852-181.5589926z",special:!0},{viewBox:[1024,1024],path:"M997.8886764 504.17210418L537.2729208 43.89182982c-13.97838539-13.97838539-36.56745619-13.97838539-50.5458416 0L26.1113236 504.17210418c-13.41924998 13.41924998-21.02349164 31.64706454-21.02349163 50.65766867 0 39.47496036 32.09437288 71.56933323 71.56933324 71.56933323h48.53295408V954.83524937c0 19.79339373 15.99127289 35.78466661 35.78466663 35.78466662H440.43066677V740.12724968h125.24633315v250.49266631h297.34821416c19.79339373 0 35.78466661-15.99127289 35.78466663-35.78466662V626.39910608h48.53295408c19.01060414 0 37.23841869-7.49241457 50.65766869-21.02349163 27.84494371-27.95677079 27.84494371-73.24673948-0.11182708-101.20351027z",special:!0},{viewBox:[1024,1024],path:"M1009.13013121 349.27572283L674.72427717 14.86986879c-8.82158299-8.82158299-20.35749924-13.16451618-31.89341544-13.16451618s-23.07183245 4.34293316-31.89341547 13.16451618L392.29790453 233.6451272c-16.5574327-1.90003326-33.25058207-2.71433322-49.94373146-2.71433324-99.34459624 0-198.68919249 32.70771543-280.25490606 98.12314628-20.90036589 16.69314938-22.52896582 48.04369819-3.66434987 67.04403081l246.59717401 246.59717401-292.33368895 292.06225564c-3.52863319 3.52863319-5.83581644 8.27871636-6.24296642 13.30023282l-4.61436649 50.48659809c-1.22144996 12.75736619 8.95729967 23.6146991 21.57894918 23.6146991 0.6785833 0 1.35716662 0 2.03574992-0.13571666l50.48659809-4.61436649c5.02151649-0.40714999 9.77159962-2.71433322 13.30023282-6.24296643l292.33368896-292.33368896 246.59717402 246.59717401c8.82158299 8.82158299 20.35749924 13.16451618 31.89341544 13.16451618 13.16451618 0 26.19331567-5.70009979 35.15061536-16.82886604 76.40848044-95.40881307 108.16617924-214.83947521 95.27309638-330.33435417l218.63954175-218.63954173c17.50744934-17.37173267 17.50744934-45.8722316 0-63.51539759z",special:!0},{viewBox:[1024,1024],path:"M976.62005979 160.47737905c-0.39452595-0.39452595-80.35178503 78.64217259-239.47725131 237.50462156l-111.6508437-111.65084369 237.89914752-237.89914752c-125.19623464-75.35445635-286.03131335-56.02268482-390.31767264 48.26367449-81.92988882 81.92988882-112.57140424 200.15616502-83.37648398 310.09739626l2.36715569 8.81107954-372.82702222 372.69551356c-8.15353628 8.15353628-8.15353628 21.56741857 0 29.72095487l185.95323084 185.95323084c8.15353628 8.15353628 21.56741857 8.15353628 29.72095485 0l372.56400493-372.56400493 8.81107953 2.3671557c110.07273989 29.32642892 228.29901608-1.18357785 310.36041356-83.24497533 104.41786795-104.2863593 123.74963948-265.12143802 49.97328693-390.05465535z",special:!0}]},{type:"线性",children:[{viewBox:[1024,1024],path:"M953.5488 832.61667556c-24.08448-57.08913778-58.74574221-108.31644445-102.70947556-152.28017777-43.96373333-43.96373333-95.19104-78.49756444-152.28017777-102.70947558-0.50972445-0.25486222-1.01944888-0.38229333-1.52917334-0.63715555C776.41955556 519.64586667 828.02915556 426.23886221 828.02915556 320.85333332c0-174.58062221-141.44853334-316.02915556-316.02915556-316.02915554S195.97084444 146.27271111 195.97084444 320.85333332c0 105.38552889 51.6096 198.79253333 130.99918223 256.26396447-0.50972445 0.25486222-1.01944888 0.38229333-1.52917334 0.63715555-57.08913778 24.08448-108.31644445 58.61831112-152.28017777 102.70947554-43.96373333 43.96373333-78.49756444 95.19104-102.70947556 152.28017779C46.74901333 888.55893332 34.13333334 947.8144 32.85902222 1008.72647111c-0.12743111 5.7344 4.46008889 10.44935111 10.19448889 10.44935111h76.45866667c5.60696888 0 10.06705778-4.46008889 10.19448889-9.93962666 2.54862221-98.37681778 42.05226667-190.50951112 111.88451555-260.34176001 72.25344-72.25344 168.20906666-112.01194667 270.40881778-112.01194667s198.15537778 39.75850667 270.40881778 112.01194667C852.24106667 818.72668444 891.74471111 910.85937779 894.29333333 1009.23619556c0.12743111 5.60696888 4.58752 9.93962667 10.19448889 9.93962666h76.45866667c5.7344 0 10.32192-4.71495112 10.19448889-10.44935111-1.27431111-60.91207112-13.88999112-120.16753779-37.59217778-176.10979555zM512 540.03484444c-58.49088 0-113.54112-22.81016889-154.95623111-64.22527999S292.81848888 379.34421333 292.81848888 320.85333332c0-58.49088 22.81016889-113.54112 64.22528001-154.9562311S453.50912 101.67182221 512 101.67182221s113.54112 22.81016889 154.95623111 64.22528001S731.18151112 262.36245333 731.18151112 320.85333332c0 58.49088-22.81016889 113.54112-64.22528001 154.95623113S570.49088 540.03484444 512 540.03484444z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M985.31555555 111.50222222H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888889v728.17777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h946.6311111c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V147.91111111c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888889z m-45.5111111 126.06577778V830.57777778H84.19555555V237.568l-31.40266666-24.46222222 44.71466666-57.45777778 48.6968889 37.888h731.70488888l48.69688889-37.888 44.71466667 57.45777778-31.51644444 24.46222222z M877.90933333 193.42222222L512 477.86666667 146.09066667 193.42222222l-48.69688889-37.888-44.71466667 57.45777778 31.40266667 24.46222222 388.66488889 302.19377778c22.98311111 17.86311111 55.18222222 17.86311111 78.16533333 0L939.80444445 237.568l31.40266666-24.46222222-44.71466666-57.45777778-48.58311112 37.77422222z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M985.31555555 88.74666667H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888888v564.33777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h432.35555555v127.43111111H275.34222222c-10.01244445 0-18.20444445 8.192-18.20444444 18.20444445v54.61333333c0 5.00622222 4.096 9.10222222 9.10222222 9.10222222h491.52c5.00622222 0 9.10222222-4.096 9.10222222-9.10222222v-54.61333333c0-10.01244445-8.192-18.20444445-18.20444444-18.20444445H552.96V725.90222222h432.35555555c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V125.15555555c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888888z m-45.5111111 555.23555555H84.19555555V170.66666667h855.6088889v473.31555555z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m0 932.97777778c-233.69955555 0-423.25333333-189.55377778-423.25333333-423.25333333 0-101.26222222 35.61244445-194.33244445 95.00444444-267.15022222l595.39911111 595.39911111C706.33244445 899.64088889 613.26222222 935.25333333 512 935.25333333z m328.24888889-156.10311111L244.84977778 183.75111111C317.66755555 124.35911111 410.73777778 88.74666667 512 88.74666667c233.69955555 0 423.25333333 189.55377778 423.25333333 423.25333333 0 101.26222222-35.61244445 194.33244445-95.00444444 267.15022222z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M901.80266667 257.82044445L656.95288889 12.97066667c-6.82666667-6.82666667-16.04266667-10.69511111-25.71377778-10.69511112H147.91111111c-20.13866667 0-36.40888889 16.27022222-36.40888889 36.4088889v946.6311111c0 20.13866667 16.27022222 36.40888889 36.40888889 36.4088889h728.17777778c20.13866667 0 36.40888889-16.27022222 36.40888889-36.4088889V283.648c0-9.67111111-3.86844445-19.00088889-10.69511111-25.82755555zM828.52977778 300.37333333H614.4V86.24355555L828.52977778 300.37333333z m2.048 639.43111112H193.42222222V84.19555555h343.60888889v245.76c0 26.39644445 21.39022222 47.78666667 47.78666667 47.78666667h245.76v562.06222223z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M981.07392 55.79662222H42.92608c-31.22062222 0-50.71758221 34.02410666-35.04355556 61.16693334L304.28728889 620.82616888V927.42542221c0 22.55530667 18.09521779 40.77795555 40.52309333 40.77795557h334.37923556c22.42787556 0 40.52309333-18.22264888 40.52309333-40.77795557V620.82616888L1016.24490667 116.96355556c15.54659555-27.14282666-3.95036444-61.16693333-35.17098667-61.16693334zM628.47203556 876.45297779H395.52796444V677.66044445h233.07150222v198.79253334z m12.23338666-301.50200891l-12.10595556 21.15356445h-233.19893332l-12.10595556-21.15356445L130.59868445 147.54702221h762.8026311L640.70542222 574.95096888z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M980.62285431 4.54099753H654.39920987c-4.2719763 0-7.76722963 3.49525333-7.76722962 7.76722964v72.4941432c0 4.2719763 3.49525333 7.76722963 7.76722962 7.76722963h207.64393877L604.04167111 350.57107753c-64.72691358-49.83972347-143.69374815-76.7661195-226.67365136-76.7661195-99.54999309 0-193.27456395 38.83614815-263.5679921 109.25903012S4.54099753 547.08198717 4.54099753 646.63198025s38.83614815 193.27456395 109.25903012 263.5679921C184.09345581 980.62285431 277.81802667 1019.45900247 377.36801975 1019.45900247s193.27456395-38.83614815 263.5679921-109.25903012C711.35889383 839.90654419 750.19504197 746.18197333 750.19504197 646.63198025c0-82.9799032-26.92639605-161.68783013-76.63666567-226.41474372L931.4304 162.34521283V369.60079013c0 4.2719763 3.49525333 7.76722963 7.76722963 7.76722962h72.4941432c4.2719763 0 7.76722963-3.49525333 7.76722964-7.76722962V43.37714569c0-21.35988148-17.47626667-38.83614815-38.83614816-38.83614816zM377.36801975 921.07409383c-151.33152395 0-274.44211358-123.11058963-274.44211358-274.44211358s123.11058963-274.44211358 274.44211358-274.44211358 274.44211358 123.11058963 274.44211358 274.44211358-123.11058963 274.44211358-274.44211358 274.44211358z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M591.98717801 512l405.34042913-483.16579151c6.79427767-8.02960089 1.08090782-20.22841761-9.41933951-20.2284176h-123.22349044c-7.25752386 0-14.20621693 3.24272343-18.99309439 8.80167789L511.38233839 415.95362022 177.07299399 17.40746878c-4.63246205-5.55895447-11.58115512-8.80167789-18.99309439-8.80167789H34.85640916c-10.50024731 0-16.21361717 12.19881672-9.41933952 20.2284176L430.77749876 512 25.43706964 995.16579151c-6.79427767 8.02960089-1.08090782 20.22841761 9.41933952 20.2284176h123.22349044c7.25752386 0 14.20621693-3.24272343 18.99309439-8.80167789l334.3093444-398.54615144 334.30934441 398.54615144c4.63246205 5.55895447 11.58115512 8.80167789 18.99309439 8.80167789h123.22349044c10.50024731 0 16.21361717-12.19881672 9.41933951-20.2284176L591.98717801 512z",special:!0,outlined:!0}]}],$a={bar:"bar",horizontalBar:"bar",line:"line",area:"line",scatter:"line",pie:"pie",ring:"pie"};var Ra=l("0a20"),Pa=()=>{const e=Object(ko["c"])(),t=Object(ko["e"])(),{creatingElement:l}=Object(N["c"])(e),{theme:o,viewportRatio:c}=Object(N["c"])(t),{addHistorySnapshot:n}=Object(Ra["a"])(),a=(o,c)=>{t.addElement(o),e.setActiveElementIdList([o.id]),l.value&&e.setCreatingElement(null),setTimeout(()=>{e.setEditorareaFocus(!0)},0),c&&c(),n()},r=e=>{_a(e).then(({width:t,height:l})=>{const o=l/t;o<c.value&&t>Ma?(t=Ma,l=t*o):l>Ma*c.value&&(l=Ma*c.value,t=l/o),a({type:"image",id:Object(Ba["b"])(10),src:e,width:t,height:l,left:(Ma-t)/2,top:(Ma*c.value-l)/2,fixedRatio:!0,rotate:0})})},i=e=>{const t={type:"chart",id:Object(Ba["b"])(10),chartType:$a[e],left:300,top:81.25,width:400,height:400,rotate:0,themeColor:[o.value.themeColor],gridColor:o.value.fontColor,data:{labels:["类别1","类别2","类别3","类别4","类别5"],legends:["系列1"],series:[[12,19,5,2,18]]}};let l={};"horizontalBar"===e?l={horizontalBars:!0}:"area"===e?l={showArea:!0}:"scatter"===e?l={showLine:!1}:"ring"===e&&(l={donut:!0}),a({...t,options:l})},s=(e,t)=>{const l={fontname:o.value.fontName,color:o.value.fontColor},n=[];for(let o=0;o<e;o++){const e=[];for(let o=0;o<t;o++)e.push({id:Object(Ba["b"])(10),colspan:1,rowspan:1,text:"",style:l});n.push(e)}const r=100,i=36,s=new Array(t).fill(1/t),d=t*r,u=e*i;a({type:"table",id:Object(Ba["b"])(10),width:d,height:u,colWidths:s,rotate:0,data:n,left:(Ma-d)/2,top:(Ma*c.value-u)/2,outline:{width:2,style:"solid",color:"#eeece1"},theme:{color:o.value.themeColor,rowHeader:!0,rowFooter:!1,colHeader:!1,colFooter:!1}})},d=(e,t="")=>{const{left:l,top:c,width:n,height:r}=e,i=Object(Ba["b"])(10);a({type:"text",id:i,left:l,top:c,width:n,height:r,content:t,rotate:0,defaultFontName:o.value.fontName,defaultColor:o.value.fontColor},()=>{setTimeout(()=>{const e=document.querySelector(`#editable-element-${i} .ProseMirror`);e&&e.focus()},0)})},u=(e,t)=>{const{left:l,top:c,width:n,height:r}=e,i={type:"shape",id:Object(Ba["b"])(10),left:l,top:c,width:n,height:r,viewBox:t.viewBox,path:t.path,fill:o.value.themeColor,fixedRatio:!1,rotate:0};if(t.special&&(i.special=!0),t.pathFormula){i.pathFormula=t.pathFormula,i.viewBox=[n,r];const e=za[t.pathFormula];"editable"in e?(i.path=e.formula(n,r,e.defaultValue),i.keypoint=e.defaultValue):i.path=e.formula(n,r)}a(i)},b=(e,t)=>{const{left:l,top:c,start:n,end:r}=e,i={type:"line",id:Object(Ba["b"])(10),left:l,top:c,start:n,end:r,points:t.points,color:o.value.themeColor,style:t.style,width:2};t.isBroken&&(i.broken=[(n[0]+r[0])/2,(n[1]+r[1])/2]),t.isCurve&&(i.curve=[(n[0]+r[0])/2,(n[1]+r[1])/2]),t.isCubic&&(i.cubic=[[(n[0]+r[0])/2,(n[1]+r[1])/2],[(n[0]+r[0])/2,(n[1]+r[1])/2]]),a(i)},m=e=>{a({type:"latex",id:Object(Ba["b"])(10),width:e.w,height:e.h,rotate:0,left:(Ma-e.w)/2,top:(Ma*c.value-e.h)/2,path:e.path,latex:e.latex,color:o.value.fontColor,strokeWidth:2,viewBox:[e.w,e.h],fixedRatio:!0})},p=e=>{a({type:"video",id:Object(Ba["b"])(10),width:500,height:300,rotate:0,left:(Ma-500)/2,top:(Ma*c.value-300)/2,src:e})},O=e=>{a({type:"audio",id:Object(Ba["b"])(10),width:50,height:50,rotate:0,left:(Ma-50)/2,top:(Ma*c.value-50)/2,loop:!1,autoplay:!1,fixedRatio:!0,color:o.value.themeColor,src:e})};return{createImageElement:r,createChartElement:i,createTableElement:s,createTextElement:d,createShapeElement:u,createLineElement:b,createLatexElement:m,createVideoElement:p,createAudioElement:O}},Ha=l("5d81"),Ua=()=>{const{createTextElement:e}=Pa(),{addElementsFromData:t,addSlidesFromData:l}=Object(Ha["a"])(),o=t=>{e({left:0,top:0,width:600,height:50},t)},c=(e,c)=>{const n=(null===c||void 0===c?void 0:c.onlySlide)||!1,a=(null===c||void 0===c?void 0:c.onlyElements)||!1,r=Sn(e);if("object"===typeof r){const{type:e,data:o}=r;"elements"!==e||n?"slides"!==e||a||l(o):t(o)}else if(!a&&!n){const e=La(r);o(e)}};return{pasteTextClipboardData:c}},qa=()=>{const e=Object(ko["c"])(),t=Object(ko["e"])(),{selectedSlidesIndex:l,activeElementIdList:o}=Object(N["c"])(e),{currentSlide:c,slides:n,theme:a,slideIndex:r}=Object(N["c"])(t),i=Object(C["computed"])(()=>[...l.value,r.value]),s=Object(C["computed"])(()=>n.value.filter((e,t)=>i.value.includes(t))),d=Object(C["computed"])(()=>s.value.map(e=>e.id)),{pasteTextClipboardData:u}=Ua(),{addSlidesFromData:b}=Object(Ha["a"])(),{addHistorySnapshot:m}=Object(Ra["a"])(),p=()=>{const l={id:Object(Ba["b"])(10),elements:[],background:{type:"solid",color:a.value.backgroundColor}};t.updateSlideIndex(0),e.setActiveElementIdList([]),t.setSlides([l])},O=l=>{l===Va.UP&&r.value>0?(o.value.length&&e.setActiveElementIdList([]),t.updateSlideIndex(r.value-1)):l===Va.DOWN&&r.value<n.value.length-1&&(o.value.length&&e.setActiveElementIdList([]),t.updateSlideIndex(r.value+1))},j=()=>{const t=Object(Vn["b"])(JSON.stringify({type:"slides",data:s.value}));In(t).then(()=>{e.setThumbnailsFocus(!0)})},f=()=>{Bn().then(e=>{u(e,{onlySlide:!0})}).catch(e=>Ut["a"].warning(e))},v=()=>{const l={id:Object(Ba["b"])(10),elements:[],background:{type:"solid",color:a.value.backgroundColor}};e.setActiveElementIdList([]),t.addSlide(l),m()},h=l=>{const{groupIdMap:o,elIdMap:c}=Object(Sa["a"])(l.elements);for(const e of l.elements)e.id=c[e.id],e.groupId&&(e.groupId=o[e.groupId]);const n={...l,id:Object(Ba["b"])(10)};e.setActiveElementIdList([]),t.addSlide(n),m()},y=()=>{const e=JSON.parse(JSON.stringify(c.value));b([e])},g=(l=d.value)=>{n.value.length===l.length?p():t.deleteSlide(l),e.updateSelectedSlidesIndex([]),m()},x=()=>{const e=[...d.value];j(),g(e)},k=()=>{const t=Array.from(Array(n.value.length),(e,t)=>t);e.setActiveElementIdList([]),e.updateSelectedSlidesIndex(t)};return{resetSlides:p,updateSlideIndex:O,copySlide:j,pasteSlide:f,createSlide:v,createSlideByTemplate:h,copyAndPasteSlide:y,deleteSlide:g,cutSlide:x,selectAllSlide:k}},Ga=()=>{const e=Object(ko["c"])(),t=Object(ko["e"])(),{activeElementIdList:l}=Object(N["c"])(e),{currentSlide:o}=Object(N["c"])(t),{addHistorySnapshot:c}=Object(Ra["a"])(),n=()=>{const n=JSON.parse(JSON.stringify(o.value.elements));for(const e of n)l.value.includes(e.id)&&(e.lock=!0);t.updateSlide({elements:n}),e.setActiveElementIdList([]),c()},a=l=>{const n=JSON.parse(JSON.stringify(o.value.elements));if(l.groupId){const o=[];for(const e of n)e.groupId===l.groupId&&(e.lock=!1,o.push(e.id));t.updateSlide({elements:n}),e.setActiveElementIdList(o)}else{for(const e of n)if(e.id===l.id){e.lock=!1;break}t.updateSlide({elements:n}),e.setActiveElementIdList([l.id])}c()};return{lockElement:n,unlockElement:a}},Ya=()=>{const e=Object(ko["c"])(),t=Object(ko["e"])(),{activeElementIdList:l,activeGroupElementId:o}=Object(N["c"])(e),{currentSlide:c}=Object(N["c"])(t),{addHistorySnapshot:n}=Object(Ra["a"])(),a=()=>{if(!l.value.length)return;let a=[];a=o.value?c.value.elements.filter(e=>e.id!==o.value):c.value.elements.filter(e=>!l.value.includes(e.id)),e.setActiveElementIdList([]),t.updateSlide({elements:a}),n()},r=()=>{c.value.elements.length&&(e.setActiveElementIdList([]),t.updateSlide({elements:[]}),n())};return{deleteElement:a,deleteAllElements:r}},Xa=()=>{const e=Object(ko["c"])(),t=Object(ko["e"])(),{activeElementIdList:l,activeElementList:o,handleElementId:c}=Object(N["c"])(e),{currentSlide:n}=Object(N["c"])(t),{addHistorySnapshot:a}=Object(Ra["a"])(),r=Object(C["computed"])(()=>{if(o.value.length<2)return!1;const e=o.value[0].groupId;if(!e)return!0;const t=o.value.every(t=>(t.groupId&&t.groupId)===e);return!t}),i=()=>{if(!o.value.length)return;let e=JSON.parse(JSON.stringify(n.value.elements));const c=Object(Ba["b"])(10),r=[];for(const t of e)l.value.includes(t.id)&&(t.groupId=c,r.push(t));const i=e.findIndex(e=>e.id===r[r.length-1].id),s=r.map(e=>e.id);e=e.filter(e=>!s.includes(e.id));const d=i-r.length+1;e.splice(d,0,...r),t.updateSlide({elements:e}),a()},s=()=>{if(!o.value.length)return;const r=o.value.some(e=>e.groupId);if(!r)return;const i=JSON.parse(JSON.stringify(n.value.elements));for(const e of i)l.value.includes(e.id)&&e.groupId&&delete e.groupId;t.updateSlide({elements:i});const s=c.value?[c.value]:[];e.setActiveElementIdList(s),a()};return{canCombine:r,combineElements:i,uncombineElements:s}},Za=()=>{const e=Object(ko["c"])(),{activeElementIdList:t,activeElementList:l}=Object(N["c"])(e),{pasteTextClipboardData:o}=Ua(),{deleteElement:c}=Ya(),n=()=>{if(!t.value.length)return;const o=Object(Vn["b"])(JSON.stringify({type:"elements",data:l.value}));In(o).then(()=>{e.setEditorareaFocus(!0)})},a=()=>{n(),c()},r=()=>{Bn().then(e=>{o(e)}).catch(e=>Ut["a"].warning(e))},i=()=>{n(),r()};return{copyElement:n,cutElement:a,pasteElement:r,quickCopyElement:i}},Wa=()=>{const e=Object(ko["c"])(),{currentSlide:t}=Object(N["c"])(Object(ko["e"])()),l=()=>{const l=t.value.elements.filter(e=>!e.lock),o=l.map(e=>e.id);e.setActiveElementIdList(o)};return{selectAllElement:l}},Ja=()=>{const e=Object(ko["e"])(),{activeElementIdList:t,activeGroupElementId:l}=Object(N["c"])(Object(ko["c"])()),{currentSlide:o}=Object(N["c"])(e),{addHistorySnapshot:c}=Object(Ra["a"])(),n=(n,a=1)=>{let r=[];const i=e=>{let{left:t,top:l}=e;switch(n){case Va.LEFT:t-=a;break;case Va.RIGHT:t+=a;break;case Va.UP:l-=a;break;case Va.DOWN:l+=a;break;default:break}return{...e,left:t,top:l}};r=l.value?o.value.elements.map(e=>l.value===e.id?i(e):e):o.value.elements.map(e=>t.value.includes(e.id)?i(e):e),e.updateSlide({elements:r}),c()};return{moveElement:n}},Qa=()=>{const e=Object(ko["e"])(),{currentSlide:t}=Object(N["c"])(e),{addHistorySnapshot:l}=Object(Ra["a"])(),o=(e,t)=>({minLevel:e.findIndex(e=>e.id===t[0].id),maxLevel:e.findIndex(e=>e.id===t[t.length-1].id)}),c=(e,t)=>{const l=JSON.parse(JSON.stringify(e));if(t.groupId){const c=l.filter(e=>e.groupId===t.groupId),{minLevel:n,maxLevel:a}=o(e,c);if(a===e.length-1)return;const r=l[a+1],i=l.splice(n,c.length);if(r.groupId){const e=l.filter(e=>e.groupId===r.groupId);l.splice(n+e.length,0,...i)}else l.splice(n+1,0,...i)}else{const o=e.findIndex(e=>e.id===t.id);if(o===e.length-1)return;const c=l[o+1],n=l.splice(o,1)[0];if(c.groupId){const e=l.filter(e=>e.groupId===c.groupId);l.splice(o+e.length,0,n)}else l.splice(o+1,0,n)}return l},n=(e,t)=>{const l=JSON.parse(JSON.stringify(e));if(t.groupId){const c=l.filter(e=>e.groupId===t.groupId),{minLevel:n}=o(e,c);if(0===n)return;const a=l[n-1],r=l.splice(n,c.length);if(a.groupId){const e=l.filter(e=>e.groupId===a.groupId);l.splice(n-e.length,0,...r)}else l.splice(n-1,0,...r)}else{const o=e.findIndex(e=>e.id===t.id);if(0===o)return;const c=l[o-1],n=l.splice(o,1)[0];if(c.groupId){const e=l.filter(e=>e.groupId===c.groupId);l.splice(o-e.length,0,n)}else l.splice(o-1,0,n)}return l},a=(e,t)=>{const l=JSON.parse(JSON.stringify(e));if(t.groupId){const c=l.filter(e=>e.groupId===t.groupId),{minLevel:n,maxLevel:a}=o(e,c);if(a===e.length-1)return null;const r=l.splice(n,c.length);l.push(...r)}else{const o=e.findIndex(e=>e.id===t.id);if(o===e.length-1)return null;l.splice(o,1),l.push(t)}return l},r=(e,t)=>{const l=JSON.parse(JSON.stringify(e));if(t.groupId){const c=l.filter(e=>e.groupId===t.groupId),{minLevel:n}=o(e,c);if(0===n)return;const a=l.splice(n,c.length);l.unshift(...a)}else{const o=e.findIndex(e=>e.id===t.id);if(0===o)return;l.splice(o,1),l.unshift(t)}return l},i=(o,i)=>{let s;i===ka.UP?s=c(t.value.elements,o):i===ka.DOWN?s=n(t.value.elements,o):i===ka.TOP?s=a(t.value.elements,o):i===ka.BOTTOM&&(s=r(t.value.elements,o)),s&&(e.updateSlide({elements:s}),l())};return{orderElement:i}};const Ka=()=>{const e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},er=()=>{document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},tr=()=>{const e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement;return!!e};var lr=()=>{const e=Object(ko["d"])(),t=Object(ko["e"])(),l=()=>{Ka(),e.setScreening(!0)},o=()=>{t.updateSlideIndex(0),l()},c=()=>{e.setScreening(!1),tr()&&er()};return{enterScreening:l,enterScreeningFromStart:o,exitScreening:c}},or=()=>{const e=Object(ko["c"])(),{canvasPercentage:t,canvasScale:l,canvasDragged:o}=Object(N["c"])(e),c=Object(C["computed"])(()=>Math.round(100*l.value)+"%"),n=l=>{let o=t.value;const c=5,n=200,a=30;"+"===l&&o<=n&&(o+=c),"-"===l&&o>=a&&(o-=c),e.setCanvasPercentage(o)},a=o=>{const c=Math.round(o/l.value*t.value)/100;e.setCanvasPercentage(c)},r=()=>{e.setCanvasPercentage(90),o&&e.setCanvasDragged(!1)};return{canvasScalePercentage:c,setCanvasScalePercentage:a,scaleCanvas:n,resetCanvas:r}},cr=()=>{const e=Object(ko["c"])(),t=Object(ko["b"])(),{activeElementIdList:l,disableHotkeys:o,handleElement:c,handleElementId:n,editorAreaFocus:a,thumbnailsFocus:r}=Object(N["c"])(e),{currentSlide:i}=Object(N["c"])(Object(ko["e"])()),{ctrlKeyState:s,shiftKeyState:d,spaceKeyState:u}=Object(N["c"])(t),{updateSlideIndex:b,copySlide:m,createSlide:p,deleteSlide:O,cutSlide:j,copyAndPasteSlide:f,selectAllSlide:v}=qa(),{combineElements:h,uncombineElements:y}=Xa(),{deleteElement:g}=Ya(),{lockElement:x}=Ga(),{copyElement:k,cutElement:E,quickCopyElement:w}=Za(),{selectAllElement:V}=Wa(),{moveElement:I}=Ja(),{orderElement:B}=Qa(),{redo:S,undo:L}=Object(Ra["a"])(),{enterScreening:_,enterScreeningFromStart:T}=lr(),{scaleCanvas:M,resetCanvas:D}=or(),A=()=>{l.value.length?k():r.value&&m()},z=()=>{l.value.length?E():r.value&&j()},F=()=>{l.value.length?w():r.value&&f()},$=()=>{a.value&&V(),r.value&&v()},R=()=>{a.value&&x()},P=()=>{a.value&&h()},H=()=>{a.value&&y()},U=()=>{l.value.length?g():r.value&&O()},q=e=>{l.value.length?I(e):e!==Va.UP&&e!==Va.DOWN||b(e)},G=e=>{e===Va.PAGEUP?b(Va.UP):e===Va.PAGEDOWN&&b(Va.DOWN)},Y=e=>{c.value&&B(c.value,e)},X=()=>{r.value&&p()},Z=()=>{if(!i.value.elements.length)return;if(!n.value){const t=i.value.elements[0];return void e.setActiveElementIdList([t.id])}const t=i.value.elements.findIndex(e=>e.id===n.value),l=t>=i.value.elements.length-1?0:t+1,o=i.value.elements[l].id;e.setActiveElementIdList([o])},W=l=>{const{ctrlKey:c,shiftKey:n,altKey:i,metaKey:u}=l,b=c||u,m=l.key.toUpperCase();if(b&&!s.value&&t.setCtrlKeyState(!0),n&&!d.value&&t.setShiftKeyState(!0),o.value||m!==Va.SPACE||t.setSpaceKeyState(!0),b&&m===Va.P)return l.preventDefault(),void e.setDialogForExport("pdf");if(n&&m===Va.F5)return l.preventDefault(),_(),void t.setShiftKeyState(!1);if(m===Va.F5)return l.preventDefault(),void T();if(a.value||r.value){if(b&&m===Va.C){if(o.value)return;l.preventDefault(),A()}if(b&&m===Va.X){if(o.value)return;l.preventDefault(),z()}if(b&&m===Va.D){if(o.value)return;l.preventDefault(),F()}if(b&&m===Va.Z){if(o.value)return;l.preventDefault(),L()}if(b&&m===Va.Y){if(o.value)return;l.preventDefault(),S()}if(b&&m===Va.A){if(o.value)return;l.preventDefault(),$()}if(b&&m===Va.L){if(o.value)return;l.preventDefault(),R()}if(!n&&b&&m===Va.G){if(o.value)return;l.preventDefault(),P()}if(n&&b&&m===Va.G){if(o.value)return;l.preventDefault(),H()}if(i&&m===Va.F){if(o.value)return;l.preventDefault(),Y(ka.TOP)}if(i&&m===Va.B){if(o.value)return;l.preventDefault(),Y(ka.BOTTOM)}if(m===Va.DELETE||m===Va.BACKSPACE){if(o.value)return;l.preventDefault(),U()}if(m===Va.UP){if(o.value)return;l.preventDefault(),q(Va.UP)}if(m===Va.DOWN){if(o.value)return;l.preventDefault(),q(Va.DOWN)}if(m===Va.LEFT){if(o.value)return;l.preventDefault(),q(Va.LEFT)}if(m===Va.RIGHT){if(o.value)return;l.preventDefault(),q(Va.RIGHT)}if(m===Va.PAGEUP){if(o.value)return;l.preventDefault(),G(Va.PAGEUP)}if(m===Va.PAGEDOWN){if(o.value)return;l.preventDefault(),G(Va.PAGEDOWN)}if(m===Va.ENTER){if(o.value)return;l.preventDefault(),X()}if(m===Va.MINUS){if(o.value)return;l.preventDefault(),M("-")}if(m===Va.EQUAL){if(o.value)return;l.preventDefault(),M("+")}if(m===Va.DIGIT_0){if(o.value)return;l.preventDefault(),D()}if(m===Va.TAB){if(o.value)return;l.preventDefault(),Z()}}},J=()=>{s.value&&t.setCtrlKeyState(!1),d.value&&t.setShiftKeyState(!1),u.value&&t.setSpaceKeyState(!1)};Object(C["onMounted"])(()=>{document.addEventListener("keydown",W),document.addEventListener("keyup",J),window.addEventListener("blur",J)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("keydown",W),document.removeEventListener("keyup",J),window.removeEventListener("blur",J)})},nr=()=>{const{editorAreaFocus:e,thumbnailsFocus:t,disableHotkeys:l}=Object(N["c"])(Object(ko["c"])()),{pasteTextClipboardData:o}=Ua(),{createImageElement:c}=Pa(),n=e=>{Ta(e).then(e=>c(e))},a=c=>{if(!e.value&&!t.value)return;if(l.value)return;if(!c.clipboardData)return;const a=c.clipboardData.items,r=a[0];if(r){for(const e of a)if("file"===e.kind&&-1!==e.type.indexOf("image")){const t=e.getAsFile();return void(t&&n(t))}"string"===r.kind&&"text/plain"===r.type&&r.getAsString(e=>o(e))}};Object(C["onMounted"])(()=>{document.addEventListener("paste",a)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("paste",a)})},ar=l("04c7");const rr={class:"hotkey-doc"},ir={class:"title"},sr={class:"label"},dr={class:"value"};var ur=Object(C["defineComponent"])({__name:"HotkeyDoc",setup(e){return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",rr,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(Ia),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:e.type},[Object(C["createElementVNode"])("div",ir,Object(C["toDisplayString"])(e.type),1),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.children,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"hotkey-item",key:e.label},[Object(C["createElementVNode"])("div",sr,Object(C["toDisplayString"])(e.label),1),Object(C["createElementVNode"])("div",dr,Object(C["toDisplayString"])(e.value),1)]))),128))],64))),128))]))}});l("28eb");const br=V()(ur,[["__scopeId","data-v-4b1afc5f"]]);var mr=br;const pr=e=>(Object(C["pushScopeId"])("data-v-484dbef9"),e=e(),Object(C["popScopeId"])(),e),Or={class:"editor-header"},jr={class:"left"},fr={class:"menu-item"},vr=Object(C["createTextVNode"])(),hr=pr(()=>Object(C["createElementVNode"])("span",{class:"text"},"文件",-1)),yr=Object(C["createTextVNode"])("导入 pptist 文件"),gr=Object(C["createTextVNode"])("导出 pptist 文件"),xr=Object(C["createTextVNode"])("导出 PPTX"),kr=Object(C["createTextVNode"])("导出图片"),Cr=Object(C["createTextVNode"])("导出 JSON"),Nr=Object(C["createTextVNode"])("打印 / 导出 PDF"),Er={class:"menu-item"},wr=Object(C["createTextVNode"])(),Vr=pr(()=>Object(C["createElementVNode"])("span",{class:"text"},"编辑",-1)),Ir=Object(C["createTextVNode"])("撤销"),Br=Object(C["createTextVNode"])("重做"),Sr=Object(C["createTextVNode"])("添加页面"),Lr=Object(C["createTextVNode"])("删除页面"),_r=Object(C["createTextVNode"])("重置幻灯片"),Tr={class:"menu-item"},Mr=Object(C["createTextVNode"])(),Dr=pr(()=>Object(C["createElementVNode"])("span",{class:"text"},"演示",-1)),Ar=Object(C["createTextVNode"])("从头开始"),zr=Object(C["createTextVNode"])("从当前页开始"),Fr={class:"menu-item"},$r=Object(C["createTextVNode"])(),Rr=pr(()=>Object(C["createElementVNode"])("span",{class:"text"},"帮助",-1)),Pr=Object(C["createTextVNode"])("快捷键"),Hr={class:"right"},Ur={class:"co-users"};var qr=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(ko["c"])(),l=Object(ko["e"])(),{gridLineSize:o,showRuler:c}=Object(N["c"])(t),{coopUserInfo:n}=Object(N["c"])(l),{enterScreening:a,enterScreeningFromStart:r}=lr(),{createSlide:i,deleteSlide:s,resetSlides:d}=qa(),{redo:u,undo:b}=Object(Ra["a"])(),{importSpecificFile:m}=Object(ar["a"])(),p=t.setDialogForExport,O=()=>{t.setGridLineSize(o.value?0:50)},j=()=>{t.setRulerState(!c.value)},f=Object(C["ref"])(!1);return(e,t)=>{const l=Object(C["resolveComponent"])("IconFolderClose"),v=Object(C["resolveComponent"])("MenuItem"),h=Object(C["resolveComponent"])("FileInput"),y=Object(C["resolveComponent"])("Menu"),g=Object(C["resolveComponent"])("Dropdown"),x=Object(C["resolveComponent"])("IconEdit"),k=Object(C["resolveComponent"])("IconPpt"),N=Object(C["resolveComponent"])("IconHelpcenter"),E=Object(C["resolveComponent"])("Avatar"),w=Object(C["resolveComponent"])("IconShare"),V=Object(C["resolveComponent"])("Tooltip"),I=Object(C["resolveComponent"])("Drawer");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Or,[Object(C["createElementVNode"])("div",jr,[Object(C["createVNode"])(g,{trigger:["click"]},{overlay:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y,null,{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(h,{accept:".pptist",onChange:t[0]||(t[0]=e=>Object(C["unref"])(m)(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(v,null,{default:Object(C["withCtx"])(()=>[yr]),_:1})]),_:1}),Object(C["createVNode"])(v,{onClick:t[1]||(t[1]=e=>Object(C["unref"])(p)("pptist"))},{default:Object(C["withCtx"])(()=>[gr]),_:1}),Object(C["createVNode"])(v,{onClick:t[2]||(t[2]=e=>Object(C["unref"])(p)("pptx"))},{default:Object(C["withCtx"])(()=>[xr]),_:1}),Object(C["createVNode"])(v,{onClick:t[3]||(t[3]=e=>Object(C["unref"])(p)("image"))},{default:Object(C["withCtx"])(()=>[kr]),_:1}),Object(C["createVNode"])(v,{onClick:t[4]||(t[4]=e=>Object(C["unref"])(p)("json"))},{default:Object(C["withCtx"])(()=>[Cr]),_:1}),Object(C["createVNode"])(v,{onClick:t[5]||(t[5]=e=>Object(C["unref"])(p)("pdf"))},{default:Object(C["withCtx"])(()=>[Nr]),_:1})]),_:1})]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",fr,[Object(C["createVNode"])(l),vr,hr])]),_:1}),Object(C["createVNode"])(g,{trigger:["click"]},{overlay:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y,null,{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(v,{onClick:t[6]||(t[6]=e=>Object(C["unref"])(b)())},{default:Object(C["withCtx"])(()=>[Ir]),_:1}),Object(C["createVNode"])(v,{onClick:t[7]||(t[7]=e=>Object(C["unref"])(u)())},{default:Object(C["withCtx"])(()=>[Br]),_:1}),Object(C["createVNode"])(v,{onClick:t[8]||(t[8]=e=>Object(C["unref"])(i)())},{default:Object(C["withCtx"])(()=>[Sr]),_:1}),Object(C["createVNode"])(v,{onClick:t[9]||(t[9]=e=>Object(C["unref"])(s)())},{default:Object(C["withCtx"])(()=>[Lr]),_:1}),Object(C["createVNode"])(v,{onClick:t[10]||(t[10]=e=>O())},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(Object(C["unref"])(o)?"关闭网格线":"打开网格线"),1)]),_:1}),Object(C["createVNode"])(v,{onClick:t[11]||(t[11]=e=>j())},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(Object(C["unref"])(c)?"关闭标尺":"打开标尺"),1)]),_:1}),Object(C["createVNode"])(v,{onClick:t[12]||(t[12]=e=>Object(C["unref"])(d)())},{default:Object(C["withCtx"])(()=>[_r]),_:1})]),_:1})]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",Er,[Object(C["createVNode"])(x),wr,Vr])]),_:1}),Object(C["createVNode"])(g,{trigger:["click"]},{overlay:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y,null,{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(v,{onClick:t[13]||(t[13]=e=>Object(C["unref"])(r)())},{default:Object(C["withCtx"])(()=>[Ar]),_:1}),Object(C["createVNode"])(v,{onClick:t[14]||(t[14]=e=>Object(C["unref"])(a)())},{default:Object(C["withCtx"])(()=>[zr]),_:1})]),_:1})]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",Tr,[Object(C["createVNode"])(k),Mr,Dr])]),_:1}),Object(C["createVNode"])(g,{trigger:["click"]},{overlay:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y,null,{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(v,{onClick:t[15]||(t[15]=e=>f.value=!0)},{default:Object(C["withCtx"])(()=>[Pr]),_:1})]),_:1})]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",Fr,[Object(C["createVNode"])(N),$r,Rr])]),_:1})]),Object(C["createElementVNode"])("div",Hr,[Object(C["createElementVNode"])("div",Ur,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(n),(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(E,{key:t,src:e.avatar,size:24},null,8,["src"]))),128))]),Object(C["createVNode"])(V,{mouseLeaveDelay:0,title:"导出"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:"menu-item",onClick:t[16]||(t[16]=e=>Object(C["unref"])(p)("pptx"))},[Object(C["createVNode"])(w,{size:"18",fill:"#666"})])]),_:1}),Object(C["createVNode"])(V,{mouseLeaveDelay:0,title:"幻灯片放映"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:"menu-item",onClick:t[17]||(t[17]=e=>Object(C["unref"])(a)())},[Object(C["createVNode"])(k,{size:"19",fill:"#666",style:{"margin-top":"1px"}})])]),_:1})]),Object(C["createVNode"])(I,{width:"320",placement:"right",closable:!1,visible:f.value,onClose:t[18]||(t[18]=e=>f.value=!1)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(mr)]),_:1},8,["visible"])])}}});l("afc5");const Gr=V()(qr,[["__scopeId","data-v-484dbef9"]]);var Yr=Gr;const Xr=Symbol(),Zr=Symbol(),Wr=()=>{const e=window.getSelection();e&&e.removeAllRanges()};var Jr=e=>{const t=Object(C["ref"])(0),l=Object(C["ref"])(0),o=Object(ko["c"])(),{canvasPercentage:c,canvasDragged:n}=Object(N["c"])(o),{viewportRatio:a}=Object(N["c"])(Object(ko["e"])()),r=()=>{if(!e.value)return;const n=e.value.clientWidth,r=e.value.clientHeight;if(r/n>a.value){const e=n*(c.value/100);o.setCanvasScale(e/Ma),t.value=(n-e)/2,l.value=(r-e*a.value)/2}else{const e=r*(c.value/100);o.setCanvasScale(e/(Ma*a.value)),t.value=(n-e/a.value)/2,l.value=(r-e)/2}};Object(C["watch"])([c,a],r),Object(C["watch"])(n,()=>{n.value||r()});const i=Object(C["computed"])(()=>({width:Ma,height:Ma*a.value,left:t.value,top:l.value})),s=new ResizeObserver(r);Object(C["onMounted"])(()=>{e.value&&s.observe(e.value)}),Object(C["onUnmounted"])(()=>{e.value&&s.unobserve(e.value)});const d=e=>{let c=!0;const n=e.pageX,a=e.pageY,r=t.value,i=l.value;document.onmousemove=e=>{if(!c)return;const o=e.pageX,s=e.pageY;t.value=r+(o-n),l.value=i+(s-a)},document.onmouseup=()=>{c=!1,document.onmousemove=null,document.onmouseup=null,o.setCanvasDragged(!0)}};return{viewportStyles:i,dragViewport:d}},Qr=(e,t)=>{const l=Object(ko["c"])(),{canvasScale:o}=Object(N["c"])(l),c=Object(C["ref"])(!1),n=Object(C["ref"])(1),a=Object(C["ref"])({top:0,left:0,width:0,height:0}),r=r=>{if(!t.value)return;let i=!0;const s=t.value.getBoundingClientRect(),d=5,u=r.pageX,b=r.pageY,m=(u-s.x)/o.value,p=(b-s.y)/o.value;a.value={top:p,left:m,width:0,height:0},c.value=!1,n.value=4,document.onmousemove=e=>{if(!i)return;const t=e.pageX,l=e.pageY,r=(t-u)/o.value,s=(l-b)/o.value,m=Math.abs(r),p=Math.abs(s);if(m<d||p<d)return;let O=0;r>0&&s>0?O=4:r<0&&s<0?O=1:r>0&&s<0?O=2:r<0&&s>0&&(O=3),a.value={...a.value,width:m,height:p},c.value=!0,n.value=O},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,i=!1;let t=[];for(let l=0;l<e.value.length;l++){const o=e.value[l],c=a.value.left,r=a.value.top,i=a.value.width,s=a.value.height,{minX:d,maxX:u,minY:b,maxY:m}=Object(Sa["c"])(o);let p=!1;4===n.value?p=d>c&&u<c+i&&b>r&&m<r+s:1===n.value?p=d>c-i&&u<c-i+i&&b>r-s&&m<r-s+s:2===n.value?p=d>c&&u<c+i&&b>r-s&&m<r-s+s:3===n.value&&(p=d>c-i&&u<c-i+i&&b>r&&m<r+s),p&&!o.lock&&t.push(o)}t=t.filter(l=>{if(l.groupId){const o=t.map(e=>e.id),c=e.value.filter(e=>e.groupId===l.groupId);return c.every(e=>o.includes(e.id))}return!0});const o=t.map(e=>e.id);l.setActiveElementIdList(o),c.value=!1}};return{mouseSelection:a,mouseSelectionVisible:c,mouseSelectionQuadrant:n,updateMouseSelection:r}},Kr=e=>{const{disableHotkeys:t}=Object(N["c"])(Object(ko["c"])()),{createImageElement:l,createTextElement:o}=Pa(),c=e=>{if(!e.dataTransfer||0===e.dataTransfer.items.length)return;const c=e.dataTransfer.items[0];if("file"===c.kind&&-1!==c.type.indexOf("image")){const e=c.getAsFile();e&&Ta(e).then(e=>l(e))}else"string"===c.kind&&"text/plain"===c.type&&c.getAsString(e=>{if(t.value)return;const l=La(e);o({left:0,top:0,width:600,height:50},l)})};Object(C["onMounted"])(()=>{e.value&&e.value.addEventListener("drop",c),document.ondragleave=e=>e.preventDefault(),document.ondrop=e=>e.preventDefault(),document.ondragenter=e=>e.preventDefault(),document.ondragover=e=>e.preventDefault()}),Object(C["onUnmounted"])(()=>{e.value&&e.value.removeEventListener("drop",c),document.ondragleave=null,document.ondrop=null,document.ondragenter=null,document.ondragover=null})};const ei=(e,t)=>{const l=Math.atan2(e,t),o=180/Math.PI*l;return o};var ti=(e,t)=>{const l=Object(ko["e"])(),{canvasScale:o}=Object(N["c"])(Object(ko["c"])()),{addHistorySnapshot:c}=Object(Ra["a"])(),n=n=>{let a=!0,r=0;const i=n.rotate||0,s=n.left,d=n.top,u=n.width,b=n.height,m=s+u/2,p=d+b/2;if(!t.value)return;const O=t.value.getBoundingClientRect();document.onmousemove=t=>{if(!a)return;const l=(t.pageX-O.left)/o.value,c=(t.pageY-O.top)/o.value,i=l-m,s=p-c;r=ei(i,s);const d=5;Math.abs(r)<=d?r=0:r>0&&Math.abs(r-45)<=d?r-=r-45:r<0&&Math.abs(r+45)<=d?r-=r+45:r>0&&Math.abs(r-90)<=d?r-=r-90:r<0&&Math.abs(r+90)<=d?r-=r+90:r>0&&Math.abs(r-135)<=d?r-=r-135:r<0&&Math.abs(r+135)<=d?r-=r+135:r>0&&Math.abs(r-180)<=d?r-=r-180:r<0&&Math.abs(r+180)<=d&&(r-=r+180),e.value=e.value.map(e=>n.id===e.id?{...e,rotate:r}:e)},document.onmouseup=()=>{a=!1,document.onmousemove=null,document.onmouseup=null,i!==r&&(l.updateSlide({elements:e.value}),c())}};return{rotateElement:n}};const li={text:"文本",image:"图片",shape:"形状",line:"线条",chart:"图表",table:"表格",video:"视频",audio:"音频"},oi={text:20,image:20,shape:15,chart:200,table:20,video:250,audio:20},ci=(e,t)=>{const{left:l,top:o,width:c,height:n}=e,a=Math.sqrt(Math.pow(c,2)+Math.pow(n,2))/2,r=180*Math.atan(n/c)/Math.PI,i=(180-t-r)*Math.PI/180,s=(r-t)*Math.PI/180,d=(90-t)*Math.PI/180,u=t*Math.PI/180,b=c/2,m=n/2,p=l+b,O=o+m,j={left:p+a*Math.cos(i),top:O-a*Math.sin(i)},f={left:p+m*Math.cos(d),top:O-m*Math.sin(d)},v={left:p+a*Math.cos(s),top:O-a*Math.sin(s)},h={left:p+b*Math.cos(u),top:O+b*Math.sin(u)},y={left:p-a*Math.cos(i),top:O+a*Math.sin(i)},g={left:p-m*Math.sin(u),top:O+m*Math.cos(u)},x={left:p-a*Math.cos(s),top:O+a*Math.sin(s)},k={left:p-b*Math.cos(u),top:O-b*Math.sin(u)};return{leftTopPoint:j,topPoint:f,rightTopPoint:v,rightPoint:h,rightBottomPoint:y,bottomPoint:g,leftBottomPoint:x,leftPoint:k}},ni=(e,t)=>{const l={[Ea.RIGHT_BOTTOM]:t.leftTopPoint,[Ea.LEFT_BOTTOM]:t.rightTopPoint,[Ea.LEFT_TOP]:t.rightBottomPoint,[Ea.RIGHT_TOP]:t.leftBottomPoint,[Ea.TOP]:t.bottomPoint,[Ea.BOTTOM]:t.topPoint,[Ea.LEFT]:t.rightPoint,[Ea.RIGHT]:t.leftPoint};return l[e]};var ai,ri,ii=(e,t,l)=>{const o=Object(ko["c"])(),c=Object(ko["e"])(),{activeElementIdList:n,activeGroupElementId:a}=Object(N["c"])(o),{viewportRatio:r}=Object(N["c"])(c),{ctrlOrShiftKeyActive:i}=Object(N["c"])(Object(ko["b"])()),{addHistorySnapshot:s}=Object(Ra["a"])(),d=(d,u,b)=>{const m=!(d instanceof MouseEvent);if(m&&(!d.changedTouches||!d.changedTouches[0]))return;let p=!0;o.setScalingState(!0);const O=u.left,j=u.top,f=u.width,v=u.height,h="rotate"in u&&u.rotate?u.rotate:0,y=Math.PI*h/180,g=i.value||"fixedRatio"in u&&u.fixedRatio,x=f/v,k=m?d.changedTouches[0].pageX:d.pageX,C=m?d.changedTouches[0].pageY:d.pageY,N=oi[u.type]||20,E=e=>e<N?N:e;let w,V=0,I=0,B=[],S=[];if("rotate"in u&&u.rotate){const{left:e,top:t,width:l,height:o}=u;w=ci({left:e,top:t,width:l,height:o},h);const c=ni(b,w);V=c.left,I=c.top}else{const t=Ma,l=Ma*r.value,o=u.id===a.value;for(const a of e.value){if("rotate"in a&&a.rotate)continue;if("line"===a.type)continue;if(o&&a.id===u.id)continue;if(!o&&n.value.includes(a.id))continue;const e=a.left,t=a.top,l=a.width,c=a.height,r=e+l,i=t+c,s={value:t,range:[e,r]},d={value:i,range:[e,r]},b={value:e,range:[t,i]},m={value:r,range:[t,i]};B.push(s,d),S.push(b,m)}const c={value:0,range:[0,t]},i={value:l,range:[0,t]},s={value:l/2,range:[0,t]},d={value:0,range:[0,l]},b={value:t,range:[0,l]},m={value:t/2,range:[0,l]};B.push(c,i,s),S.push(d,b,m),B=Object(Sa["h"])(B),S=Object(Sa["h"])(S)}const L=(e,l)=>{const o=5,c=[];let n=!1,a=!1;const r={offsetX:0,offsetY:0};if(l||0===l)for(let t=0;t<B.length;t++){const{value:n,range:i}=B[t],s=Math.min(...i,e||0),d=Math.max(...i,e||0);Math.abs(l-n)<o&&!a&&(r.offsetY=l-n,a=!0,c.push({type:"horizontal",axis:{x:s-50,y:n},length:d-s+100}))}if(e||0===e)for(let t=0;t<S.length;t++){const{value:a,range:i}=S[t],s=Math.min(...i,l||0),d=Math.max(...i,l||0);Math.abs(e-a)<o&&!n&&(r.offsetX=e-a,n=!0,c.push({type:"vertical",axis:{x:a,y:s-50},length:d-s+100}))}return t.value=c,r},_=t=>{if(!p)return;const o=t instanceof MouseEvent?t.pageX:t.changedTouches[0].pageX,c=t instanceof MouseEvent?t.pageY:t.changedTouches[0].pageY,n=o-k,a=c-C;let r=f,i=v,s=O,d=j;if(h){const e=(Math.cos(y)*n+Math.sin(y)*a)/l.value;let t=(Math.cos(y)*a-Math.sin(y)*n)/l.value;g&&(b!==Ea.RIGHT_BOTTOM&&b!==Ea.LEFT_TOP||(t=e/x),b!==Ea.LEFT_BOTTOM&&b!==Ea.RIGHT_TOP||(t=-e/x)),b===Ea.RIGHT_BOTTOM?(r=E(f+e),i=E(v+t)):b===Ea.LEFT_BOTTOM?(r=E(f-e),i=E(v+t),s=O-(r-f)):b===Ea.LEFT_TOP?(r=E(f-e),i=E(v-t),s=O-(r-f),d=j-(i-v)):b===Ea.RIGHT_TOP?(r=E(f+e),i=E(v-t),d=j-(i-v)):b===Ea.TOP?(i=E(v-t),d=j-(i-v)):b===Ea.BOTTOM?i=E(v+t):b===Ea.LEFT?(r=E(f-e),s=O-(r-f)):b===Ea.RIGHT&&(r=E(f+e));const o=ci({width:r,height:i,left:s,top:d},h),c=ni(b,o),u=c.left,m=c.top,p=u-V,k=m-I;s-=p,d-=k}else{let e=n/l.value,t=a/l.value;if(g&&(b!==Ea.RIGHT_BOTTOM&&b!==Ea.LEFT_TOP||(t=e/x),b!==Ea.LEFT_BOTTOM&&b!==Ea.RIGHT_TOP||(t=-e/x)),b===Ea.RIGHT_BOTTOM){const{offsetX:l,offsetY:o}=L(O+f+e,j+v+t);e-=l,t-=o,g&&(o?e=t*x:t=e/x),r=E(f+e),i=E(v+t)}else if(b===Ea.LEFT_BOTTOM){const{offsetX:l,offsetY:o}=L(O+e,j+v+t);e-=l,t-=o,g&&(o?e=-t*x:t=-e/x),r=E(f-e),i=E(v+t),s=O-(r-f)}else if(b===Ea.LEFT_TOP){const{offsetX:l,offsetY:o}=L(O+e,j+t);e-=l,t-=o,g&&(o?e=t*x:t=e/x),r=E(f-e),i=E(v-t),s=O-(r-f),d=j-(i-v)}else if(b===Ea.RIGHT_TOP){const{offsetX:l,offsetY:o}=L(O+f+e,j+t);e-=l,t-=o,g&&(o?e=-t*x:t=-e/x),r=E(f+e),i=E(v-t),d=j-(i-v)}else if(b===Ea.LEFT){const{offsetX:t}=L(O+e,null);e-=t,r=E(f-e),s=O-(r-f)}else if(b===Ea.RIGHT){const{offsetX:t}=L(O+f+e,null);e-=t,r=E(f+e)}else if(b===Ea.TOP){const{offsetY:e}=L(null,j+t);t-=e,i=E(v-t),d=j-(i-v)}else if(b===Ea.BOTTOM){const{offsetY:e}=L(null,j+v+t);t-=e,i=E(v+t)}}e.value=e.value.map(e=>{if(u.id!==e.id)return e;if("shape"===e.type&&"pathFormula"in e&&e.pathFormula){const t=za[e.pathFormula];let l="";return l="editable"in t?t.formula(r,i,e.keypoint):t.formula(r,i),{...e,left:s,top:d,width:r,height:i,viewBox:[r,i],path:l}}return{...e,left:s,top:d,width:r,height:i}})},T=l=>{p=!1,document.ontouchmove=null,document.ontouchend=null,document.onmousemove=null,document.onmouseup=null,t.value=[];const n=l instanceof MouseEvent?l.pageX:l.changedTouches[0].pageX,a=l instanceof MouseEvent?l.pageY:l.changedTouches[0].pageY;k===n&&C===a||(c.updateSlide({elements:e.value}),o.setScalingState(!1),s())};m?(document.ontouchmove=_,document.ontouchend=T):(document.onmousemove=_,document.onmouseup=T)},u=(t,o,a)=>{let r=!0;const{minX:d,maxX:u,minY:b,maxY:m}=o,p=u-d,O=m-b,j=p/O,f=t.pageX,v=t.pageY,h=JSON.parse(JSON.stringify(e.value));document.onmousemove=t=>{if(!r)return;const o=t.pageX,c=t.pageY,s=(o-f)/l.value;let y=(c-v)/l.value;i.value&&(a!==Ea.RIGHT_BOTTOM&&a!==Ea.LEFT_TOP||(y=s/j),a!==Ea.LEFT_BOTTOM&&a!==Ea.RIGHT_TOP||(y=-s/j));let g=d,x=u,k=b,C=m;a===Ea.RIGHT_BOTTOM?(x=u+s,C=m+y):a===Ea.LEFT_BOTTOM?(g=d+s,C=m+y):a===Ea.LEFT_TOP?(g=d+s,k=b+y):a===Ea.RIGHT_TOP?(x=u+s,k=b+y):a===Ea.TOP?k=b+y:a===Ea.BOTTOM?C=m+y:a===Ea.LEFT?g=d+s:a===Ea.RIGHT&&(x=u+s);const N=x-g,E=C-k;let w=N/p,V=E/O;w<=0&&(w=0),V<=0&&(V=0),e.value=e.value.map(e=>{if(("image"===e.type||"shape"===e.type)&&n.value.includes(e.id)){const t=h.find(t=>t.id===e.id);return{...e,width:t.width*w,height:t.height*V,left:g+(t.left-d)*w,top:k+(t.top-b)*V}}return e})},document.onmouseup=t=>{r=!1,document.onmousemove=null,document.onmouseup=null,f===t.pageX&&v===t.pageY||(c.updateSlide({elements:e.value}),s())}};return{scaleElement:d,scaleMultiElement:u}},si=(e,t)=>{const l=Object(ko["c"])(),{activeElementIdList:o,activeGroupElementId:c,handleElementId:n,editorAreaFocus:a}=Object(N["c"])(l),{ctrlOrShiftKeyActive:r}=Object(N["c"])(Object(ko["b"])()),i=(i,s,d=!0)=>{if(a.value||l.setEditorareaFocus(!0),o.value.includes(s.id)){if(r.value){let t=[];if(s.groupId){const l=[];e.value.forEach(e=>{e.groupId===s.groupId&&l.push(e.id)}),t=o.value.filter(e=>!l.includes(e))}else t=o.value.filter(e=>e!==s.id);t.length>0&&l.setActiveElementIdList(t)}else if(n.value!==s.id)l.setHandleElementId(s.id);else if(c.value!==s.id){const e=i instanceof MouseEvent?i.pageX:i.changedTouches[0].pageX,t=i instanceof MouseEvent?i.pageY:i.changedTouches[0].pageY;i.target.onmouseup=o=>{const c=o.pageX,n=o.pageY;e===c&&t===n&&(l.setActiveGroupElementId(s.id),o.target.onmouseup=null)}}}else{let t=[];if(t=r.value?[...o.value,s.id]:[s.id],s.groupId){const l=[];e.value.forEach(e=>{e.groupId===s.groupId&&l.push(e.id)}),t=[...t,...l]}l.setActiveElementIdList(Object(Yt["uniq"])(t)),l.setHandleElementId(s.id)}d&&t(i,s)},s=()=>{const t=e.value.filter(e=>!e.lock),o=t.map(e=>e.id);l.setActiveElementIdList(o)};return{selectElement:i,selectAllElement:s}},di=(e,t,l)=>{const o=Object(ko["e"])(),{activeElementIdList:c,activeGroupElementId:n}=Object(N["c"])(Object(ko["c"])()),{viewportRatio:a}=Object(N["c"])(o),{addHistorySnapshot:r}=Object(Ra["a"])(),i=(i,s)=>{const d=!(i instanceof MouseEvent);if(d&&(!i.changedTouches||!i.changedTouches[0]))return;if(!c.value.includes(s.id))return;let u=!0;const b=Ma,m=Ma*a.value,p=5,O=JSON.parse(JSON.stringify(e.value)),j=O.filter(e=>c.value.includes(e.id)),f=s.left,v=s.top,h=s.width,y="height"in s&&s.height?s.height:0,g="rotate"in s&&s.rotate?s.rotate:0,x=d?i.changedTouches[0].pageX:i.pageX,k=d?i.changedTouches[0].pageY:i.pageY;let C=null;const N=s.id===n.value;let E=[],w=[];for(const t of e.value){if("line"===t.type)continue;if(N&&t.id===s.id)continue;if(!N&&c.value.includes(t.id))continue;let e,l,o,n;if("rotate"in t&&t.rotate){const{xRange:c,yRange:a}=Object(Sa["f"])({left:t.left,top:t.top,width:t.width,height:t.height,rotate:t.rotate});e=c[0],l=a[0],o=c[1]-c[0],n=a[1]-a[0]}else e=t.left,l=t.top,o=t.width,n=t.height;const a=e+o,r=l+n,i=l+n/2,d=e+o/2,u={value:l,range:[e,a]},b={value:r,range:[e,a]},m={value:i,range:[e,a]},p={value:e,range:[l,r]},O={value:a,range:[l,r]},j={value:d,range:[l,r]};E.push(u,b,m),w.push(p,O,j)}const V={value:0,range:[0,b]},I={value:m,range:[0,b]},B={value:m/2,range:[0,b]},S={value:0,range:[0,m]},L={value:b,range:[0,m]},_={value:b/2,range:[0,m]};E.push(V,I,B),w.push(S,L,_),E=Object(Sa["h"])(E),w=Object(Sa["h"])(w);const T=o=>{const n=o instanceof MouseEvent?o.pageX:o.changedTouches[0].pageX,a=o instanceof MouseEvent?o.pageY:o.changedTouches[0].pageY;if(!1!==C&&(C=Math.abs(x-n)<p&&Math.abs(k-a)<p),!u||C)return;const r=(n-x)/l.value,i=(a-k)/l.value;let d,b,m,O,V=f+r,I=v+i;if(1===c.value.length||N)if(g){const{xRange:e,yRange:t}=Object(Sa["f"])({left:V,top:I,width:h,height:y,rotate:g});d=e[0],b=e[1],m=t[0],O=t[1]}else"line"===s.type?(d=V,b=V+Math.max(s.start[0],s.end[0]),m=I,O=I+Math.max(s.start[1],s.end[1])):(d=V,b=V+h,m=I,O=I+y);else{const e=[],t=[],l=[],o=[];for(let c=0;c<j.length;c++){const n=j[c],a=n.left+r,s=n.top+i,d=n.width,u="height"in n&&n.height?n.height:0,b="rotate"in n&&n.rotate?n.rotate:0;if("rotate"in n&&n.rotate){const{xRange:c,yRange:n}=Object(Sa["f"])({left:a,top:s,width:d,height:u,rotate:b});e.push(c[0]),t.push(n[0]),l.push(c[1]),o.push(n[1])}else"line"===n.type?(e.push(a),t.push(s),l.push(a+Math.max(n.start[0],n.end[0])),o.push(s+Math.max(n.start[1],n.end[1]))):(e.push(a),t.push(s),l.push(a+d),o.push(s+u))}d=Math.min(...e),b=Math.max(...l),m=Math.min(...t),O=Math.max(...o)}const B=d+(b-d)/2,S=m+(O-m)/2,L=[];let _=!1,T=!1;for(let e=0;e<E.length;e++){const{value:t,range:l}=E[e],o=Math.min(...l,d,b),c=Math.max(...l,d,b);Math.abs(m-t)<p&&!T&&(I-=m-t,T=!0,L.push({type:"horizontal",axis:{x:o-50,y:t},length:c-o+100})),Math.abs(O-t)<p&&!T&&(I-=O-t,T=!0,L.push({type:"horizontal",axis:{x:o-50,y:t},length:c-o+100})),Math.abs(S-t)<p&&!T&&(I-=S-t,T=!0,L.push({type:"horizontal",axis:{x:o-50,y:t},length:c-o+100}))}for(let e=0;e<w.length;e++){const{value:t,range:l}=w[e],o=Math.min(...l,m,O),c=Math.max(...l,m,O);Math.abs(d-t)<p&&!_&&(V-=d-t,_=!0,L.push({type:"vertical",axis:{x:t,y:o-50},length:c-o+100})),Math.abs(b-t)<p&&!_&&(V-=b-t,_=!0,L.push({type:"vertical",axis:{x:t,y:o-50},length:c-o+100})),Math.abs(B-t)<p&&!_&&(V-=B-t,_=!0,L.push({type:"vertical",axis:{x:t,y:o-50},length:c-o+100}))}if(t.value=L,1===c.value.length||N)e.value=e.value.map(e=>e.id===s.id?{...e,left:V,top:I}:e);else{const t=e.value.find(e=>e.id===s.id);if(!t)return;e.value=e.value.map(e=>c.value.includes(e.id)?e.id===s.id?{...e,left:V,top:I}:{...e,left:e.left+(V-t.left),top:e.top+(I-t.top)}:e)}},M=l=>{u=!1,document.ontouchmove=null,document.ontouchend=null,document.onmousemove=null,document.onmouseup=null,t.value=[];const c=l instanceof MouseEvent?l.pageX:l.changedTouches[0].pageX,n=l instanceof MouseEvent?l.pageY:l.changedTouches[0].pageY;x===c&&k===n||(o.updateSlide({elements:e.value}),r())};d?(document.ontouchmove=T,document.ontouchend=M):(document.onmousemove=T,document.onmouseup=M)};return{dragElement:i}},ui=e=>{const t=Object(ko["e"])(),{canvasScale:l}=Object(N["c"])(Object(ko["c"])()),{addHistorySnapshot:o}=Object(Ra["a"])(),c=(c,n,a)=>{let r=!0;const i=8,s=c.pageX,d=c.pageY,u=[];for(let t=0;t<e.value.length;t++){const l=e.value[t];if("line"===l.type||l.rotate)continue;const o=l.left,c=l.top,n=l.width,a=l.height,r=o+n,i=c+a,s=c+a/2,d=o+n/2,b={x:d,y:c},m={x:d,y:i},p={x:o,y:s},O={x:r,y:s},j={x:o,y:c},f={x:r,y:c},v={x:o,y:i},h={x:r,y:i};u.push(b,m,p,O,j,f,v,h)}document.onmousemove=t=>{if(!r)return;const o=t.pageX,c=t.pageY,b=(o-s)/l.value,m=(c-d)/l.value;let p=n.left+n.start[0],O=n.top+n.start[1],j=n.left+n.end[0],f=n.top+n.end[1];const v=n.broken||n.curve||[0,0];let h=n.left+v[0],y=n.top+v[1];const[g,x]=n.cubic||[[0,0],[0,0]];let k=n.left+g[0],C=n.top+g[1],N=n.left+x[0],E=n.top+x[1];if(a===wa.START){p+=b,O+=m,Math.abs(p-j)<i&&(p=j),Math.abs(O-f)<i&&(O=f);for(const e of u){const{x:t,y:l}=e;if(Math.abs(t-p)<i&&Math.abs(l-O)<i){p=t,O=l;break}}}else if(a===wa.END){j+=b,f+=m,Math.abs(p-j)<i&&(j=p),Math.abs(O-f)<i&&(f=O);for(const e of u){const{x:t,y:l}=e;if(Math.abs(t-j)<i&&Math.abs(l-f)<i){j=t,f=l;break}}}else a===wa.C?(h+=b,y+=m,Math.abs(h-p)<i&&(h=p),Math.abs(y-O)<i&&(y=O),Math.abs(h-j)<i&&(h=j),Math.abs(y-f)<i&&(y=f),Math.abs(h-(p+j)/2)<i&&Math.abs(y-(O+f)/2)<i&&(h=(p+j)/2,y=(O+f)/2)):a===wa.C1?(k+=b,C+=m,Math.abs(k-p)<i&&(k=p),Math.abs(C-O)<i&&(C=O),Math.abs(k-j)<i&&(k=j),Math.abs(C-f)<i&&(C=f)):a===wa.C2&&(N+=b,E+=m,Math.abs(N-p)<i&&(N=p),Math.abs(E-O)<i&&(E=O),Math.abs(N-j)<i&&(N=j),Math.abs(E-f)<i&&(E=f));const w=Math.min(p,j),V=Math.min(O,f),I=Math.max(p,j),B=Math.max(O,f),S=[0,0],L=[I-w,B-V];p>j&&(S[0]=I-w,L[0]=0),O>f&&(S[1]=B-V,L[1]=0),e.value=e.value.map(e=>{if(e.id===n.id){const t={...e,left:w,top:V,start:S,end:L};return a===wa.START||a===wa.END?(n.broken&&(t.broken=[(S[0]+L[0])/2,(S[1]+L[1])/2]),n.curve&&(t.curve=[(S[0]+L[0])/2,(S[1]+L[1])/2]),n.cubic&&(t.cubic=[[(S[0]+L[0])/2,(S[1]+L[1])/2],[(S[0]+L[0])/2,(S[1]+L[1])/2]])):a===wa.C?(n.broken&&(t.broken=[h-w,y-V]),n.curve&&(t.curve=[h-w,y-V])):n.cubic&&(t.cubic=[[k-w,C-V],[N-w,E-V]]),t}return e})},document.onmouseup=l=>{r=!1,document.onmousemove=null,document.onmouseup=null;const c=l.pageX,n=l.pageY;s===c&&d===n||(t.updateSlide({elements:e.value}),o())}};return{dragLineElement:c}},bi=(e,t)=>{const l=Object(ko["e"])(),{addHistorySnapshot:o}=Object(Ra["a"])(),c=(c,n)=>{const a=!(c instanceof MouseEvent);if(a&&(!c.changedTouches||!c.changedTouches[0]))return;let r=!0;const i=a?c.changedTouches[0].pageX:c.pageX,s=a?c.changedTouches[0].pageY:c.pageY,d=za[n.pathFormula];let u=null;if("editable"in d){const e=d.getBaseSize(n.width,n.height),t=e*n.keypoint,[l,o]=d.range,c=d.relative;u={baseSize:e,originPos:t,min:l,max:o,relative:c}}const b=l=>{if(!r)return;const o=l instanceof MouseEvent?l.pageX:l.changedTouches[0].pageX,c=l instanceof MouseEvent?l.pageY:l.changedTouches[0].pageY,a=(o-i)/t.value,b=(c-s)/t.value;e.value=e.value.map(e=>{if(e.id===n.id&&u){const{baseSize:t,originPos:l,min:o,max:c,relative:n}=u,r=e;let i=0;return"left"===n&&(i=(l+a)/t),"right"===n&&(i=(l-a)/t),"center"===n&&(i=(l-2*a)/t),"top"===n&&(i=(l+b)/t),"bottom"===n&&(i=(l-b)/t),i<o&&(i=o),i>c&&(i=c),{...e,keypoint:i,path:d.formula(r.width,r.height,i)}}return e})},m=t=>{r=!1,document.ontouchmove=null,document.ontouchend=null,document.onmousemove=null,document.onmouseup=null;const c=t instanceof MouseEvent?t.pageX:t.changedTouches[0].pageX,n=t instanceof MouseEvent?t.pageY:t.changedTouches[0].pageY;i===c&&s===n||(l.updateSlide({elements:e.value}),o())};a?(document.ontouchmove=b,document.ontouchend=m):(document.onmousemove=b,document.onmouseup=m)};return{moveShapeKeypoint:c}},mi=e=>{const t=Object(ko["c"])(),{canvasScale:l,creatingElement:o}=Object(N["c"])(t),c=t=>{const{start:o,end:c}=t;if(!e.value)return;const n=e.value.getBoundingClientRect(),[a,r]=o,[i,s]=c,d=Math.min(a,i),u=Math.max(a,i),b=Math.min(r,s),m=Math.max(r,s),p=(d-n.x)/l.value,O=(b-n.y)/l.value,j=(u-d)/l.value,f=(m-b)/l.value;return{left:p,top:O,width:j,height:f}},n=t=>{const{start:o,end:c}=t;if(!e.value)return;const n=e.value.getBoundingClientRect(),[a,r]=o,[i,s]=c,d=Math.min(a,i),u=Math.max(a,i),b=Math.min(r,s),m=Math.max(r,s),p=(d-n.x)/l.value,O=(b-n.y)/l.value,j=(u-d)/l.value,f=(m-b)/l.value,v=[a===d?0:j,r===b?0:f],h=[i===d?0:j,s===b?0:f];return{left:p,top:O,start:v,end:h}},{createTextElement:a,createShapeElement:r,createLineElement:i}=Pa(),s=e=>{if(!o.value)return;const l=o.value.type;if("text"===l){const t=c(e);t&&a(t)}else if("shape"===l){const t=c(e);t&&r(t,o.value.data)}else if("line"===l){const t=n(e);t&&i(t,o.value.data)}t.setCreatingElement(null)};return{insertElementFromCreateSelection:s}},pi=()=>{const e=Object(ko["e"])(),{activeElementIdList:t,activeElementList:l}=Object(N["c"])(Object(ko["c"])()),{currentSlide:o,viewportRatio:c}=Object(N["c"])(e),{addHistorySnapshot:n}=Object(Ra["a"])(),a=a=>{const r=Ma,i=Ma*c.value,{minX:s,maxX:d,minY:u,maxY:b}=Object(Sa["b"])(l.value),m=JSON.parse(JSON.stringify(o.value.elements));for(const e of m)if(t.value.includes(e.id)){if(a===Ca.CENTER){const t=u+(b-u)/2-i/2,l=s+(d-s)/2-r/2;e.top=e.top-t,e.left=e.left-l}if(a===Ca.TOP){const t=u-0;e.top=e.top-t}else if(a===Ca.VERTICAL){const t=u+(b-u)/2-i/2;e.top=e.top-t}else if(a===Ca.BOTTOM){const t=b-i;e.top=e.top-t}else if(a===Ca.LEFT){const t=s-0;e.left=e.left-t}else if(a===Ca.HORIZONTAL){const t=s+(d-s)/2-r/2;e.left=e.left-t}else if(a===Ca.RIGHT){const t=d-r;e.left=e.left-t}}e.updateSlide({elements:m}),n()};return{alignElementToCanvas:a}},Oi=e=>{const t=Object(C["computed"])(()=>{if(e.value){const{h:t,v:l,blur:o,color:c}=e.value;return`${t}px ${l}px ${o}px ${c}`}return""});return{shadowStyle:t}},ji=(e,t)=>{const l=Object(C["computed"])(()=>{let l="";return e.value&&t.value?l="rotateX(180deg) rotateY(180deg)":t.value?l="rotateX(180deg)":e.value&&(l="rotateY(180deg)"),l});return{flipStyle:l}};(function(e){e["RECT"]="rect",e["ELLIPSE"]="ellipse",e["POLYGON"]="polygon"})(ai||(ai={})),function(e){e["RECT"]="rect",e["ROUNDRECT"]="roundRect",e["ELLIPSE"]="ellipse",e["TRIANGLE"]="triangle",e["PENTAGON"]="pentagon",e["RHOMBUS"]="rhombus",e["STAR"]="star"}(ri||(ri={}));const fi={rect:{name:"矩形",type:ai.RECT,radius:"0",style:""},rect2:{name:"矩形2",type:ai.POLYGON,style:"polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 0 100%)",createPath:(e,t)=>`M 0 0 L ${.8*e} 0 L ${e} ${.2*t} L ${e} ${t} L 0 ${t} Z`},rect3:{name:"矩形3",type:ai.POLYGON,style:"polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 20% 100%, 0% 80%)",createPath:(e,t)=>`M 0 0 L ${.8*e} 0 L ${e} ${.2*t} L ${e} ${t} L ${.2*e} ${t} L 0 ${.8*t} Z`},roundRect:{name:"圆角矩形",type:ai.RECT,radius:"10px",style:"inset(0 0 0 0 round 10px 10px 10px 10px)"},ellipse:{name:"圆形",type:ai.ELLIPSE,style:"ellipse(50% 50% at 50% 50%)"},triangle:{name:"三角形",type:ai.POLYGON,style:"polygon(50% 0%, 0% 100%, 100% 100%)",createPath:(e,t)=>`M ${.5*e} 0 L 0 ${t} L ${e} ${t} Z`},triangle2:{name:"三角形2",type:ai.POLYGON,style:"polygon(50% 100%, 0% 0%, 100% 0%)",createPath:(e,t)=>`M ${.5*e} ${t} L 0 0 L ${e} 0 Z`},triangle3:{name:"三角形3",type:ai.POLYGON,style:"polygon(0% 0%, 0% 100%, 100% 100%)",createPath:(e,t)=>`M 0 0 L 0 ${t} L ${e} ${t} Z`},rhombus:{name:"菱形",type:ai.POLYGON,style:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",createPath:(e,t)=>`M ${.5*e} 0 L ${e} ${.5*t} L ${.5*e} ${t} L 0 ${.5*t} Z`},pentagon:{name:"五边形",type:ai.POLYGON,style:"polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)",createPath:(e,t)=>`M ${.5*e} 0 L ${e} ${.38*t} L ${.82*e} ${t} L ${.18*e} ${t} L 0 ${.38*t} Z`},hexagon:{name:"六边形",type:ai.POLYGON,style:"polygon(20% 0%, 80% 0%, 100% 50%, 80% 100%, 20% 100%, 0% 50%)",createPath:(e,t)=>`M ${.2*e} 0 L ${.8*e} 0 L ${e} ${.5*t} L ${.8*e} ${t} L ${.2*e} ${t} L 0 ${.5*t} Z`},heptagon:{name:"七边形",type:ai.POLYGON,style:"polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%)",createPath:(e,t)=>`M ${.5*e} 0 L ${.9*e} ${.2*t} L ${e} ${.6*t} L ${.75*e} ${t} L ${.25*e} ${t} L 0 ${.6*t} L ${.1*e} ${.2*t} Z`},octagon:{name:"八边形",type:ai.POLYGON,style:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)",createPath:(e,t)=>`M ${.3*e} 0 L ${.7*e} 0 L ${e} ${.3*t} L ${e} ${.7*t} L ${.7*e} ${t} L ${.3*e} ${t} L 0 ${.7*t} L 0 ${.3*t} Z`},chevron:{name:"V形",type:ai.POLYGON,style:"polygon(75% 0%, 100% 50%, 75% 100%, 0% 100%, 25% 50%, 0% 0%)",createPath:(e,t)=>`M ${.75*e} 0 L ${e} ${.5*t} L ${.75*e} ${t} L 0 ${t} L ${.25*e} ${.5*t} L 0 0 Z`},point:{name:"点",type:ai.POLYGON,style:"polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%)",createPath:(e,t)=>`M 0 0 L ${.75*e} 0 L ${e} ${.5*t} L ${.75*e} ${t} L 0 ${t} Z`},arrow:{name:"箭头",type:ai.POLYGON,style:"polygon(0% 20%, 60% 20%, 60% 0%, 100% 50%, 60% 100%, 60% 80%, 0% 80%)",createPath:(e,t)=>`M 0 ${.2*t} L ${.6*e} ${.2*t} L ${.6*e} 0 L ${e} ${.5*t} L ${.6*e} ${t} L ${.6*e} ${.8*t} L 0 ${.8*t} Z`},parallelogram:{name:"平行四边形",type:ai.POLYGON,style:"polygon(30% 0%, 100% 0%, 70% 100%, 0% 100%)",createPath:(e,t)=>`M ${.3*e} 0 L ${e} 0 L ${.7*e} ${t} L 0 ${t} Z`},parallelogram2:{name:"平行四边形2",type:ai.POLYGON,style:"polygon(30% 100%, 100% 100%, 70% 0%, 0% 0%)",createPath:(e,t)=>`M ${.3*e} ${t} L ${e} ${t} L ${.7*e} 0 L 0 0 Z`},trapezoid:{name:"梯形",type:ai.POLYGON,style:"polygon(25% 0%, 75% 0%, 100% 100%, 0% 100%)",createPath:(e,t)=>`M ${.25*e} 0 L ${.75*e} 0 L ${e} ${t} L 0 ${t} Z`},trapezoid2:{name:"梯形2",type:ai.POLYGON,style:"polygon(0% 0%, 100% 0%, 75% 100%, 25% 100%)",createPath:(e,t)=>`M 0 0 L ${e} 0 L ${.75*e} ${t} L ${.25*e} ${t} Z`}};var vi=e=>{const t=Object(C["computed"])(()=>{if(!e.value)return fi.rect;const t=e.value.shape||ai.RECT;return fi[t]}),l=Object(C["computed"])(()=>{if(!e.value)return{top:"0",left:"0",width:"100%",height:"100%"};const[t,l]=e.value.range,o=(l[0]-t[0])/100,c=(l[1]-t[1])/100,n=t[0]/o,a=t[1]/c;return{left:-n+"%",top:-a+"%",width:100/o+"%",height:100/c+"%"}});return{clipShape:t,imgPosition:l}},hi=e=>{const t=Object(C["computed"])(()=>{if(!e.value)return"";let t="";for(const l of Object.keys(e.value))t+=`${l}(${e.value[l]}) `;return t});return{filter:t}},yi=e=>{const t=Object(C["computed"])(()=>{var t,l;return null!==(t=null===(l=e.value)||void 0===l?void 0:l.width)&&void 0!==t?t:0}),l=Object(C["computed"])(()=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.style)||"solid"}),o=Object(C["computed"])(()=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.color)||"#469D8F"});return{outlineWidth:t,outlineStyle:l,outlineColor:o}};const gi=["width","height"],xi=["rx","ry","width","height","stroke","stroke-width","stroke-dasharray"];var ki=Object(C["defineComponent"])({__name:"ImageRectOutline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object},radius:{type:String,default:"0"}},setup(e){const t=e,{outlineWidth:l,outlineStyle:o,outlineColor:c}=yi(Object(C["toRef"])(t,"outline"));return(t,n)=>e.outline?(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{key:0,class:"image-rect-outline",overflow:"visible",width:e.width,height:e.height},[Object(C["createElementVNode"])("rect",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",rx:e.radius,ry:e.radius,width:e.width,height:e.height,stroke:Object(C["unref"])(c),"stroke-width":Object(C["unref"])(l),"stroke-dasharray":"dashed"===Object(C["unref"])(o)?"10 6":"0 0"},null,8,xi)],8,gi)):Object(C["createCommentVNode"])("",!0)}});l("fef7");const Ci=V()(ki,[["__scopeId","data-v-b5bace06"]]);var Ni=Ci;const Ei=["width","height"],wi=["cx","cy","rx","ry","stroke","stroke-width","stroke-dasharray"];var Vi=Object(C["defineComponent"])({__name:"ImageEllipseOutline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object}},setup(e){const t=e,{outlineWidth:l,outlineStyle:o,outlineColor:c}=yi(Object(C["toRef"])(t,"outline"));return(t,n)=>e.outline?(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{key:0,class:"image-ellipse-outline",overflow:"visible",width:e.width,height:e.height},[Object(C["createElementVNode"])("ellipse",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",cx:e.width/2,cy:e.height/2,rx:e.width/2,ry:e.height/2,stroke:Object(C["unref"])(c),"stroke-width":Object(C["unref"])(l),"stroke-dasharray":"dashed"===Object(C["unref"])(o)?"10 6":"0 0"},null,8,wi)],8,Ei)):Object(C["createCommentVNode"])("",!0)}});l("45c1");const Ii=V()(Vi,[["__scopeId","data-v-71b17928"]]);var Bi=Ii;const Si=["width","height"],Li=["d","stroke","stroke-width","stroke-dasharray"];var _i=Object(C["defineComponent"])({__name:"ImagePolygonOutline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object},createPath:{type:Function,required:!0}},setup(e){const t=e,{outlineWidth:l,outlineStyle:o,outlineColor:c}=yi(Object(C["toRef"])(t,"outline"));return(t,n)=>e.outline?(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{key:0,class:"image-polygon-outline",overflow:"visible",width:e.width,height:e.height},[Object(C["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",d:e.createPath(e.width,e.height),stroke:Object(C["unref"])(c),"stroke-width":Object(C["unref"])(l),"stroke-dasharray":"dashed"===Object(C["unref"])(o)?"10 6":"0 0"},null,8,Li)],8,Si)):Object(C["createCommentVNode"])("",!0)}});l("180d");const Ti=V()(_i,[["__scopeId","data-v-41071294"]]);var Mi=Ti;const Di={class:"image-outline"};var Ai=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>t.elementInfo.clip),{clipShape:o}=vi(l);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Di,["rect"===Object(C["unref"])(o).type?(Object(C["openBlock"])(),Object(C["createBlock"])(Ni,{key:0,width:e.elementInfo.width,height:e.elementInfo.height,radius:Object(C["unref"])(o).radius,outline:e.elementInfo.outline},null,8,["width","height","radius","outline"])):"ellipse"===Object(C["unref"])(o).type?(Object(C["openBlock"])(),Object(C["createBlock"])(Bi,{key:1,width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"])):"polygon"===Object(C["unref"])(o).type?(Object(C["openBlock"])(),Object(C["createBlock"])(Mi,{key:2,width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline,createPath:Object(C["unref"])(o).createPath},null,8,["width","height","outline","createPath"])):Object(C["createCommentVNode"])("",!0)]))}});const zi=Ai;var Fi=zi;const $i=e=>(Object(C["pushScopeId"])("data-v-3e0199ec"),e=e(),Object(C["popScopeId"])(),e),Ri=["src"],Pi=["src"],Hi=["onMousedown"],Ui=$i(()=>Object(C["createElementVNode"])("svg",{width:"16",height:"16",fill:"#fff",stroke:"#333"},[Object(C["createElementVNode"])("path",{"stroke-width":"0.3","shape-rendering":"crispEdges",d:"M 16 0 L 0 0 L 0 16 L 4 16 L 4 4 L 16 4 L 16 0 Z"})],-1)),qi=[Ui],Gi=["onMousedown"],Yi=$i(()=>Object(C["createElementVNode"])("svg",{width:"16",height:"16",fill:"#fff",stroke:"#333"},[Object(C["createElementVNode"])("path",{"stroke-width":"0.3","shape-rendering":"crispEdges",d:"M 16 0 L 0 0 L 0 4 L 16 4 Z"})],-1)),Xi=[Yi];var Zi=Object(C["defineComponent"])({__name:"ImageClipHandler",props:{src:{type:String,required:!0},clipData:{type:Object},clipPath:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},top:{type:Number,required:!0},left:{type:Number,required:!0},rotate:{type:Number,required:!0}},emits:["clip"],setup(e,{emit:t}){const l=e,{canvasScale:o}=Object(N["c"])(Object(ko["c"])()),{ctrlOrShiftKeyActive:c}=Object(N["c"])(Object(ko["b"])()),n=Object(C["ref"])({top:"0",left:"0"}),a=Object(C["ref"])(!1),r=Object(C["ref"])(null),i=()=>{const[e,t]=l.clipData?l.clipData.range:[[0,0],[100,100]],o=(t[0]-e[0])/100,c=(t[1]-e[1])/100,n=e[0]/o,a=e[1]/c;return{widthScale:o,heightScale:c,left:n,top:a}},s=Object(C["computed"])(()=>{const{widthScale:e,heightScale:t,left:l,top:o}=i();return{left:-l,top:-o,width:100/e,height:100/t}}),d=Object(C["computed"])(()=>({top:s.value.top+"%",left:s.value.left+"%",width:s.value.width+"%",height:s.value.height+"%"})),u=Object(C["ref"])({top:0,left:0,width:0,height:0}),b=Object(C["computed"])(()=>{const{top:e,left:t,width:l,height:o}=u.value;return{top:e+"%",left:t+"%",width:l+"%",height:o+"%"}}),m=Object(C["computed"])(()=>{const e=s.value.width,t=s.value.height,{top:l,left:o,width:c,height:n}=u.value;return{left:100/c*-o+"%",top:100/n*-l+"%",width:e/c*100+"%",height:t/n*100+"%"}}),p=()=>{const{left:e,top:t}=i();u.value={left:e,top:t,width:100,height:100},n.value={top:-t+"%",left:-e+"%"}},O=()=>{if(a.value)return;if(!r.value)return void t("clip",null);const{left:e,top:o}=i(),c={left:(u.value.left-e)/100*l.width,top:(u.value.top-o)/100*l.height,width:(u.value.width-100)/100*l.width,height:(u.value.height-100)/100*l.height},n={range:r.value,position:c};t("clip",n)},j=e=>{const t=e.key.toUpperCase();t===Va.ENTER&&O()};Object(C["onMounted"])(()=>{p(),document.addEventListener("keydown",j)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("keydown",j)});const f=()=>{const e={left:parseInt(m.value.left),top:parseInt(m.value.top),width:parseInt(m.value.width),height:parseInt(m.value.height)},t=100/e.width,l=100/e.height,o=[-e.left*t,-e.top*l],c=[100*t+o[0],100*l+o[1]];r.value=[o,c]},v=e=>{a.value=!0;let t=!0;const c=e.pageX,n=e.pageY,r=s.value,i={...u.value};document.onmousemove=e=>{if(!t)return;const a=e.pageX,s=e.pageY;let d=(a-c)/o.value/l.width*100,b=(s-n)/o.value/l.height*100;l.rotate>45&&l.rotate<135&&(d=(s-n)/o.value/l.width*100,b=-(a-c)/o.value/l.height*100),(l.rotate>=135&&l.rotate<=180||l.rotate>=-180&&l.rotate<=-135)&&(d=-d,b=-b),l.rotate>-135&&l.rotate<-45&&(d=-(s-n)/o.value/l.width*100,b=(a-c)/o.value/l.height*100);let m=i.left+d,p=i.top+b;m<0?m=0:m+i.width>r.width&&(m=r.width-i.width),p<0?p=0:p+i.height>r.height&&(p=r.height-i.height),u.value={...u.value,left:m,top:p}},document.onmouseup=()=>{t=!1,document.onmousemove=null,document.onmouseup=null,f(),setTimeout(()=>{a.value=!1},0)}},h=(e,t)=>{a.value=!0;let n=!0;const r=50/l.width*100,i=50/l.height*100,d=e.pageX,b=e.pageY,m=s.value,p={...u.value},O=u.value.width/u.value.height;document.onmousemove=e=>{if(!n)return;const a=e.pageX,s=e.pageY;let j,f,v,h,y=(a-d)/o.value/l.width*100,g=(s-b)/o.value/l.height*100;l.rotate>45&&l.rotate<135&&(y=(s-b)/o.value/l.width*100,g=-(a-d)/o.value/l.height*100),(l.rotate>=135&&l.rotate<=180||l.rotate>=-180&&l.rotate<=-135)&&(y=-y,g=-g),l.rotate>-135&&l.rotate<-45&&(y=-(s-b)/o.value/l.width*100,g=(a-d)/o.value/l.height*100),c.value&&(t!==Ea.RIGHT_BOTTOM&&t!==Ea.LEFT_TOP||(g=y/O),t!==Ea.LEFT_BOTTOM&&t!==Ea.RIGHT_TOP||(g=-y/O)),t===Ea.LEFT_TOP?(p.left+y<0&&(y=-p.left),p.top+g<0&&(g=-p.top),p.width-y<r&&(y=p.width-r),p.height-g<i&&(g=p.height-i),v=p.width-y,h=p.height-g,j=p.left+y,f=p.top+g):t===Ea.RIGHT_TOP?(p.left+p.width+y>m.width&&(y=m.width-(p.left+p.width)),p.top+g<0&&(g=-p.top),p.width+y<r&&(y=r-p.width),p.height-g<i&&(g=p.height-i),v=p.width+y,h=p.height-g,j=p.left,f=p.top+g):t===Ea.LEFT_BOTTOM?(p.left+y<0&&(y=-p.left),p.top+p.height+g>m.height&&(g=m.height-(p.top+p.height)),p.width-y<r&&(y=p.width-r),p.height+g<i&&(g=i-p.height),v=p.width-y,h=p.height+g,j=p.left+y,f=p.top):t===Ea.RIGHT_BOTTOM?(p.left+p.width+y>m.width&&(y=m.width-(p.left+p.width)),p.top+p.height+g>m.height&&(g=m.height-(p.top+p.height)),p.width+y<r&&(y=r-p.width),p.height+g<i&&(g=i-p.height),v=p.width+y,h=p.height+g,j=p.left,f=p.top):t===Ea.TOP?(p.top+g<0&&(g=-p.top),p.height-g<i&&(g=p.height-i),v=p.width,h=p.height-g,j=p.left,f=p.top+g):t===Ea.BOTTOM?(p.top+p.height+g>m.height&&(g=m.height-(p.top+p.height)),p.height+g<i&&(g=i-p.height),v=p.width,h=p.height+g,j=p.left,f=p.top):t===Ea.LEFT?(p.left+y<0&&(y=-p.left),p.width-y<r&&(y=p.width-r),v=p.width-y,h=p.height,j=p.left+y,f=p.top):(p.left+p.width+y>m.width&&(y=m.width-(p.left+p.width)),p.width+y<r&&(y=r-p.width),h=p.height,v=p.width+y,j=p.left,f=p.top),u.value={left:j,top:f,width:v,height:h}},document.onmouseup=()=>{n=!1,document.onmousemove=null,document.onmouseup=null,f(),setTimeout(()=>a.value=!1,0)}},y=Object(C["computed"])(()=>{const e="rotate-",t=l.rotate;return t>-22.5&&t<=22.5?e+0:t>22.5&&t<=67.5?e+45:t>67.5&&t<=112.5?e+90:t>112.5&&t<=157.5?e+135:t>157.5||t<=-157.5?e+0:t>-157.5&&t<=-112.5?e+45:t>-112.5&&t<=-67.5?e+90:t>-67.5&&t<=-22.5?e+135:e+0}),g=[Ea.LEFT_TOP,Ea.RIGHT_TOP,Ea.LEFT_BOTTOM,Ea.RIGHT_BOTTOM],x=[Ea.TOP,Ea.BOTTOM,Ea.LEFT,Ea.RIGHT];return(t,l)=>{const o=Object(C["resolveDirective"])("click-outside");return Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"image-clip-handler",style:Object(C["normalizeStyle"])(n.value)},[Object(C["createElementVNode"])("img",{class:"bottom-img",src:e.src,draggable:!1,alt:"",style:Object(C["normalizeStyle"])(Object(C["unref"])(d))},null,12,Ri),Object(C["createElementVNode"])("div",{class:"top-image-content",style:Object(C["normalizeStyle"])({...Object(C["unref"])(b),clipPath:e.clipPath})},[Object(C["createElementVNode"])("img",{class:"top-img",src:e.src,draggable:!1,alt:"",style:Object(C["normalizeStyle"])(Object(C["unref"])(m))},null,12,Pi)],4),Object(C["createElementVNode"])("div",{class:"operate",style:Object(C["normalizeStyle"])(Object(C["unref"])(b)),onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(e=>v(e),["stop"]))},[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(g,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["clip-point",e,Object(C["unref"])(y)]),key:e,onMousedown:Object(C["withModifiers"])(t=>h(t,e),["stop"])},qi,42,Hi)),64)),(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(x,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["clip-point",e,Object(C["unref"])(y)]),key:e,onMousedown:Object(C["withModifiers"])(t=>h(t,e),["stop"])},Xi,42,Gi)),64))],36)],4)),[[o,O]])}}});l("5970");const Wi=V()(Zi,[["__scopeId","data-v-3e0199ec"]]);var Ji=Wi;const Qi=["src"];var Ki=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=Object(ko["c"])(),o=Object(ko["e"])(),{clipingImageElementId:c}=Object(N["c"])(l),n=Object(C["computed"])(()=>c.value===t.elementInfo.id),{addHistorySnapshot:a}=Object(Ra["a"])(),r=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:i}=Oi(r),s=Object(C["computed"])(()=>t.elementInfo.flipH),d=Object(C["computed"])(()=>t.elementInfo.flipV),{flipStyle:u}=ji(s,d),b=Object(C["computed"])(()=>t.elementInfo.clip),{clipShape:m,imgPosition:p}=vi(b),O=Object(C["computed"])(()=>t.elementInfo.filters),{filter:j}=hi(O),f=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},v=e=>{if(l.setClipingImageElementId(""),!e)return;const{range:c,position:n}=e,r=t.elementInfo.clip||{shape:"rect",range:[[0,0],[100,100]]},i=t.elementInfo.left+n.left,s=t.elementInfo.top+n.top,d=t.elementInfo.width+n.width,u=t.elementInfo.height+n.height;let b=0,m=0;if(t.elementInfo.rotate){const e=i+d/2-(t.elementInfo.left+t.elementInfo.width/2),l=-(s+u/2-(t.elementInfo.top+t.elementInfo.height/2)),o=-t.elementInfo.rotate*Math.PI/180,c=e*Math.cos(o)-l*Math.sin(o),n=e*Math.sin(o)+l*Math.cos(o);b=c-e,m=-(n-l)}const p={clip:{...r,range:c},left:i+b,top:s+m,width:d,height:u};o.updateElement({id:t.elementInfo.id,props:p}),a()};return(t,l)=>{const o=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-image",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["unref"])(n)?(Object(C["openBlock"])(),Object(C["createBlock"])(Ji,{key:0,src:e.elementInfo.src,clipData:e.elementInfo.clip,width:e.elementInfo.width,height:e.elementInfo.height,top:e.elementInfo.top,left:e.elementInfo.left,rotate:e.elementInfo.rotate,clipPath:Object(C["unref"])(m).style,onClip:l[0]||(l[0]=e=>v(e))},null,8,["src","clipData","width","height","top","left","rotate","clipPath"])):Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:1,class:"element-content",style:Object(C["normalizeStyle"])({filter:Object(C["unref"])(i)?`drop-shadow(${Object(C["unref"])(i)})`:"",transform:Object(C["unref"])(u)}),onMousedown:l[2]||(l[2]=e=>f(e)),onTouchstart:l[3]||(l[3]=e=>f(e))},[Object(C["createVNode"])(Fi,{elementInfo:e.elementInfo},null,8,["elementInfo"]),Object(C["createElementVNode"])("div",{class:"image-content",style:Object(C["normalizeStyle"])({clipPath:Object(C["unref"])(m).style})},[Object(C["createElementVNode"])("img",{src:e.elementInfo.src,draggable:!1,style:Object(C["normalizeStyle"])({top:Object(C["unref"])(p).top,left:Object(C["unref"])(p).left,width:Object(C["unref"])(p).width,height:Object(C["unref"])(p).height,filter:Object(C["unref"])(j)}),onDragstart:l[1]||(l[1]=Object(C["withModifiers"])(()=>{},["prevent"])),alt:""},null,44,Qi),e.elementInfo.colorMask?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"color-mask",style:Object(C["normalizeStyle"])({backgroundColor:e.elementInfo.colorMask.color,opacity:e.elementInfo.colorMask.opacity})},null,4)):Object(C["createCommentVNode"])("",!0)],4)],36)),[[o,e.contextmenus]])],4)],6)}}});l("bcf0");const es=V()(Ki,[["__scopeId","data-v-963e3dfc"]]);var ts=es;l("f3e6");const ls=["width","height"],os=["d","stroke","stroke-width","stroke-dasharray"];var cs=Object(C["defineComponent"])({__name:"ElementOutline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object}},setup(e){const t=e,{outlineWidth:l,outlineStyle:o,outlineColor:c}=yi(Object(C["toRef"])(t,"outline"));return(t,n)=>e.outline?(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{key:0,class:"element-outline",overflow:"visible",width:e.width,height:e.height},[Object(C["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",d:`M0,0 L${e.width},0 L${e.width},${e.height} L0,${e.height} Z`,stroke:Object(C["unref"])(c),"stroke-width":Object(C["unref"])(l),"stroke-dasharray":"dashed"===Object(C["unref"])(o)?"10 6":"0 0"},null,8,os)],8,ls)):Object(C["createCommentVNode"])("",!0)}});l("4731");const ns=V()(cs,[["__scopeId","data-v-61b7d06a"]]);var as=ns,rs=l("ce1c"),is=l("2566"),ss=l("db87"),ds=l("d5aa"),us=l("103c"),bs=l("d67c"),ms=l("05b7"),ps=l("2a11"),Os=l("aa43"),js=l("28d9");const fs=e=>{const t={},l=(e,l)=>t[e]=l;return l("Alt-ArrowUp",rs["c"]),l("Alt-ArrowDown",rs["b"]),l("Ctrl-z",bs["c"]),l("Ctrl-y",bs["b"]),l("Backspace",js["f"]),l("Escape",rs["e"]),l("Ctrl-b",Object(rs["f"])(e.marks.strong)),l("Ctrl-i",Object(rs["f"])(e.marks.em)),l("Ctrl-u",Object(rs["f"])(e.marks.underline)),l("Ctrl-d",Object(rs["f"])(e.marks.strikethrough)),l("Enter",Object(Os["f"])(e.nodes.list_item)),l("Mod-[",Object(Os["b"])(e.nodes.list_item)),l("Mod-]",Object(Os["e"])(e.nodes.list_item)),t},vs=e=>Object(js["g"])(/^\s*>\s$/,e),hs=e=>Object(js["g"])(/^(\d+)\.\s$/,e,e=>({order:+e[1]}),(e,t)=>t.childCount+t.attrs.order===+e[1]),ys=e=>Object(js["g"])(/^\s*([-+*])\s$/,e),gs=e=>Object(js["e"])(/^```$/,e),xs=e=>{const t=[...js["d"],js["a"],js["b"]];return t.push(vs(e.nodes.blockquote)),t.push(hs(e.nodes.ordered_list)),t.push(ys(e.nodes.bullet_list)),t.push(gs(e.nodes.code_block)),Object(js["c"])({rules:t})},ks=e=>[xs(e),Object(us["b"])(fs(e)),Object(us["b"])(rs["a"]),Object(ms["a"])(),Object(ps["a"])(),Object(bs["a"])()];var Cs=l("5bf8");const Ns={...Os["d"],content:"list_item+",group:"block"},Es={...Os["a"],content:"list_item+",group:"block"},ws={...Os["c"],content:"paragraph block*",group:"block"},Vs={attrs:{align:{default:""},indent:{default:0}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:e=>{const{textAlign:t}=e.style;let l=e.getAttribute("align")||t||"";l=/(left|right|center|justify)/.test(l)?l:"";const o=+(e.getAttribute("data-indent")||0);return{align:l,indent:o}}}],toDOM:e=>{const{align:t,indent:l}=e.attrs;let o="";t&&"left"!==t&&(o+=`text-align: ${t};`);const c={style:o};return l&&(c["data-indent"]=l),["p",c,0]}},{hard_break:Is,...Bs}=Cs["b"];var Ss={...Bs,ordered_list:Ns,bullet_list:Es,list_item:ws,paragraph:Vs};const Ls={excludes:"subscript",parseDOM:[{tag:"sub"},{style:"vertical-align",getAttrs:e=>"sub"===e&&null}],toDOM:()=>["sub",0]},_s={excludes:"superscript",parseDOM:[{tag:"sup"},{style:"vertical-align",getAttrs:e=>"super"===e&&null}],toDOM:()=>["sup",0]},Ts={parseDOM:[{tag:"strike"},{style:"text-decoration",getAttrs:e=>"line-through"===e&&null},{style:"text-decoration-line",getAttrs:e=>"line-through"===e&&null}],toDOM:()=>["span",{style:"text-decoration-line: line-through"},0]},Ms={parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:e=>"underline"===e&&null},{style:"text-decoration-line",getAttrs:e=>"underline"===e&&null}],toDOM:()=>["span",{style:"text-decoration: underline"},0]},Ds={attrs:{color:{}},inline:!0,group:"inline",parseDOM:[{style:"color",getAttrs:e=>e?{color:e}:{}}],toDOM:e=>{const{color:t}=e.attrs;let l="";return t&&(l+=`color: ${t};`),["span",{style:l},0]}},As={attrs:{backcolor:{}},inline:!0,group:"inline",parseDOM:[{style:"background-color",getAttrs:e=>e?{backcolor:e}:{}}],toDOM:e=>{const{backcolor:t}=e.attrs;let l="";return t&&(l+=`background-color: ${t};`),["span",{style:l},0]}},zs={attrs:{fontsize:{}},inline:!0,group:"inline",parseDOM:[{style:"font-size",getAttrs:e=>e?{fontsize:e}:{}}],toDOM:e=>{const{fontsize:t}=e.attrs;let l="";return t&&(l+="font-size: "+t),["span",{style:l},0]}},Fs={attrs:{fontname:{}},inline:!0,group:"inline",parseDOM:[{style:"font-family",getAttrs:e=>({fontname:e&&"string"===typeof e?e.replace(/[\"\']/g,""):""})}],toDOM:e=>{const{fontname:t}=e.attrs;let l="";return t&&(l+="font-family: "+t),["span",{style:l},0]}},$s={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href"),l=e.getAttribute("title");return{href:t,title:l}}}],toDOM:e=>["a",e.attrs,0]};var Rs={...Cs["a"],subscript:Ls,superscript:_s,strikethrough:Ts,underline:Ms,forecolor:Ds,backcolor:As,fontsize:zs,fontname:Fs,link:$s};const Ps=Ss,Hs=Rs,Us=new ds["i"]({nodes:Ps,marks:Hs}),qs=e=>{const t=`<div>${e}</div>`,l=new window.DOMParser,o=l.parseFromString(t,"text/html").body.firstElementChild;return ds["a"].fromSchema(Us).parse(o)},Gs=(e,t,l={})=>new ss["c"](e,{state:is["b"].create({doc:qs(t),plugins:ks(Us)}),...l});var Ys,Xs=l("6bca"),Zs=l("a512");(function(e){e["RICH_TEXT_COMMAND"]="RICH_TEXT_COMMAND",e["OPEN_CHART_DATA_EDITOR"]="OPEN_CHART_DATA_EDITOR",e["OPEN_LATEX_EDITOR"]="OPEN_LATEX_EDITOR"})(Ys||(Ys={}));const Ws=Object(Zs["a"])();var Js=Ws;const Qs=(e,t,l)=>{const{selection:o,doc:c}=e;if(!o||!c)return e;const{from:n,to:a}=o,{nodes:r}=t,i=r.blockquote,s=r.list_item,d=r.paragraph,u=[];l=l||"";const b=new Set([i,s,d]);return c.nodesBetween(n,a,(e,t)=>{const o=e.type,c=e.attrs.align||"";return c!==l&&b.has(o)&&u.push({node:e,pos:t,nodeType:o}),!0}),u.length?(u.forEach(t=>{const{node:o,pos:c,nodeType:n}=t;let{attrs:a}=o;a=l?{...a,align:l}:{...a,align:null},e=e.setNodeMarkup(c,n,a,o.marks)}),e):e},Ks=(e,t)=>{const{state:l}=e,{schema:o,selection:c}=l,n=Qs(l.tr.setSelection(c),o,t);e.dispatch(n)},ed=(e,t)=>e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list,td=(e,t)=>(l,o)=>{const{schema:c,selection:n}=l,{$from:a,$to:r}=n,i=a.blockRange(r);if(!i)return!1;const s=Object(Xs["e"])(e=>ed(e,c))(n);if(i.depth>=1&&s&&i.depth-s.depth<=1){if(s.node.type===e)return Object(Os["b"])(t)(l,o);if(ed(s.node,c)&&e.validContent(s.node.content)){const{tr:t}=l;return t.setNodeMarkup(s.pos,e),o&&o(t),!1}}return Object(Os["g"])(e)(l,o)};function ld(e,t,l){if(!e.doc)return e;const o=e.doc.nodeAt(t);if(!o)return e;const c=0,n=7;let a=(o.attrs.indent||0)+l;if(a<c&&(a=c),a>n&&(a=n),a===o.attrs.indent)return e;const r={...o.attrs,indent:a};return e.setNodeMarkup(t,o.type,r,o.marks)}const od=(e,t,l)=>{const{selection:o,doc:c}=e;if(!o||!c)return e;if(!(o instanceof is["g"]||o instanceof is["a"]))return e;const{from:n,to:a}=o;return c.nodesBetween(n,a,(o,c)=>{const n=o.type;return"paragraph"===n.name||"blockquote"===n.name?(e=ld(e,c,l),!1):!ed(o,t)}),e},cd=(e,t)=>{const{state:l}=e,{schema:o,selection:c}=l,n=od(l.tr.setSelection(c),o,t);return!!n.docChanged&&(e.dispatch(n),!0)};var nd=Object(C["defineComponent"])({__name:"ProsemirrorEditor",props:{elementId:{type:String,required:!0},defaultColor:{type:String,required:!0},defaultFontName:{type:String,required:!0},editable:{type:Boolean,default:!1},value:{type:String,required:!0},autoFocus:{type:Boolean,default:!1}},emits:["update","focus","blur"],setup(e,{expose:t,emit:l}){const o=e,c=Object(ko["c"])(),{handleElementId:n}=Object(N["c"])(c),a=Object(C["ref"])();let r;const i=Object(Yt["debounce"])((function(){l("update",r.dom.innerHTML)}),300,{trailing:!0}),s=()=>{c.setDisableHotkeysState(!0),l("focus")},d=()=>{c.setDisableHotkeysState(!1),l("blur")},u=Object(Yt["debounce"])((function(){const e=Object(Xs["g"])(r,{color:o.defaultColor,fontname:o.defaultFontName});c.setRichtextAttrs(e)}),30,{trailing:!0}),b=()=>{i(),u()},m=Object(C["computed"])(()=>o.value);Object(C["watch"])(m,()=>{if(!r)return;if(r.hasFocus())return;const{doc:e,tr:t}=r.state;r.dispatch(t.replaceRangeWith(0,e.content.size,qs(m.value)))}),Object(C["watch"])(()=>o.editable,()=>{r.setProps({editable:()=>o.editable})}),Object(C["onMounted"])(()=>{r=Gs(a.value,m.value,{handleDOMEvents:{focus:s,blur:d,keydown:b,click:u},editable:()=>o.editable}),o.autoFocus&&r.focus()}),Object(C["onUnmounted"])(()=>{r&&r.destroy()});const p=()=>r.focus();t({focus:p});const O=({target:e,action:t})=>{if(!e&&n.value!==o.elementId)return;if(e&&e!==o.elementId)return;const l="command"in t?[t]:t;for(const o of l)if("fontname"===o.command&&o.value){const e=r.state.schema.marks.fontname.create({fontname:o.value});Object(Xs["b"])(r),Object(Xs["a"])(r,e)}else if("fontsize"===o.command&&o.value){const e=r.state.schema.marks.fontsize.create({fontsize:o.value});Object(Xs["b"])(r),Object(Xs["a"])(r,e)}else if("fontsize-add"===o.command){const e=o.value?+o.value:2;Object(Xs["b"])(r);const t=Object(Xs["f"])(r)+e+"px",l=r.state.schema.marks.fontsize.create({fontsize:t});Object(Xs["a"])(r,l)}else if("fontsize-reduce"===o.command){const e=o.value?+o.value:2;Object(Xs["b"])(r);let t=Object(Xs["f"])(r)-e;t<12&&(t=12);const l=r.state.schema.marks.fontsize.create({fontsize:t+"px"});Object(Xs["a"])(r,l)}else if("color"===o.command&&o.value){const e=r.state.schema.marks.forecolor.create({color:o.value});Object(Xs["b"])(r),Object(Xs["a"])(r,e)}else if("backcolor"===o.command&&o.value){const e=r.state.schema.marks.backcolor.create({backcolor:o.value});Object(Xs["b"])(r),Object(Xs["a"])(r,e)}else if("bold"===o.command)Object(Xs["b"])(r),Object(rs["f"])(r.state.schema.marks.strong)(r.state,r.dispatch);else if("em"===o.command)Object(Xs["b"])(r),Object(rs["f"])(r.state.schema.marks.em)(r.state,r.dispatch);else if("underline"===o.command)Object(Xs["b"])(r),Object(rs["f"])(r.state.schema.marks.underline)(r.state,r.dispatch);else if("strikethrough"===o.command)Object(Xs["b"])(r),Object(rs["f"])(r.state.schema.marks.strikethrough)(r.state,r.dispatch);else if("subscript"===o.command)Object(rs["f"])(r.state.schema.marks.subscript)(r.state,r.dispatch);else if("superscript"===o.command)Object(rs["f"])(r.state.schema.marks.superscript)(r.state,r.dispatch);else if("blockquote"===o.command)Object(rs["g"])(r.state.schema.nodes.blockquote)(r.state,r.dispatch);else if("code"===o.command)Object(rs["f"])(r.state.schema.marks.code)(r.state,r.dispatch);else if("align"===o.command&&o.value)Ks(r,o.value);else if("indent"===o.command&&o.value)cd(r,+o.value);else if("bulletList"===o.command){const{bullet_list:e,list_item:t}=r.state.schema.nodes;td(e,t)(r.state,r.dispatch)}else if("orderedList"===o.command){const{ordered_list:e,list_item:t}=r.state.schema.nodes;td(e,t)(r.state,r.dispatch)}else if("clear"===o.command){Object(Xs["b"])(r);const{$from:e,$to:t}=r.state.selection;r.dispatch(r.state.tr.removeMark(e.pos,t.pos))}else if("link"===o.command){const e=r.state.schema.marks.link,{from:t,to:l}=r.state.selection,c=Object(Xs["d"])(r.state.doc,t,l,e);if(c)if(o.value){const e=r.state.schema.marks.link.create({href:o.value,title:o.value});Object(Xs["a"])(r,e,{from:c.from.pos,to:c.to.pos+1})}else r.dispatch(r.state.tr.removeMark(c.from.pos,c.to.pos+1,e));else if(Object(Xs["h"])(r.state,e))if(o.value){const e=r.state.schema.marks.link.create({href:o.value,title:o.value});Object(Xs["a"])(r,e)}else Object(rs["f"])(e)(r.state,r.dispatch);else o.value&&(Object(Xs["b"])(r),Object(rs["f"])(e,{href:o.value,title:o.value})(r.state,r.dispatch))}else"insert"===o.command&&o.value&&r.dispatch(r.state.tr.insertText(o.value));r.focus(),i(),u()};return Js.on(Ys.RICH_TEXT_COMMAND,O),Object(C["onUnmounted"])(()=>{Js.off(Ys.RICH_TEXT_COMMAND,O)}),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"prosemirror-editor",ref_key:"editorViewRef",ref:a},null,512))}});l("a511");const ad=V()(nd,[["__scopeId","data-v-1debd6ff"]]);var rd=ad;const id=e=>(Object(C["pushScopeId"])("data-v-7135a611"),e=e(),Object(C["popScopeId"])(),e),sd=id(()=>Object(C["createElementVNode"])("div",{class:"drag-handler top"},null,-1)),dd=id(()=>Object(C["createElementVNode"])("div",{class:"drag-handler bottom"},null,-1));var ud=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=Object(ko["c"])(),o=Object(ko["e"])(),{handleElementId:c,isScaling:n}=Object(N["c"])(l),{addHistorySnapshot:a}=Object(Ra["a"])(),r=Object(C["ref"])(),i=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:s}=Oi(i),d=(e,l=!0)=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo,l))},u=Object(C["ref"])(-1);Object(C["watch"])(n,()=>{c.value===t.elementInfo.id&&(n.value||-1===u.value||(o.updateElement({id:t.elementInfo.id,props:{height:u.value}}),u.value=-1))});const b=e=>{const l=e[0].contentRect;if(!r.value)return;const c=l.height;t.elementInfo.height!==c&&(n.value?u.value=c:o.updateElement({id:t.elementInfo.id,props:{height:c}}))},m=new ResizeObserver(b);Object(C["onMounted"])(()=>{r.value&&m.observe(r.value)}),Object(C["onUnmounted"])(()=>{r.value&&m.unobserve(r.value)});const p=e=>{o.updateElement({id:t.elementInfo.id,props:{content:e}}),a()},O=()=>{const e=t.elementInfo.content.replaceAll(/<[^>]+>/g,"");e||o.deleteElement(t.elementInfo.id)},j=Object(C["computed"])(()=>c.value===t.elementInfo.id);return Object(C["watch"])(j,()=>{j.value||O()}),(t,l)=>{const o=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-text",{lock:e.elementInfo.lock}]),ref_key:"elementRef",ref:r,style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({backgroundColor:e.elementInfo.fill,opacity:e.elementInfo.opacity,textShadow:Object(C["unref"])(s),lineHeight:e.elementInfo.lineHeight,letterSpacing:(e.elementInfo.wordSpace||0)+"px",color:e.elementInfo.defaultColor,fontFamily:e.elementInfo.defaultFontName}),onMousedown:l[3]||(l[3]=e=>d(e)),onTouchstart:l[4]||(l[4]=e=>d(e))},[Object(C["createVNode"])(as,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(C["createVNode"])(rd,{class:"text",elementId:e.elementInfo.id,defaultColor:e.elementInfo.defaultColor,defaultFontName:e.elementInfo.defaultFontName,editable:!e.elementInfo.lock,value:e.elementInfo.content,style:Object(C["normalizeStyle"])({"--textIndent":(e.elementInfo.textIndent||0)+"px","--paragraphSpace":(void 0===e.elementInfo.paragraphSpace?5:e.elementInfo.paragraphSpace)+"px"}),onUpdate:l[0]||(l[0]=e=>p(e)),onMousedown:l[1]||(l[1]=e=>d(e,!1)),onTouchstart:l[2]||(l[2]=e=>d(e))},null,8,["elementId","defaultColor","defaultFontName","editable","value","style"]),sd,dd],36)),[[o,e.contextmenus]])],4)],6)}}});l("59bb");const bd=V()(ud,[["__scopeId","data-v-7135a611"]]);var md=bd;const pd=["id","gradientTransform"],Od=["stop-color"],jd=["stop-color"],fd=["id"],vd=["stop-color"],hd=["stop-color"];var yd=Object(C["defineComponent"])({__name:"GradientDefs",props:{id:{type:String,required:!0},type:{type:String},color1:{type:String,required:!0},color2:{type:String,required:!0},rotate:{type:Number,default:0}},setup(e){return(t,l)=>"linear"===e.type?(Object(C["openBlock"])(),Object(C["createElementBlock"])("linearGradient",{key:0,id:e.id,x1:"0%",y1:"0%",x2:"100%",y2:"0%",gradientTransform:`rotate(${e.rotate},0.5,0.5)`},[Object(C["createElementVNode"])("stop",{offset:"0%","stop-color":e.color1},null,8,Od),Object(C["createElementVNode"])("stop",{offset:"100%","stop-color":e.color2},null,8,jd)],8,pd)):(Object(C["openBlock"])(),Object(C["createElementBlock"])("radialGradient",{key:1,id:e.id},[Object(C["createElementVNode"])("stop",{offset:"0%","stop-color":e.color1},null,8,vd),Object(C["createElementVNode"])("stop",{offset:"100%","stop-color":e.color2},null,8,hd)],8,fd))}});const gd=yd;var xd=gd;const kd=["width","height"],Cd={key:0},Nd=["transform"],Ed=["d","fill","stroke","stroke-width","stroke-dasharray"];var wd=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=Object(ko["c"])(),o=Object(ko["e"])(),{handleElementId:c}=Object(N["c"])(l),{addHistorySnapshot:n}=Object(Ra["a"])(),a=(e,l=!0)=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo,l))},r=Object(C["computed"])(()=>t.elementInfo.outline),{outlineWidth:i,outlineStyle:s,outlineColor:d}=yi(r),u=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:b}=Oi(u),m=Object(C["computed"])(()=>t.elementInfo.flipH),p=Object(C["computed"])(()=>t.elementInfo.flipV),{flipStyle:O}=ji(m,p),j=Object(C["ref"])(!1);Object(C["watch"])(c,()=>{c.value!==t.elementInfo.id&&j.value&&(j.value=!1)});const f=Object(C["computed"])(()=>{const e={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"};return t.elementInfo.text?t.elementInfo.text:e}),v=e=>{const l={...f.value,content:e};o.updateElement({id:t.elementInfo.id,props:{text:l}}),n()},h=()=>{if(!t.elementInfo.text)return;const e=t.elementInfo.text.content.replaceAll(/<[^>]+>/g,"");e||(o.removeElementProps({id:t.elementInfo.id,propName:"text"}),n())},y=Object(C["ref"])(),g=()=>{j.value=!0,Object(C["nextTick"])(()=>y.value&&y.value.focus())};return(t,l)=>{const o=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-shape",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({opacity:e.elementInfo.opacity,filter:Object(C["unref"])(b)?`drop-shadow(${Object(C["unref"])(b)})`:"",transform:Object(C["unref"])(O),color:Object(C["unref"])(f).defaultColor,fontFamily:Object(C["unref"])(f).defaultFontName}),onMousedown:l[4]||(l[4]=e=>a(e)),onTouchstart:l[5]||(l[5]=e=>a(e)),onDblclick:l[6]||(l[6]=e=>g())},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height},[e.elementInfo.gradient?(Object(C["openBlock"])(),Object(C["createElementBlock"])("defs",Cd,[Object(C["createVNode"])(xd,{id:"editabel-gradient-"+e.elementInfo.id,type:e.elementInfo.gradient.type,color1:e.elementInfo.gradient.color[0],color2:e.elementInfo.gradient.color[1],rotate:e.elementInfo.gradient.rotate},null,8,["id","type","color1","color2","rotate"])])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("g",{transform:`scale(${e.elementInfo.width/e.elementInfo.viewBox[0]}, ${e.elementInfo.height/e.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(C["createElementVNode"])("path",{class:"shape-path","vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",d:e.elementInfo.path,fill:e.elementInfo.gradient?`url(#editabel-gradient-${e.elementInfo.id})`:e.elementInfo.fill,stroke:Object(C["unref"])(d),"stroke-width":Object(C["unref"])(i),"stroke-dasharray":"dashed"===Object(C["unref"])(s)?"10 6":"0 0"},null,8,Ed)],8,Nd)],8,kd)),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["shape-text",[Object(C["unref"])(f).align,{editable:j.value||Object(C["unref"])(f).content}]])},[j.value||Object(C["unref"])(f).content?(Object(C["openBlock"])(),Object(C["createBlock"])(rd,{key:0,ref_key:"prosemirrorEditorRef",ref:y,elementId:e.elementInfo.id,defaultColor:Object(C["unref"])(f).defaultColor,defaultFontName:Object(C["unref"])(f).defaultFontName,editable:!e.elementInfo.lock,value:Object(C["unref"])(f).content,onUpdate:l[0]||(l[0]=e=>v(e)),onBlur:l[1]||(l[1]=e=>h()),onMousedown:l[2]||(l[2]=e=>a(e,!1)),onTouchstart:l[3]||(l[3]=e=>a(e,!1))},null,8,["elementId","defaultColor","defaultFontName","editable","value"])):Object(C["createCommentVNode"])("",!0)],2)],36)),[[o,e.contextmenus]])],4)],6)}}});l("990c");const Vd=V()(wd,[["__scopeId","data-v-d4c718fa"]]);var Id=Vd;const Bd=["id","markerWidth","markerHeight","refX","refY"],Sd=["d","fill","transform"];var Ld=Object(C["defineComponent"])({__name:"LinePointMarker",props:{id:{type:String,required:!0},position:{type:String,required:!0},type:{type:String,required:!0},color:{type:String},baseSize:{type:Number,required:!0}},setup(e){const t=e,l={dot:"m0 5a5 5 0 1 0 10 0a5 5 0 1 0 -10 0z",arrow:"M0,0 L10,5 0,10 Z"},o={"arrow-start":180,"arrow-end":0},c=Object(C["computed"])(()=>l[t.type]),n=Object(C["computed"])(()=>o[`${t.type}-${t.position}`]||0),a=Object(C["computed"])(()=>t.baseSize<2?2:t.baseSize);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("marker",{id:`${e.id}-${e.type}-${e.position}`,markerUnits:"userSpaceOnUse",orient:"auto",markerWidth:3*Object(C["unref"])(a),markerHeight:3*Object(C["unref"])(a),refX:1.5*Object(C["unref"])(a),refY:1.5*Object(C["unref"])(a)},[Object(C["createElementVNode"])("path",{d:Object(C["unref"])(c),fill:e.color,transform:`scale(${.3*Object(C["unref"])(a)}, ${.3*Object(C["unref"])(a)}) rotate(${Object(C["unref"])(n)}, 5, 5)`},null,8,Sd)],8,Bd))}});const _d=Ld;var Td=_d;const Md=["width","height"],Dd=["d","stroke","stroke-width","stroke-dasharray","marker-start","marker-end"],Ad=["d"];var zd=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},o=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:c}=Oi(o),n=Object(C["computed"])(()=>{const e=Math.abs(t.elementInfo.start[0]-t.elementInfo.end[0]);return e<24?24:e}),a=Object(C["computed"])(()=>{const e=Math.abs(t.elementInfo.start[1]-t.elementInfo.end[1]);return e<24?24:e}),r=Object(C["computed"])(()=>"dashed"===t.elementInfo.style?"10 6":"0 0"),i=Object(C["computed"])(()=>Object(Sa["d"])(t.elementInfo));return(t,o)=>{const s=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-shape",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px"})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({filter:Object(C["unref"])(c)?`drop-shadow(${Object(C["unref"])(c)})`:""}),onMousedown:o[0]||(o[0]=e=>l(e)),onTouchstart:o[1]||(o[1]=e=>l(e))},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{overflow:"visible",width:Object(C["unref"])(n),height:Object(C["unref"])(a)},[Object(C["createElementVNode"])("defs",null,[e.elementInfo.points[0]?(Object(C["openBlock"])(),Object(C["createBlock"])(Td,{key:0,id:e.elementInfo.id,position:"start",type:e.elementInfo.points[0],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(C["createCommentVNode"])("",!0),e.elementInfo.points[1]?(Object(C["openBlock"])(),Object(C["createBlock"])(Td,{key:1,id:e.elementInfo.id,position:"end",type:e.elementInfo.points[1],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(C["createCommentVNode"])("",!0)]),Object(C["createElementVNode"])("path",{class:"line-point",d:Object(C["unref"])(i),stroke:e.elementInfo.color,"stroke-width":e.elementInfo.width,"stroke-dasharray":Object(C["unref"])(r),fill:"none","marker-start":e.elementInfo.points[0]?`url(#${e.elementInfo.id}-${e.elementInfo.points[0]}-start)`:"","marker-end":e.elementInfo.points[1]?`url(#${e.elementInfo.id}-${e.elementInfo.points[1]}-end)`:""},null,8,Dd),Object(C["withDirectives"])(Object(C["createElementVNode"])("path",{class:"line-path",d:Object(C["unref"])(i),stroke:"transparent","stroke-width":"20",fill:"none"},null,8,Ad),[[s,e.contextmenus]])],8,Md))],36)],6)}}});l("bde5");const Fd=V()(zd,[["__scopeId","data-v-6550e504"]]);var $d=Fd,Rd=l("5edb"),Pd=l.n(Rd),Hd=(l("965c"),Object(C["defineComponent"])({__name:"Chart",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},type:{type:String,required:!0},data:{type:Object,required:!0},options:{type:Object},themeColor:{type:Array,required:!0},legends:{type:Array,required:!0},gridColor:{type:String},legend:{type:String}},setup(e){const t=e,l=Object(C["ref"])(),o=Object(C["inject"])(Xr)||Object(C["ref"])(1);let c;const n=Object(C["computed"])(()=>t.legend?t.height-20:t.height),a=()=>{const e=t.options||{},l={...e,width:t.width*o.value,height:n.value*o.value},c="pie"===t.type?{...t.data,series:t.data.series[0]}:t.data;return{data:c,options:l}},r=()=>{if(!l.value)return;const e=Object(Yt["upperFirst"])(t.type),{data:o,options:n}=a();c=new Pd.a[e](l.value,o,n)},i=()=>{if(!c)return void r();const{data:e,options:t}=a();c.update(e,t)};Object(C["watch"])([()=>t.width,()=>t.height,()=>t.data,()=>t.options,o],i),Object(C["onMounted"])(r);const s=Object(C["computed"])(()=>{let e=[];if(t.themeColor.length>=10)e=t.themeColor;else if(1===t.themeColor.length)e=Gt()(t.themeColor[0]).analogous(10).map(e=>e.toHexString());else{const l=t.themeColor.length,o=Gt()(t.themeColor[l-1]).analogous(11-l).map(e=>e.toHexString());e=[...t.themeColor.slice(0,l-1),...o]}return e}),d=()=>{if(l.value)for(let e=0;e<10;e++)l.value.style.setProperty("--theme-color-"+(e+1),s.value[e])};Object(C["watch"])(s,d),Object(C["onMounted"])(d);const u=()=>{l.value&&t.gridColor&&l.value.style.setProperty("--grid-color",t.gridColor)};return Object(C["watch"])(()=>t.gridColor,u),Object(C["onMounted"])(u),(t,c)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"chart",style:Object(C["normalizeStyle"])({flexDirection:"top"===e.legend?"column-reverse":"column"})},[Object(C["createElementVNode"])("div",{class:"chart-content",ref_key:"chartRef",ref:l,style:Object(C["normalizeStyle"])({width:e.width+"px",height:Object(C["unref"])(n)+"px",transform:`scale(${1/Object(C["unref"])(o)})`})},null,4),e.legend?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"legends",style:Object(C["normalizeStyle"])({transform:`scale(${1/Object(C["unref"])(o)})`})},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.legends,(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"legend",key:l,style:Object(C["normalizeStyle"])({color:e.gridColor})},[Object(C["createElementVNode"])("div",{class:"block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(s)[l]})},null,4),Object(C["createTextVNode"])(" "+Object(C["toDisplayString"])(t),1)],4))),128))],4)):Object(C["createCommentVNode"])("",!0)],4))}}));l("921b"),l("f630");const Ud=V()(Hd,[["__scopeId","data-v-1aa2357d"]]);var qd=Ud,Gd=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},o=()=>{Js.emit(Ys.OPEN_CHART_DATA_EDITOR)};return(t,c)=>{const n=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-chart",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({backgroundColor:e.elementInfo.fill}),onMousedown:c[0]||(c[0]=e=>l(e)),onTouchstart:c[1]||(c[1]=e=>l(e)),onDblclick:c[2]||(c[2]=e=>o())},[Object(C["createVNode"])(as,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(C["createVNode"])(qd,{width:e.elementInfo.width,height:e.elementInfo.height,type:e.elementInfo.chartType,data:e.elementInfo.data,options:e.elementInfo.options,themeColor:e.elementInfo.themeColor,gridColor:e.elementInfo.gridColor,legends:e.elementInfo.data.legends,legend:e.elementInfo.legend||""},null,8,["width","height","type","data","options","themeColor","gridColor","legends","legend"])],36)),[[n,e.contextmenus]])],4)],6)}}});l("8216");const Yd=V()(Gd,[["__scopeId","data-v-f3c03862"]]);var Xd=Yd;l("3b4f");const Zd=e=>{if(!e)return{};const{bold:t,em:l,underline:o,strikethrough:c,color:n,backcolor:a,fontsize:r,fontname:i,align:s}=e;let d=`${o?"underline":""} ${c?"line-through":""}`;return" "===d&&(d="none"),{fontWeight:t?"bold":"normal",fontStyle:l?"italic":"normal",textDecoration:d,color:n||"#000",backgroundColor:a||"",fontSize:r||"14px",fontFamily:i||"微软雅黑",textAlign:s||"left"}},Wd=e=>e.replace(/\n/g,"</br>").replace(/ /g,"&nbsp;");var Jd=e=>{const t=Object(C["computed"])(()=>{const t=[];for(let l=0;l<e.value.length;l++){const o=e.value[l];for(let e=0;e<o.length;e++){const c=o[e];if(c.colspan>1||c.rowspan>1)for(let o=l;o<l+c.rowspan;o++)for(let n=o===l?e+1:e;n<e+c.colspan;n++)t.push(`${o}_${n}`)}}return t});return{hideCells:t}},Qd=e=>{const t=Object(C["ref"])(["",""]);return Object(C["watch"])(()=>e.value,()=>{e.value&&(t.value=Object(Sa["g"])(e.value.color))},{immediate:!0}),{subThemeColor:t}};const Kd=["innerHTML"];var eu=Object(C["defineComponent"])({__name:"CustomTextarea",props:{value:{type:String,default:""},contenteditable:{type:[Boolean,String],default:!1}},emits:["updateValue","insertExcelData"],setup(e,{emit:t}){const l=e,o=Object(C["ref"])(),c=Object(C["ref"])(""),n=Object(C["ref"])(!1);Object(C["watch"])(()=>l.value,()=>{n.value||(c.value=l.value,o.value&&(o.value.innerHTML=l.value))},{immediate:!0});const a=()=>{if(!o.value)return;const e=o.value.innerHTML;t("updateValue",e)},r=()=>{n.value=!0,o.value&&(o.value.onpaste=e=>{if(e.preventDefault(),!e.clipboardData)return;const l=e.clipboardData.items[0];l&&"string"===l.kind&&"text/plain"===l.type&&l.getAsString(e=>{const l=Sn(e);if("object"===typeof l)return;const c=Ln(e);if(c)return t("insertExcelData",c),void(o.value&&(o.value.innerHTML=c[0][0]));t("updateValue",e),document.execCommand("insertText",!1,e)})})},i=()=>{n.value=!1,o.value&&(o.value.onpaste=null)};return Object(C["onUnmounted"])(()=>{o.value&&(o.value.onpaste=null)}),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"custom-textarea",ref_key:"textareaRef",ref:o,onFocus:r,onBlur:i,onInput:t[0]||(t[0]=e=>a()),innerHTML:c.value},null,40,Kd))}});l("80dc");const tu=V()(eu,[["__scopeId","data-v-cdb58a1e"]]);var lu=tu;const ou={key:0,class:"handler"},cu=["onMousedown"],nu=["width"],au=["rowspan","colspan","data-cell-index","onMousedown","onMouseenter"],ru=["innerHTML"];var iu=Object(C["defineComponent"])({__name:"EditableTable",props:{data:{type:Array,required:!0},width:{type:Number,required:!0},colWidths:{type:Array,required:!0},outline:{type:Object,required:!0},theme:{type:Object},editable:{type:Boolean,default:!0}},emits:["change","changeColWidths","changeSelectedCells"],setup(e,{emit:t}){const l=e,{canvasScale:o}=Object(N["c"])(Object(ko["c"])()),c=Object(C["ref"])(!1),n=Object(C["ref"])([]),a=Object(C["ref"])([]),r=Object(C["computed"])({get(){return l.data},set(e){t("change",e)}}),i=Object(C["computed"])(()=>l.theme),{subThemeColor:s}=Qd(i),d=Object(C["ref"])([]),u=Object(C["computed"])(()=>d.value.reduce((e,t)=>e+t));Object(C["watch"])([()=>l.colWidths,()=>l.width],()=>{d.value=l.colWidths.map(e=>e*l.width)},{immediate:!0});const b=()=>{n.value=[],a.value=[]};Object(C["watch"])(()=>l.editable,()=>{l.editable||b()});const m=Object(C["computed"])(()=>{const e=[];for(let t=1;t<d.value.length+1;t++){const l=d.value.slice(0,t).reduce((e,t)=>e+t);e.push(l)}return e}),p=Object(C["computed"])(()=>l.data),{hideCells:O}=Jd(p),j=Object(C["computed"])(()=>{if(!n.value.length)return[];const[e,t]=n.value;if(!a.value.length)return[`${e}_${t}`];const[l,o]=a.value;if(e===l&&t===o)return[`${e}_${t}`];const c=[],i=Math.min(e,l),s=Math.min(t,o),d=Math.max(e,l),u=Math.max(t,o);for(let n=0;n<r.value.length;n++){const e=r.value[n];for(let t=0;t<e.length;t++)n>=i&&n<=d&&t>=s&&t<=u&&c.push(`${n}_${t}`)}return c});Object(C["watch"])(j,(e,l)=>{Object(Yt["isEqual"])(e,l)||t("changeSelectedCells",j.value)});const f=Object(C["computed"])(()=>j.value.length>1?null:j.value[0]),v=(Object(C["computed"])(()=>{if(!n.value.length)return null;const[e,t]=n.value;if(!a.value.length)return{row:[e,e],col:[t,t]};const[l,o]=a.value;if(e===l&&t===o)return{row:[e,e],col:[t,t]};const c=Math.min(e,l),r=Math.min(t,o),i=Math.max(e,l),s=Math.max(t,o);return{row:[c,i],col:[r,s]}}),()=>c.value=!1),h=(e,t,l)=>{0===e.button&&(a.value=[],c.value=!0,n.value=[t,l])},y=(e,t)=>{c.value&&(a.value=[e,t])};Object(C["onMounted"])(()=>{document.addEventListener("mouseup",v)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("mouseup",v)});const g=(e,t)=>O.value.includes(`${e}_${t}`),x=e=>{const t=r.value.length-1;n.value=[0,e],a.value=[t,e]},k=e=>{const t=r.value[e].length-1;n.value=[e,0],a.value=[e,t]},E=()=>{const e=r.value.length-1,t=r.value[e].length-1;n.value=[0,0],a.value=[e,t]},w=e=>{const t=JSON.parse(JSON.stringify(r.value)),l=r.value[e],o=[];for(let c=0;c<l.length;c++)g(e,c)&&o.push(c);for(const c of o)for(let l=e;l>=0;l--)if(!g(l,c)){t[l][c].rowspan=t[l][c].rowspan-1;break}t.splice(e,1),r.value=t},V=e=>{const l=JSON.parse(JSON.stringify(r.value)),o=[];for(let t=0;t<r.value.length;t++)g(t,e)&&o.push(t);for(const t of o)for(let o=e;o>=0;o--)if(!g(t,o)){l[t][o].colspan=l[t][o].colspan-1;break}r.value=l.map(t=>(t.splice(e,1),t)),d.value.splice(e,1),t("changeColWidths",d.value)},I=e=>{const t=JSON.parse(JSON.stringify(r.value)),l=[];for(let o=0;o<t[0].length;o++)l.push({colspan:1,rowspan:1,text:"",id:Object(Ba["b"])(10)});t.splice(e,0,l),r.value=t},B=e=>{r.value=r.value.map(t=>{const l={colspan:1,rowspan:1,text:"",id:Object(Ba["b"])(10)};return t.splice(e,0,l),t}),d.value.splice(e,0,100),t("changeColWidths",d.value)},S=(e,l)=>{let o=JSON.parse(JSON.stringify(r.value));const c={colspan:1,rowspan:1,text:""};if(e){const t=[];for(let l=0;l<e;l++){const e=[];for(let t=0;t<o[0].length;t++)e.push({...c,id:Object(Ba["b"])(10)});t.push(e)}o=[...o,...t]}l&&(o=o.map(e=>{const t=[];for(let o=0;o<l;o++){const e={...c,id:Object(Ba["b"])(10)};t.push(e)}return[...e,...t]}),d.value=[...d.value,...new Array(l).fill(100)],t("changeColWidths",d.value)),r.value=o},L=()=>{const[e,t]=n.value,[l,o]=a.value,c=Math.min(e,l),i=Math.min(t,o),s=Math.max(e,l),d=Math.max(t,o),u=JSON.parse(JSON.stringify(r.value));u[c][i].rowspan=s-c+1,u[c][i].colspan=d-i+1,r.value=u,b()},_=(e,t)=>{const l=JSON.parse(JSON.stringify(r.value));l[e][t].rowspan=1,l[e][t].colspan=1,r.value=l,b()},T=(e,l)=>{b();let c=!0;const n=d.value[l],a=e.pageX,r=50;document.onmousemove=e=>{if(!c)return;const t=(e.pageX-a)/o.value,i=n+t<r?r:Math.round(n+t);d.value[l]=i},document.onmouseup=()=>{c=!1,document.onmousemove=null,document.onmouseup=null,t("changeColWidths",d.value)}},M=()=>{const e=JSON.parse(JSON.stringify(r.value));for(let t=0;t<e.length;t++)for(let l=0;l<e[t].length;l++)j.value.includes(`${t}_${l}`)&&(e[t][l].text="");r.value=e},D=()=>{const e=(t,l)=>r.value[t]?r.value[t][l]?g(t,l)?e(t,l+1):[t,l]:e(t+1,0):null;a.value=[];const t=n.value[0],l=n.value[1]+1,o=e(t,l);o?n.value=o:(I(t+1),n.value=[t+1,0]),Object(C["nextTick"])(()=>{const e=document.querySelector(".cell-text.active");e&&e.focus()})},A=e=>{if(!l.editable||!j.value.length)return;const t=e.key.toUpperCase();if(j.value.length<2){if(t===Va.TAB&&(e.preventDefault(),D()),e.ctrlKey&&t===Va.UP){e.preventDefault();const t=+j.value[0].split("_")[0];I(t)}if(e.ctrlKey&&t===Va.DOWN){e.preventDefault();const t=+j.value[0].split("_")[0];I(t+1)}if(e.ctrlKey&&t===Va.LEFT){e.preventDefault();const t=+j.value[0].split("_")[1];B(t)}if(e.ctrlKey&&t===Va.RIGHT){e.preventDefault();const t=+j.value[0].split("_")[1];B(t+1)}}else t===Va.DELETE&&M()};Object(C["onMounted"])(()=>{document.addEventListener("keydown",A)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("keydown",A)});const z=Object(Yt["debounce"])((function(e,l,o){r.value[l][o].text=e,t("change",r.value)}),300,{trailing:!0}),F=(e,l,o)=>{const c=e.length,n=e[0].length;let a=0,i=0;l+c>r.value.length&&(a=l+c-r.value.length),o+n>r.value[0].length&&(i=o+n-r.value[0].length),(a||i)&&S(a,i),Object(C["nextTick"])(()=>{for(let t=0;t<c;t++)for(let c=0;c<n;c++)r.value[l+t][o+c]&&(r.value[l+t][o+c].text=e[t][c]);t("change",r.value)})},$=()=>{const e=[];for(let t=0;t<r.value.length;t++){const l=r.value[t],o=[];for(let e=0;e<l.length;e++)g(t,e)||o.push(l[e]);o.length&&e.push(o)}return e},R=()=>{const e=$(),t=e.length>1,l=e[0].length>1;return{canDeleteRow:t,canDeleteCol:l}},P=(e,t)=>{const l=j.value.length>1,o=r.value[e][t],c=l,n=!l&&(o.rowspan>1||o.colspan>1);return{canMerge:c,canSplit:n}},H=e=>{const t=e.dataset.cellIndex,l=+t.split("_")[0],o=+t.split("_")[1];j.value.includes(`${l}_${o}`)||(n.value=[l,o],a.value=[]);const{canMerge:c,canSplit:r}=P(l,o),{canDeleteRow:i,canDeleteCol:s}=R();return[{text:"插入列",children:[{text:"到左侧",handler:()=>B(o)},{text:"到右侧",handler:()=>B(o+1)}]},{text:"插入行",children:[{text:"到上方",handler:()=>I(l)},{text:"到下方",handler:()=>I(l+1)}]},{text:"删除列",disable:!s,handler:()=>V(o)},{text:"删除行",disable:!i,handler:()=>w(l)},{divider:!0},{text:"合并单元格",disable:!c,handler:L},{text:"取消合并单元格",disable:!r,handler:()=>_(l,o)},{divider:!0},{text:"选中当前列",handler:()=>x(o)},{text:"选中当前行",handler:()=>k(l)},{text:"选中全部单元格",handler:E}]};return(t,l)=>{var o,c,n,a,b;const p=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"editable-table",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(u)+"px"})},[e.editable?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",ou,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(m),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"drag-line",key:t,style:Object(C["normalizeStyle"])({left:e+"px"}),onMousedown:e=>T(e,t)},null,44,cu))),128))])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("table",{class:Object(C["normalizeClass"])({theme:Object(C["unref"])(i),"row-header":null===(o=Object(C["unref"])(i))||void 0===o?void 0:o.rowHeader,"row-footer":null===(c=Object(C["unref"])(i))||void 0===c?void 0:c.rowFooter,"col-header":null===(n=Object(C["unref"])(i))||void 0===n?void 0:n.colHeader,"col-footer":null===(a=Object(C["unref"])(i))||void 0===a?void 0:a.colFooter}),style:Object(C["normalizeStyle"])(`--themeColor: ${null===(b=Object(C["unref"])(i))||void 0===b?void 0:b.color}; --subThemeColor1: ${Object(C["unref"])(s)[0]}; --subThemeColor2: ${Object(C["unref"])(s)[1]}`)},[Object(C["createElementVNode"])("colgroup",null,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(d.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("col",{span:"1",key:t,width:e},null,8,nu))),128))]),Object(C["createElementVNode"])("tbody",null,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(r),(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("tr",{key:l},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t,(t,o)=>Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("td",{class:Object(C["normalizeClass"])(["cell",{selected:Object(C["unref"])(j).includes(`${l}_${o}`)&&Object(C["unref"])(j).length>1,active:Object(C["unref"])(f)===`${l}_${o}`}]),style:Object(C["normalizeStyle"])({borderStyle:e.outline.style,borderColor:e.outline.color,borderWidth:e.outline.width+"px",...Object(C["unref"])(Zd)(t.style)}),key:t.id,rowspan:t.rowspan,colspan:t.colspan,"data-cell-index":`${l}_${o}`,onMousedown:e=>h(e,l,o),onMouseenter:e=>y(l,o)},[Object(C["unref"])(f)===`${l}_${o}`?(Object(C["openBlock"])(),Object(C["createBlock"])(lu,{key:0,class:Object(C["normalizeClass"])(["cell-text",{active:Object(C["unref"])(f)===`${l}_${o}`}]),value:t.text,onUpdateValue:e=>Object(C["unref"])(z)(e,l,o),onInsertExcelData:e=>F(e,l,o)},null,8,["class","value","onUpdateValue","onInsertExcelData"])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:1,class:"cell-text",innerHTML:Object(C["unref"])(Wd)(t.text)},null,8,ru))],46,au)),[[C["vShow"],!Object(C["unref"])(O).includes(`${l}_${o}`)],[p,e=>H(e)]])),128))]))),128))])],6)],4)}}});l("bc8c");const su=V()(iu,[["__scopeId","data-v-bae8c794"]]);var du=su;const uu={class:"element-content"};var bu=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=Object(ko["c"])(),o=Object(ko["e"])(),{canvasScale:c,handleElementId:n,isScaling:a}=Object(N["c"])(l),r=Object(C["ref"])(),{addHistorySnapshot:i}=Object(Ra["a"])(),s=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},d=Object(C["ref"])(!1);Object(C["watch"])(n,()=>{n.value!==t.elementInfo.id&&(d.value=!1)}),Object(C["watch"])(d,()=>{l.setDisableHotkeysState(d.value)});const u=()=>{t.elementInfo.lock||(d.value=!0)},b=Object(C["ref"])(-1);Object(C["watch"])(a,()=>{n.value===t.elementInfo.id&&(a.value&&(d.value=!1),a.value||-1===b.value||(o.updateElement({id:t.elementInfo.id,props:{height:b.value}}),b.value=-1))});const m=e=>{const l=e[0].contentRect;if(!r.value)return;const c=l.height;t.elementInfo.height!==c&&(a.value?b.value=c:o.updateElement({id:t.elementInfo.id,props:{height:c}}))},p=new ResizeObserver(m);Object(C["onMounted"])(()=>{r.value&&p.observe(r.value)}),Object(C["onUnmounted"])(()=>{r.value&&p.unobserve(r.value)});const O=e=>{o.updateElement({id:t.elementInfo.id,props:{data:e}}),i()},j=e=>{const l=e.reduce((e,t)=>e+t),c=e.map(e=>e/l);o.updateElement({id:t.elementInfo.id,props:{width:l,colWidths:c}}),i()},f=e=>{Object(C["nextTick"])(()=>l.setSelectedTableCells(e))};return(t,l)=>{const o=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-table",{lock:e.elementInfo.lock}]),ref_key:"elementRef",ref:r,style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",uu,[Object(C["createVNode"])(du,{onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(()=>{},["stop"])),data:e.elementInfo.data,width:e.elementInfo.width,colWidths:e.elementInfo.colWidths,outline:e.elementInfo.outline,theme:e.elementInfo.theme,editable:d.value,onChange:l[1]||(l[1]=e=>O(e)),onChangeColWidths:l[2]||(l[2]=e=>j(e)),onChangeSelectedCells:l[3]||(l[3]=e=>f(e))},null,8,["data","width","colWidths","outline","theme","editable"]),!d.value||e.elementInfo.lock?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:Object(C["normalizeClass"])(["table-mask",{lock:e.elementInfo.lock}]),onDblclick:l[4]||(l[4]=e=>u()),onMousedown:l[5]||(l[5]=e=>s(e)),onTouchstart:l[6]||(l[6]=e=>s(e))},[Object(C["createElementVNode"])("div",{class:"mask-tip",style:Object(C["normalizeStyle"])({transform:`scale(${1/Object(C["unref"])(c)})`})},"双击编辑",4)],34)):Object(C["createCommentVNode"])("",!0)])),[[o,e.contextmenus]])],4)],6)}}});l("76c1");const mu=V()(bu,[["__scopeId","data-v-6391c486"]]);var pu=mu;const Ou=["width","height","stroke","stroke-width"],ju=["transform"],fu=["d"];var vu=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,l=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))},o=()=>{Js.emit(Ys.OPEN_LATEX_EDITOR)};return(t,c)=>{const n=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-latex",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-content",onMousedown:c[0]||(c[0]=e=>l(e)),onTouchstart:c[1]||(c[1]=e=>l(e)),onDblclick:c[2]||(c[2]=e=>o())},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.strokeWidth,fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[Object(C["createElementVNode"])("g",{transform:`scale(${e.elementInfo.width/e.elementInfo.viewBox[0]}, ${e.elementInfo.height/e.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(C["createElementVNode"])("path",{d:e.elementInfo.path},null,8,fu)],8,ju)],8,Ou))],32)),[[n,e.contextmenus]])],4)],6)}}});l("0f64");const hu=V()(vu,[["__scopeId","data-v-31390388"]]);var yu=hu,gu=(e,t)=>{Object(C["onMounted"])(()=>{if(!t.value)return;let l="normal";if(/m3u8(#|\?|$)/i.exec(e)?l="hls":/.flv(#|\?|$)/i.exec(e)&&(l="flv"),t.value&&"hls"===l&&(t.value.canPlayType("application/x-mpegURL")||t.value.canPlayType("application/vnd.apple.mpegURL"))&&(l="normal"),"hls"===l){const l=window.Hls;if(l&&l.isSupported()){const o=new l;o.loadSource(e),o.attachMedia(t.value)}}else if("flv"===l){const l=window.flvjs;if(l&&l.isSupported()){const o=l.createPlayer({type:"flv",url:e});o.attachMediaElement(t.value),o.load()}}})};const xu=e=>(Object(C["pushScopeId"])("data-v-2fc4c202"),e=e(),Object(C["popScopeId"])(),e),ku=["src","poster"],Cu={class:"bezel"},Nu=xu(()=>Object(C["createElementVNode"])("div",{class:"controller-mask"},null,-1)),Eu={class:"controller"},wu={class:"icons icons-left"},Vu={class:"icon-content"},Iu={class:"volume"},Bu={class:"icon-content"},Su=xu(()=>Object(C["createElementVNode"])("span",{class:"thumb"},null,-1)),Lu=[Su],_u={class:"time"},Tu={class:"ptime"},Mu=Object(C["createTextVNode"])(" / "),Du={class:"dtime"},Au={class:"icons icons-right"},zu={class:"speed"},Fu={class:"icon speed-icon"},$u=["onClick"],Ru=xu(()=>Object(C["createElementVNode"])("span",{class:"icon-content"},"循环",-1)),Pu=[Ru],Hu={class:"bar"},Uu=xu(()=>Object(C["createElementVNode"])("span",{class:"thumb"},null,-1)),qu=[Uu];var Gu=Object(C["defineComponent"])({__name:"index",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},src:{type:String,required:!0},poster:{type:String,default:""},scale:{type:Number,default:1}},setup(e){const t=e,l=(e=0)=>{if(0===e||isNaN(e))return"00:00";const t=e=>e<10?"0"+e:""+e,l=Math.floor(e/3600),o=Math.floor((e-3600*l)/60),c=Math.floor(e-3600*l-60*o);return(l>0?[l,o,c]:[o,c]).map(t).join(":")},o=e=>e.getBoundingClientRect().left,c=Object(C["ref"])(),n=Object(C["ref"])(),a=Object(C["ref"])(),r=Object(C["ref"])(.5),i=Object(C["ref"])(!0),s=Object(C["ref"])(0),d=Object(C["ref"])(0),u=Object(C["ref"])(0),b=Object(C["ref"])(!1),m=Object(C["ref"])(!1),p=Object(C["ref"])(1),O=Object(C["ref"])(!1),j=Object(C["ref"])("00:00"),f=Object(C["ref"])("0"),v=Object(C["computed"])(()=>l(s.value)),h=Object(C["computed"])(()=>l(d.value)),y=Object(C["computed"])(()=>s.value/d.value*100+"%"),g=Object(C["computed"])(()=>u.value/d.value*100+"%"),x=Object(C["computed"])(()=>100*r.value+"%"),k=Object(C["ref"])(!1),N=[{label:"2x",value:2},{label:"1.5x",value:1.5},{label:"1.25x",value:1.25},{label:"1x",value:1},{label:"0.75x",value:.75},{label:"0.5x",value:.5}],E=e=>{c.value&&(e=Math.max(e,0),e=Math.min(e,d.value),c.value.currentTime=e,s.value=e)},w=()=>{c.value&&(i.value=!1,c.value.play(),m.value=!0)},V=()=>{c.value&&(i.value=!0,c.value.pause(),m.value=!0)},I=()=>{i.value?w():V()},B=e=>{c.value&&(e=Math.max(e,0),e=Math.min(e,1),c.value.volume=e,r.value=e,c.value.muted&&0!==e&&(c.value.muted=!1))},S=e=>{c.value&&(c.value.playbackRate=e),p.value=e},L=()=>{var e;d.value=(null===(e=c.value)||void 0===e?void 0:e.duration)||0},_=()=>{var e;s.value=(null===(e=c.value)||void 0===e?void 0:e.currentTime)||0},T=()=>{b.value?(E(0),w()):V()},M=()=>{var e;u.value=null!==(e=c.value)&&void 0!==e&&e.buffered.length?c.value.buffered.end(c.value.buffered.length-1):0},D=()=>Ut["a"].error("视频加载失败"),A=e=>{if(!c.value||!n.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX;let l=(t-o(n.value))/n.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);const a=l*d.value;c.value.currentTime=a,s.value=a},z=e=>{if(!c.value||!n.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX;let l=(t-o(n.value))/n.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);const a=l*d.value;c.value.currentTime=a,s.value=a,document.removeEventListener("mousemove",A),document.removeEventListener("touchmove",A),document.removeEventListener("mouseup",z),document.removeEventListener("touchend",z)},F=()=>{document.addEventListener("mousemove",A),document.addEventListener("touchmove",A),document.addEventListener("mouseup",z),document.addEventListener("touchend",z)},$=e=>{if(!a.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX,l=(t-o(a.value))/45;B(l)},R=()=>{document.removeEventListener("mousemove",$),document.removeEventListener("touchmove",$),document.removeEventListener("mouseup",R),document.removeEventListener("touchend",R)},P=()=>{document.addEventListener("mousemove",$),document.addEventListener("touchmove",$),document.addEventListener("mouseup",R),document.addEventListener("touchend",R)},H=e=>{if(!a.value)return;const t=(e.clientX-o(a.value))/45;B(t)},U=e=>{if(d.value&&n.value){const t=n.value.getBoundingClientRect().left,o=e.clientX-t;if(o<0||o>n.value.offsetWidth)return;const c=d.value*(o/n.value.offsetWidth);f.value=o-(c>=3600?25:20)+"px",j.value=l(c),O.value=!0}},q=()=>{c.value&&(c.value.muted?(c.value.muted=!1,B(.5)):(c.value.muted=!0,B(0)))},G=()=>{b.value=!b.value},Y=Object(C["ref"])(-1),X=Object(C["ref"])(!1),Z=()=>{X.value=!1,clearTimeout(Y.value),Y.value=setTimeout(()=>{var e;null!==(e=c.value)&&void 0!==e&&e.played.length&&(X.value=!0)},3e3)};return gu(t.src,c),(t,l)=>{const o=Object(C["resolveComponent"])("IconPause"),s=Object(C["resolveComponent"])("IconPlayOne"),d=Object(C["resolveComponent"])("IconVolumeMute"),u=Object(C["resolveComponent"])("IconVolumeNotice"),E=Object(C["resolveComponent"])("IconVolumeSmall");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["video-player",{"hide-controller":X.value}]),style:Object(C["normalizeStyle"])({width:e.width*e.scale+"px",height:e.height*e.scale+"px",transform:`scale(${1/e.scale})`}),onMousemove:l[22]||(l[22]=e=>Z()),onClick:l[23]||(l[23]=e=>Z())},[Object(C["createElementVNode"])("div",{class:"video-wrap",onClick:l[8]||(l[8]=e=>I())},[Object(C["createElementVNode"])("video",{class:"video",ref_key:"videoRef",ref:c,src:e.src,poster:e.poster,"webkit-playsinline":"",playsinline:"",onDurationchange:l[0]||(l[0]=e=>L()),onTimeupdate:l[1]||(l[1]=e=>_()),onEnded:l[2]||(l[2]=e=>T()),onProgress:l[3]||(l[3]=e=>M()),onPlay:l[4]||(l[4]=e=>Z()),onPause:l[5]||(l[5]=e=>Z()),onError:l[6]||(l[6]=e=>D())},null,40,ku),Object(C["createElementVNode"])("div",Cu,[Object(C["createElementVNode"])("span",{class:Object(C["normalizeClass"])(["bezel-icon",{"bezel-transition":m.value}]),onAnimationend:l[7]||(l[7]=e=>m.value=!1)},[i.value?(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:0})):(Object(C["openBlock"])(),Object(C["createBlock"])(s,{key:1}))],34)])]),Nu,Object(C["createElementVNode"])("div",Eu,[Object(C["createElementVNode"])("div",wu,[Object(C["createElementVNode"])("div",{class:"icon play-icon",onClick:l[9]||(l[9]=e=>I())},[Object(C["createElementVNode"])("span",Vu,[i.value?(Object(C["openBlock"])(),Object(C["createBlock"])(s,{key:0})):(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:1}))])]),Object(C["createElementVNode"])("div",Iu,[Object(C["createElementVNode"])("div",{class:"icon volume-icon",onClick:l[10]||(l[10]=e=>q())},[Object(C["createElementVNode"])("span",Bu,[0===r.value?(Object(C["openBlock"])(),Object(C["createBlock"])(d,{key:0})):1===r.value?(Object(C["openBlock"])(),Object(C["createBlock"])(u,{key:1})):(Object(C["openBlock"])(),Object(C["createBlock"])(E,{key:2}))])]),Object(C["createElementVNode"])("div",{class:"volume-bar-wrap",onMousedown:l[11]||(l[11]=e=>P()),onTouchstart:l[12]||(l[12]=e=>P()),onClick:l[13]||(l[13]=e=>H(e))},[Object(C["createElementVNode"])("div",{class:"volume-bar",ref_key:"volumeBarRef",ref:a},[Object(C["createElementVNode"])("div",{class:"volume-bar-inner",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(x)})},Lu,4)],512)],32)]),Object(C["createElementVNode"])("span",_u,[Object(C["createElementVNode"])("span",Tu,Object(C["toDisplayString"])(Object(C["unref"])(v)),1),Mu,Object(C["createElementVNode"])("span",Du,Object(C["toDisplayString"])(Object(C["unref"])(h)),1)])]),Object(C["createElementVNode"])("div",Au,[Object(C["createElementVNode"])("div",zu,[Object(C["createElementVNode"])("div",Fu,[Object(C["createElementVNode"])("span",{class:"icon-content",onClick:l[14]||(l[14]=e=>k.value=!k.value)},"倍速"),k.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"speed-menu",onMouseleave:l[15]||(l[15]=e=>k.value=!1)},[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(N,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["speed-menu-item",{active:e.value===p.value}]),key:e.label,onClick:t=>S(e.value)},Object(C["toDisplayString"])(e.label),11,$u)),64))],32)):Object(C["createCommentVNode"])("",!0)])]),Object(C["createElementVNode"])("div",{class:"loop",onClick:l[16]||(l[16]=e=>G())},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["icon loop-icon",{active:b.value}])},Pu,2)])]),Object(C["createElementVNode"])("div",{class:"bar-wrap",ref_key:"playBarWrap",ref:n,onMousedown:l[17]||(l[17]=e=>F()),onTouchstart:l[18]||(l[18]=e=>F()),onMousemove:l[19]||(l[19]=e=>U(e)),onMouseenter:l[20]||(l[20]=e=>O.value=!0),onMouseleave:l[21]||(l[21]=e=>O.value=!1)},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["bar-time",{hidden:!O.value}]),style:Object(C["normalizeStyle"])({left:f.value})},Object(C["toDisplayString"])(j.value),7),Object(C["createElementVNode"])("div",Hu,[Object(C["createElementVNode"])("div",{class:"loaded",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(g)})},null,4),Object(C["createElementVNode"])("div",{class:"played",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(y)})},qu,4)])],544)])],38)}}});l("3696");const Yu=V()(Gu,[["__scopeId","data-v-2fc4c202"]]);var Xu=Yu,Zu=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Object(ko["c"])()),o=(e,l=!0)=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo,l))};return(t,c)=>{const n=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-video",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-content",onMousedown:c[2]||(c[2]=e=>o(e,!1)),onTouchstart:c[3]||(c[3]=e=>o(e,!1))},[Object(C["createVNode"])(Xu,{width:e.elementInfo.width,height:e.elementInfo.height,src:e.elementInfo.src,poster:e.elementInfo.poster,scale:Object(C["unref"])(l)},null,8,["width","height","src","poster","scale"]),(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(["t","b","l","r"],e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["handler-border",e]),key:e,onMousedown:c[0]||(c[0]=e=>o(e)),onTouchstart:c[1]||(c[1]=e=>o(e))},null,34)),64))],32)),[[n,e.contextmenus]])],4)],6)}}});l("679c");const Wu=V()(Zu,[["__scopeId","data-v-9d5469c6"]]);var Ju=Wu;const Qu=e=>(Object(C["pushScopeId"])("data-v-121f3d11"),e=e(),Object(C["popScopeId"])(),e),Ku=["src","autoplay"],eb={class:"controller"},tb={class:"icons"},lb={class:"icon-content"},ob={class:"volume"},cb={class:"icon-content"},nb=Qu(()=>Object(C["createElementVNode"])("span",{class:"thumb"},null,-1)),ab=[nb],rb={class:"time"},ib={class:"ptime"},sb=Object(C["createTextVNode"])(" / "),db={class:"dtime"},ub={class:"bar"},bb=Qu(()=>Object(C["createElementVNode"])("span",{class:"thumb"},null,-1)),mb=[bb];var pb=Object(C["defineComponent"])({__name:"AudioPlayer",props:{src:{type:String,required:!0},loop:{type:Boolean,required:!0},autoplay:{type:Boolean,default:!1},scale:{type:Number,default:1}},setup(e,{expose:t}){const l=e,o=(e=0)=>{if(0===e||isNaN(e))return"00:00";const t=e=>e<10?"0"+e:""+e,l=Math.floor(e/3600),o=Math.floor((e-3600*l)/60),c=Math.floor(e-3600*l-60*o);return(l>0?[l,o,c]:[o,c]).map(t).join(":")},c=e=>e.getBoundingClientRect().left,n=Object(C["ref"])(),a=Object(C["ref"])(),r=Object(C["ref"])(),i=Object(C["ref"])(.5),s=Object(C["ref"])(!0),d=Object(C["ref"])(0),u=Object(C["ref"])(0),b=Object(C["ref"])(0),m=Object(C["ref"])(!1),p=Object(C["ref"])("00:00"),O=Object(C["ref"])("0"),j=Object(C["computed"])(()=>o(d.value)),f=Object(C["computed"])(()=>o(u.value)),v=Object(C["computed"])(()=>d.value/u.value*100+"%"),h=Object(C["computed"])(()=>b.value/u.value*100+"%"),y=Object(C["computed"])(()=>100*i.value+"%"),g=e=>{n.value&&(e=Math.max(e,0),e=Math.min(e,u.value),n.value.currentTime=e,d.value=e)},x=()=>{n.value&&(s.value=!1,n.value.play())},k=()=>{n.value&&(s.value=!0,n.value.pause())},N=()=>{s.value?x():k()},E=e=>{n.value&&(e=Math.max(e,0),e=Math.min(e,1),n.value.volume=e,i.value=e,n.value.muted&&0!==e&&(n.value.muted=!1))},w=()=>{var e;u.value=(null===(e=n.value)||void 0===e?void 0:e.duration)||0},V=()=>{var e;d.value=(null===(e=n.value)||void 0===e?void 0:e.currentTime)||0},I=()=>{s.value=!1},B=()=>{l.loop?(g(0),x()):k()},S=()=>{var e;b.value=null!==(e=n.value)&&void 0!==e&&e.buffered.length?n.value.buffered.end(n.value.buffered.length-1):0},L=()=>Ut["a"].error("视频加载失败"),_=e=>{if(!n.value||!a.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX;let l=(t-c(a.value))/a.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);const o=l*u.value;n.value.currentTime=o,d.value=o},T=e=>{if(!n.value||!a.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX;let l=(t-c(a.value))/a.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);const o=l*u.value;n.value.currentTime=o,d.value=o,document.removeEventListener("mousemove",_),document.removeEventListener("touchmove",_),document.removeEventListener("mouseup",T),document.removeEventListener("touchend",T)},M=()=>{document.addEventListener("mousemove",_),document.addEventListener("touchmove",_),document.addEventListener("mouseup",T),document.addEventListener("touchend",T)},D=e=>{if(!r.value)return;const t="clientX"in e?e.clientX:e.changedTouches[0].clientX,l=(t-c(r.value))/45;E(l)},A=()=>{document.removeEventListener("mousemove",D),document.removeEventListener("touchmove",D),document.removeEventListener("mouseup",A),document.removeEventListener("touchend",A)},z=()=>{document.addEventListener("mousemove",D),document.addEventListener("touchmove",D),document.addEventListener("mouseup",A),document.addEventListener("touchend",A)},F=e=>{if(!r.value)return;const t=(e.clientX-c(r.value))/45;E(t)},$=e=>{if(u.value&&a.value){const t=a.value.getBoundingClientRect().left,l=e.clientX-t;if(l<0||l>a.value.offsetWidth)return;const c=u.value*(l/a.value.offsetWidth);O.value=l-(c>=3600?25:20)+"px",p.value=o(c),m.value=!0}},R=()=>{n.value&&(n.value.muted?(n.value.muted=!1,E(.5)):(n.value.muted=!0,E(0)))};return t({toggle:N}),(t,l)=>{const o=Object(C["resolveComponent"])("IconPlayOne"),c=Object(C["resolveComponent"])("IconPause"),d=Object(C["resolveComponent"])("IconVolumeMute"),u=Object(C["resolveComponent"])("IconVolumeNotice"),b=Object(C["resolveComponent"])("IconVolumeSmall");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"audio-player",style:Object(C["normalizeStyle"])({transform:`scale(${1/e.scale})`})},[Object(C["createElementVNode"])("audio",{class:"audio",ref_key:"audioRef",ref:n,src:e.src,autoplay:e.autoplay,onDurationchange:l[0]||(l[0]=e=>w()),onTimeupdate:l[1]||(l[1]=e=>V()),onPlay:l[2]||(l[2]=e=>I()),onEnded:l[3]||(l[3]=e=>B()),onProgress:l[4]||(l[4]=e=>S()),onError:l[5]||(l[5]=e=>L())},null,40,Ku),Object(C["createElementVNode"])("div",eb,[Object(C["createElementVNode"])("div",tb,[Object(C["createElementVNode"])("div",{class:"icon play-icon",onClick:l[6]||(l[6]=e=>N())},[Object(C["createElementVNode"])("span",lb,[s.value?(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:0})):(Object(C["openBlock"])(),Object(C["createBlock"])(c,{key:1}))])]),Object(C["createElementVNode"])("div",ob,[Object(C["createElementVNode"])("div",{class:"icon volume-icon",onClick:l[7]||(l[7]=e=>R())},[Object(C["createElementVNode"])("span",cb,[0===i.value?(Object(C["openBlock"])(),Object(C["createBlock"])(d,{key:0})):1===i.value?(Object(C["openBlock"])(),Object(C["createBlock"])(u,{key:1})):(Object(C["openBlock"])(),Object(C["createBlock"])(b,{key:2}))])]),Object(C["createElementVNode"])("div",{class:"volume-bar-wrap",onMousedown:l[8]||(l[8]=e=>z()),onTouchstart:l[9]||(l[9]=e=>z()),onClick:l[10]||(l[10]=e=>F(e))},[Object(C["createElementVNode"])("div",{class:"volume-bar",ref_key:"volumeBarRef",ref:r},[Object(C["createElementVNode"])("div",{class:"volume-bar-inner",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(y)})},ab,4)],512)],32)])]),Object(C["createElementVNode"])("span",rb,[Object(C["createElementVNode"])("span",ib,Object(C["toDisplayString"])(Object(C["unref"])(j)),1),sb,Object(C["createElementVNode"])("span",db,Object(C["toDisplayString"])(Object(C["unref"])(f)),1)]),Object(C["createElementVNode"])("div",{class:"bar-wrap",ref_key:"playBarWrap",ref:a,onMousedown:l[11]||(l[11]=e=>M()),onTouchstart:l[12]||(l[12]=e=>M()),onMousemove:l[13]||(l[13]=e=>$(e)),onMouseenter:l[14]||(l[14]=e=>m.value=!0),onMouseleave:l[15]||(l[15]=e=>m.value=!1)},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["bar-time",{hidden:!m.value}]),style:Object(C["normalizeStyle"])({left:O.value})},Object(C["toDisplayString"])(p.value),7),Object(C["createElementVNode"])("div",ub,[Object(C["createElementVNode"])("div",{class:"loaded",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(h)})},null,4),Object(C["createElementVNode"])("div",{class:"played",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(v)})},mb,4)])],544)])],4)}}});l("3929");const Ob=V()(pb,[["__scopeId","data-v-121f3d11"]]);var jb=Ob,fb=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup(e){const t=e,{canvasScale:l,handleElementId:o}=Object(N["c"])(Object(ko["c"])()),{viewportRatio:c}=Object(N["c"])(Object(ko["e"])()),n=Object(C["computed"])(()=>Math.min(t.elementInfo.width,t.elementInfo.height)+"px"),a=Object(C["computed"])(()=>{const e=Ma,o=Ma*c.value,n=280/l.value,a=50/l.value,r=t.elementInfo.width,i=t.elementInfo.height,s=t.elementInfo.left,d=t.elementInfo.top;let u=0,b=i;return s+n>=e&&(u=r-n),d+i+a>=o&&(b=-a),{left:u+"px",top:b+"px"}}),r=e=>{t.elementInfo.lock||(e.stopPropagation(),t.selectElement(e,t.elementInfo))};return(t,c)=>{const i=Object(C["resolveComponent"])("IconVolumeNotice"),s=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["editable-element-audio",{lock:e.elementInfo.lock}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-content",onMousedown:c[1]||(c[1]=e=>r(e)),onTouchstart:c[2]||(c[2]=e=>r(e))},[Object(C["createVNode"])(i,{class:"audio-icon",style:Object(C["normalizeStyle"])({fontSize:Object(C["unref"])(n),color:e.elementInfo.color})},null,8,["style"]),Object(C["unref"])(o)===e.elementInfo.id?(Object(C["openBlock"])(),Object(C["createBlock"])(jb,{key:0,class:"audio-player",style:Object(C["normalizeStyle"])({...Object(C["unref"])(a)}),src:e.elementInfo.src,loop:e.elementInfo.loop,scale:Object(C["unref"])(l),onMousedown:c[0]||(c[0]=Object(C["withModifiers"])(()=>{},["stop"]))},null,8,["style","src","loop","scale"])):Object(C["createCommentVNode"])("",!0)],32)),[[s,e.contextmenus]])],4)],6)}}});l("75e6");const vb=V()(fb,[["__scopeId","data-v-001bfbc4"]]);var hb=vb;const yb=["id"];var gb=Object(C["defineComponent"])({__name:"EditableElement",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},isMultiSelect:{type:Boolean,required:!0},selectElement:{type:Function,required:!0},openLinkDialog:{type:Function,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e={[Aa.IMAGE]:ts,[Aa.TEXT]:md,[Aa.SHAPE]:Id,[Aa.LINE]:$d,[Aa.CHART]:Xd,[Aa.TABLE]:pu,[Aa.LATEX]:yu,[Aa.VIDEO]:Ju,[Aa.AUDIO]:hb};return e[t.elementInfo.type]||null}),{orderElement:o}=Qa(),{alignElementToCanvas:c}=pi(),{combineElements:n,uncombineElements:a}=Xa(),{deleteElement:r}=Ya(),{lockElement:i,unlockElement:s}=Ga(),{copyElement:d,pasteElement:u,cutElement:b}=Za(),{selectAllElement:m}=Wa(),p=()=>t.elementInfo.lock?[{text:"解锁",handler:()=>s(t.elementInfo)}]:[{text:"剪切",subText:"Ctrl + X",handler:b},{text:"复制",subText:"Ctrl + C",handler:d},{text:"粘贴",subText:"Ctrl + V",handler:u},{divider:!0},{text:"水平居中",handler:()=>c(Ca.HORIZONTAL),children:[{text:"水平垂直居中",handler:()=>c(Ca.CENTER)},{text:"水平居中",handler:()=>c(Ca.HORIZONTAL)},{text:"左对齐",handler:()=>c(Ca.LEFT)},{text:"右对齐",handler:()=>c(Ca.RIGHT)}]},{text:"垂直居中",handler:()=>c(Ca.VERTICAL),children:[{text:"水平垂直居中",handler:()=>c(Ca.CENTER)},{text:"垂直居中",handler:()=>c(Ca.VERTICAL)},{text:"顶部对齐",handler:()=>c(Ca.TOP)},{text:"底部对齐",handler:()=>c(Ca.BOTTOM)}]},{divider:!0},{text:"置于顶层",disable:t.isMultiSelect&&!t.elementInfo.groupId,handler:()=>o(t.elementInfo,ka.TOP),children:[{text:"置于顶层",handler:()=>o(t.elementInfo,ka.TOP)},{text:"上移一层",handler:()=>o(t.elementInfo,ka.UP)}]},{text:"置于底层",disable:t.isMultiSelect&&!t.elementInfo.groupId,handler:()=>o(t.elementInfo,ka.BOTTOM),children:[{text:"置于底层",handler:()=>o(t.elementInfo,ka.BOTTOM)},{text:"下移一层",handler:()=>o(t.elementInfo,ka.DOWN)}]},{divider:!0},{text:"设置链接",handler:t.openLinkDialog},{text:t.elementInfo.groupId?"取消组合":"组合",subText:"Ctrl + G",handler:t.elementInfo.groupId?a:n,hide:!t.isMultiSelect},{text:"全选",subText:"Ctrl + A",handler:m},{text:"锁定",subText:"Ctrl + L",handler:i},{text:"删除",subText:"Delete",handler:r}];return(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"editable-element",ref:"elementRef",id:"editable-element-"+e.elementInfo.id,style:Object(C["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(l)),{elementInfo:e.elementInfo,selectElement:e.selectElement,contextmenus:p},null,8,["elementInfo","selectElement"]))],12,yb))}});const xb=gb;var kb=xb,Cb=Object(C["defineComponent"])({__name:"MouseSelection",props:{top:{type:Number,required:!0},left:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},quadrant:{type:Number,required:!0,validator(e){return[1,2,3,4].includes(e)}}},setup(e){return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])("mouse-selection quadrant-"+e.quadrant),style:Object(C["normalizeStyle"])({top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"})},null,6))}});l("4b9a");const Nb=V()(Cb,[["__scopeId","data-v-0d6c0f73"]]);var Eb=Nb;const wb={class:"grid-lines"},Vb=["d","stroke"];var Ib=Object(C["defineComponent"])({__name:"GridLines",setup(e){const{canvasScale:t,gridLineSize:l}=Object(N["c"])(Object(ko["c"])()),{currentSlide:o,viewportRatio:c}=Object(N["c"])(Object(ko["e"])()),n=Object(C["computed"])(()=>{var e;return null===(e=o.value)||void 0===e?void 0:e.background}),a=Object(C["computed"])(()=>{var e;const t=(null===(e=n.value)||void 0===e?void 0:e.color)||"#fff",l=["#000","#fff"];return Gt.a.mostReadable(t,l,{includeFallbackColors:!0}).setAlpha(.5).toRgbString()}),r=Object(C["computed"])(()=>{const e=Ma,t=Ma*c.value;let o="";for(let c=0;c<=Math.floor(t/l.value);c++)o+=`M0 ${c*l.value} L${e} ${c*l.value} `;for(let c=0;c<=Math.floor(e/l.value);c++)o+=`M${c*l.value} 0 L${c*l.value} ${t} `;return o});return(e,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",wb,[Object(C["createElementVNode"])("path",{style:Object(C["normalizeStyle"])({transform:`scale(${Object(C["unref"])(t)})`}),d:Object(C["unref"])(r),fill:"none",stroke:Object(C["unref"])(a),"stroke-width":"0.3","stroke-dasharray":"5"},null,12,Vb)]))}});l("dd7b");const Bb=V()(Ib,[["__scopeId","data-v-aebac580"]]);var Sb=Bb,Lb=e=>{const t=Object(C["computed"])(()=>{if(!e.value)return{backgroundColor:"#fff"};const{type:t,color:l,image:o,imageSize:c,gradientColor:n,gradientRotate:a,gradientType:r}=e.value;if("solid"===t)return{backgroundColor:l};if("image"===t)return o?"repeat"===c?{backgroundImage:"url("+o,backgroundRepeat:"repeat",backgroundSize:"contain"}:{backgroundImage:"url("+o,backgroundRepeat:"no-repeat",backgroundSize:c||"cover"}:{backgroundColor:"#fff"};if("gradient"===t){const e=a||0,t=n?n[0]:"#fff",l=n?n[1]:"#fff";return"radial"===r?{backgroundImage:`radial-gradient(${t}, ${l}`}:{backgroundImage:`linear-gradient(${e}deg, ${t}, ${l}`}}return{backgroundColor:"#fff"}});return{backgroundStyle:t}},_b=Object(C["defineComponent"])({__name:"ViewportBackground",setup(e){const{gridLineSize:t}=Object(N["c"])(Object(ko["c"])()),{currentSlide:l}=Object(N["c"])(Object(ko["e"])()),o=Object(C["computed"])(()=>{var e;return null===(e=l.value)||void 0===e?void 0:e.background}),{backgroundStyle:c}=Lb(o);return(e,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"viewport-background",style:Object(C["normalizeStyle"])(Object(C["unref"])(c))},[Object(C["unref"])(t)?(Object(C["openBlock"])(),Object(C["createBlock"])(Sb,{key:0})):Object(C["createCommentVNode"])("",!0)],4))}});l("5977");const Tb=V()(_b,[["__scopeId","data-v-61c4db4a"]]);var Mb=Tb,Db=Object(C["defineComponent"])({__name:"AlignmentLine",props:{type:{type:String,required:!0},axis:{type:Object,required:!0},length:{type:Number,required:!0},canvasScale:{type:Number,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>t.axis.x*t.canvasScale+"px"),o=Object(C["computed"])(()=>t.axis.y*t.canvasScale+"px"),c=Object(C["computed"])(()=>"vertical"===t.type?{height:t.length*t.canvasScale+"px"}:{width:t.length*t.canvasScale+"px"});return(t,n)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"alignment-line",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(l),top:Object(C["unref"])(o)})},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["line",e.type]),style:Object(C["normalizeStyle"])(Object(C["unref"])(c))},null,6)],4))}});l("5688");const Ab=V()(Db,[["__scopeId","data-v-37fa6068"]]);var zb=Ab;const Fb={class:"ruler"};var $b=Object(C["defineComponent"])({__name:"Ruler",props:{viewportStyles:{type:Object,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Object(ko["c"])()),o=Object(C["computed"])(()=>t.viewportStyles.width*l.value/10);return(t,c)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Fb,[Object(C["createElementVNode"])("div",{class:"h",style:Object(C["normalizeStyle"])({width:e.viewportStyles.width*Object(C["unref"])(l)+"px",left:e.viewportStyles.left+"px"})},[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(10,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["ruler-marker-100",{hide:Object(C["unref"])(o)<36,omit:Object(C["unref"])(o)<72}]),key:"marker-100-"+e},[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(100*e),1)],2)),64))],4),Object(C["createElementVNode"])("div",{class:"v",style:Object(C["normalizeStyle"])({height:e.viewportStyles.height*Object(C["unref"])(l)+"px",top:e.viewportStyles.top+"px"})},[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(10,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["ruler-marker-100",{hide:Object(C["unref"])(o)<36,omit:Object(C["unref"])(o)<72}]),key:e,style:Object(C["normalizeStyle"])({height:Object(C["unref"])(o)+"px"})},[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(100*e),1)],6)),64))],4)]))}});l("9854");const Rb=V()($b,[["__scopeId","data-v-60e06332"]]);var Pb=Rb;const Hb=["width","height"],Ub=["d"];var qb=Object(C["defineComponent"])({__name:"ElementCreateSelection",emits:["created"],setup(e,{emit:t}){const l=Object(ko["c"])(),{creatingElement:o}=Object(N["c"])(l),{ctrlOrShiftKeyActive:c}=Object(N["c"])(Object(ko["b"])()),n=Object(C["ref"])(),a=Object(C["ref"])(),r=Object(C["ref"])(),i=Object(C["ref"])({x:0,y:0});Object(C["onMounted"])(()=>{if(!r.value)return;const{x:e,y:t}=r.value.getBoundingClientRect();i.value={x:e,y:t}});const s=e=>{let r=!0;const i=e.pageX,s=e.pageY;n.value=[i,s],document.onmousemove=e=>{if(!o.value||!r)return;let t=e.pageX,l=e.pageY;if(c.value){const e=t-i,c=l-s,n=Math.abs(e),a=Math.abs(c);if("shape"===o.value.type){const o=c>0&&e<0||c<0&&e>0;n>a?l=o?s-e:s+e:t=o?i-c:i+c}else"line"===o.value.type&&(n>a?l=s:t=i)}a.value=[t,l]},document.onmouseup=e=>{var c,d;if(document.onmousemove=null,document.onmouseup=null,2===e.button)return void setTimeout(()=>l.setCreatingElement(null),0);r=!1;const u=e.pageX,b=e.pageY,m=30;if("line"===(null===(c=o.value)||void 0===c?void 0:c.type)&&(Math.abs(u-i)>=m||Math.abs(b-s)>=m))t("created",{start:n.value,end:a.value});else if("line"!==(null===(d=o.value)||void 0===d?void 0:d.type)&&Math.abs(u-i)>=m&&Math.abs(b-s)>=m)t("created",{start:n.value,end:a.value});else{const e=200,l=Math.min(u,i),o=Math.min(b,s),c=Math.max(u,i),n=Math.max(b,s),a=c-l>=m?c-l:e,r=n-o>=m?n-o:e;t("created",{start:[l,o],end:[l+a,o+r]})}}},d=Object(C["computed"])(()=>{if(!n.value||!a.value)return null;if(!o.value||"line"!==o.value.type)return null;const[e,t]=n.value,[l,c]=a.value,r=Math.min(e,l),i=Math.max(e,l),s=Math.min(t,c),d=Math.max(t,c),u=i-r>=24?i-r:24,b=d-s>=24?d-s:24,m=e===r?0:i-r,p=t===s?0:d-s,O=l===r?0:i-r,j=c===s?0:d-s,f=`M${m}, ${p} L${O}, ${j}`;return{svgWidth:u,svgHeight:b,startX:m,startY:p,endX:O,endY:j,path:f}}),u=Object(C["computed"])(()=>{if(!n.value||!a.value)return{};const[e,t]=n.value,[l,o]=a.value,c=Math.min(e,l),r=Math.max(e,l),s=Math.min(t,o),d=Math.max(t,o),u=r-c,b=d-s;return{left:c-i.value.x+"px",top:s-i.value.y+"px",width:u+"px",height:b+"px"}});return(e,t)=>{var l,c;return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"element-create-selection",ref_key:"selectionRef",ref:r,onMousedown:t[0]||(t[0]=Object(C["withModifiers"])(e=>s(e),["stop"])),onContextmenu:t[1]||(t[1]=Object(C["withModifiers"])(()=>{},["stop","prevent"]))},[n.value&&a.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:Object(C["normalizeClass"])(["selection",null===(l=Object(C["unref"])(o))||void 0===l?void 0:l.type]),style:Object(C["normalizeStyle"])(Object(C["unref"])(u))},["line"===(null===(c=Object(C["unref"])(o))||void 0===c?void 0:c.type)&&Object(C["unref"])(d)?(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{key:0,overflow:"visible",width:Object(C["unref"])(d).svgWidth,height:Object(C["unref"])(d).svgHeight},[Object(C["createElementVNode"])("path",{d:Object(C["unref"])(d).path,stroke:"#469D8F",fill:"none","stroke-width":"2"},null,8,Ub)],8,Hb)):Object(C["createCommentVNode"])("",!0)],6)):Object(C["createCommentVNode"])("",!0)],544)}}});l("dbf4");const Gb=V()(qb,[["__scopeId","data-v-bf241b1a"]]);var Yb=Gb,Xb=(e,t)=>{const l=Object(C["computed"])(()=>[{direction:Ea.LEFT_TOP,style:{}},{direction:Ea.TOP,style:{left:e.value/2+"px"}},{direction:Ea.RIGHT_TOP,style:{left:e.value+"px"}},{direction:Ea.LEFT,style:{top:t.value/2+"px"}},{direction:Ea.RIGHT,style:{left:e.value+"px",top:t.value/2+"px"}},{direction:Ea.LEFT_BOTTOM,style:{top:t.value+"px"}},{direction:Ea.BOTTOM,style:{left:e.value/2+"px",top:t.value+"px"}},{direction:Ea.RIGHT_BOTTOM,style:{left:e.value+"px",top:t.value+"px"}}]),o=Object(C["computed"])(()=>[{direction:Ea.LEFT,style:{top:t.value/2+"px"}},{direction:Ea.RIGHT,style:{left:e.value+"px",top:t.value/2+"px"}}]),c=Object(C["computed"])(()=>[{type:Na.T,style:{width:e.value+"px"}},{type:Na.B,style:{top:t.value+"px",width:e.value+"px"}},{type:Na.L,style:{height:t.value+"px"}},{type:Na.R,style:{left:e.value+"px",height:t.value+"px"}}]);return{resizeHandlers:l,textElementResizeHandlers:o,borderLines:c}},Zb=Object(C["defineComponent"])({__name:"ResizeHandler",props:{type:{type:String,default:""},rotate:{type:Number,default:0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e="rotate-",l=t.rotate;return l>-22.5&&l<=22.5?e+0:l>22.5&&l<=67.5?e+45:l>67.5&&l<=112.5?e+90:l>112.5&&l<=157.5?e+135:l>157.5||l<=-157.5?e+0:l>-157.5&&l<=-112.5?e+45:l>-112.5&&l<=-67.5?e+90:l>-67.5&&l<=-22.5?e+135:e+0});return(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["resize-handler",Object(C["unref"])(l),e.type])},null,2))}});l("b510");const Wb=V()(Zb,[["__scopeId","data-v-881ee3f8"]]);var Jb=Wb,Qb=Object(C["defineComponent"])({__name:"BorderLine",props:{type:{type:String,required:!0},isWide:{type:Boolean,default:!1}},setup(e){return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["border-line",e.type,{wide:e.isWide}])},null,2))}});l("2460");const Kb=V()(Qb,[["__scopeId","data-v-7170d1be"]]);var em=Kb,tm=Object(C["defineComponent"])({__name:"MultiSelectOperate",props:{elementList:{type:Array,required:!0},scaleMultiElement:{type:Function,required:!0}},setup(e){const t=e,{activeElementIdList:l,canvasScale:o}=Object(N["c"])(Object(ko["c"])()),c=Object(C["computed"])(()=>t.elementList.filter(e=>l.value.includes(e.id))),n=Object(C["ref"])({minX:0,maxX:0,minY:0,maxY:0}),a=Object(C["computed"])(()=>(n.value.maxX-n.value.minX)*o.value),r=Object(C["computed"])(()=>(n.value.maxY-n.value.minY)*o.value),{resizeHandlers:i,borderLines:s}=Xb(a,r),d=()=>{const{minX:e,maxX:t,minY:l,maxY:o}=Object(Sa["b"])(c.value);n.value={minX:e,maxX:t,minY:l,maxY:o}};Object(C["watchEffect"])(d);const u=Object(C["computed"])(()=>c.value.some(e=>!!("image"!==e.type&&"shape"!==e.type||e.rotate)));return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"multi-select-operate",style:Object(C["normalizeStyle"])({left:n.value.minX*Object(C["unref"])(o)+"px",top:n.value.minY*Object(C["unref"])(o)+"px"})},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(s),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(em,{key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),Object(C["unref"])(u)?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],{key:0},Object(C["renderList"])(Object(C["unref"])(i),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(Jb,{key:t.direction,type:t.direction,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.scaleMultiElement(l,n.value,t.direction),["stop"])},null,8,["type","style","onMousedown"]))),128))],4))}});l("a669");const lm=V()(tm,[["__scopeId","data-v-defbd922"]]);var om=lm;const cm={class:"rotate-handler"};function nm(e,t){return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",cm)}l("1ebd");const am={},rm=V()(am,[["render",nm],["__scopeId","data-v-b99d8dae"]]);var im=rm;const sm={inheritAttrs:!1};var dm=Object(C["defineComponent"])({...sm,__name:"ImageElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l,clipingImageElementId:o}=Object(N["c"])(Object(ko["c"])()),c=Object(C["computed"])(()=>o.value===t.elementInfo.id),n=Object(C["computed"])(()=>t.elementInfo.width*l.value),a=Object(C["computed"])(()=>t.elementInfo.height*l.value),{resizeHandlers:r,borderLines:i}=Xb(n,a);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["image-element-operate",{cliping:Object(C["unref"])(c)}])},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(i),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(em,{class:"operate-border-line",key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(r),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(Jb,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(C["createVNode"])(im,{class:"operate-rotate-handler",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(n)/2+"px"}),onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"])],64)):Object(C["createCommentVNode"])("",!0)],2))}});l("ae9f");const um=V()(dm,[["__scopeId","data-v-46b250c2"]]);var bm=um;const mm={class:"text-element-operate"},pm={inheritAttrs:!1};var Om=Object(C["defineComponent"])({...pm,__name:"TextElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Object(ko["c"])()),o=Object(C["computed"])(()=>t.elementInfo.width*l.value),c=Object(C["computed"])(()=>t.elementInfo.height*l.value),{textElementResizeHandlers:n,borderLines:a}=Xb(o,c);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",mm,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(em,{class:"operate-border-line",key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(n),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(Jb,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(C["createVNode"])(im,{class:"operate-rotate-handler",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(o)/2+"px"}),onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"])],64)):Object(C["createCommentVNode"])("",!0)]))}});const jm=Om;var fm=jm;const vm={class:"shape-element-operate"},hm={inheritAttrs:!1};var ym=Object(C["defineComponent"])({...hm,__name:"ShapeElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0},moveShapeKeypoint:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Object(ko["c"])()),o=Object(C["computed"])(()=>t.elementInfo.width*l.value),c=Object(C["computed"])(()=>t.elementInfo.height*l.value),{resizeHandlers:n,borderLines:a}=Xb(o,c),r=Object(C["computed"])(()=>{if(!t.elementInfo.pathFormula||!t.elementInfo.keypoint)return{};const e=za[t.elementInfo.pathFormula];if("editable"in e){const o=e.getBaseSize(t.elementInfo.width,t.elementInfo.height)*t.elementInfo.keypoint;if("left"===e.relative)return{left:o*l.value+"px"};if("right"===e.relative)return{left:(t.elementInfo.width-o)*l.value+"px"};if("center"===e.relative)return{left:(t.elementInfo.width-o)/2*l.value+"px"};if("top"===e.relative)return{top:o*l.value+"px"};if("bottom"===e.relative)return{top:(t.elementInfo.height-o)*l.value+"px"}}return{}});return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",vm,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(em,{class:"operate-border-line",key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(n),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(Jb,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(C["createVNode"])(im,{class:"operate-rotate-handler",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(o)/2+"px"}),onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"]),void 0!==e.elementInfo.keypoint?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"operate-keypoint-handler",style:Object(C["normalizeStyle"])(Object(C["unref"])(r)),onMousedown:l[1]||(l[1]=Object(C["withModifiers"])(t=>e.moveShapeKeypoint(t,e.elementInfo),["stop"]))},null,36)):Object(C["createCommentVNode"])("",!0)],64)):Object(C["createCommentVNode"])("",!0)]))}});l("614e");const gm=V()(ym,[["__scopeId","data-v-fd38df18"]]);var xm=gm;const km={class:"line-element-operate"},Cm=["width","height","stroke"],Nm={key:0},Em=["x1","y1","x2","y2"],wm=["x1","y1","x2","y2"],Vm=["x1","y1","x2","y2"],Im=["x1","y1","x2","y2"],Bm={inheritAttrs:!1};var Sm=Object(C["defineComponent"])({...Bm,__name:"LineElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},dragLineElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Object(ko["c"])()),o=Object(C["computed"])(()=>Math.max(t.elementInfo.start[0],t.elementInfo.end[0])),c=Object(C["computed"])(()=>Math.max(t.elementInfo.start[1],t.elementInfo.end[1])),n=Object(C["computed"])(()=>{const e=[{handler:wa.START,style:{left:t.elementInfo.start[0]*l.value+"px",top:t.elementInfo.start[1]*l.value+"px"}},{handler:wa.END,style:{left:t.elementInfo.end[0]*l.value+"px",top:t.elementInfo.end[1]*l.value+"px"}}];if(t.elementInfo.curve||t.elementInfo.broken){const o=t.elementInfo.curve||t.elementInfo.broken;e.push({handler:wa.C,style:{left:o[0]*l.value+"px",top:o[1]*l.value+"px"}})}else if(t.elementInfo.cubic){const[o,c]=t.elementInfo.cubic;e.push({handler:wa.C1,style:{left:o[0]*l.value+"px",top:o[1]*l.value+"px"}}),e.push({handler:wa.C2,style:{left:c[0]*l.value+"px",top:c[1]*l.value+"px"}})}return e});return(t,a)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",km,[e.handlerVisible?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(n),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(Jb,{class:"operate-resize-handler",key:t.handler,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.dragLineElement(l,e.elementInfo,t.handler),["stop"])},null,8,["style","onMousedown"]))),128)),(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{width:Object(C["unref"])(o)||1,height:Object(C["unref"])(c)||1,stroke:e.elementInfo.color,overflow:"visible",style:Object(C["normalizeStyle"])({transform:`scale(${Object(C["unref"])(l)})`})},[e.elementInfo.curve?(Object(C["openBlock"])(),Object(C["createElementBlock"])("g",Nm,[Object(C["createElementVNode"])("line",{class:"anchor-line",x1:e.elementInfo.start[0],y1:e.elementInfo.start[1],x2:e.elementInfo.curve[0],y2:e.elementInfo.curve[1]},null,8,Em),Object(C["createElementVNode"])("line",{class:"anchor-line",x1:e.elementInfo.end[0],y1:e.elementInfo.end[1],x2:e.elementInfo.curve[0],y2:e.elementInfo.curve[1]},null,8,wm)])):Object(C["createCommentVNode"])("",!0),e.elementInfo.cubic?(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],{key:1},Object(C["renderList"])(e.elementInfo.cubic,(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("g",{key:l},[0===l?(Object(C["openBlock"])(),Object(C["createElementBlock"])("line",{key:0,class:"anchor-line",x1:e.elementInfo.start[0],y1:e.elementInfo.start[1],x2:t[0],y2:t[1]},null,8,Vm)):Object(C["createCommentVNode"])("",!0),1===l?(Object(C["openBlock"])(),Object(C["createElementBlock"])("line",{key:1,class:"anchor-line",x1:e.elementInfo.end[0],y1:e.elementInfo.end[1],x2:t[0],y2:t[1]},null,8,Im)):Object(C["createCommentVNode"])("",!0)]))),128)):Object(C["createCommentVNode"])("",!0)],12,Cm))],64)):Object(C["createCommentVNode"])("",!0)]))}});l("fac9");const Lm=V()(Sm,[["__scopeId","data-v-4659f395"]]);var _m=Lm;const Tm={class:"table-element-operate"},Mm={inheritAttrs:!1};var Dm=Object(C["defineComponent"])({...Mm,__name:"TableElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Object(ko["c"])()),o=Object(C["computed"])(()=>t.elementInfo.outline.width||1),c=Object(C["computed"])(()=>(t.elementInfo.width+o.value)*l.value),n=Object(C["computed"])(()=>t.elementInfo.height*l.value),{textElementResizeHandlers:a,borderLines:r}=Xb(c,n);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Tm,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(r),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(em,{class:"operate-border-line",key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(Jb,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(C["createVNode"])(im,{class:"operate-rotate-handler",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(c)/2+"px"}),onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"])],64)):Object(C["createCommentVNode"])("",!0)]))}});const Am=Dm;var zm=Am;const Fm={class:"common-element-operate"},$m={inheritAttrs:!1};var Rm=Object(C["defineComponent"])({...$m,__name:"CommonElementOperate",props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Object(ko["c"])()),o=Object(C["computed"])(()=>t.elementInfo.width*l.value),c=Object(C["computed"])(()=>t.elementInfo.height*l.value),{resizeHandlers:n,borderLines:a}=Xb(o,c),r=Object(C["computed"])(()=>["video","audio"].includes(t.elementInfo.type));return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Fm,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(em,{class:"operate-border-line",key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),e.handlerVisible?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(n),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(Jb,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(C["normalizeStyle"])(t.style),onMousedown:Object(C["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onMousedown"]))),128)),Object(C["unref"])(r)?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createBlock"])(im,{key:0,class:"operate-rotate-handler",style:Object(C["normalizeStyle"])({left:Object(C["unref"])(o)/2+"px"}),onMousedown:l[0]||(l[0]=Object(C["withModifiers"])(t=>e.rotateElement(e.elementInfo),["stop"]))},null,8,["style"]))],64)):Object(C["createCommentVNode"])("",!0)]))}});const Pm=Rm;var Hm=Pm,Um=()=>{const e=Object(ko["e"])(),{addHistorySnapshot:t}=Object(Ra["a"])(),l=(l,o)=>{const c=/^(https?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/;if("web"===o.type&&!c.test(o.target))return Ut["a"].error("不是正确的网页链接地址"),!1;const n={link:o};return e.updateElement({id:l.id,props:n}),t(),!0},o=l=>{e.removeElementProps({id:l.id,propName:"link"}),t()};return{setLink:l,removeLink:o}};const qm=["href"],Gm={key:1,class:"link"},Ym={class:"btns"};var Xm=Object(C["defineComponent"])({__name:"LinkHandler",props:{elementInfo:{type:Object,required:!0},link:{type:Object,required:!0},openLinkDialog:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l}=Object(N["c"])(Object(ko["c"])()),{removeLink:o}=Um(),c=Object(C["computed"])(()=>"line"===t.elementInfo.type?0:t.elementInfo.height);return(t,n)=>{const a=Object(C["resolveComponent"])("Divider");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"link-handler",style:Object(C["normalizeStyle"])({top:Object(C["unref"])(c)*Object(C["unref"])(l)+10+"px"})},["web"===e.link.type?(Object(C["openBlock"])(),Object(C["createElementBlock"])("a",{key:0,class:"link",href:e.link.target,target:"_blank"},Object(C["toDisplayString"])(e.link.target),9,qm)):(Object(C["openBlock"])(),Object(C["createElementBlock"])("a",Gm,"幻灯片页面 "+Object(C["toDisplayString"])(e.link.target),1)),Object(C["createElementVNode"])("div",Ym,[Object(C["createElementVNode"])("div",{class:"btn",onClick:n[0]||(n[0]=t=>e.openLinkDialog())},"更换"),Object(C["createVNode"])(a,{type:"vertical"}),Object(C["createElementVNode"])("div",{class:"btn",onClick:n[1]||(n[1]=t=>Object(C["unref"])(o)(e.elementInfo))},"移除")])],4)}}});l("7851");const Zm=V()(Xm,[["__scopeId","data-v-bb722fc0"]]);var Wm=Zm;const Jm={key:1,class:"animation-index"};var Qm=Object(C["defineComponent"])({__name:"index",props:{elementInfo:{type:Object,required:!0},isSelected:{type:Boolean,required:!0},isActive:{type:Boolean,required:!0},isActiveGroupElement:{type:Boolean,required:!0},isMultiSelect:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0},dragLineElement:{type:Function,required:!0},moveShapeKeypoint:{type:Function,required:!0},openLinkDialog:{type:Function,required:!0}},setup(e){const t=e,{canvasScale:l,toolbarState:o}=Object(N["c"])(Object(ko["c"])()),{formatedAnimations:c}=Object(N["c"])(Object(ko["e"])()),n=Object(C["computed"])(()=>{const e={[Aa.IMAGE]:bm,[Aa.TEXT]:fm,[Aa.SHAPE]:xm,[Aa.LINE]:_m,[Aa.TABLE]:zm,[Aa.CHART]:Hm,[Aa.LATEX]:Hm,[Aa.VIDEO]:Hm,[Aa.AUDIO]:Hm};return e[t.elementInfo.type]||null}),a=Object(C["computed"])(()=>{const e=[];for(let l=0;l<c.value.length;l++){const o=c.value[l].animations.map(e=>e.elId);o.includes(t.elementInfo.id)&&e.push(l)}return e}),r=Object(C["computed"])(()=>"rotate"in t.elementInfo?t.elementInfo.rotate:0),i=Object(C["computed"])(()=>"height"in t.elementInfo?t.elementInfo.height:0);return(t,c)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["operate",{"multi-select":e.isMultiSelect&&!e.isActive}]),style:Object(C["normalizeStyle"])({top:e.elementInfo.top*Object(C["unref"])(l)+"px",left:e.elementInfo.left*Object(C["unref"])(l)+"px",transform:`rotate(${Object(C["unref"])(r)}deg)`,transformOrigin:`${e.elementInfo.width*Object(C["unref"])(l)/2}px ${Object(C["unref"])(i)*Object(C["unref"])(l)/2}px`})},[e.isSelected?(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(n)),{key:0,elementInfo:e.elementInfo,handlerVisible:!e.elementInfo.lock&&(e.isActiveGroupElement||!e.isMultiSelect),rotateElement:e.rotateElement,scaleElement:e.scaleElement,dragLineElement:e.dragLineElement,moveShapeKeypoint:e.moveShapeKeypoint},null,8,["elementInfo","handlerVisible","rotateElement","scaleElement","dragLineElement","moveShapeKeypoint"])):Object(C["createCommentVNode"])("",!0),"elAnimation"===Object(C["unref"])(o)&&Object(C["unref"])(a).length?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Jm,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"index-item",key:e},Object(C["toDisplayString"])(e+1),1))),128))])):Object(C["createCommentVNode"])("",!0),e.isActive&&e.elementInfo.link?(Object(C["openBlock"])(),Object(C["createBlock"])(Wm,{key:2,elementInfo:e.elementInfo,link:e.elementInfo.link,openLinkDialog:e.openLinkDialog,onMousedown:c[0]||(c[0]=Object(C["withModifiers"])(()=>{},["stop"]))},null,8,["elementInfo","link","openLinkDialog"])):Object(C["createCommentVNode"])("",!0)],6))}});l("d2f3");const Km=V()(Qm,[["__scopeId","data-v-27793fbf"]]);var ep=Km;const tp=["src"];var lp=Object(C["defineComponent"])({__name:"BaseImageElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:o}=Oi(l),c=Object(C["computed"])(()=>t.elementInfo.flipH),n=Object(C["computed"])(()=>t.elementInfo.flipV),{flipStyle:a}=ji(c,n),r=Object(C["computed"])(()=>t.elementInfo.clip),{clipShape:i,imgPosition:s}=vi(r),d=Object(C["computed"])(()=>t.elementInfo.filters),{filter:u}=hi(d);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-image",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({filter:Object(C["unref"])(o)?`drop-shadow(${Object(C["unref"])(o)})`:"",transform:Object(C["unref"])(a)})},[Object(C["createVNode"])(Fi,{elementInfo:e.elementInfo},null,8,["elementInfo"]),Object(C["createElementVNode"])("div",{class:"image-content",style:Object(C["normalizeStyle"])({clipPath:Object(C["unref"])(i).style})},[Object(C["createElementVNode"])("img",{src:e.elementInfo.src,draggable:!1,style:Object(C["normalizeStyle"])({top:Object(C["unref"])(s).top,left:Object(C["unref"])(s).left,width:Object(C["unref"])(s).width,height:Object(C["unref"])(s).height,filter:Object(C["unref"])(u)}),alt:""},null,12,tp),e.elementInfo.colorMask?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"color-mask",style:Object(C["normalizeStyle"])({backgroundColor:e.elementInfo.colorMask.color,opacity:e.elementInfo.colorMask.opacity})},null,4)):Object(C["createCommentVNode"])("",!0)],4)],4)],4)],4))}});l("4c0e");const op=V()(lp,[["__scopeId","data-v-c874e65e"]]);var cp=op;const np=["innerHTML"];var ap=Object(C["defineComponent"])({__name:"BaseTextElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:o}=Oi(l),c=Object(C["computed"])(()=>({"--textIndent":(t.elementInfo.textIndent||0)+"px","--paragraphSpace":(void 0===t.elementInfo.paragraphSpace?5:t.elementInfo.paragraphSpace)+"px"}));return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-text",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({backgroundColor:e.elementInfo.fill,opacity:e.elementInfo.opacity,textShadow:Object(C["unref"])(o),lineHeight:e.elementInfo.lineHeight,letterSpacing:(e.elementInfo.wordSpace||0)+"px",color:e.elementInfo.defaultColor,fontFamily:e.elementInfo.defaultFontName})},[Object(C["createVNode"])(as,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(C["createElementVNode"])("div",{class:"text ProseMirror-static",style:Object(C["normalizeStyle"])(Object(C["unref"])(c)),innerHTML:e.elementInfo.content},null,12,np)],4)],4)],4))}});l("07f0");const rp=V()(ap,[["__scopeId","data-v-659e869d"]]);var ip=rp;const sp=["width","height"],dp={key:0},up=["transform"],bp=["d","fill","stroke","stroke-width","stroke-dasharray"],mp=["innerHTML"];var pp=Object(C["defineComponent"])({__name:"BaseShapeElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>t.elementInfo.outline),{outlineWidth:o,outlineStyle:c,outlineColor:n}=yi(l),a=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:r}=Oi(a),i=Object(C["computed"])(()=>t.elementInfo.flipH),s=Object(C["computed"])(()=>t.elementInfo.flipV),{flipStyle:d}=ji(i,s),u=Object(C["computed"])(()=>{const e={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"};return t.elementInfo.text?t.elementInfo.text:e});return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-shape",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({opacity:e.elementInfo.opacity,filter:Object(C["unref"])(r)?`drop-shadow(${Object(C["unref"])(r)})`:"",transform:Object(C["unref"])(d),color:Object(C["unref"])(u).defaultColor,fontFamily:Object(C["unref"])(u).defaultFontName})},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height},[e.elementInfo.gradient?(Object(C["openBlock"])(),Object(C["createElementBlock"])("defs",dp,[Object(C["createVNode"])(xd,{id:"base-gradient-"+e.elementInfo.id,type:e.elementInfo.gradient.type,color1:e.elementInfo.gradient.color[0],color2:e.elementInfo.gradient.color[1],rotate:e.elementInfo.gradient.rotate},null,8,["id","type","color1","color2","rotate"])])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("g",{transform:`scale(${e.elementInfo.width/e.elementInfo.viewBox[0]}, ${e.elementInfo.height/e.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(C["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",d:e.elementInfo.path,fill:e.elementInfo.gradient?`url(#base-gradient-${e.elementInfo.id})`:e.elementInfo.fill,stroke:Object(C["unref"])(n),"stroke-width":Object(C["unref"])(o),"stroke-dasharray":"dashed"===Object(C["unref"])(c)?"10 5":"0 0"},null,8,bp)],8,up)],8,sp)),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["shape-text",Object(C["unref"])(u).align])},[Object(C["createElementVNode"])("div",{class:"ProseMirror-static",innerHTML:Object(C["unref"])(u).content},null,8,mp)],2)],4)],4)],4))}});l("8683");const Op=V()(pp,[["__scopeId","data-v-073084bf"]]);var jp=Op;const fp=["width","height"],vp=["d","stroke","stroke-width","stroke-dasharray","marker-start","marker-end"];var hp=Object(C["defineComponent"])({__name:"BaseLineElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>t.elementInfo.shadow),{shadowStyle:o}=Oi(l),c=Object(C["computed"])(()=>{const e=Math.abs(t.elementInfo.start[0]-t.elementInfo.end[0]);return e<24?24:e}),n=Object(C["computed"])(()=>{const e=Math.abs(t.elementInfo.start[1]-t.elementInfo.end[1]);return e<24?24:e}),a=Object(C["computed"])(()=>"dashed"===t.elementInfo.style?"10, 5":"0, 0"),r=Object(C["computed"])(()=>Object(Sa["d"])(t.elementInfo));return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-line",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px"})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({filter:Object(C["unref"])(o)?`drop-shadow(${Object(C["unref"])(o)})`:""})},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{overflow:"visible",width:Object(C["unref"])(c),height:Object(C["unref"])(n)},[Object(C["createElementVNode"])("defs",null,[e.elementInfo.points[0]?(Object(C["openBlock"])(),Object(C["createBlock"])(Td,{key:0,id:e.elementInfo.id,position:"start",type:e.elementInfo.points[0],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(C["createCommentVNode"])("",!0),e.elementInfo.points[1]?(Object(C["openBlock"])(),Object(C["createBlock"])(Td,{key:1,id:e.elementInfo.id,position:"end",type:e.elementInfo.points[1],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(C["createCommentVNode"])("",!0)]),Object(C["createElementVNode"])("path",{d:Object(C["unref"])(r),stroke:e.elementInfo.color,"stroke-width":e.elementInfo.width,"stroke-dasharray":Object(C["unref"])(a),fill:"none","marker-start":e.elementInfo.points[0]?`url(#${e.elementInfo.id}-${e.elementInfo.points[0]}-start)`:"","marker-end":e.elementInfo.points[1]?`url(#${e.elementInfo.id}-${e.elementInfo.points[1]}-end)`:""},null,8,vp)],8,fp))],4)],4))}});l("fbfe");const yp=V()(hp,[["__scopeId","data-v-340cdee8"]]);var gp=yp,xp=Object(C["defineComponent"])({__name:"BaseChartElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=Object(C["inject"])(Xr)||Object(C["ref"])(1),l=Object(C["computed"])(()=>t.value<1),o=Object(C["computed"])(()=>l.value?1/t.value:1);return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-chart",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({backgroundColor:e.elementInfo.fill})},[Object(C["createVNode"])(as,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(C["createVNode"])(qd,{width:e.elementInfo.width*Object(C["unref"])(o),height:e.elementInfo.height*Object(C["unref"])(o),type:e.elementInfo.chartType,data:e.elementInfo.data,options:e.elementInfo.options,themeColor:e.elementInfo.themeColor,gridColor:e.elementInfo.gridColor,legends:e.elementInfo.data.legends,legend:e.elementInfo.legend||"",style:Object(C["normalizeStyle"])({zoom:1/Object(C["unref"])(o)})},null,8,["width","height","type","data","options","themeColor","gridColor","legends","legend","style"])],4)],4)],4))}});l("9b4d");const kp=V()(xp,[["__scopeId","data-v-7d2e5c4e"]]);var Cp=kp;const Np=["width"],Ep=["rowspan","colspan"],wp=["innerHTML"];var Vp=Object(C["defineComponent"])({__name:"StaticTable",props:{data:{type:Array,required:!0},width:{type:Number,required:!0},colWidths:{type:Array,required:!0},outline:{type:Object,required:!0},theme:{type:Object},editable:{type:Boolean,default:!0}},setup(e){const t=e,l=Object(C["ref"])([]),o=Object(C["computed"])(()=>l.value.reduce((e,t)=>e+t));Object(C["watch"])([()=>t.colWidths,()=>t.width],()=>{l.value=t.colWidths.map(e=>e*t.width)},{immediate:!0});const c=Object(C["computed"])(()=>t.data),{hideCells:n}=Jd(c),a=Object(C["computed"])(()=>t.theme),{subThemeColor:r}=Qd(a);return(t,c)=>{var i,s,d,u,b;return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"static-table",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(o)+"px"})},[Object(C["createElementVNode"])("table",{class:Object(C["normalizeClass"])({theme:Object(C["unref"])(a),"row-header":null===(i=Object(C["unref"])(a))||void 0===i?void 0:i.rowHeader,"row-footer":null===(s=Object(C["unref"])(a))||void 0===s?void 0:s.rowFooter,"col-header":null===(d=Object(C["unref"])(a))||void 0===d?void 0:d.colHeader,"col-footer":null===(u=Object(C["unref"])(a))||void 0===u?void 0:u.colFooter}),style:Object(C["normalizeStyle"])(`--themeColor: ${null===(b=Object(C["unref"])(a))||void 0===b?void 0:b.color}; --subThemeColor1: ${Object(C["unref"])(r)[0]}; --subThemeColor2: ${Object(C["unref"])(r)[1]}`)},[Object(C["createElementVNode"])("colgroup",null,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(l.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("col",{span:"1",key:t,width:e},null,8,Np))),128))]),Object(C["createElementVNode"])("tbody",null,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.data,(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("tr",{key:l},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t,(t,o)=>Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("td",{class:"cell",style:Object(C["normalizeStyle"])({borderStyle:e.outline.style,borderColor:e.outline.color,borderWidth:e.outline.width+"px",...Object(C["unref"])(Zd)(t.style)}),key:t.id,rowspan:t.rowspan,colspan:t.colspan},[Object(C["createElementVNode"])("div",{class:"cell-text",innerHTML:Object(C["unref"])(Wd)(t.text)},null,8,wp)],12,Ep)),[[C["vShow"],!Object(C["unref"])(n).includes(`${l}_${o}`)]])),128))]))),128))])],6)],4)}}});l("8628");const Ip=V()(Vp,[["__scopeId","data-v-00712fa4"]]);var Bp=Ip;const Sp={class:"element-content"};var Lp=Object(C["defineComponent"])({__name:"BaseTableElement",props:{elementInfo:{type:Object,required:!0}},setup(e){return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-table",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",Sp,[Object(C["createVNode"])(Bp,{data:e.elementInfo.data,width:e.elementInfo.width,colWidths:e.elementInfo.colWidths,outline:e.elementInfo.outline,theme:e.elementInfo.theme},null,8,["data","width","colWidths","outline","theme"])])],4)],4))}});l("a320");const _p=V()(Lp,[["__scopeId","data-v-53e0f1ba"]]);var Tp=_p;const Mp={class:"element-content"},Dp=["width","height","stroke","stroke-width"],Ap=["transform"],zp=["d"];var Fp=Object(C["defineComponent"])({__name:"BaseLatexElement",props:{elementInfo:{type:Object,required:!0}},setup(e){return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-latex",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",Mp,[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.strokeWidth,fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[Object(C["createElementVNode"])("g",{transform:`scale(${e.elementInfo.width/e.elementInfo.viewBox[0]}, ${e.elementInfo.height/e.elementInfo.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(C["createElementVNode"])("path",{d:e.elementInfo.path},null,8,zp)],8,Ap)],8,Dp))])],4)],4))}});l("58eb");const $p=V()(Fp,[["__scopeId","data-v-9a47b5f4"]]);var Rp=$p,Pp=Object(C["defineComponent"])({__name:"BaseVideoElement",props:{elementInfo:{type:Object,required:!0}},setup(e){return(t,l)=>{const o=Object(C["resolveComponent"])("IconPlayOne");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-video",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",{class:"element-content",style:Object(C["normalizeStyle"])({backgroundImage:`url(${e.elementInfo.poster})`})},[Object(C["createVNode"])(o,{class:"icon"})],4)],4)],4)}}});l("5a58");const Hp=V()(Pp,[["__scopeId","data-v-56b7f716"]]);var Up=Hp;const qp={class:"element-content"};var Gp=Object(C["defineComponent"])({__name:"BaseAudioElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>Math.min(t.elementInfo.width,t.elementInfo.height)+"px");return(t,o)=>{const c=Object(C["resolveComponent"])("IconVolumeNotice");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"base-element-audio",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",qp,[Object(C["createVNode"])(c,{class:"audio-icon",style:Object(C["normalizeStyle"])({fontSize:Object(C["unref"])(l),color:e.elementInfo.color})},null,8,["style"])])],4)],4)}}});l("0491");const Yp=V()(Gp,[["__scopeId","data-v-5258e03b"]]);var Xp=Yp,Zp=Object(C["defineComponent"])({__name:"ThumbnailElement",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e={[Aa.IMAGE]:cp,[Aa.TEXT]:ip,[Aa.SHAPE]:jp,[Aa.LINE]:gp,[Aa.CHART]:Cp,[Aa.TABLE]:Tp,[Aa.LATEX]:Rp,[Aa.VIDEO]:Up,[Aa.AUDIO]:Xp};return e[t.elementInfo.type]||null});return(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["base-element","base-element-"+e.elementInfo.id]),style:Object(C["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(l)),{elementInfo:e.elementInfo,target:"thumbnail"},null,8,["elementInfo"]))],6))}});const Wp=Zp;var Jp=Wp;const Qp={key:1,class:"placeholder"};var Kp=Object(C["defineComponent"])({__name:"index",props:{slide:{type:Object,required:!0},size:{type:Number,required:!0},visible:{type:Boolean,default:!0},avatar:{type:String,required:!1}},setup(e){const t=e,l=Object(ko["e"])(),{viewportRatio:o}=Object(N["c"])(l),c=Object(C["computed"])(()=>t.slide.background),{backgroundStyle:n}=Lb(c),a=Object(C["computed"])(()=>t.size/Ma);return Object(C["provide"])(Xr,a),Object(C["onMounted"])(()=>l.cloudSlidesLoadedCallback()),(t,l)=>{const c=Object(C["resolveComponent"])("Avatar");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"thumbnail-slide",style:Object(C["normalizeStyle"])([{width:e.size+"px",height:e.size*Object(C["unref"])(o)+"px"},{position:"relative"}])},[e.visible?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"elements",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(Ma)+"px",height:Object(C["unref"])(Ma)*Object(C["unref"])(o)+"px",transform:`scale(${Object(C["unref"])(a)})`})},[Object(C["createElementVNode"])("div",{class:"background",style:Object(C["normalizeStyle"])(Object(C["unref"])(n))},null,4),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.slide.elements,(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(Jp,{key:e.id,elementInfo:e,elementIndex:t+1},null,8,["elementInfo","elementIndex"]))),128))],4)):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Qp,"加载中 ...")),void 0!==e.avatar?(Object(C["openBlock"])(),Object(C["createBlock"])(c,{key:2,style:{position:"absolute",bottom:"0",left:"0"},size:"small",src:e.avatar},null,8,["src"])):Object(C["createCommentVNode"])("",!0)],4)}}});l("bc30");const eO=V()(Kp,[["__scopeId","data-v-0b1edfca"]]);var tO=eO;const lO=e=>(Object(C["pushScopeId"])("data-v-dfb654e8"),e=e(),Object(C["popScopeId"])(),e),oO={class:"link-dialog"},cO={class:"tabs"},nO=["onClick"],aO={key:2,class:"preview"},rO=lO(()=>Object(C["createElementVNode"])("div",null,"预览：",-1)),iO={class:"btns"},sO=Object(C["createTextVNode"])("取消"),dO=Object(C["createTextVNode"])("确认");var uO=Object(C["defineComponent"])({__name:"LinkDialog",emits:["close"],setup(e,{emit:t}){const{handleElement:l}=Object(N["c"])(Object(ko["c"])()),{slides:o}=Object(N["c"])(Object(ko["e"])()),c=Object(C["ref"])("web"),n=Object(C["ref"])(""),a=Object(C["ref"])("");a.value=o.value[0].id;const r=Object(C["computed"])(()=>a.value&&o.value.find(e=>e.id===a.value)||null),i=[{key:"web",label:"网页链接"},{key:"slide",label:"幻灯片页面"}],{setLink:s}=Um();Object(C["onMounted"])(()=>{var e;null!==(e=l.value)&&void 0!==e&&e.link&&("web"===l.value.link.type?n.value=l.value.link.target:"slide"===l.value.link.type&&(a.value=l.value.link.target),c.value=l.value.link.type)});const d=()=>{const e={type:c.value,target:"web"===c.value?n.value:a.value};if(l.value){const o=s(l.value,e);o?t("close"):n.value=""}};return(e,l)=>{const s=Object(C["resolveComponent"])("Input"),u=Object(C["resolveComponent"])("SelectOption"),b=Object(C["resolveComponent"])("Select"),m=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",oO,[Object(C["createElementVNode"])("div",cO,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(i,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tab",{active:c.value===e.key}]),key:e.key,onClick:t=>c.value=e.key},Object(C["toDisplayString"])(e.label),11,nO)),64))]),"web"===c.value?(Object(C["openBlock"])(),Object(C["createBlock"])(s,{key:0,class:"input",value:n.value,"onUpdate:value":l[0]||(l[0]=e=>n.value=e),placeholder:"请输入网页链接地址"},null,8,["value"])):Object(C["createCommentVNode"])("",!0),"slide"===c.value?(Object(C["openBlock"])(),Object(C["createBlock"])(b,{key:1,class:"input",value:a.value,"onUpdate:value":l[1]||(l[1]=e=>a.value=e)},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(o),(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(u,{key:e.id,value:e.id},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])("幻灯片 "+Object(C["toDisplayString"])(t+1),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])):Object(C["createCommentVNode"])("",!0),"slide"===c.value&&Object(C["unref"])(r)?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",aO,[rO,Object(C["createVNode"])(tO,{class:"thumbnail",slide:Object(C["unref"])(r),size:490},null,8,["slide"])])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",iO,[Object(C["createVNode"])(m,{onClick:l[2]||(l[2]=e=>t("close")),style:{"margin-right":"10px"}},{default:Object(C["withCtx"])(()=>[sO]),_:1}),Object(C["createVNode"])(m,{type:"primary",onClick:l[3]||(l[3]=e=>d())},{default:Object(C["withCtx"])(()=>[dO]),_:1})])])}}});l("46fe");const bO=V()(uO,[["__scopeId","data-v-dfb654e8"]]);var mO=bO;const pO={class:"operates"},OO={key:1,class:"drag-mask"};var jO=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(ko["c"])(),{activeElementIdList:l,activeGroupElementId:o,handleElementId:c,editorAreaFocus:n,gridLineSize:a,showRuler:r,creatingElement:i,canvasScale:s}=Object(N["c"])(t),{currentSlide:d}=Object(N["c"])(Object(ko["e"])()),{ctrlKeyState:u,spaceKeyState:b}=Object(N["c"])(Object(ko["b"])()),m=Object(C["ref"])(),p=Object(C["ref"])([]),O=Object(C["ref"])(!1),j=()=>O.value=!0;Object(C["watch"])(c,()=>{t.setActiveGroupElementId("")});const f=Object(C["ref"])([]),v=()=>{f.value=d.value?JSON.parse(JSON.stringify(d.value.elements)):[]};Object(C["watchEffect"])(v);const h=Object(C["ref"])(),{dragViewport:y,viewportStyles:g}=Jr(h);Kr(h);const{mouseSelection:x,mouseSelectionVisible:k,mouseSelectionQuadrant:E,updateMouseSelection:w}=Qr(f,m),{dragElement:V}=di(f,p,s),{dragLineElement:I}=ui(f),{selectElement:B}=si(f,V),{scaleElement:S,scaleMultiElement:L}=ii(f,p,s),{rotateElement:_}=ti(f,m),{moveShapeKeypoint:T}=bi(f,s),{selectAllElement:M}=Wa(),{deleteAllElements:D}=Ya(),{pasteElement:A}=Za(),{enterScreeningFromStart:z}=lr(),{updateSlideIndex:F}=qa();Object(C["onMounted"])(()=>{l.value.length&&t.setActiveElementIdList([])});const $=e=>{t.setActiveElementIdList([]),b.value?y(e):w(e),n.value||t.setEditorareaFocus(!0),Wr()},R=()=>{n.value&&t.setEditorareaFocus(!1)},{scaleCanvas:P}=or(),H=Object(Yt["throttle"])(P,100,{leading:!0,trailing:!1}),U=Object(Yt["throttle"])(F,300,{leading:!0,trailing:!1}),q=e=>{e.preventDefault(),u.value?e.deltaY>0?H("-"):e.deltaY<0&&H("+"):e.deltaY>0?U(Va.DOWN):e.deltaY<0&&U(Va.UP)},G=()=>{t.setRulerState(!r.value)},{insertElementFromCreateSelection:Y}=mi(m),X=()=>[{text:"粘贴",subText:"Ctrl + V",handler:A},{text:"全选",subText:"Ctrl + A",handler:M},{text:"标尺",subText:r.value?"√":"",handler:G},{text:"网格线",handler:()=>t.setGridLineSize(a.value?0:50),children:[{text:"无",subText:0===a.value?"√":"",handler:()=>t.setGridLineSize(0)},{text:"小",subText:25===a.value?"√":"",handler:()=>t.setGridLineSize(25)},{text:"中",subText:50===a.value?"√":"",handler:()=>t.setGridLineSize(50)},{text:"大",subText:100===a.value?"√":"",handler:()=>t.setGridLineSize(100)}]},{text:"重置当前页",handler:D},{divider:!0},{text:"幻灯片放映",subText:"F5",handler:z}];return Object(C["provide"])(Xr,s),(e,t)=>{const n=Object(C["resolveComponent"])("Modal"),a=Object(C["resolveDirective"])("contextmenu"),d=Object(C["resolveDirective"])("click-outside");return Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"canvas",ref_key:"canvasRef",ref:h,onWheel:t[3]||(t[3]=e=>q(e)),onMousedown:t[4]||(t[4]=e=>$(e))},[Object(C["unref"])(i)?(Object(C["openBlock"])(),Object(C["createBlock"])(Yb,{key:0,onCreated:t[0]||(t[0]=e=>Object(C["unref"])(Y)(e))})):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",{class:"viewport-wrapper",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(g).width*Object(C["unref"])(s)+"px",height:Object(C["unref"])(g).height*Object(C["unref"])(s)+"px",left:Object(C["unref"])(g).left+"px",top:Object(C["unref"])(g).top+"px"})},[Object(C["createElementVNode"])("div",pO,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(p.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(zb,{key:t,type:e.type,axis:e.axis,length:e.length,canvasScale:Object(C["unref"])(s)},null,8,["type","axis","length","canvasScale"]))),128)),Object(C["unref"])(l).length>1?(Object(C["openBlock"])(),Object(C["createBlock"])(om,{key:0,elementList:f.value,scaleMultiElement:Object(C["unref"])(L)},null,8,["elementList","scaleMultiElement"])):Object(C["createCommentVNode"])("",!0),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(f.value,e=>(Object(C["openBlock"])(),Object(C["createBlock"])(ep,{key:e.id,elementInfo:e,isSelected:Object(C["unref"])(l).includes(e.id),isActive:Object(C["unref"])(c)===e.id,isActiveGroupElement:Object(C["unref"])(o)===e.id,isMultiSelect:Object(C["unref"])(l).length>1,rotateElement:Object(C["unref"])(_),scaleElement:Object(C["unref"])(S),openLinkDialog:j,dragLineElement:Object(C["unref"])(I),moveShapeKeypoint:Object(C["unref"])(T)},null,8,["elementInfo","isSelected","isActive","isActiveGroupElement","isMultiSelect","rotateElement","scaleElement","dragLineElement","moveShapeKeypoint"]))),128)),Object(C["createVNode"])(Mb)]),Object(C["createElementVNode"])("div",{class:"viewport",ref_key:"viewportRef",ref:m,style:Object(C["normalizeStyle"])({transform:`scale(${Object(C["unref"])(s)})`})},[Object(C["unref"])(k)?(Object(C["openBlock"])(),Object(C["createBlock"])(Eb,{key:0,top:Object(C["unref"])(x).top,left:Object(C["unref"])(x).left,width:Object(C["unref"])(x).width,height:Object(C["unref"])(x).height,quadrant:Object(C["unref"])(E)},null,8,["top","left","width","height","quadrant"])):Object(C["createCommentVNode"])("",!0),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(f.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(kb,{key:e.id,elementInfo:e,elementIndex:t+1,isMultiSelect:Object(C["unref"])(l).length>1,selectElement:Object(C["unref"])(B),openLinkDialog:j},null,8,["elementInfo","elementIndex","isMultiSelect","selectElement"]))),128))],4)],4),Object(C["unref"])(b)?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",OO)):Object(C["createCommentVNode"])("",!0),Object(C["unref"])(r)?(Object(C["openBlock"])(),Object(C["createBlock"])(Pb,{key:2,viewportStyles:Object(C["unref"])(g)},null,8,["viewportStyles"])):Object(C["createCommentVNode"])("",!0),Object(C["createVNode"])(n,{visible:O.value,"onUpdate:visible":t[2]||(t[2]=e=>O.value=e),footer:null,centered:"",width:540,destroyOnClose:""},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(mO,{onClose:t[1]||(t[1]=e=>O.value=!1)})]),_:1},8,["visible"])],32)),[[a,X],[d,R]])}}});l("0239");const fO=V()(jO,[["__scopeId","data-v-27676bf3"]]);var vO=fO;const hO={class:"shape-pool"},yO={class:"category-name"},gO={class:"shape-list"},xO=["onClick"],kO={overflow:"visible",width:"18",height:"18"},CO=["transform"],NO=["fill","stroke","d"];var EO=Object(C["defineComponent"])({__name:"ShapePool",emits:["select"],setup(e,{emit:t}){const l=e=>{t("select",e)};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",hO,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(Fa),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"category",key:e.type},[Object(C["createElementVNode"])("div",yO,Object(C["toDisplayString"])(e.type),1),Object(C["createElementVNode"])("div",gO,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.children,(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"shape-item",key:t},[Object(C["createElementVNode"])("div",{class:"shape-content",onClick:t=>l(e)},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",kO,[Object(C["createElementVNode"])("g",{transform:`scale(${18/e.viewBox[0]}, ${18/e.viewBox[1]}) translate(0,0) matrix(1,0,0,1,0,0)`},[Object(C["createElementVNode"])("path",{class:Object(C["normalizeClass"])(["shape-path",{outlined:e.outlined}]),"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:e.outlined?"#999":"transparent",stroke:e.outlined?"transparent":"#999","stroke-width":"2",d:e.path},null,10,NO)],8,CO)]))],8,xO)]))),128))])]))),128))]))}});l("c24c");const wO=V()(EO,[["__scopeId","data-v-5788e0d2"]]);var VO=wO;const IO=[{type:"直线",children:[{path:"M 0 0 L 20 20",style:"solid",points:["",""]},{path:"M 0 0 L 20 20",style:"dashed",points:["",""]},{path:"M 0 0 L 20 20",style:"solid",points:["","arrow"]},{path:"M 0 0 L 20 20",style:"dashed",points:["","arrow"]},{path:"M 0 0 L 20 20",style:"solid",points:["","dot"]}]},{type:"折线、曲线",children:[{path:"M 0 0 L 0 20 L 20 20",style:"solid",points:["","arrow"],isBroken:!0},{path:"M 0 0 Q 0 20 20 20",style:"solid",points:["","arrow"],isCurve:!0},{path:"M 0 0 C 20 0 0 20 20 20",style:"solid",points:["","arrow"],isCubic:!0}]}],BO={class:"line-pool"},SO={class:"category-name"},LO={class:"line-list"},_O=["onClick"],TO={overflow:"visible",width:"20",height:"20"},MO=["d","stroke-dasharray","marker-start","marker-end"];var DO=Object(C["defineComponent"])({__name:"LinePool",emits:["select"],setup(e,{emit:t}){const l=e=>{t("select",e)};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",BO,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(IO),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"category",key:e.type},[Object(C["createElementVNode"])("div",SO,Object(C["toDisplayString"])(e.type),1),Object(C["createElementVNode"])("div",LO,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.children,(e,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"line-item",key:o},[Object(C["createElementVNode"])("div",{class:"line-content",onClick:t=>l(e)},[(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",TO,[Object(C["createElementVNode"])("defs",null,[e.points[0]?(Object(C["openBlock"])(),Object(C["createBlock"])(Td,{key:0,class:"line-marker",id:`preset-line-${t}-${o}`,position:"start",type:e.points[0],color:"currentColor",baseSize:2},null,8,["id","type"])):Object(C["createCommentVNode"])("",!0),e.points[1]?(Object(C["openBlock"])(),Object(C["createBlock"])(Td,{key:1,class:"line-marker",id:`preset-line-${t}-${o}`,position:"end",type:e.points[1],color:"currentColor",baseSize:2},null,8,["id","type"])):Object(C["createCommentVNode"])("",!0)]),Object(C["createElementVNode"])("path",{class:"line-path",d:e.path,stroke:"currentColor",fill:"none","stroke-width":"2","stroke-dasharray":"solid"===e.style?"0, 0":"4, 1","marker-start":e.points[0]?`url(#preset-line-${t}-${o}-${e.points[0]}-start)`:"","marker-end":e.points[1]?`url(#preset-line-${t}-${o}-${e.points[1]}-end)`:""},null,8,MO)]))],8,_O)]))),128))])]))),128))]))}});l("3836");const AO=V()(DO,[["__scopeId","data-v-bca68faa"]]);var zO=AO;const FO={class:"chart-pool"},$O=["onClick"];var RO=Object(C["defineComponent"])({__name:"ChartPool",emits:["select"],setup(e,{emit:t}){const l=["bar","horizontalBar","line","area","scatter","pie","ring"],o=e=>{t("select",e)};return(e,t)=>{const c=Object(C["resolveComponent"])("IconChartLine"),n=Object(C["resolveComponent"])("IconChartHistogram"),a=Object(C["resolveComponent"])("IconChartPie"),r=Object(C["resolveComponent"])("IconChartHistogramOne"),i=Object(C["resolveComponent"])("IconChartLineArea"),s=Object(C["resolveComponent"])("IconChartRing"),d=Object(C["resolveComponent"])("IconChartScatter");return Object(C["openBlock"])(),Object(C["createElementBlock"])("ul",FO,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(l,(e,t)=>Object(C["createElementVNode"])("li",{class:"chart-item",key:t},[Object(C["createElementVNode"])("div",{class:"chart-content",onClick:t=>o(e)},["line"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(c,{key:0,size:"24"})):"bar"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(n,{key:1,size:"24"})):"pie"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(a,{key:2,size:"24"})):"horizontalBar"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(r,{key:3,size:"24"})):"area"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(i,{key:4,size:"24"})):"ring"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(s,{key:5,size:"24"})):"scatter"===e?(Object(C["openBlock"])(),Object(C["createBlock"])(d,{key:6,size:"24"})):Object(C["createCommentVNode"])("",!0)],8,$O)])),64))])}}});l("24bc");const PO=V()(RO,[["__scopeId","data-v-3870b42e"]]);var HO=PO;const UO=e=>(Object(C["pushScopeId"])("data-v-144fbd05"),e=e(),Object(C["popScopeId"])(),e),qO={class:"table-generator"},GO={class:"title"},YO={class:"lef"},XO=["onMouseenter"],ZO={key:1,class:"custom"},WO={class:"row"},JO=UO(()=>Object(C["createElementVNode"])("div",{class:"label",style:{flex:"1"}},"行数：",-1)),QO={class:"row"},KO=UO(()=>Object(C["createElementVNode"])("div",{class:"label",style:{flex:"1"}},"列数：",-1)),ej={class:"btns"},tj=Object(C["createTextVNode"])("取消"),lj=Object(C["createTextVNode"])("确认");var oj=Object(C["defineComponent"])({__name:"TableGenerator",emits:["insert","close"],setup(e,{emit:t}){const l=Object(C["ref"])([]),o=Object(C["ref"])(3),c=Object(C["ref"])(3),n=Object(C["ref"])(!1),a=()=>{if(!l.value.length)return;const[e,o]=l.value;t("insert",{row:e,col:o})},r=()=>o.value<1||o.value>20||c.value<1||c.value>20?Ut["a"].warning("行数/列数必须在0~20之间！"):(t("insert",{row:o.value,col:c.value}),void(n.value=!1)),i=()=>{t("close"),n.value=!1};return(e,t)=>{const s=Object(C["resolveComponent"])("InputNumber"),d=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",qO,[Object(C["createElementVNode"])("div",GO,[Object(C["createElementVNode"])("div",YO,"表格 "+Object(C["toDisplayString"])(l.value.length?`${l.value[0]} x ${l.value[1]}`:""),1),Object(C["createElementVNode"])("div",{class:"right",onClick:t[0]||(t[0]=e=>n.value=!n.value)},Object(C["toDisplayString"])(n.value?"返回":"自定义"),1)]),n.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",ZO,[Object(C["createElementVNode"])("div",WO,[JO,Object(C["createVNode"])(s,{min:1,max:20,value:o.value,"onUpdate:value":t[3]||(t[3]=e=>o.value=e),style:{flex:"3"}},null,8,["value"])]),Object(C["createElementVNode"])("div",QO,[KO,Object(C["createVNode"])(s,{min:1,max:20,value:c.value,"onUpdate:value":t[4]||(t[4]=e=>c.value=e),style:{flex:"3"}},null,8,["value"])]),Object(C["createElementVNode"])("div",ej,[Object(C["createVNode"])(d,{class:"btn",onClick:t[5]||(t[5]=e=>i())},{default:Object(C["withCtx"])(()=>[tj]),_:1}),Object(C["createVNode"])(d,{class:"btn",type:"primary",onClick:t[6]||(t[6]=e=>r())},{default:Object(C["withCtx"])(()=>[lj]),_:1})])])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("table",{key:0,onMouseleave:t[1]||(t[1]=e=>l.value=[]),onClick:t[2]||(t[2]=e=>a())},[Object(C["createElementVNode"])("tbody",null,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(10,e=>Object(C["createElementVNode"])("tr",{key:e},[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(10,t=>Object(C["createElementVNode"])("td",{onMouseenter:o=>l.value=[e,t],key:t},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["cell",{active:l.value.length&&e<=l.value[0]&&t<=l.value[1]}])},null,2)],40,XO)),64))])),64))])],32))])}}});l("307a");const cj=V()(oj,[["__scopeId","data-v-144fbd05"]]);var nj=cj;const aj={class:"media-input"},rj={class:"tabs"},ij=["onClick"],sj={class:"btns"},dj=Object(C["createTextVNode"])("取消"),uj=Object(C["createTextVNode"])("确认"),bj={class:"btns"},mj=Object(C["createTextVNode"])("取消"),pj=Object(C["createTextVNode"])("确认");var Oj=Object(C["defineComponent"])({__name:"MediaInput",emits:["insertVideo","insertAudio","close"],setup(e,{emit:t}){const l=Object(C["ref"])("video"),o=Object(C["ref"])("https://mazwai.com/videvo_files/video/free/2019-01/small_watermarked/181004_04_Dolphins-Whale_06_preview.webm"),c=Object(C["ref"])("https://freesound.org/data/previews/614/614107_11861866-lq.mp3"),n=[{key:"video",label:"视频"},{key:"audio",label:"音频"}],a=()=>{if(!o.value)return Ut["a"].error("请先输入正确的视频地址");t("insertVideo",o.value)},r=()=>{if(!c.value)return Ut["a"].error("请先输入正确的音频地址");t("insertAudio",c.value)};return(e,i)=>{const s=Object(C["resolveComponent"])("Input"),d=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",aj,[Object(C["createElementVNode"])("div",rj,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(n,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tab",{active:l.value===e.key}]),key:e.key,onClick:t=>l.value=e.key},Object(C["toDisplayString"])(e.label),11,ij)),64))]),"video"===l.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createVNode"])(s,{value:o.value,"onUpdate:value":i[0]||(i[0]=e=>o.value=e),placeholder:"请输入视频地址，e.g. https://xxx.mp4"},null,8,["value"]),Object(C["createElementVNode"])("div",sj,[Object(C["createVNode"])(d,{onClick:i[1]||(i[1]=e=>t("close")),style:{"margin-right":"10px"}},{default:Object(C["withCtx"])(()=>[dj]),_:1}),Object(C["createVNode"])(d,{type:"primary",onClick:i[2]||(i[2]=e=>a())},{default:Object(C["withCtx"])(()=>[uj]),_:1})])],64)):Object(C["createCommentVNode"])("",!0),"audio"===l.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:1},[Object(C["createVNode"])(s,{value:c.value,"onUpdate:value":i[3]||(i[3]=e=>c.value=e),placeholder:"请输入音频地址，e.g. https://xxx.mp3"},null,8,["value"]),Object(C["createElementVNode"])("div",bj,[Object(C["createVNode"])(d,{onClick:i[4]||(i[4]=e=>t("close")),style:{"margin-right":"10px"}},{default:Object(C["withCtx"])(()=>[mj]),_:1}),Object(C["createVNode"])(d,{type:"primary",onClick:i[5]||(i[5]=e=>r())},{default:Object(C["withCtx"])(()=>[pj]),_:1})])],64)):Object(C["createCommentVNode"])("",!0)])}}});l("4675");const jj=V()(Oj,[["__scopeId","data-v-b9437110"]]);var fj=jj,vj=l("41ca");vj["a"].SUB_SUP_SCALE=.5;const hj=[{label:"高斯公式",latex:"\\int\\int\\int _ { \\Omega } \\left( \\frac { \\partial {P} } { \\partial {x} } + \\frac { \\partial {Q} } { \\partial {y} } + \\frac { \\partial {R} }{ \\partial {z} } \\right) \\mathrm { d } V = \\oint _ { \\partial \\Omega } ( P \\cos \\alpha + Q \\cos \\beta + R \\cos \\gamma ) \\mathrm{ d} S"},{label:"傅里叶级数",latex:"f(x) = \\frac {a_0} 2 + \\sum_{n = 1}^\\infty {({a_n}\\cos {nx} + {b_n}\\sin {nx})}"},{label:"泰勒展开式",latex:"e ^ { x } = 1 + \\frac { x } { 1 ! } + \\frac { x ^ { 2 } } { 2 ! } + \\frac { x ^ { 3 } } { 3 ! } + ... , \\quad - \\infty < x < \\infty"},{label:"定积分",latex:"\\lim_ { n \\rightarrow + \\infty } \\sum _ { i = 1 } ^ { n } f \\left[ a + \\frac { i } { n } ( b - a ) \\right] \\frac { b - a } { n } = \\int _ { a } ^ { b } f ( x ) dx"},{label:"三角恒等式1",latex:"\\sin \\alpha \\pm \\sin \\beta = 2 \\sin \\frac { 1 } { 2 } ( \\alpha \\pm \\beta ) \\cos \\frac { 1 } { 2 } ( \\alpha \\mp \\beta )"},{label:"三角恒等式2",latex:"\\cos \\alpha + \\cos \\beta = 2 \\cos \\frac { 1 } { 2 } ( \\alpha + \\beta ) \\cos \\frac { 1 } { 2 } ( \\alpha - \\beta )"},{label:"和的展开式",latex:"( 1 + x ) ^ { n } = 1 + \\frac { n x } { 1 ! } + \\frac { n ( n - 1 ) x ^ { 2 } } { 2 ! } + ..."},{label:"欧拉公式",latex:" e^{ix} = \\cos {x} + i\\sin {x}"},{label:"贝努利方程",latex:"\\frac {dy} {dx} + P(x)y = Q(x) y^n ({n} \\not= {0,1})"},{label:"全微分方程",latex:"du(x,y) = P(x,y)dx + Q(x,y)dy = 0"},{label:"非齐次方程",latex:"y = (\\int Q(x) e^{\\int {P(x)dx}}dx + C)e^{-\\int {P(x)dx}}"},{label:"柯西中值定理",latex:"\\frac{{f(b) - f(a)}}{{F(b) - F(a)}} = \\frac{{f'(\\xi )}}{{F'(\\xi )}}"},{label:"拉格朗日中值定理",latex:"f(b) - f(a) = f'(\\xi )(b - a)"},{label:"导数公式",latex:"(\\arcsin x)' = \\frac{1}{{\\sqrt {1 - x^2} }}"},{label:"三角函数积分",latex:"\\int {tgxdx = - \\ln \\left| {\\cos x} \\right| + C}"},{label:"二次曲面",latex:"\\frac{{{x^2}}}{{{a^2}}} + \\frac{{{y^2}}}{{{b^2}}} - \\frac{{{z^2}}}{{{c^2}}} = 1"},{label:"二阶微分",latex:"\\frac {{d^2}y} {dx^2} + P(x) \\frac {dy} {dx} + Q(x)y = f(x)"},{label:"方向导数",latex:"\\frac{{\\partial f}}{{\\partial l}} = \\frac{{\\partial f}}{{\\partial x}}\\cos \\phi + \\frac{{\\partial f}}{{\\partial y}}\\sin \\phi"}],yj=[{type:"operators",label:"数学",children:[{latex:"\\cdot"},{latex:"\\pm"},{latex:"\\mp"},{latex:"+"},{latex:"-"},{latex:"\\times"},{latex:"\\div"},{latex:"<"},{latex:">"},{latex:"="},{latex:"\\neq\\ne"},{latex:"\\leqq"},{latex:"\\geqq"},{latex:"\\leq"},{latex:"\\geq"},{latex:"\\propto"},{latex:"\\sim"},{latex:"\\equiv"},{latex:"\\dagger"},{latex:"\\ddagger"},{latex:"\\ell"},{latex:"\\#"},{latex:"\\$"},{latex:"\\&"},{latex:"\\%"},{latex:"\\langle\\rangle"},{latex:"()"},{latex:"[]"},{latex:"\\{\\}"},{latex:"||"},{latex:"\\|"},{latex:"\\exists"},{latex:"\\in"},{latex:"\\subset"},{latex:"\\supset"},{latex:"\\cup"},{latex:"\\cap"},{latex:"\\infty"},{latex:"\\partial"},{latex:"\\nabla"},{latex:"\\aleph"},{latex:"\\wp"},{latex:"\\therefore"},{latex:"\\mid"},{latex:"\\sum"},{latex:"\\prod"},{latex:"\\bigoplus"},{latex:"\\bigodot"},{latex:"\\int"},{latex:"\\oint"},{latex:"\\oplus"},{latex:"\\odot"},{latex:"\\perp"},{latex:"\\angle"},{latex:"\\triangle"},{latex:"\\Box"},{latex:"\\rightarrow"},{latex:"\\to"},{latex:"\\leftarrow"},{latex:"\\gets"},{latex:"\\circ"},{latex:"\\bigcirc"},{latex:"\\bullet"},{latex:"\\star"},{latex:"\\diamond"},{latex:"\\ast"},{latex:","},{latex:"."},{latex:";"},{latex:"!"}]},{type:"group",label:"组合",children:[{latex:"\\frac{a}{b}"},{latex:"\\frac{dx}{dx}"},{latex:"\\frac{\\partial a}{\\partial b}"},{latex:"\\sqrt{x}"},{latex:"\\sqrt[n]{x}"},{latex:"x^{n}"},{latex:"x_{n}"},{latex:"x_a^b"},{latex:"\\int_{a}^{b}"},{latex:"\\oint_a^b"},{latex:"\\lim_{a \\rightarrow b}"},{latex:"\\prod_a^b"},{latex:"\\sum_a^b"},{latex:"\\left(\\begin{array}a \\\\ b\\end{array}\\right)"},{latex:"\\begin{bmatrix}a & b \\\\ c & d \\end{bmatrix}"},{latex:"\\begin{cases}a & x = 0 \\\\ b & x > 0\\end{cases}"},{latex:"\\hat{a}"},{latex:"\\breve{a}"},{latex:"\\acute{a}"},{latex:"\\grave{a}"},{latex:"\\tilde{a}"},{latex:"\\bar{a}"},{latex:"\\vec{a}"},{latex:"\\underline{a}"},{latex:"\\overline{a}"},{latex:"\\widehat{ab}"},{latex:"\\overleftarrow{ab}"},{latex:"\\overrightarrow{ab}"}]},{type:"verbatim",label:"函数",children:[{latex:"\\log"},{latex:"\\ln"},{latex:"\\exp"},{latex:"\\mod"},{latex:"\\lim"},{latex:"\\sin"},{latex:"\\cos"},{latex:"\\tan"},{latex:"\\csc"},{latex:"\\sec"},{latex:"\\cot"},{latex:"\\sinh"},{latex:"\\cosh"},{latex:"\\tanh"},{latex:"\\csch"},{latex:"\\sech"},{latex:"\\coth"},{latex:"\\arcsin"},{latex:"\\arccos"},{latex:"\\arctan"},{latex:"\\arccsc"},{latex:"\\arcsec"},{latex:"\\arccot"}]},{type:"greek",label:"希腊字母",children:[{latex:"\\alpha"},{latex:"\\beta"},{latex:"\\gamma"},{latex:"\\delta"},{latex:"\\varepsilon"},{latex:"\\zeta"},{latex:"\\eta"},{latex:"\\vartheta"},{latex:"\\iota"},{latex:"\\kappa"},{latex:"\\lambda"},{latex:"\\mu"},{latex:"\\nu"},{latex:"\\xi"},{latex:"\\omicron"},{latex:"\\pi"},{latex:"\\rho"},{latex:"\\sigma"},{latex:"\\tau"},{latex:"\\upsilon"},{latex:"\\varphi"},{latex:"\\chi"},{latex:"\\psi"},{latex:"\\omega"},{latex:"\\epsilon"},{latex:"\\theta"},{latex:"\\phi"},{latex:"\\varsigma"},{latex:"\\Alpha"},{latex:"\\Beta"},{latex:"\\Gamma"},{latex:"\\Delta"},{latex:"\\Epsilon"},{latex:"\\Zeta"},{latex:"\\Eta"},{latex:"\\Theta"},{latex:"\\Iota"},{latex:"\\Kappa"},{latex:"\\Lambda"},{latex:"\\Mu"},{latex:"\\Nu"},{latex:"\\Xi"},{latex:"\\Omicron"},{latex:"\\Pi"},{latex:"\\Rho"},{latex:"\\Sigma"},{latex:"\\Tau"},{latex:"\\Upsilon"},{latex:"\\Phi"},{latex:"\\Chi"},{latex:"\\Psi"},{latex:"\\Omega"}]}],gj=["width","height"],xj=["transform"],kj=["d"];var Cj=Object(C["defineComponent"])({__name:"FormulaContent",props:{latex:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0}},setup(e){const t=e,l=Object(C["ref"])({x:0,y:0,w:0,h:0}),o=Object(C["ref"])("");Object(C["watch"])(()=>t.latex,()=>{const e=new vj["b"](t.latex);o.value=e.pathd({}),l.value=e.box({})},{immediate:!0});const c=Object(C["computed"])(()=>{const e=l.value.w+32,o=l.value.h+32;return e>t.width||o>t.height?e/o>t.width/t.height?t.width/e:t.height/o:1});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("svg",{class:"formula-content",overflow:"visible",width:l.value.w+32,height:l.value.h+32,stroke:"#000","stroke-width":"1",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[Object(C["createElementVNode"])("g",{transform:`scale(${Object(C["unref"])(c)}, ${Object(C["unref"])(c)}) translate(0,0) matrix(1,0,0,1,0,0)`,"transform-origin":"0 50%"},[Object(C["createElementVNode"])("path",{d:o.value},null,8,kj)],8,xj)],8,gj))}});l("e9df");const Nj=V()(Cj,[["__scopeId","data-v-1c41d9fe"]]);var Ej=Nj;const wj=["innerHTML"];var Vj=Object(C["defineComponent"])({__name:"SymbolContent",props:{latex:{type:String,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e=new vj["b"](t.latex);return e.svg({SCALE_X:10,SCALE_Y:10})});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"symbol-content",innerHTML:Object(C["unref"])(l)},null,8,wj))}});const Ij=Vj;var Bj=Ij;const Sj={class:"latex-editor"},Lj={class:"container"},_j={class:"left"},Tj={class:"input-area"},Mj={class:"preview"},Dj={key:0,class:"placeholder"},Aj={key:1,class:"preview-content"},zj={class:"right"},Fj={class:"tabs"},$j=["onClick"],Rj={class:"content"},Pj={key:0,class:"symbol"},Hj={class:"symbol-tabs"},Uj=["onClick"],qj={class:"symbol-pool"},Gj=["onClick"],Yj={key:1,class:"formula"},Xj={class:"formula-title"},Zj=["onClick"],Wj={class:"footer"},Jj=Object(C["createTextVNode"])("取消"),Qj=Object(C["createTextVNode"])("确定");var Kj=Object(C["defineComponent"])({__name:"index",props:{value:{type:String,default:""}},emits:["update","close"],setup(e,{emit:t}){const l=e,o=[{label:"常用符号",value:"symbol"},{label:"预置公式",value:"formula"}],c=hj,n=yj,a=Object(C["ref"])(""),r=Object(C["ref"])("symbol"),i=Object(C["ref"])(),s=Object(C["ref"])(yj[0].type),d=Object(C["computed"])(()=>{const e=yj.find(e=>e.type===s.value);return(null===e||void 0===e?void 0:e.children)||[]});Object(C["onMounted"])(()=>{l.value&&(a.value=l.value)});const u=()=>{if(!a.value)return Ut["a"].error("公式不能为空");const e=new vj["b"](a.value),l=e.pathd({}),o=e.box({});t("update",{latex:a.value,path:l,w:o.w+32,h:o.h+32})},b=e=>{i.value&&(i.value.focus(),document.execCommand("insertText",!1,e))};return(e,l)=>{const m=Object(C["resolveComponent"])("TextArea"),p=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Sj,[Object(C["createElementVNode"])("div",Lj,[Object(C["createElementVNode"])("div",_j,[Object(C["createElementVNode"])("div",Tj,[Object(C["createVNode"])(m,{value:a.value,"onUpdate:value":l[0]||(l[0]=e=>a.value=e),placeholder:"输入 LaTeX 公式",ref_key:"textAreaRef",ref:i},null,8,["value"])]),Object(C["createElementVNode"])("div",Mj,[a.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Aj,[Object(C["createVNode"])(Ej,{width:518,height:138,latex:a.value},null,8,["latex"])])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Dj,"公式预览"))])]),Object(C["createElementVNode"])("div",zj,[Object(C["createElementVNode"])("div",Fj,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(o,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tab",{active:e.value===r.value}]),key:e.value,onClick:t=>r.value=e.value},Object(C["toDisplayString"])(e.label),11,$j)),64))]),Object(C["createElementVNode"])("div",Rj,["symbol"===r.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Pj,[Object(C["createElementVNode"])("div",Hj,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(n),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["symbol-tab",{active:s.value===e.type}]),key:e.type,onClick:t=>s.value=e.type},Object(C["toDisplayString"])(e.label),11,Uj))),128))]),Object(C["createElementVNode"])("div",qj,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(d),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"symbol-item",key:e.latex,onClick:t=>b(e.latex)},[Object(C["createVNode"])(Bj,{latex:e.latex},null,8,["latex"])],8,Gj))),128))])])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Yj,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(c),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"formula-item",key:e.label},[Object(C["createElementVNode"])("div",Xj,Object(C["toDisplayString"])(e.label),1),Object(C["createElementVNode"])("div",{class:"formula-item-content",onClick:t=>a.value=e.latex},[Object(C["createVNode"])(Ej,{width:236,height:60,latex:e.latex},null,8,["latex"])],8,Zj)]))),128))]))])])]),Object(C["createElementVNode"])("div",Wj,[Object(C["createVNode"])(p,{class:"btn",onClick:l[1]||(l[1]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[Jj]),_:1}),Object(C["createVNode"])(p,{class:"btn",type:"primary",onClick:l[2]||(l[2]=e=>u())},{default:Object(C["withCtx"])(()=>[Qj]),_:1})])])}}});l("1933");const ef=V()(Kj,[["__scopeId","data-v-2d73bf28"]]);var tf=ef;const lf={class:"canvas-tool"},of={class:"left-handler"},cf={class:"add-element-handler"},nf={class:"right-handler"},af={class:"viewport-size-preset"},rf=["onClick"],sf={class:"text"};var df=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(ko["c"])(),{creatingElement:l}=Object(N["c"])(t),{canUndo:o,canRedo:c}=Object(N["c"])(Object(ko["f"])()),{redo:n,undo:a}=Object(Ra["a"])(),{scaleCanvas:r,setCanvasScalePercentage:i,resetCanvas:s,canvasScalePercentage:d}=or(),u=[200,150,100,80,50],b=Object(C["ref"])(!1),m=e=>{i(e),b.value=!1},{createImageElement:p,createChartElement:O,createTableElement:j,createLatexElement:f,createVideoElement:v,createAudioElement:h}=Pa(),y=e=>{const t=e[0];t&&Ta(t).then(e=>p(e))},g=Object(C["ref"])(!1),x=Object(C["ref"])(!1),k=Object(C["ref"])(!1),E=Object(C["ref"])(!1),w=Object(C["ref"])(!1),V=Object(C["ref"])(!1),I=()=>{t.setCreatingElement({type:"text"})},B=e=>{t.setCreatingElement({type:"shape",data:e}),g.value=!1},S=e=>{t.setCreatingElement({type:"line",data:e}),x.value=!1};return(e,t)=>{const i=Object(C["resolveComponent"])("IconBack"),p=Object(C["resolveComponent"])("Tooltip"),N=Object(C["resolveComponent"])("IconNext"),L=Object(C["resolveComponent"])("IconFontSize"),_=Object(C["resolveComponent"])("IconPicture"),T=Object(C["resolveComponent"])("FileInput"),M=Object(C["resolveComponent"])("IconGraphicDesign"),D=Object(C["resolveComponent"])("Popover"),A=Object(C["resolveComponent"])("IconConnection"),z=Object(C["resolveComponent"])("IconChartProportion"),F=Object(C["resolveComponent"])("IconInsertTable"),$=Object(C["resolveComponent"])("IconFormula"),R=Object(C["resolveComponent"])("IconVideoTwo"),P=Object(C["resolveComponent"])("IconMinus"),H=Object(C["resolveComponent"])("IconPlus"),U=Object(C["resolveComponent"])("IconFullScreen"),q=Object(C["resolveComponent"])("Modal");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",lf,[Object(C["createElementVNode"])("div",of,[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"撤销"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{class:Object(C["normalizeClass"])(["handler-item",{disable:!Object(C["unref"])(o)}]),onClick:t[0]||(t[0]=e=>Object(C["unref"])(a)())},null,8,["class"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"重做"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{class:Object(C["normalizeClass"])(["handler-item",{disable:!Object(C["unref"])(c)}]),onClick:t[1]||(t[1]=e=>Object(C["unref"])(n)())},null,8,["class"])]),_:1},8,["mouseEnterDelay"])]),Object(C["createElementVNode"])("div",cf,[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入文字"},{default:Object(C["withCtx"])(()=>{var e;return[Object(C["createVNode"])(L,{class:Object(C["normalizeClass"])(["handler-item",{active:"text"===(null===(e=Object(C["unref"])(l))||void 0===e?void 0:e.type)}]),onClick:t[2]||(t[2]=e=>I())},null,8,["class"])]}),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(T,{onChange:t[3]||(t[3]=e=>y(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入图片"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_,{class:"handler-item"})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(D,{trigger:"click",visible:g.value,"onUpdate:visible":t[5]||(t[5]=e=>g.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(VO,{onSelect:t[4]||(t[4]=e=>B(e))})]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入形状"},{default:Object(C["withCtx"])(()=>{var e;return[Object(C["createVNode"])(M,{class:Object(C["normalizeClass"])(["handler-item",{active:"shape"===(null===(e=Object(C["unref"])(l))||void 0===e?void 0:e.type)}])},null,8,["class"])]}),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"]),Object(C["createVNode"])(D,{trigger:"click",visible:x.value,"onUpdate:visible":t[7]||(t[7]=e=>x.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(zO,{onSelect:t[6]||(t[6]=e=>S(e))})]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入线条"},{default:Object(C["withCtx"])(()=>{var e;return[Object(C["createVNode"])(A,{class:Object(C["normalizeClass"])(["handler-item",{active:"line"===(null===(e=Object(C["unref"])(l))||void 0===e?void 0:e.type)}])},null,8,["class"])]}),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"]),Object(C["createVNode"])(D,{trigger:"click",visible:k.value,"onUpdate:visible":t[9]||(t[9]=e=>k.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(HO,{onSelect:t[8]||(t[8]=e=>{Object(C["unref"])(O)(e),k.value=!1})})]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入图表"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{class:"handler-item"})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"]),Object(C["createVNode"])(D,{trigger:"click",visible:E.value,"onUpdate:visible":t[12]||(t[12]=e=>E.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(nj,{onClose:t[10]||(t[10]=e=>E.value=!1),onInsert:t[11]||(t[11]=({row:e,col:t})=>{Object(C["unref"])(j)(e,t),E.value=!1})})]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入表格"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F,{class:"handler-item"})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"]),Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入公式"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])($,{class:"handler-item",onClick:t[13]||(t[13]=e=>V.value=!0)})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(D,{trigger:"click",visible:w.value,"onUpdate:visible":t[17]||(t[17]=e=>w.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(fj,{onClose:t[14]||(t[14]=e=>w.value=!1),onInsertVideo:t[15]||(t[15]=e=>{Object(C["unref"])(v)(e),w.value=!1}),onInsertAudio:t[16]||(t[16]=e=>{Object(C["unref"])(h)(e),w.value=!1})})]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入音视频"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(R,{class:"handler-item"})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["visible"])]),Object(C["createElementVNode"])("div",nf,[Object(C["createVNode"])(P,{class:"handler-item viewport-size",onClick:t[18]||(t[18]=e=>Object(C["unref"])(r)("-"))}),Object(C["createVNode"])(D,{trigger:"click",visible:b.value,"onUpdate:visible":t[19]||(t[19]=e=>b.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",af,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(u,e=>Object(C["createElementVNode"])("div",{class:"preset-item",key:e,onClick:t=>m(e)},Object(C["toDisplayString"])(e)+"%",9,rf)),64))])]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",sf,Object(C["toDisplayString"])(Object(C["unref"])(d)),1)]),_:1},8,["visible"]),Object(C["createVNode"])(H,{class:"handler-item viewport-size",onClick:t[20]||(t[20]=e=>Object(C["unref"])(r)("+"))}),Object(C["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"适应屏幕"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(U,{class:"handler-item viewport-size-adaptation",onClick:t[21]||(t[21]=e=>Object(C["unref"])(s)())})]),_:1},8,["mouseEnterDelay"])]),Object(C["createVNode"])(q,{visible:V.value,"onUpdate:visible":t[24]||(t[24]=e=>V.value=e),footer:null,centered:"",width:880,destroyOnClose:""},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(tf,{onClose:t[22]||(t[22]=e=>V.value=!1),onUpdate:t[23]||(t[23]=e=>{Object(C["unref"])(f)(e),V.value=!1})})]),_:1},8,["visible"])])}}});l("9ff2");const uf=V()(df,[["__scopeId","data-v-5d4eff54"]]);var bf=uf,mf=()=>{const{slides:e}=Object(N["c"])(Object(ko["e"])()),t=Object(C["ref"])(null),l=Object(C["ref"])(50),o=()=>{e.value.length>l.value?t.value=setTimeout(()=>{l.value=l.value+20,o()},600):l.value=9999};return Object(C["onMounted"])(o),Object(C["onUnmounted"])(()=>{t.value&&clearTimeout(t.value)}),{slidesLoadLimit:l}},pf=l("6328"),Of=l.n(pf);const jf={class:"layout-pool"},ff=["onClick"];var vf=Object(C["defineComponent"])({__name:"LayoutPool",emits:["select"],setup(e,{emit:t}){const{layouts:l}=Object(N["c"])(Object(ko["e"])()),o=e=>{t("select",e)};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",jf,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"layout-item",key:e.id,onClick:t=>o(e)},[Object(C["createVNode"])(tO,{class:"thumbnail",slide:e,size:180},null,8,["slide"])],8,ff))),128))]))}});l("3328");const hf=V()(vf,[["__scopeId","data-v-cc6b7dca"]]);var yf=hf;const gf={class:"add-slide"},xf=Object(C["createTextVNode"])("添加幻灯片"),kf={class:"select-btn"},Cf=["onMousedown"],Nf={class:"page-number"};var Ef=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(ko["c"])(),l=Object(ko["e"])(),o=Object(ko["b"])(),{selectedSlidesIndex:c,thumbnailsFocus:n}=Object(N["c"])(t),{slides:a,slideIndex:r}=Object(N["c"])(l),{ctrlKeyState:i,shiftKeyState:s}=Object(N["c"])(o),{slidesLoadLimit:d}=mf(),u=Object(C["ref"])({});l.$onAction(({name:e,after:t})=>{"updateCoopUserInfo"===e&&t(()=>{const e={};Object.values(l.coopUserInfo).forEach(t=>{void 0!==t.currentSlide&&(e[t.currentSlide]=t.avatar)}),u.value=e})});const b=Object(C["computed"])(()=>[...c.value,r.value]),m=Object(C["ref"])(!1),{copySlide:p,pasteSlide:O,createSlide:j,createSlideByTemplate:f,copyAndPasteSlide:v,deleteSlide:h,cutSlide:y,selectAllSlide:g}=qa(),x=e=>{t.setActiveElementIdList([]),r.value!==e&&l.updateSlideIndex(e)},k=(e,l)=>{const o=b.value.length>1;if(!o||!b.value.includes(l)||0===e.button)if(i.value)if(r.value===l){if(!o)return;const e=b.value.filter(e=>e!==l);t.updateSelectedSlidesIndex(e),x(b.value[0])}else if(b.value.includes(l)){const e=b.value.filter(e=>e!==l);t.updateSelectedSlidesIndex(e)}else{const e=[...b.value,l];t.updateSelectedSlidesIndex(e),x(l)}else if(s.value){if(r.value===l&&!o)return;let e=Math.min(...b.value),c=l;l<e&&(c=Math.max(...b.value),e=l);const n=[];for(let t=e;t<=c;t++)n.push(t);t.updateSelectedSlidesIndex(n),x(l)}else t.updateSelectedSlidesIndex([]),x(l)},E=e=>{n.value!==e&&(t.setThumbnailsFocus(e),e||t.updateSelectedSlidesIndex([]))},w=e=>{const{newIndex:t,oldIndex:o}=e;if(o===t)return;const c=JSON.parse(JSON.stringify(a.value)),n=c[o];c.splice(o,1),c.splice(t,0,n),l.setSlides(c),l.updateSlideIndex(t)},{enterScreening:V,enterScreeningFromStart:I}=lr(),B=()=>[{text:"粘贴",subText:"Ctrl + V",handler:O},{text:"全选",subText:"Ctrl + A",handler:g},{text:"新建页面",subText:"Enter",handler:j},{text:"幻灯片放映",subText:"F5",handler:I}],S=()=>[{text:"剪切",subText:"Ctrl + X",handler:y},{text:"复制",subText:"Ctrl + C",handler:p},{text:"粘贴",subText:"Ctrl + V",handler:O},{text:"全选",subText:"Ctrl + A",handler:g},{divider:!0},{text:"新建页面",subText:"Enter",handler:j},{text:"复制页面",subText:"Ctrl + D",handler:v},{text:"删除页面",subText:"Delete",handler:()=>h()},{divider:!0},{text:"从当前放映",subText:"Shift + F5",handler:V}];return(e,t)=>{const l=Object(C["resolveComponent"])("IconPlus"),o=Object(C["resolveComponent"])("IconDown"),c=Object(C["resolveComponent"])("Popover"),n=Object(C["resolveDirective"])("contextmenu"),i=Object(C["resolveDirective"])("click-outside");return Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"thumbnails",onMousedown:t[3]||(t[3]=()=>E(!0))},[Object(C["createElementVNode"])("div",gf,[Object(C["createElementVNode"])("div",{class:"btn",onClick:t[0]||(t[0]=e=>Object(C["unref"])(j)())},[Object(C["createVNode"])(l,{class:"icon"}),xf]),Object(C["createVNode"])(c,{trigger:"click",placement:"bottomLeft",visible:m.value,"onUpdate:visible":t[2]||(t[2]=e=>m.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(yf,{onSelect:t[1]||(t[1]=e=>{Object(C["unref"])(f)(e),m.value=!1})})]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",kf,[Object(C["createVNode"])(o)])]),_:1},8,["visible"])]),Object(C["createVNode"])(Object(C["unref"])(Of.a),{class:"thumbnail-list",modelValue:Object(C["unref"])(a),animation:300,scroll:!0,scrollSensitivity:50,setData:null,onEnd:w,itemKey:"id"},{item:Object(C["withCtx"])(({element:e,index:t})=>[Object(C["withDirectives"])((Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["thumbnail-item",{active:Object(C["unref"])(r)===t,selected:Object(C["unref"])(b).includes(t)}]),onMousedown:e=>k(e,t)},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["label",{"offset-left":t>=99}])},Object(C["toDisplayString"])(Object(C["unref"])(ga)(t+1,2)),3),Object(C["createVNode"])(tO,{class:"thumbnail",slide:e,size:120,visible:t<Object(C["unref"])(d),avatar:u.value[t]},null,8,["slide","visible","avatar"])],42,Cf)),[[n,S]])]),_:1},8,["modelValue"]),Object(C["createElementVNode"])("div",Nf,"幻灯片 "+Object(C["toDisplayString"])(Object(C["unref"])(r)+1)+" / "+Object(C["toDisplayString"])(Object(C["unref"])(a).length),1)],32)),[[i,()=>E(!1)],[n,B]])}}});l("d12f");const wf=V()(Ef,[["__scopeId","data-v-c39c9cea"]]);var Vf=wf,If=l("c205"),Bf=l("4c44");const Sf=e=>(Object(C["pushScopeId"])("data-v-22345a51"),e=e(),Object(C["popScopeId"])(),e),Lf={class:"element-opacity"},_f={class:"row"},Tf=Sf(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"不透明度：",-1));var Mf=Object(C["defineComponent"])({__name:"ElementOpacity",setup(e){const t=Object(ko["e"])(),{handleElement:l}=Object(N["c"])(Object(ko["c"])()),o=Object(C["ref"])(1);Object(C["watch"])(l,()=>{l.value&&(o.value="opacity"in l.value&&void 0!==l.value.opacity?l.value.opacity:1)},{deep:!0,immediate:!0});const{addHistorySnapshot:c}=Object(Ra["a"])(),n=e=>{if(!l.value)return;const o={opacity:e};t.updateElement({id:l.value.id,props:o}),c()};return(e,t)=>{const l=Object(C["resolveComponent"])("Slider");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Lf,[Object(C["createElementVNode"])("div",_f,[Tf,Object(C["createVNode"])(l,{class:"slider",min:0,max:1,step:.1,value:o.value,onChange:t[0]||(t[0]=e=>n(e))},null,8,["step","value"])])])}}});l("335c");const Df=V()(Mf,[["__scopeId","data-v-22345a51"]]);var Af=Df;const zf={class:"color-block"};var Ff=Object(C["defineComponent"])({__name:"ColorButton",props:{color:{type:String,required:!0}},setup(e){return(t,l)=>{const o=Object(C["resolveComponent"])("IconPlatte"),c=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createBlock"])(c,{class:"color-btn"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",zf,[Object(C["createElementVNode"])("div",{class:"content",style:Object(C["normalizeStyle"])({backgroundColor:e.color})},null,4)]),Object(C["createVNode"])(o,{class:"color-btn-icon"})]),_:1})}}});l("9300");const $f=V()(Ff,[["__scopeId","data-v-ed8f2044"]]);var Rf=$f;const Pf=e=>(Object(C["pushScopeId"])("data-v-e91e3764"),e=e(),Object(C["popScopeId"])(),e),Hf={class:"element-outline"},Uf={key:0,class:"row"},qf=Pf(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"启用边框：",-1)),Gf={class:"switch-wrapper",style:{flex:"3"}},Yf={class:"row"},Xf=Pf(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"边框样式：",-1)),Zf=Object(C["createTextVNode"])("实线边框"),Wf=Object(C["createTextVNode"])("虚线边框"),Jf={class:"row"},Qf=Pf(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"边框颜色：",-1)),Kf={class:"row"},ev=Pf(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"边框粗细：",-1));var tv=Object(C["defineComponent"])({__name:"ElementOutline",props:{fixed:{type:Boolean,default:!1}},setup(e){const t=Object(ko["e"])(),{handleElement:l}=Object(N["c"])(Object(ko["c"])()),o=Object(C["ref"])(),c=Object(C["ref"])(!1);Object(C["watch"])(l,()=>{l.value&&(o.value="outline"in l.value?l.value.outline:void 0,c.value=!!o.value)},{deep:!0,immediate:!0});const{addHistorySnapshot:n}=Object(Ra["a"])(),a=e=>{if(!l.value)return;const c={outline:{...o.value,...e}};t.updateElement({id:l.value.id,props:c}),n()},r=e=>{if(l.value){if(e){const e={width:2,color:"#000",style:"solid"};t.updateElement({id:l.value.id,props:{outline:e}})}else t.removeElementProps({id:l.value.id,propName:"outline"});n()}};return(t,l)=>{const n=Object(C["resolveComponent"])("Switch"),i=Object(C["resolveComponent"])("SelectOption"),s=Object(C["resolveComponent"])("Select"),d=Object(C["resolveComponent"])("ColorPicker"),u=Object(C["resolveComponent"])("Popover"),b=Object(C["resolveComponent"])("InputNumber");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Hf,[e.fixed?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Uf,[qf,Object(C["createElementVNode"])("div",Gf,[Object(C["createVNode"])(n,{checked:c.value,onChange:l[0]||(l[0]=e=>r(e))},null,8,["checked"])])])),c.value&&o.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:1},[Object(C["createElementVNode"])("div",Yf,[Xf,Object(C["createVNode"])(s,{style:{flex:"3"},value:o.value.style,onChange:l[1]||(l[1]=e=>a({style:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{value:"solid"},{default:Object(C["withCtx"])(()=>[Zf]),_:1}),Object(C["createVNode"])(i,{value:"dashed"},{default:Object(C["withCtx"])(()=>[Wf]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",Jf,[Qf,Object(C["createVNode"])(u,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{modelValue:o.value.color,"onUpdate:modelValue":l[2]||(l[2]=e=>a({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:o.value.color||"#000",style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",Kf,[ev,Object(C["createVNode"])(b,{value:o.value.width,onChange:l[3]||(l[3]=e=>a({width:e})),style:{flex:"3"}},null,8,["value"])])],64)):Object(C["createCommentVNode"])("",!0)])}}});l("f40d");const lv=V()(tv,[["__scopeId","data-v-e91e3764"]]);var ov=lv;const cv=e=>(Object(C["pushScopeId"])("data-v-053ed706"),e=e(),Object(C["popScopeId"])(),e),nv={class:"element-shadow"},av={class:"row"},rv=cv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"启用阴影：",-1)),iv={class:"switch-wrapper",style:{flex:"3"}},sv={class:"row"},dv=cv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"水平阴影：",-1)),uv={class:"row"},bv=cv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"垂直阴影：",-1)),mv={class:"row"},pv=cv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"模糊距离：",-1)),Ov={class:"row"},jv=cv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"阴影颜色：",-1));var fv=Object(C["defineComponent"])({__name:"ElementShadow",setup(e){const t=Object(ko["e"])(),{handleElement:l}=Object(N["c"])(Object(ko["c"])()),o=Object(C["ref"])(),c=Object(C["ref"])(!1);Object(C["watch"])(l,()=>{l.value&&(o.value="shadow"in l.value?l.value.shadow:void 0,c.value=!!o.value)},{deep:!0,immediate:!0});const{addHistorySnapshot:n}=Object(Ra["a"])(),a=e=>{if(!l.value||!o.value)return;const c={...o.value,...e};t.updateElement({id:l.value.id,props:{shadow:c}}),n()},r=e=>{if(l.value){if(e){const e={h:1,v:1,blur:2,color:"#000"};t.updateElement({id:l.value.id,props:{shadow:e}})}else t.removeElementProps({id:l.value.id,propName:"shadow"});n()}};return(e,t)=>{const l=Object(C["resolveComponent"])("Switch"),n=Object(C["resolveComponent"])("Slider"),i=Object(C["resolveComponent"])("ColorPicker"),s=Object(C["resolveComponent"])("Popover");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",nv,[Object(C["createElementVNode"])("div",av,[rv,Object(C["createElementVNode"])("div",iv,[Object(C["createVNode"])(l,{checked:c.value,onChange:t[0]||(t[0]=e=>r(e))},null,8,["checked"])])]),c.value&&o.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",sv,[dv,Object(C["createVNode"])(n,{class:"slider",min:-10,max:10,step:1,value:o.value.h,onChange:t[1]||(t[1]=e=>a({h:e}))},null,8,["value"])]),Object(C["createElementVNode"])("div",uv,[bv,Object(C["createVNode"])(n,{class:"slider",min:-10,max:10,step:1,value:o.value.v,onChange:t[2]||(t[2]=e=>a({v:e}))},null,8,["value"])]),Object(C["createElementVNode"])("div",mv,[pv,Object(C["createVNode"])(n,{class:"slider",min:1,max:20,step:1,value:o.value.blur,onChange:t[3]||(t[3]=e=>a({blur:e}))},null,8,["value"])]),Object(C["createElementVNode"])("div",Ov,[jv,Object(C["createVNode"])(s,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:o.value.color,"onUpdate:modelValue":t[4]||(t[4]=e=>a({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:o.value.color,style:{flex:"3"}},null,8,["color"])]),_:1})])],64)):Object(C["createCommentVNode"])("",!0)])}}});l("34f1");const vv=V()(fv,[["__scopeId","data-v-053ed706"]]);var hv=vv;const yv=e=>(Object(C["pushScopeId"])("data-v-5830b9cf"),e=e(),Object(C["popScopeId"])(),e),gv={class:"text-style-panel"},xv={class:"preset-style"},kv=["onClick"],Cv=Object(C["createTextVNode"])("+"),Nv=Object(C["createTextVNode"])("-"),Ev={class:"link-popover"},wv={class:"btns"},Vv=Object(C["createTextVNode"])("移除"),Iv=Object(C["createTextVNode"])("确认"),Bv={class:"row"},Sv=yv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"行间距：",-1)),Lv={class:"row"},_v=yv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"段间距：",-1)),Tv={class:"row"},Mv=yv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"字间距：",-1)),Dv={class:"row"},Av=yv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"首行缩进：",-1)),zv={class:"row"},Fv=yv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"文本框填充：",-1));var $v=Object(C["defineComponent"])({__name:"TextStylePanel",setup(e){const t=[{label:"大标题",style:{fontSize:"26px",fontWeight:700},cmd:[{command:"clear"},{command:"fontsize",value:"48px"},{command:"align",value:"center"},{command:"bold"}]},{label:"小标题",style:{fontSize:"22px",fontWeight:700},cmd:[{command:"clear"},{command:"fontsize",value:"36px"},{command:"align",value:"center"},{command:"bold"}]},{label:"正文",style:{fontSize:"20px"},cmd:[{command:"clear"},{command:"fontsize",value:"20px"}]},{label:"正文[小]",style:{fontSize:"18px"},cmd:[{command:"clear"},{command:"fontsize",value:"18px"}]},{label:"注释 1",style:{fontSize:"16px",fontStyle:"italic"},cmd:[{command:"clear"},{command:"fontsize",value:"16px"},{command:"em"}]},{label:"注释 2",style:{fontSize:"16px",textDecoration:"underline"},cmd:[{command:"clear"},{command:"fontsize",value:"16px"},{command:"underline"}]}],l=Object(ko["e"])(),{handleElement:o,handleElementId:c,richTextAttrs:n,availableFonts:a}=Object(N["c"])(Object(ko["c"])()),{addHistorySnapshot:r}=Object(Ra["a"])(),i=e=>{l.updateElement({id:c.value,props:e}),r()},s=Object(C["ref"])("#000"),d=Object(C["ref"])(),u=Object(C["ref"])(),b=Object(C["ref"])(),m=Object(C["ref"])();Object(C["watch"])(o,()=>{o.value&&"text"===o.value.type&&(s.value=o.value.fill||"#fff",d.value=o.value.lineHeight||1.5,u.value=o.value.wordSpace||0,b.value=o.value.textIndent||0,m.value=void 0===o.value.paragraphSpace?5:o.value.paragraphSpace)},{deep:!0,immediate:!0});const p=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],O=[.9,1,1.15,1.2,1.4,1.5,1.8,2,2.5,3],j=[0,1,2,3,4,5,6,8,10],f=[0,48,96,144,192,240,288,336],v=[0,5,10,15,20,25,30,40,50,80],h=e=>{i({lineHeight:e})},y=e=>{i({paragraphSpace:e})},g=e=>{i({wordSpace:e})},x=e=>{i({textIndent:e})},k=e=>{i({fill:e})},E=(e,t)=>{Js.emit(Ys.RICH_TEXT_COMMAND,{action:{command:e,value:t}})},w=e=>{Js.emit(Ys.RICH_TEXT_COMMAND,{action:e})},V=Object(C["ref"])(""),I=Object(C["ref"])(!1);Object(C["watch"])(n,()=>I.value=!1);const B=()=>{V.value=n.value.link,I.value=!0},S=e=>{if(e){const t=/^(https?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/;if(!t.test(e))return Ut["a"].error("不是正确的网页链接地址")}E("link",e),I.value=!1};return(e,l)=>{const o=Object(C["resolveComponent"])("Divider"),c=Object(C["resolveComponent"])("IconFontSize"),r=Object(C["resolveComponent"])("SelectOption"),i=Object(C["resolveComponent"])("SelectOptGroup"),N=Object(C["resolveComponent"])("Select"),L=Object(C["resolveComponent"])("IconAddText"),_=Object(C["resolveComponent"])("InputGroup"),T=Object(C["resolveComponent"])("ColorPicker"),M=Object(C["resolveComponent"])("IconText"),D=Object(C["resolveComponent"])("Button"),A=Object(C["resolveComponent"])("Tooltip"),z=Object(C["resolveComponent"])("Popover"),F=Object(C["resolveComponent"])("IconHighLight"),$=Object(C["resolveComponent"])("ButtonGroup"),R=Object(C["resolveComponent"])("IconTextBold"),P=Object(C["resolveComponent"])("CheckboxButton"),H=Object(C["resolveComponent"])("IconTextItalic"),U=Object(C["resolveComponent"])("IconTextUnderline"),q=Object(C["resolveComponent"])("IconStrikethrough"),G=Object(C["resolveComponent"])("IconFormat"),Y=Object(C["resolveComponent"])("CheckboxButtonGroup"),X=Object(C["resolveComponent"])("IconUpOne"),Z=Object(C["resolveComponent"])("IconDownOne"),W=Object(C["resolveComponent"])("IconCode"),J=Object(C["resolveComponent"])("IconQuote"),Q=Object(C["resolveComponent"])("Input"),K=Object(C["resolveComponent"])("IconLinkOne"),ee=Object(C["resolveComponent"])("IconAlignTextLeft"),te=Object(C["resolveComponent"])("RadioButton"),le=Object(C["resolveComponent"])("IconAlignTextCenter"),oe=Object(C["resolveComponent"])("IconAlignTextRight"),ce=Object(C["resolveComponent"])("RadioGroup"),ne=Object(C["resolveComponent"])("IconList"),ae=Object(C["resolveComponent"])("IconOrderedList"),re=Object(C["resolveComponent"])("IconIndentLeft"),ie=Object(C["resolveComponent"])("IconIndentRight"),se=Object(C["resolveComponent"])("IconRowHeight"),de=Object(C["resolveComponent"])("IconVerticalSpacingBetweenItems"),ue=Object(C["resolveComponent"])("IconFullwidth");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",gv,[Object(C["createElementVNode"])("div",xv,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t,e=>Object(C["createElementVNode"])("div",{class:"preset-style-item",key:e.label,style:Object(C["normalizeStyle"])(e.style),onClick:t=>w(e.cmd)},Object(C["toDisplayString"])(e.label),13,kv)),64))]),Object(C["createVNode"])(o),Object(C["createVNode"])(_,{compact:"",class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{style:{flex:"3"},value:Object(C["unref"])(n).fontname,onChange:l[0]||(l[0]=e=>E("fontname",e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c)]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{label:"系统字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(r,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",{style:Object(C["normalizeStyle"])({fontFamily:e.value})},Object(C["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(C["createVNode"])(i,{label:"在线字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(Bf["b"]),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(r,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"]),Object(C["createVNode"])(N,{style:{flex:"2"},value:Object(C["unref"])(n).fontsize,onChange:l[1]||(l[1]=e=>E("fontsize",e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(L)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(p,e=>Object(C["createVNode"])(r,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),Object(C["createVNode"])($,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T,{modelValue:Object(C["unref"])(n).color,"onUpdate:modelValue":l[2]||(l[2]=e=>E("color",e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{class:"text-color-btn",style:{flex:"3"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(n).color})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(z,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T,{modelValue:Object(C["unref"])(n).backcolor,"onUpdate:modelValue":l[3]||(l[3]=e=>E("backcolor",e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字高亮"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{class:"text-color-btn",style:{flex:"3"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(n).backcolor})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大字号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{class:"font-size-btn",style:{flex:"2"},onClick:l[4]||(l[4]=e=>E("fontsize-add"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c),Cv]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小字号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{class:"font-size-btn",style:{flex:"2"},onClick:l[5]||(l[5]=e=>E("fontsize-reduce"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c),Nv]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(Y,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(n).bold,onClick:l[6]||(l[6]=e=>E("bold"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(R)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(n).em,onClick:l[7]||(l[7]=e=>E("em"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(H)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(n).underline,onClick:l[8]||(l[8]=e=>E("underline"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(U)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除线"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(n).strikethrough,onClick:l[9]||(l[9]=e=>E("strikethrough"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(q)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"清除格式"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},onClick:l[10]||(l[10]=e=>E("clear"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(G)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(Y,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上标"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(n).superscript,onClick:l[11]||(l[11]=e=>E("superscript"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(X)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下标"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(n).subscript,onClick:l[12]||(l[12]=e=>E("subscript"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Z)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"行内代码"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(n).code,onClick:l[13]||(l[13]=e=>E("code"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(W)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"引用"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(n).blockquote,onClick:l[14]||(l[14]=e=>E("blockquote"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(J)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"超链接"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{placement:"bottomRight",trigger:"click",visible:I.value,"onUpdate:visible":l[19]||(l[19]=e=>I.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",Ev,[Object(C["createVNode"])(Q,{value:V.value,"onUpdate:value":l[15]||(l[15]=e=>V.value=e),placeholder:"请输入超链接"},null,8,["value"]),Object(C["createElementVNode"])("div",wv,[Object(C["createVNode"])(D,{size:"small",disabled:!Object(C["unref"])(n).link,onClick:l[16]||(l[16]=e=>S()),style:{"margin-right":"5px"}},{default:Object(C["withCtx"])(()=>[Vv]),_:1},8,["disabled"]),Object(C["createVNode"])(D,{size:"small",type:"primary",onClick:l[17]||(l[17]=e=>S(V.value))},{default:Object(C["withCtx"])(()=>[Iv]),_:1})])])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:!!Object(C["unref"])(n).link,onClick:l[18]||(l[18]=e=>B())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(K)]),_:1},8,["checked"])]),_:1},8,["visible"])]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(o),Object(C["createVNode"])(ce,{class:"row","button-style":"solid",value:Object(C["unref"])(n).align,onChange:l[20]||(l[20]=e=>E("align",e.target.value))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(te,{value:"left",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(ee)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(te,{value:"center",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(le)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(te,{value:"right",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(oe)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"]),Object(C["createVNode"])(Y,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"项目符号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(n).bulletList,onClick:l[21]||(l[21]=e=>E("bulletList"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(ne)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"编号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(P,{style:{flex:"1"},checked:Object(C["unref"])(n).orderedList,onClick:l[22]||(l[22]=e=>E("orderedList"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(ae)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])($,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小缩进"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{style:{flex:"1"},onClick:l[23]||(l[23]=e=>E("indent","-1"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(re)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(A,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大缩进"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{style:{flex:"1"},onClick:l[24]||(l[24]=e=>E("indent","+1"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(ie)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(o),Object(C["createElementVNode"])("div",Bv,[Sv,Object(C["createVNode"])(N,{style:{flex:"3"},value:d.value,onChange:l[25]||(l[25]=e=>h(e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(se)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(O,e=>Object(C["createVNode"])(r,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e)+"倍",1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",Lv,[_v,Object(C["createVNode"])(N,{style:{flex:"3"},value:m.value,onChange:l[26]||(l[26]=e=>y(e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(de)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(v,e=>Object(C["createVNode"])(r,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e)+"px",1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",Tv,[Mv,Object(C["createVNode"])(N,{style:{flex:"3"},value:u.value,onChange:l[27]||(l[27]=e=>g(e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(ue)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(j,e=>Object(C["createVNode"])(r,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e)+"px",1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",Dv,[Av,Object(C["createVNode"])(N,{style:{flex:"3"},value:b.value,onChange:l[28]||(l[28]=e=>x(e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(ie)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(f,e=>Object(C["createVNode"])(r,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e)+"px",1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",zv,[Fv,Object(C["createVNode"])(z,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T,{modelValue:s.value,"onUpdate:modelValue":l[29]||(l[29]=e=>k(e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:s.value,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createVNode"])(o),Object(C["createVNode"])(ov),Object(C["createVNode"])(o),Object(C["createVNode"])(hv),Object(C["createVNode"])(o),Object(C["createVNode"])(Af)])}}});l("197ca");const Rv=V()($v,[["__scopeId","data-v-5830b9cf"]]);var Pv=Rv;const Hv={class:"element-flip"},Uv=Object(C["createTextVNode"])(" 垂直翻转"),qv=Object(C["createTextVNode"])(" 水平翻转");var Gv=Object(C["defineComponent"])({__name:"ElementFlip",setup(e){const t=Object(ko["e"])(),{handleElement:l}=Object(N["c"])(Object(ko["c"])()),o=Object(C["ref"])(!1),c=Object(C["ref"])(!1);Object(C["watch"])(l,()=>{!l.value||"image"!==l.value.type&&"shape"!==l.value.type||(o.value=!!l.value.flipH,c.value=!!l.value.flipV)},{deep:!0,immediate:!0});const{addHistorySnapshot:n}=Object(Ra["a"])(),a=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),n())};return(e,t)=>{const l=Object(C["resolveComponent"])("IconFlipVertically"),n=Object(C["resolveComponent"])("CheckboxButton"),r=Object(C["resolveComponent"])("IconFlipHorizontally"),i=Object(C["resolveComponent"])("CheckboxButtonGroup");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Hv,[Object(C["createVNode"])(i,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{style:{flex:"1"},checked:c.value,onClick:t[0]||(t[0]=e=>a({flipV:!c.value}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l),Uv]),_:1},8,["checked"]),Object(C["createVNode"])(n,{style:{flex:"1"},checked:o.value,onClick:t[1]||(t[1]=e=>a({flipH:!o.value}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(r),qv]),_:1},8,["checked"])]),_:1})])}}});l("02ca");const Yv=V()(Gv,[["__scopeId","data-v-59a1646e"]]);var Xv=Yv;const Zv=e=>(Object(C["pushScopeId"])("data-v-37fbdfde"),e=e(),Object(C["popScopeId"])(),e),Wv={class:"element-filter"},Jv={class:"row"},Qv=Zv(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"启用滤镜：",-1)),Kv={class:"switch-wrapper",style:{flex:"3"}},eh={key:0,class:"filter"},th={class:"name"};var lh=Object(C["defineComponent"])({__name:"ElementFilter",setup(e){const t=[{label:"模糊",key:"blur",default:0,value:0,unit:"px",max:10,step:1},{label:"亮度",key:"brightness",default:100,value:100,unit:"%",max:200,step:5},{label:"对比度",key:"contrast",default:100,value:100,unit:"%",max:200,step:5},{label:"灰度",key:"grayscale",default:0,value:0,unit:"%",max:100,step:5},{label:"饱和度",key:"saturate",default:100,value:100,unit:"%",max:200,step:5},{label:"色相",key:"hue-rotate",default:0,value:0,unit:"deg",max:360,step:10},{label:"不透明度",key:"opacity",default:100,value:100,unit:"%",max:100,step:5}],l=Object(ko["e"])(),{handleElement:o,handleElementId:c}=Object(N["c"])(Object(ko["c"])()),n=Object(C["ref"])(JSON.parse(JSON.stringify(t))),a=Object(C["ref"])(!1),{addHistorySnapshot:r}=Object(Ra["a"])();Object(C["watch"])(o,()=>{if(!o.value||"image"!==o.value.type)return;const e=o.value.filters;e?(n.value=t.map(t=>void 0!==e[t.key]?{...t,value:parseInt(e[t.key])}:t),a.value=!0):(n.value=JSON.parse(JSON.stringify(t)),a.value=!1)},{deep:!0,immediate:!0});const i=(e,t)=>{const n=o.value,a=n.filters||{},i={...a,[e.key]:`${t}${e.unit}`};l.updateElement({id:c.value,props:{filters:i}}),r()},s=e=>{o.value&&(e?l.updateElement({id:o.value.id,props:{filters:{}}}):l.removeElementProps({id:o.value.id,propName:"filters"}),r())};return(e,t)=>{const l=Object(C["resolveComponent"])("Switch"),o=Object(C["resolveComponent"])("Slider");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Wv,[Object(C["createElementVNode"])("div",Jv,[Qv,Object(C["createElementVNode"])("div",Kv,[Object(C["createVNode"])(l,{checked:a.value,onChange:t[0]||(t[0]=e=>s(e))},null,8,["checked"])])]),a.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",eh,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(n.value,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"filter-item",key:e.key},[Object(C["createElementVNode"])("div",th,Object(C["toDisplayString"])(e.label),1),Object(C["createVNode"])(o,{class:"filter-slider",max:e.max,min:0,step:e.step,value:e.value,onChange:t=>i(e,t)},null,8,["max","step","value","onChange"])]))),128))])):Object(C["createCommentVNode"])("",!0)])}}});l("58de");const oh=V()(lh,[["__scopeId","data-v-37fbdfde"]]);var ch=oh;const nh=e=>(Object(C["pushScopeId"])("data-v-f466867c"),e=e(),Object(C["popScopeId"])(),e),ah={class:"element-color-mask"},rh={class:"row"},ih=nh(()=>Object(C["createElementVNode"])("div",{style:{flex:"1"}},"重新着色（蒙版）：",-1)),sh={class:"switch-wrapper",style:{flex:"1"}},dh={class:"row",style:{"margin-top":"15px"}},uh=nh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"蒙版颜色：",-1)),bh={class:"row"},mh=nh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"不透明度：",-1));var ph=Object(C["defineComponent"])({__name:"ElementColorMask",setup(e){const t={color:"transparent",opacity:.3},l=Object(ko["e"])(),{handleElement:o,handleElementId:c}=Object(N["c"])(Object(ko["c"])()),n=Object(C["ref"])(t),a=Object(C["ref"])(!1),{addHistorySnapshot:r}=Object(Ra["a"])();Object(C["watch"])(o,()=>{o.value&&"image"===o.value.type&&(o.value.colorMask?(n.value=o.value.colorMask,a.value=!0):a.value=!1)},{deep:!0,immediate:!0});const i=e=>{o.value&&(e?l.updateElement({id:o.value.id,props:{colorMask:t}}):l.removeElementProps({id:o.value.id,propName:"colorMask"}),r())},s=e=>{const t={...n.value,...e};l.updateElement({id:c.value,props:{colorMask:t}}),r()};return(e,t)=>{const l=Object(C["resolveComponent"])("Switch"),o=Object(C["resolveComponent"])("ColorPicker"),c=Object(C["resolveComponent"])("Popover"),r=Object(C["resolveComponent"])("Slider");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",ah,[Object(C["createElementVNode"])("div",rh,[ih,Object(C["createElementVNode"])("div",sh,[Object(C["createVNode"])(l,{checked:a.value,onChange:t[0]||(t[0]=e=>i(e))},null,8,["checked"])])]),a.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",dh,[uh,Object(C["createVNode"])(c,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{modelValue:n.value.color,"onUpdate:modelValue":t[1]||(t[1]=e=>s({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:n.value.color,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",bh,[mh,Object(C["createVNode"])(r,{class:"opacity-slider",max:1,min:0,step:.05,value:n.value.opacity,onChange:t[2]||(t[2]=e=>s({opacity:e}))},null,8,["step","value"])])],64)):Object(C["createCommentVNode"])("",!0)])}}});l("02bd");const Oh=V()(ph,[["__scopeId","data-v-f466867c"]]);var jh=Oh;const fh=e=>(Object(C["pushScopeId"])("data-v-e8d702d2"),e=e(),Object(C["popScopeId"])(),e),vh={class:"image-style-panel"},hh=Object(C["createTextVNode"])(" 裁剪图片"),yh={class:"clip"},gh=fh(()=>Object(C["createElementVNode"])("div",{class:"title"},"按形状：",-1)),xh={class:"shape-clip"},kh=["onClick"],Ch={key:0,class:"title"},Nh=Object(C["createTextVNode"])(" 替换图片"),Eh=Object(C["createTextVNode"])(" 重置样式"),wh=Object(C["createTextVNode"])(" 设为背景");var Vh=Object(C["defineComponent"])({__name:"ImageStylePanel",setup(e){const t=fi,l=[{label:"纵横比（方形）",children:[{key:"1:1",ratio:1}]},{label:"纵横比（纵向）",children:[{key:"2:3",ratio:1.5},{key:"3:4",ratio:4/3},{key:"3:5",ratio:5/3},{key:"4:5",ratio:5/4}]},{label:"纵横比（横向）",children:[{key:"3:2",ratio:2/3},{key:"4:3",ratio:3/4},{key:"5:3",ratio:.6},{key:"5:4",ratio:.8}]},{children:[{key:"16:9",ratio:9/16},{key:"16:10",ratio:.625}]}],o=Object(ko["c"])(),c=Object(ko["e"])(),{handleElement:n,handleElementId:a}=Object(N["c"])(o),{currentSlide:r}=Object(N["c"])(c),i=n,s=Object(C["ref"])(!1),{addHistorySnapshot:d}=Object(Ra["a"])(),u=()=>{o.setClipingImageElementId(a.value),s.value=!1},b=()=>{const e=n.value,t=e.width,l=e.height,o=e.left,c=e.top,a=e.clip?e.clip.range:[[0,0],[100,100]],r=t/((a[1][0]-a[0][0])/100),i=l/((a[1][1]-a[0][1])/100),s=o-r*(a[0][0]/100),d=c-i*(a[0][1]/100);return{originClipRange:a,originWidth:r,originHeight:i,originLeft:s,originTop:d}},m=(e,t=0)=>{const l=n.value,{originClipRange:o,originWidth:r,originHeight:i,originLeft:s,originTop:m}=b();if(t){const o=i/r,n=0,d=100;let u;if(o>t){const e=(1-t/o)/2*100;u=[[n,e],[d,d-e]]}else{const e=(1-o/t)/2*100;u=[[e,n],[d-e,d]]}c.updateElement({id:a.value,props:{clip:{...l.clip,shape:e,range:u},left:s+r*(u[0][0]/100),top:m+i*(u[0][1]/100),width:r*(u[1][0]-u[0][0])/100,height:i*(u[1][1]-u[0][1])/100}})}else c.updateElement({id:a.value,props:{clip:{...l.clip,shape:e,range:o}}});u(),d()},p=e=>{const t=e[0];t&&(Ta(t).then(e=>{const t={src:e};c.updateElement({id:a.value,props:t})}),d())},O=()=>{const e=n.value;if(e.clip){const{originWidth:e,originHeight:t,originLeft:l,originTop:o}=b();c.updateElement({id:a.value,props:{left:l,top:o,width:e,height:t}})}c.removeElementProps({id:a.value,propName:["clip","outline","flip","shadow","filters","colorMask"]}),d()},j=()=>{const e=n.value,t={...r.value.background,type:"image",image:e.src,imageSize:"cover"};c.updateSlide({background:t}),d()};return(e,o)=>{const c=Object(C["resolveComponent"])("IconTailoring"),n=Object(C["resolveComponent"])("Button"),a=Object(C["resolveComponent"])("ButtonGroup"),r=Object(C["resolveComponent"])("IconDown"),d=Object(C["resolveComponent"])("Popover"),b=Object(C["resolveComponent"])("Divider"),f=Object(C["resolveComponent"])("IconTransform"),v=Object(C["resolveComponent"])("FileInput"),h=Object(C["resolveComponent"])("IconUndo"),y=Object(C["resolveComponent"])("IconTheme");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",vh,[Object(C["createElementVNode"])("div",{class:"origin-image",style:Object(C["normalizeStyle"])({backgroundImage:`url(${Object(C["unref"])(i).src})`})},null,4),Object(C["createVNode"])(Xv),Object(C["createVNode"])(a,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{style:{flex:"5"},onClick:o[0]||(o[0]=e=>u())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{class:"btn-icon"}),hh]),_:1}),Object(C["createVNode"])(d,{trigger:"click",visible:s.value,"onUpdate:visible":o[1]||(o[1]=e=>s.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",yh,[gh,Object(C["createElementVNode"])("div",xh,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(t),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"shape-clip-item",key:t,onClick:e=>m(t)},[Object(C["createElementVNode"])("div",{class:"shape",style:Object(C["normalizeStyle"])({clipPath:e.style})},null,4)],8,kh))),128))]),(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(l,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:e.label},[e.label?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Ch,"按"+Object(C["toDisplayString"])(e.label)+"：",1)):Object(C["createCommentVNode"])("",!0),Object(C["createVNode"])(a,{class:"row"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.children,e=>(Object(C["openBlock"])(),Object(C["createBlock"])(n,{style:{flex:"1"},key:e.key,onClick:t=>m("rect",e.ratio)},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e.key),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)],64))),64))])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{class:"no-padding",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(r)]),_:1})]),_:1},8,["visible"])]),_:1}),Object(C["createVNode"])(b),Object(C["createVNode"])(jh),Object(C["createVNode"])(b),Object(C["createVNode"])(ch),Object(C["createVNode"])(b),Object(C["createVNode"])(ov),Object(C["createVNode"])(b),Object(C["createVNode"])(hv),Object(C["createVNode"])(b),Object(C["createVNode"])(v,{onChange:o[2]||(o[2]=e=>p(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{class:"full-width-btn"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f,{class:"btn-icon"}),Nh]),_:1})]),_:1}),Object(C["createVNode"])(n,{class:"full-width-btn",onClick:o[3]||(o[3]=e=>O())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(h,{class:"btn-icon"}),Eh]),_:1}),Object(C["createVNode"])(n,{class:"full-width-btn",onClick:o[4]||(o[4]=e=>j())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y,{class:"btn-icon"}),wh]),_:1})])}}});l("6e11");const Ih=V()(Vh,[["__scopeId","data-v-e8d702d2"]]);var Bh=Ih;const Sh=e=>(Object(C["pushScopeId"])("data-v-02998580"),e=e(),Object(C["popScopeId"])(),e),Lh={class:"shape-style-panel"},_h={class:"row"},Th=Object(C["createTextVNode"])("纯色填充"),Mh=Object(C["createTextVNode"])("渐变填充"),Dh=Sh(()=>Object(C["createElementVNode"])("div",{style:{flex:"1"}},null,-1)),Ah=Object(C["createTextVNode"])("线性渐变"),zh=Object(C["createTextVNode"])("径向渐变"),Fh={class:"row"},$h=Sh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"起点颜色：",-1)),Rh={class:"row"},Ph=Sh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"终点颜色：",-1)),Hh={key:0,class:"row"},Uh=Sh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"渐变角度：",-1)),qh=Object(C["createTextVNode"])("+"),Gh=Object(C["createTextVNode"])("-");var Yh=Object(C["defineComponent"])({__name:"ShapeStylePanel",setup(e){const t=Object(ko["c"])(),l=Object(ko["e"])(),{handleElement:o,handleElementId:c,richTextAttrs:n,availableFonts:a}=Object(N["c"])(t),r=o,i=Object(C["ref"])("#000"),s=Object(C["ref"])({type:"linear",rotate:0,color:["#fff","#fff"]}),d=Object(C["ref"])("fill"),u=Object(C["ref"])("middle");Object(C["watch"])(o,()=>{var e,t;o.value&&"shape"===o.value.type&&(i.value=o.value.fill||"#fff",s.value=o.value.gradient||{type:"linear",rotate:0,color:[i.value,"#fff"]},d.value=o.value.gradient?"gradient":"fill",u.value=(null===(e=o.value)||void 0===e||null===(t=e.text)||void 0===t?void 0:t.align)||"middle")},{deep:!0,immediate:!0});const{addHistorySnapshot:b}=Object(Ra["a"])(),m=e=>{l.updateElement({id:c.value,props:e}),b()},p=e=>{"fill"===e?(l.removeElementProps({id:c.value,propName:"gradient"}),b()):m({gradient:s.value})},O=e=>{if(!s.value)return;const t={...s.value,...e};m({gradient:t})},j=e=>{m({fill:e})},f=e=>{const t=o.value,l={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"},c=t.text||l;m({text:{...c,align:e}})},v=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],h=(e,t)=>{Js.emit(Ys.RICH_TEXT_COMMAND,{action:{command:e,value:t}})};return(e,t)=>{var l;const o=Object(C["resolveComponent"])("SelectOption"),c=Object(C["resolveComponent"])("Select"),b=Object(C["resolveComponent"])("ColorPicker"),m=Object(C["resolveComponent"])("Popover"),y=Object(C["resolveComponent"])("Slider"),g=Object(C["resolveComponent"])("Divider"),x=Object(C["resolveComponent"])("IconFontSize"),k=Object(C["resolveComponent"])("SelectOptGroup"),N=Object(C["resolveComponent"])("IconAddText"),E=Object(C["resolveComponent"])("InputGroup"),w=Object(C["resolveComponent"])("IconText"),V=Object(C["resolveComponent"])("Button"),I=Object(C["resolveComponent"])("Tooltip"),B=Object(C["resolveComponent"])("IconHighLight"),S=Object(C["resolveComponent"])("ButtonGroup"),L=Object(C["resolveComponent"])("IconTextBold"),_=Object(C["resolveComponent"])("CheckboxButton"),T=Object(C["resolveComponent"])("IconTextItalic"),M=Object(C["resolveComponent"])("IconTextUnderline"),D=Object(C["resolveComponent"])("IconFormat"),A=Object(C["resolveComponent"])("CheckboxButtonGroup"),z=Object(C["resolveComponent"])("IconAlignTextLeft"),F=Object(C["resolveComponent"])("RadioButton"),$=Object(C["resolveComponent"])("IconAlignTextCenter"),R=Object(C["resolveComponent"])("IconAlignTextRight"),P=Object(C["resolveComponent"])("RadioGroup"),H=Object(C["resolveComponent"])("IconAlignTextTopOne"),U=Object(C["resolveComponent"])("IconAlignTextMiddleOne"),q=Object(C["resolveComponent"])("IconAlignTextBottomOne");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Lh,[Object(C["createElementVNode"])("div",_h,[Object(C["createVNode"])(c,{style:{flex:"10"},value:d.value,onChange:t[0]||(t[0]=e=>p(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{value:"fill"},{default:Object(C["withCtx"])(()=>[Th]),_:1}),Object(C["createVNode"])(o,{value:"gradient"},{default:Object(C["withCtx"])(()=>[Mh]),_:1})]),_:1},8,["value"]),Dh,"fill"===d.value?(Object(C["openBlock"])(),Object(C["createBlock"])(m,{key:0,trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=e=>j(e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:i.value,style:{flex:"10"}},null,8,["color"])]),_:1})):(Object(C["openBlock"])(),Object(C["createBlock"])(c,{key:1,style:{flex:"10"},value:s.value.type,onChange:t[2]||(t[2]=e=>O({type:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{value:"linear"},{default:Object(C["withCtx"])(()=>[Ah]),_:1}),Object(C["createVNode"])(o,{value:"radial"},{default:Object(C["withCtx"])(()=>[zh]),_:1})]),_:1},8,["value"]))]),"gradient"===d.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",Fh,[$h,Object(C["createVNode"])(m,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b,{modelValue:s.value.color[0],"onUpdate:modelValue":t[3]||(t[3]=e=>O({color:[e,s.value.color[1]]}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:s.value.color[0],style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",Rh,[Ph,Object(C["createVNode"])(m,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b,{modelValue:s.value.color[1],"onUpdate:modelValue":t[4]||(t[4]=e=>O({color:[s.value.color[0],e]}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:s.value.color[1],style:{flex:"3"}},null,8,["color"])]),_:1})]),"linear"===s.value.type?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Hh,[Uh,Object(C["createVNode"])(y,{class:"slider",min:0,max:360,step:15,value:s.value.rotate,onChange:t[5]||(t[5]=e=>O({rotate:e}))},null,8,["value"])])):Object(C["createCommentVNode"])("",!0)],64)):Object(C["createCommentVNode"])("",!0),Object(C["createVNode"])(Xv),Object(C["createVNode"])(g),null!==(l=Object(C["unref"])(r).text)&&void 0!==l&&l.content?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:1},[Object(C["createVNode"])(E,{compact:"",class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{style:{flex:"3"},value:Object(C["unref"])(n).fontname,onChange:t[6]||(t[6]=e=>h("fontname",e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(x)]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k,{label:"系统字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",{style:Object(C["normalizeStyle"])({fontFamily:e.value})},Object(C["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(C["createVNode"])(k,{label:"在线字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(Bf["b"]),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"]),Object(C["createVNode"])(c,{style:{flex:"2"},value:Object(C["unref"])(n).fontsize,onChange:t[7]||(t[7]=e=>h("fontsize",e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(v,e=>Object(C["createVNode"])(o,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),Object(C["createVNode"])(S,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b,{modelValue:Object(C["unref"])(n).color,"onUpdate:modelValue":t[8]||(t[8]=e=>h("color",e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V,{class:"text-color-btn",style:{flex:"3"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(w),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(n).color})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(m,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b,{modelValue:Object(C["unref"])(n).backcolor,"onUpdate:modelValue":t[9]||(t[9]=e=>h("backcolor",e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字高亮"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V,{class:"text-color-btn",style:{flex:"3"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(B),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(n).backcolor})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大字号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V,{class:"font-size-btn",style:{flex:"2"},onClick:t[10]||(t[10]=e=>h("fontsize-add"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(x),qh]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小字号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V,{class:"font-size-btn",style:{flex:"2"},onClick:t[11]||(t[11]=e=>h("fontsize-reduce"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(x),Gh]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(A,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_,{style:{flex:"1"},checked:Object(C["unref"])(n).bold,onClick:t[12]||(t[12]=e=>h("bold"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(L)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_,{style:{flex:"1"},checked:Object(C["unref"])(n).em,onClick:t[13]||(t[13]=e=>h("em"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_,{style:{flex:"1"},checked:Object(C["unref"])(n).underline,onClick:t[14]||(t[14]=e=>h("underline"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"清除格式"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_,{style:{flex:"1"},onClick:t[15]||(t[15]=e=>h("clear"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(P,{class:"row","button-style":"solid",value:Object(C["unref"])(n).align,onChange:t[16]||(t[16]=e=>h("align",e.target.value))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F,{value:"left",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F,{value:"center",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])($)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F,{value:"right",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(R)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"]),Object(C["createVNode"])(P,{class:"row","button-style":"solid",value:u.value,onChange:t[17]||(t[17]=e=>f(e.target.value))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"顶对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F,{value:"top",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(H)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F,{value:"middle",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(U)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(I,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"底对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F,{value:"bottom",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(q)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"]),Object(C["createVNode"])(g)],64)):Object(C["createCommentVNode"])("",!0),Object(C["createVNode"])(ov),Object(C["createVNode"])(g),Object(C["createVNode"])(hv),Object(C["createVNode"])(g),Object(C["createVNode"])(Af)])}}});l("de23");const Xh=V()(Yh,[["__scopeId","data-v-02998580"]]);var Zh=Xh;const Wh=e=>(Object(C["pushScopeId"])("data-v-938968a2"),e=e(),Object(C["popScopeId"])(),e),Jh={class:"line-style-panel"},Qh={class:"row"},Kh=Wh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"线条样式：",-1)),ey=Object(C["createTextVNode"])("实线"),ty=Object(C["createTextVNode"])("虚线"),ly={class:"row"},oy=Wh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"线条颜色：",-1)),cy={class:"row"},ny=Wh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"线条宽度：",-1)),ay={class:"row"},ry=Wh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"起点样式：",-1)),iy=Object(C["createTextVNode"])("无"),sy=Object(C["createTextVNode"])("箭头"),dy=Object(C["createTextVNode"])("圆点"),uy={class:"row"},by=Wh(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"终点样式：",-1)),my=Object(C["createTextVNode"])("无"),py=Object(C["createTextVNode"])("箭头"),Oy=Object(C["createTextVNode"])("圆点");var jy=Object(C["defineComponent"])({__name:"LineStylePanel",setup(e){const t=Object(ko["e"])(),{handleElement:l}=Object(N["c"])(Object(ko["c"])()),o=l,{addHistorySnapshot:c}=Object(Ra["a"])(),n=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),c())};return(e,t)=>{const l=Object(C["resolveComponent"])("SelectOption"),c=Object(C["resolveComponent"])("Select"),a=Object(C["resolveComponent"])("ColorPicker"),r=Object(C["resolveComponent"])("Popover"),i=Object(C["resolveComponent"])("InputNumber"),s=Object(C["resolveComponent"])("Divider");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Jh,[Object(C["createElementVNode"])("div",Qh,[Kh,Object(C["createVNode"])(c,{style:{flex:"3"},value:Object(C["unref"])(o).style,onChange:t[0]||(t[0]=e=>n({style:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l,{value:"solid"},{default:Object(C["withCtx"])(()=>[ey]),_:1}),Object(C["createVNode"])(l,{value:"dashed"},{default:Object(C["withCtx"])(()=>[ty]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",ly,[oy,Object(C["createVNode"])(r,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(a,{modelValue:Object(C["unref"])(o).color,"onUpdate:modelValue":t[1]||(t[1]=e=>n({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:Object(C["unref"])(o).color,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",cy,[ny,Object(C["createVNode"])(i,{value:Object(C["unref"])(o).width,onChange:t[2]||(t[2]=e=>n({width:e})),style:{flex:"3"}},null,8,["value"])]),Object(C["createElementVNode"])("div",ay,[ry,Object(C["createVNode"])(c,{style:{flex:"3"},value:Object(C["unref"])(o).points[0],onChange:t[3]||(t[3]=e=>n({points:[e,Object(C["unref"])(o).points[1]]}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l,{value:""},{default:Object(C["withCtx"])(()=>[iy]),_:1}),Object(C["createVNode"])(l,{value:"arrow"},{default:Object(C["withCtx"])(()=>[sy]),_:1}),Object(C["createVNode"])(l,{value:"dot"},{default:Object(C["withCtx"])(()=>[dy]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",uy,[by,Object(C["createVNode"])(c,{style:{flex:"3"},value:Object(C["unref"])(o).points[1],onChange:t[4]||(t[4]=e=>n({points:[Object(C["unref"])(o).points[0],e]}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l,{value:""},{default:Object(C["withCtx"])(()=>[my]),_:1}),Object(C["createVNode"])(l,{value:"arrow"},{default:Object(C["withCtx"])(()=>[py]),_:1}),Object(C["createVNode"])(l,{value:"dot"},{default:Object(C["withCtx"])(()=>[Oy]),_:1})]),_:1},8,["value"])]),Object(C["createVNode"])(s),Object(C["createVNode"])(hv)])}}});l("d806");const fy=V()(jy,[["__scopeId","data-v-938968a2"]]);var vy=fy;const hy={class:"chart-data-editor"},yy={class:"editor-content"},gy={class:"range-box"},xy=["id","onFocus","onPaste"],ky={class:"btns"},Cy={class:"left"},Ny=Object(C["createTextVNode"])("清空"),Ey={class:"right"},wy=Object(C["createTextVNode"])("取消"),Vy=Object(C["createTextVNode"])("确认");var Iy=Object(C["defineComponent"])({__name:"ChartDataEditor",props:{data:{type:Object,required:!0}},emits:["save","close"],setup(e,{emit:t}){const l=e,o=100,c=32,n=Object(C["ref"])([0,0]),a=Object(C["ref"])({width:0,height:0}),r=Object(C["ref"])(null),i=Object(C["computed"])(()=>{const e=n.value[0]*o,t=n.value[1]*c;return[{type:"t",style:{width:e+"px"}},{type:"b",style:{top:t+"px",width:e+"px"}},{type:"l",style:{height:t+"px"}},{type:"r",style:{left:e+"px",height:t+"px"}}]}),s=Object(C["computed"])(()=>{const e=n.value[0]*o,t=n.value[1]*c;return{left:e+"px",top:t+"px"}}),d=()=>{const e=[],{labels:t,legends:o,series:c}=l.data,a=t.length,r=c.length;e.push(["",...o]);for(let l=0;l<a;l++){const o=[t[l]];for(let e=0;e<r;e++)o.push(c[e][l]+"");e.push(o)}for(let l=0;l<a+1;l++)for(let t=0;t<r+1;t++){const o=document.querySelector(`#cell-${l}-${t}`);o&&(o.value=e[l][t]+"")}n.value=[r+1,a+1]};Object(C["onMounted"])(d);const u=()=>{if(!r.value)return;const[e,t]=r.value,l=document.querySelector(`#cell-${e+1}-${t}`);l&&l.focus()},b=e=>{const t=e.key.toUpperCase();t===Va.ENTER&&u()};Object(C["onMounted"])(()=>{document.addEventListener("keydown",b)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("keydown",b)});const m=()=>{const[e,l]=n.value,o=[],c=[],a=[];for(let t=1;t<l;t++){let e="类别"+t;const l=document.querySelector(`#cell-${t}-0`);l&&l.value&&(e=l.value),o.push(e)}for(let t=1;t<e;t++){let e="系列"+t;const l=document.querySelector("#cell-0-"+t);l&&l.value&&(e=l.value),c.push(e)}for(let t=1;t<e;t++){const e=[];for(let o=1;o<l;o++){const l=document.querySelector(`#cell-${o}-${t}`);let c=0;l&&l.value&&+l.value&&(c=+l.value),e.push(c)}a.push(e)}t("save",{labels:o,legends:c,series:a})},p=()=>{for(let e=1;e<31;e++)for(let t=1;t<7;t++){const l=document.querySelector(`#cell-${e}-${t}`);l&&(l.value="")}},O=(e,t,l)=>{if(e.preventDefault(),!e.clipboardData)return;const o=e.clipboardData.items[0];o&&"string"===o.kind&&"text/plain"===o.type&&o.getAsString(e=>{const o=Sn(e);if("object"===typeof o)return;const c=Ln(e);if(c){const e=t+c.length,o=l+c[0].length;for(let n=t;n<e;n++)for(let e=l;e<o;e++){const o=document.querySelector(`#cell-${n}-${e}`);o&&(o.value=c[n-t][e-l])}}})},j=()=>t("close"),f=e=>{let t=!0;const l=e.pageX,r=e.pageY,i=n.value[0]*o,s=n.value[1]*c;document.onmousemove=e=>{if(!t)return;const o=e.pageX,c=e.pageY,n=o-l,d=c-r,u=i+n,b=s+d;a.value={width:u,height:b}},document.onmouseup=e=>{t=!1,document.onmousemove=null,document.onmouseup=null;const i=e.pageX,s=e.pageY;if(l===i&&r===s)return;let d=a.value.width,u=a.value.height;d%o>.5*o&&(d+=o-d%o),u%c>.5*c&&(u+=c-u%c);let b=Math.round(u/c),m=Math.round(d/o);b<3&&(b=3),m<2&&(m=2),n.value=[m,b],a.value={width:0,height:0}}};return(e,t)=>{const l=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",hy,[Object(C["createElementVNode"])("div",yy,[Object(C["createElementVNode"])("div",gy,[Object(C["createElementVNode"])("div",{class:"temp-range",style:Object(C["normalizeStyle"])({width:a.value.width+"px",height:a.value.height+"px"})},null,4),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(i),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["range-line",e.type]),key:e.type,style:Object(C["normalizeStyle"])(e.style)},null,6))),128)),Object(C["createElementVNode"])("div",{class:"resizable",style:Object(C["normalizeStyle"])(Object(C["unref"])(s)),onMousedown:t[0]||(t[0]=Object(C["withModifiers"])(e=>f(e),["stop"]))},null,36)]),Object(C["createElementVNode"])("table",null,[Object(C["createElementVNode"])("tbody",null,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(31,e=>Object(C["createElementVNode"])("tr",{key:e},[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(7,t=>Object(C["createElementVNode"])("td",{key:t,class:Object(C["normalizeClass"])({head:1===t&&e<=n.value[1]||1===e&&t<=n.value[0]})},[Object(C["createElementVNode"])("input",{class:Object(C["normalizeClass"])(["item",{selected:e<=n.value[1]&&t<=n.value[0]}]),id:`cell-${e-1}-${t-1}`,autocomplete:"off",onFocus:l=>r.value=[e-1,t-1],onPaste:l=>O(l,e-1,t-1)},null,42,xy)],2)),64))])),64))])])]),Object(C["createElementVNode"])("div",ky,[Object(C["createElementVNode"])("div",Cy,[Object(C["createVNode"])(l,{class:"btn",onClick:t[1]||(t[1]=e=>p())},{default:Object(C["withCtx"])(()=>[Ny]),_:1})]),Object(C["createElementVNode"])("div",Ey,[Object(C["createVNode"])(l,{class:"btn",onClick:t[2]||(t[2]=e=>j())},{default:Object(C["withCtx"])(()=>[wy]),_:1}),Object(C["createVNode"])(l,{type:"primary",class:"btn",onClick:t[3]||(t[3]=e=>m()),style:{"margin-left":"10px"}},{default:Object(C["withCtx"])(()=>[Vy]),_:1})])])])}}});l("ca17");const By=V()(Iy,[["__scopeId","data-v-53b32689"]]);var Sy=By;const Ly=e=>(Object(C["pushScopeId"])("data-v-769d6876"),e=e(),Object(C["popScopeId"])(),e),_y={class:"chart-style-panel"},Ty=Object(C["createTextVNode"])(" 编辑图表数据 "),My={class:"row"},Dy=Object(C["createTextVNode"])("面积图样式"),Ay=Object(C["createTextVNode"])("散点图样式"),zy={class:"row"},Fy=Object(C["createTextVNode"])("使用平滑曲线"),$y={key:1,class:"row"},Ry=Object(C["createTextVNode"])("条形图样式"),Py=Object(C["createTextVNode"])("堆叠样式"),Hy={key:2,class:"row"},Uy=Object(C["createTextVNode"])("环形图样式"),qy={class:"row"},Gy=Ly(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"图例：",-1)),Yy=Object(C["createTextVNode"])("不显示"),Xy=Object(C["createTextVNode"])("显示在上方"),Zy=Object(C["createTextVNode"])("显示在下方"),Wy={class:"row"},Jy=Ly(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"背景填充：",-1)),Qy={class:"row"},Ky=Ly(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"网格颜色：",-1)),eg={style:{flex:"2"}},tg={class:"color-btn-wrap",style:{flex:"3"}},lg=["onClick"],og={class:"preset-themes"},cg=["onClick","onMouseenter"],ng=Object(C["createTextVNode"])("推荐主题"),ag=Object(C["createTextVNode"])(" 添加主题色 ");var rg=Object(C["defineComponent"])({__name:"index",setup(e){const t=[["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d"],["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78"],["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],["#893448","#d95850","#eb8146","#ffb248","#f2d643","#ebdba4"],["#4ea397","#22c3aa","#7bd9a5","#d0648a","#f58db2","#f2b3c9"],["#3fb1e3","#6be6c1","#626c91","#a0a7e6","#c4ebad","#96dee8"],["#fc97af","#87f7cf","#f7f494","#72ccff","#f7c5a0","#d4a4eb"],["#c1232b","#27727b","#fcce10","#e87c25","#b5c334","#fe8463"],["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3"],["#e01f54","#001852","#f5e8c8","#b8d2c7","#c6b38e","#a4d8c2"],["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8"],["#8a7ca8","#e098c7","#8fd3e8","#71669e","#cc70af","#7cb4cc"]],l=Object(ko["c"])(),o=Object(ko["e"])(),{handleElement:c,handleElementId:n}=Object(N["c"])(l),{theme:a}=Object(N["c"])(o),r=c,i=Object(C["ref"])(!1),s=Object(C["ref"])(!1),d=Object(C["ref"])([-1,-1]),{addHistorySnapshot:u}=Object(Ra["a"])(),b=Object(C["ref"])("#000"),m=Object(C["ref"])([]),p=Object(C["ref"])(""),O=Object(C["ref"])(""),j=Object(C["ref"])(!0),f=Object(C["ref"])(!0),v=Object(C["ref"])(!1),h=Object(C["ref"])(!1),y=Object(C["ref"])(!1),g=Object(C["ref"])(!1);Object(C["watch"])(c,()=>{if(c.value&&"chart"===c.value.type){if(b.value=c.value.fill||"#fff",c.value.options){const{lineSmooth:e,showLine:t,showArea:l,horizontalBars:o,donut:n,stackBars:a}=c.value.options;void 0!==e&&(j.value=e),void 0!==t&&(f.value=t),void 0!==l&&(v.value=l),void 0!==o&&(h.value=o),void 0!==n&&(y.value=n),void 0!==a&&(g.value=a)}m.value=c.value.themeColor,p.value=c.value.gridColor||"#333",O.value=c.value.legend||""}},{deep:!0,immediate:!0});const x=e=>{o.updateElement({id:n.value,props:e}),u()},k=e=>{i.value=!1,x({data:e})},E=e=>{x({fill:e})},w=e=>{const t=c.value,l={...t.options,...e};x({options:l})},V=(e,t)=>{const l={themeColor:m.value.map((l,o)=>o===t?e:l)};x(l)},I=()=>{const e={themeColor:[...m.value,a.value.themeColor]};x(e)},B=(e,t)=>{const l=e.slice(0,t+1);x({themeColor:l}),s.value=!1},S=e=>{const t={themeColor:m.value.filter((t,l)=>l!==e)};x(t)},L=e=>{x({gridColor:e})},_=e=>{x({legend:e})},T=()=>i.value=!0;return Js.on(Ys.OPEN_CHART_DATA_EDITOR,T),Object(C["onUnmounted"])(()=>{Js.off(Ys.OPEN_CHART_DATA_EDITOR,T)}),(e,l)=>{const o=Object(C["resolveComponent"])("IconEdit"),c=Object(C["resolveComponent"])("Button"),n=Object(C["resolveComponent"])("Divider"),a=Object(C["resolveComponent"])("Checkbox"),u=Object(C["resolveComponent"])("SelectOption"),x=Object(C["resolveComponent"])("Select"),N=Object(C["resolveComponent"])("ColorPicker"),T=Object(C["resolveComponent"])("Popover"),M=Object(C["resolveComponent"])("IconCloseSmall"),D=Object(C["resolveComponent"])("Tooltip"),A=Object(C["resolveComponent"])("IconPlus"),z=Object(C["resolveComponent"])("ButtonGroup"),F=Object(C["resolveComponent"])("Modal");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",_y,[Object(C["createVNode"])(c,{class:"full-width-btn",onClick:l[0]||(l[0]=e=>i.value=!0)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{class:"btn-icon"}),Ty]),_:1}),Object(C["createVNode"])(n),"line"===Object(C["unref"])(r).chartType?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",My,[Object(C["createVNode"])(a,{onChange:l[1]||(l[1]=e=>w({showArea:e.target.checked})),checked:v.value,style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Dy]),_:1},8,["checked"]),Object(C["createVNode"])(a,{onChange:l[2]||(l[2]=e=>w({showLine:!e.target.checked})),checked:!f.value,style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Ay]),_:1},8,["checked"])]),Object(C["createElementVNode"])("div",zy,[Object(C["createVNode"])(a,{onChange:l[3]||(l[3]=e=>w({lineSmooth:e.target.checked})),checked:j.value},{default:Object(C["withCtx"])(()=>[Fy]),_:1},8,["checked"])])],64)):Object(C["createCommentVNode"])("",!0),"bar"===Object(C["unref"])(r).chartType?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",$y,[Object(C["createVNode"])(a,{onChange:l[4]||(l[4]=e=>w({horizontalBars:e.target.checked})),checked:h.value},{default:Object(C["withCtx"])(()=>[Ry]),_:1},8,["checked"]),Object(C["createVNode"])(a,{onChange:l[5]||(l[5]=e=>w({stackBars:e.target.checked})),checked:g.value},{default:Object(C["withCtx"])(()=>[Py]),_:1},8,["checked"])])):Object(C["createCommentVNode"])("",!0),"pie"===Object(C["unref"])(r).chartType?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Hy,[Object(C["createVNode"])(a,{onChange:l[6]||(l[6]=e=>w({donut:e.target.checked})),checked:y.value},{default:Object(C["withCtx"])(()=>[Uy]),_:1},8,["checked"])])):Object(C["createCommentVNode"])("",!0),Object(C["createVNode"])(n),Object(C["createElementVNode"])("div",qy,[Gy,Object(C["createVNode"])(x,{style:{flex:"3"},value:O.value,onChange:l[7]||(l[7]=e=>_(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(u,{value:""},{default:Object(C["withCtx"])(()=>[Yy]),_:1}),Object(C["createVNode"])(u,{value:"top"},{default:Object(C["withCtx"])(()=>[Xy]),_:1}),Object(C["createVNode"])(u,{value:"bottom"},{default:Object(C["withCtx"])(()=>[Zy]),_:1})]),_:1},8,["value"])]),Object(C["createVNode"])(n),Object(C["createElementVNode"])("div",Wy,[Jy,Object(C["createVNode"])(T,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{modelValue:b.value,"onUpdate:modelValue":l[8]||(l[8]=e=>E(e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:b.value,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",Qy,[Ky,Object(C["createVNode"])(T,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{modelValue:p.value,"onUpdate:modelValue":l[9]||(l[9]=e=>L(e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:p.value,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createVNode"])(n),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(m.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"row",key:t},[Object(C["createElementVNode"])("div",eg,Object(C["toDisplayString"])(0===t?"主题配色：":""),1),Object(C["createVNode"])(T,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{modelValue:e,"onUpdate:modelValue":e=>V(e,t)},null,8,["modelValue","onUpdate:modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",tg,[Object(C["createVNode"])(Rf,{color:e,style:{width:"100%"}},null,8,["color"]),Object(C["createVNode"])(D,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除"},{default:Object(C["withCtx"])(()=>[0!==t?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"delete-color-btn",onClick:Object(C["withModifiers"])(e=>S(t),["stop"])},[Object(C["createVNode"])(M)],8,lg)):Object(C["createCommentVNode"])("",!0)]),_:2},1032,["mouseEnterDelay"])])]),_:2},1024)]))),128)),Object(C["createVNode"])(z,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T,{trigger:"click",visible:s.value,"onUpdate:visible":l[11]||(l[11]=e=>s.value=e)},{content:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",og,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t,(e,t)=>Object(C["createElementVNode"])("div",{class:"preset-theme",key:t},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e,(o,c)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["preset-theme-color",{select:d.value[0]===t&&c<=d.value[1]}]),key:o,style:Object(C["normalizeStyle"])({backgroundColor:o}),onClick:t=>B(e,c),onMouseenter:e=>d.value=[t,c],onMouseleave:l[10]||(l[10]=e=>d.value=[-1,-1])},null,46,cg))),128))])),64))])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{class:"no-padding",style:{flex:"2"}},{default:Object(C["withCtx"])(()=>[ng]),_:1})]),_:1},8,["visible"]),Object(C["createVNode"])(c,{class:"no-padding",disabled:m.value.length>=10,style:{flex:"3"},onClick:l[12]||(l[12]=e=>I())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{class:"btn-icon"}),ag]),_:1},8,["disabled"])]),_:1}),Object(C["createVNode"])(n),Object(C["createVNode"])(ov),Object(C["createVNode"])(F,{visible:i.value,"onUpdate:visible":l[15]||(l[15]=e=>i.value=e),footer:null,centered:"",closable:!1,width:648,destroyOnClose:""},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Sy,{data:Object(C["unref"])(r).data,onClose:l[13]||(l[13]=e=>i.value=!1),onSave:l[14]||(l[14]=e=>k(e))},null,8,["data"])]),_:1},8,["visible"])])}}});l("d074");const ig=V()(rg,[["__scopeId","data-v-769d6876"]]);var sg=ig;const dg=e=>(Object(C["pushScopeId"])("data-v-7e28e1d8"),e=e(),Object(C["popScopeId"])(),e),ug={class:"table-style-panel"},bg={class:"row"},mg=dg(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"行数：",-1)),pg={class:"set-count",style:{flex:"3"}},Og={class:"count-text"},jg={class:"row"},fg=dg(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"列数：",-1)),vg={class:"set-count",style:{flex:"3"}},hg={class:"count-text"},yg={class:"row theme-switch"},gg=dg(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"启用主题表格：",-1)),xg={class:"switch-wrapper",style:{flex:"3"}},kg={class:"row"},Cg=Object(C["createTextVNode"])("标题行"),Ng=Object(C["createTextVNode"])("汇总行"),Eg={class:"row"},wg=Object(C["createTextVNode"])("第一列"),Vg=Object(C["createTextVNode"])("最后一列"),Ig={class:"row"},Bg=dg(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"主题颜色：",-1));var Sg=Object(C["defineComponent"])({__name:"TableStylePanel",setup(e){const t=Object(ko["e"])(),{handleElement:l,handleElementId:o,selectedTableCells:c,availableFonts:n}=Object(N["c"])(Object(ko["c"])()),a=Object(C["computed"])(()=>t.theme.themeColor),r=["12px","14px","16px","18px","20px","22px","24px","28px","32px"],i=Object(C["ref"])({bold:!1,em:!1,underline:!1,strikethrough:!1,color:"#000",backcolor:"#000",fontsize:"12px",fontname:"微软雅黑",align:"left"}),s=Object(C["ref"])(),d=Object(C["ref"])(!1),u=Object(C["ref"])(0),b=Object(C["ref"])(0),m=Object(C["ref"])(0),p=Object(C["ref"])(0);Object(C["watch"])(l,()=>{l.value&&"table"===l.value.type&&(s.value=l.value.theme,d.value=!!s.value,u.value=l.value.data.length,b.value=l.value.data[0].length,m.value=l.value.data.length,p.value=l.value.data[0].length)},{deep:!0,immediate:!0});const{addHistorySnapshot:O}=Object(Ra["a"])(),j=()=>{if(!l.value||"table"!==l.value.type)return;let e=0,t=0;if(c.value.length){const l=c.value[0];e=+l.split("_")[0],t=+l.split("_")[1]}const o=l.value.data[e][t].style;i.value=o?{bold:!!o.bold,em:!!o.em,underline:!!o.underline,strikethrough:!!o.strikethrough,color:o.color||"#000",backcolor:o.backcolor||"#000",fontsize:o.fontsize||"12px",fontname:o.fontname||"微软雅黑",align:o.align||"left"}:{bold:!1,em:!1,underline:!1,strikethrough:!1,color:"#000",backcolor:"#000",fontsize:"12px",fontname:"微软雅黑",align:"left"}};Object(C["onMounted"])(()=>{c.value.length&&j()}),Object(C["watch"])(c,j);const f=e=>{t.updateElement({id:o.value,props:e}),O()},v=e=>{const t=l.value,o=JSON.parse(JSON.stringify(t.data));for(let l=0;l<o.length;l++)for(let t=0;t<o[l].length;t++)if(!c.value.length||c.value.includes(`${l}_${t}`)){const c=o[l][t].style||{};o[l][t].style={...c,...e}}f({data:o}),j()},h=e=>{if(!s.value)return;const t={...s.value,...e};f({theme:t})},y=e=>{if(e){const e={theme:{color:a.value,rowHeader:!0,rowFooter:!1,colHeader:!1,colFooter:!1}};f(e)}else t.removeElementProps({id:o.value,propName:"theme"}),O()},g=e=>{const t=l.value,o=t.data.length;if(e>o){const l=new Array(b.value).fill({id:Object(Ba["b"])(10),colspan:1,rowspan:1,text:""}),c=new Array(e-o).fill(l),n=JSON.parse(JSON.stringify(t.data));n.push(...c),f({data:n})}else{const l=t.data.slice(0,e);f({data:l})}},x=e=>{const t=l.value,o=t.data[0].length;let c=t.data,n=t.colWidths.map(e=>e*t.width);if(e>o){c=c.map(t=>{const l=new Array(e-o).fill({id:Object(Ba["b"])(10),colspan:1,rowspan:1,text:""});return t.push(...l),t});const t=new Array(e-o).fill(100);n.push(...t)}else c=c.map(t=>t.slice(0,e)),n=n.slice(0,e);const a=n.reduce((e,t)=>e+t),r=n.map(e=>e/a),i={width:a,data:c,colWidths:r};f(i)};return(e,t)=>{const l=Object(C["resolveComponent"])("IconFontSize"),o=Object(C["resolveComponent"])("SelectOption"),c=Object(C["resolveComponent"])("SelectOptGroup"),a=Object(C["resolveComponent"])("Select"),m=Object(C["resolveComponent"])("IconAddText"),p=Object(C["resolveComponent"])("InputGroup"),O=Object(C["resolveComponent"])("ColorPicker"),j=Object(C["resolveComponent"])("IconText"),f=Object(C["resolveComponent"])("Button"),k=Object(C["resolveComponent"])("Tooltip"),N=Object(C["resolveComponent"])("Popover"),E=Object(C["resolveComponent"])("IconFill"),w=Object(C["resolveComponent"])("ButtonGroup"),V=Object(C["resolveComponent"])("IconTextBold"),I=Object(C["resolveComponent"])("CheckboxButton"),B=Object(C["resolveComponent"])("IconTextItalic"),S=Object(C["resolveComponent"])("IconTextUnderline"),L=Object(C["resolveComponent"])("IconStrikethrough"),_=Object(C["resolveComponent"])("CheckboxButtonGroup"),T=Object(C["resolveComponent"])("IconAlignTextLeft"),M=Object(C["resolveComponent"])("RadioButton"),D=Object(C["resolveComponent"])("IconAlignTextCenter"),A=Object(C["resolveComponent"])("IconAlignTextRight"),z=Object(C["resolveComponent"])("RadioGroup"),F=Object(C["resolveComponent"])("Divider"),$=Object(C["resolveComponent"])("IconMinus"),R=Object(C["resolveComponent"])("IconPlus"),P=Object(C["resolveComponent"])("Switch"),H=Object(C["resolveComponent"])("Checkbox");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",ug,[Object(C["createVNode"])(p,{compact:"",class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(a,{style:{flex:"3"},value:i.value.fontname,onChange:t[0]||(t[0]=e=>v({fontname:e}))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l)]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{label:"系统字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(n),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",{style:Object(C["normalizeStyle"])({fontFamily:e.value})},Object(C["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(C["createVNode"])(c,{label:"在线字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(Bf["b"]),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"]),Object(C["createVNode"])(a,{style:{flex:"2"},value:i.value.fontsize,onChange:t[1]||(t[1]=e=>v({fontsize:e}))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(r,e=>Object(C["createVNode"])(o,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),Object(C["createVNode"])(w,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(O,{modelValue:i.value.color,"onUpdate:modelValue":t[2]||(t[2]=e=>v({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f,{class:"text-color-btn",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:i.value.color})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(N,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(O,{modelValue:i.value.backcolor,"onUpdate:modelValue":t[3]||(t[3]=e=>v({backcolor:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"单元格填充"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f,{class:"text-color-btn",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(E),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:i.value.backcolor})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1})]),_:1}),Object(C["createVNode"])(_,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{style:{flex:"1"},checked:i.value.bold,onClick:t[4]||(t[4]=e=>v({bold:!i.value.bold}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{style:{flex:"1"},checked:i.value.em,onClick:t[5]||(t[5]=e=>v({em:!i.value.em}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(B)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{style:{flex:"1"},checked:i.value.underline,onClick:t[6]||(t[6]=e=>v({underline:!i.value.underline}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(S)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除线"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{style:{flex:"1"},checked:i.value.strikethrough,onClick:t[7]||(t[7]=e=>v({strikethrough:!i.value.strikethrough}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(L)]),_:1},8,["checked"])]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(z,{class:"row","button-style":"solid",value:i.value.align,onChange:t[8]||(t[8]=e=>v({align:e.target.value}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M,{value:"left",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M,{value:"center",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(k,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M,{value:"right",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"]),Object(C["createVNode"])(F),Object(C["createVNode"])(ov,{fixed:!0}),Object(C["createVNode"])(F),Object(C["createElementVNode"])("div",bg,[mg,Object(C["createElementVNode"])("div",pg,[Object(C["createVNode"])(f,{class:"btn",disabled:u.value<=1,onClick:t[9]||(t[9]=e=>g(u.value-1))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])($)]),_:1},8,["disabled"]),Object(C["createElementVNode"])("div",Og,Object(C["toDisplayString"])(u.value),1),Object(C["createVNode"])(f,{class:"btn",disabled:u.value>=30,onClick:t[10]||(t[10]=e=>g(u.value+1))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(R)]),_:1},8,["disabled"])])]),Object(C["createElementVNode"])("div",jg,[fg,Object(C["createElementVNode"])("div",vg,[Object(C["createVNode"])(f,{class:"btn",disabled:b.value<=1,onClick:t[11]||(t[11]=e=>x(b.value-1))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])($)]),_:1},8,["disabled"]),Object(C["createElementVNode"])("div",hg,Object(C["toDisplayString"])(b.value),1),Object(C["createVNode"])(f,{class:"btn",disabled:b.value>=30,onClick:t[12]||(t[12]=e=>x(b.value+1))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(R)]),_:1},8,["disabled"])])]),Object(C["createVNode"])(F),Object(C["createElementVNode"])("div",yg,[gg,Object(C["createElementVNode"])("div",xg,[Object(C["createVNode"])(P,{checked:d.value,onChange:t[13]||(t[13]=e=>y(e))},null,8,["checked"])])]),s.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",kg,[Object(C["createVNode"])(H,{onChange:t[14]||(t[14]=e=>h({rowHeader:e.target.checked})),checked:s.value.rowHeader,style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Cg]),_:1},8,["checked"]),Object(C["createVNode"])(H,{onChange:t[15]||(t[15]=e=>h({rowFooter:e.target.checked})),checked:s.value.rowFooter,style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Ng]),_:1},8,["checked"])]),Object(C["createElementVNode"])("div",Eg,[Object(C["createVNode"])(H,{onChange:t[16]||(t[16]=e=>h({colHeader:e.target.checked})),checked:s.value.colHeader,style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[wg]),_:1},8,["checked"]),Object(C["createVNode"])(H,{onChange:t[17]||(t[17]=e=>h({colFooter:e.target.checked})),checked:s.value.colFooter,style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Vg]),_:1},8,["checked"])]),Object(C["createElementVNode"])("div",Ig,[Bg,Object(C["createVNode"])(N,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(O,{modelValue:s.value.color,"onUpdate:modelValue":t[18]||(t[18]=e=>h({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:s.value.color,style:{flex:"3"}},null,8,["color"])]),_:1})])],64)):Object(C["createCommentVNode"])("",!0)])}}});l("dcd4");const Lg=V()(Sg,[["__scopeId","data-v-7e28e1d8"]]);var _g=Lg;const Tg=e=>(Object(C["pushScopeId"])("data-v-546adf8c"),e=e(),Object(C["popScopeId"])(),e),Mg={class:"latex-style-panel"},Dg={class:"row"},Ag=Object(C["createTextVNode"])("编辑 LaTeX"),zg={class:"row"},Fg=Tg(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"颜色：",-1)),$g={class:"row"},Rg=Tg(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"粗细：",-1));var Pg=Object(C["defineComponent"])({__name:"LatexStylePanel",setup(e){const t=Object(ko["e"])(),{handleElement:l}=Object(N["c"])(Object(ko["c"])()),o=l,c=Object(C["ref"])(!1),{addHistorySnapshot:n}=Object(Ra["a"])(),a=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),n())},r=e=>{a({path:e.path,latex:e.latex,width:e.w,height:e.h,viewBox:[e.w,e.h]})},i=()=>c.value=!0;return Js.on(Ys.OPEN_LATEX_EDITOR,i),Object(C["onUnmounted"])(()=>{Js.off(Ys.OPEN_LATEX_EDITOR,i)}),(e,t)=>{const l=Object(C["resolveComponent"])("Button"),n=Object(C["resolveComponent"])("Divider"),i=Object(C["resolveComponent"])("ColorPicker"),s=Object(C["resolveComponent"])("Popover"),d=Object(C["resolveComponent"])("InputNumber"),u=Object(C["resolveComponent"])("Modal");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Mg,[Object(C["createElementVNode"])("div",Dg,[Object(C["createVNode"])(l,{style:{flex:"1"},onClick:t[0]||(t[0]=e=>c.value=!0)},{default:Object(C["withCtx"])(()=>[Ag]),_:1})]),Object(C["createVNode"])(n),Object(C["createElementVNode"])("div",zg,[Fg,Object(C["createVNode"])(s,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(o).color,"onUpdate:modelValue":t[1]||(t[1]=e=>a({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:Object(C["unref"])(o).color,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",$g,[Rg,Object(C["createVNode"])(d,{min:1,max:3,value:Object(C["unref"])(o).strokeWidth,onChange:t[2]||(t[2]=e=>a({strokeWidth:e})),style:{flex:"3"}},null,8,["value"])]),Object(C["createVNode"])(u,{visible:c.value,"onUpdate:visible":t[5]||(t[5]=e=>c.value=e),footer:null,centered:"",width:880,destroyOnClose:""},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(tf,{value:Object(C["unref"])(o).latex,onClose:t[3]||(t[3]=e=>c.value=!1),onUpdate:t[4]||(t[4]=e=>{r(e),c.value=!1})},null,8,["value"])]),_:1},8,["visible"])])}}});l("c041");const Hg=V()(Pg,[["__scopeId","data-v-546adf8c"]]);var Ug=Hg;const qg=e=>(Object(C["pushScopeId"])("data-v-ff7125dc"),e=e(),Object(C["popScopeId"])(),e),Gg={class:"video-style-panel"},Yg=qg(()=>Object(C["createElementVNode"])("div",{class:"title"},"视频预览封面",-1)),Xg={class:"background-image-wrapper"},Zg={class:"background-image"},Wg={class:"row"},Jg=Object(C["createTextVNode"])("重置封面");var Qg=Object(C["defineComponent"])({__name:"VideoStylePanel",setup(e){const t=Object(ko["e"])(),{handleElement:l}=Object(N["c"])(Object(ko["c"])()),o=l,{addHistorySnapshot:c}=Object(Ra["a"])(),n=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),c())},a=e=>{const t=e[0];t&&Ta(t).then(e=>n({poster:e}))};return(e,t)=>{const l=Object(C["resolveComponent"])("IconPlus"),c=Object(C["resolveComponent"])("FileInput"),r=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Gg,[Yg,Object(C["createElementVNode"])("div",Xg,[Object(C["createVNode"])(c,{onChange:t[0]||(t[0]=e=>a(e))},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",Zg,[Object(C["createElementVNode"])("div",{class:"content",style:Object(C["normalizeStyle"])({backgroundImage:`url(${Object(C["unref"])(o).poster})`})},[Object(C["createVNode"])(l)],4)])]),_:1})]),Object(C["createElementVNode"])("div",Wg,[Object(C["createVNode"])(r,{style:{flex:"1"},onClick:t[1]||(t[1]=e=>n({poster:""}))},{default:Object(C["withCtx"])(()=>[Jg]),_:1})])])}}});l("a81a");const Kg=V()(Qg,[["__scopeId","data-v-ff7125dc"]]);var ex=Kg;const tx=e=>(Object(C["pushScopeId"])("data-v-5d723d50"),e=e(),Object(C["popScopeId"])(),e),lx={class:"audio-style-panel"},ox={class:"row"},cx=tx(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"图标颜色：",-1)),nx={class:"row switch-row"},ax=tx(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"自动播放：",-1)),rx={class:"switch-wrapper",style:{flex:"3"}},ix={class:"row switch-row"},sx=tx(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"循环播放：",-1)),dx={class:"switch-wrapper",style:{flex:"3"}};var ux=Object(C["defineComponent"])({__name:"AudioStylePanel",setup(e){const t=Object(ko["e"])(),{handleElement:l}=Object(N["c"])(Object(ko["c"])()),o=l,{addHistorySnapshot:c}=Object(Ra["a"])(),n=e=>{l.value&&(t.updateElement({id:l.value.id,props:e}),c())};return(e,t)=>{const l=Object(C["resolveComponent"])("ColorPicker"),c=Object(C["resolveComponent"])("Popover"),a=Object(C["resolveComponent"])("Switch");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",lx,[Object(C["createElementVNode"])("div",ox,[cx,Object(C["createVNode"])(c,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l,{modelValue:Object(C["unref"])(o).color,"onUpdate:modelValue":t[0]||(t[0]=e=>n({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:Object(C["unref"])(o).color,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",nx,[ax,Object(C["createElementVNode"])("div",rx,[Object(C["createVNode"])(a,{checked:Object(C["unref"])(o).autoplay,onChange:t[1]||(t[1]=e=>n({autoplay:e}))},null,8,["checked"])])]),Object(C["createElementVNode"])("div",ix,[sx,Object(C["createElementVNode"])("div",dx,[Object(C["createVNode"])(a,{checked:Object(C["unref"])(o).loop,onChange:t[2]||(t[2]=e=>n({loop:e}))},null,8,["checked"])])])])}}});l("795e");const bx=V()(ux,[["__scopeId","data-v-5d723d50"]]);var mx=bx;const px=e=>(Object(C["pushScopeId"])("data-v-71469855"),e=e(),Object(C["popScopeId"])(),e),Ox={class:"multi-style-panel"},jx={class:"row"},fx=px(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"填充颜色：",-1)),vx={class:"row"},hx=px(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"边框样式：",-1)),yx=Object(C["createTextVNode"])("实线边框"),gx=Object(C["createTextVNode"])("虚线边框"),xx={class:"row"},kx=px(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"边框颜色：",-1)),Cx={class:"row"},Nx=px(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"边框粗细：",-1)),Ex=Object(C["createTextVNode"])("+"),wx=Object(C["createTextVNode"])("-");var Vx=Object(C["defineComponent"])({__name:"MultiStylePanel",setup(e){const t=Object(ko["e"])(),{richTextAttrs:l,availableFonts:o,activeElementList:c}=Object(N["c"])(Object(ko["c"])()),{addHistorySnapshot:n}=Object(Ra["a"])(),a=(e,l)=>{t.updateElement({id:e,props:l}),n()},r=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],i=Object(C["ref"])("#fff"),s=Object(C["ref"])({width:0,color:"#fff",style:"solid"}),d=e=>{for(const t of c.value){if("text"!==t.type&&"shape"!==t.type&&"chart"!==t.type||a(t.id,{fill:e}),"table"===t.type){const l=JSON.parse(JSON.stringify(t.data));for(let t=0;t<l.length;t++)for(let o=0;o<l[t].length;o++){const c=l[t][o].style||{};l[t][o].style={...c,backcolor:e}}a(t.id,{data:l})}"audio"===t.type&&a(t.id,{color:e})}i.value=e},u=e=>{for(const t of c.value){if("text"===t.type||"image"===t.type||"shape"===t.type||"table"===t.type||"chart"===t.type){const l=t.outline||{width:2,color:"#000",style:"solid"},o={outline:{...l,...e}};a(t.id,o)}"line"===t.type&&a(t.id,e)}s.value={...s.value,...e}},b=(e,t)=>{for(const o of c.value){var l;if(("text"===o.type||"shape"===o.type&&null!==(l=o.text)&&void 0!==l&&l.content)&&Js.emit(Ys.RICH_TEXT_COMMAND,{target:o.id,action:{command:e,value:t}}),"table"===o.type){const l=JSON.parse(JSON.stringify(o.data));for(let o=0;o<l.length;o++)for(let c=0;c<l[o].length;c++){const n=l[o][c].style||{};l[o][c].style={...n,[e]:t}}a(o.id,{data:l})}"latex"===o.type&&"color"===e&&a(o.id,{color:t})}};return(e,t)=>{const c=Object(C["resolveComponent"])("ColorPicker"),n=Object(C["resolveComponent"])("Popover"),a=Object(C["resolveComponent"])("Divider"),m=Object(C["resolveComponent"])("SelectOption"),p=Object(C["resolveComponent"])("Select"),O=Object(C["resolveComponent"])("InputNumber"),j=Object(C["resolveComponent"])("IconFontSize"),f=Object(C["resolveComponent"])("SelectOptGroup"),v=Object(C["resolveComponent"])("IconAddText"),h=Object(C["resolveComponent"])("InputGroup"),y=Object(C["resolveComponent"])("IconText"),g=Object(C["resolveComponent"])("Button"),x=Object(C["resolveComponent"])("Tooltip"),k=Object(C["resolveComponent"])("IconHighLight"),N=Object(C["resolveComponent"])("ButtonGroup"),E=Object(C["resolveComponent"])("IconAlignTextLeft"),w=Object(C["resolveComponent"])("RadioButton"),V=Object(C["resolveComponent"])("IconAlignTextCenter"),I=Object(C["resolveComponent"])("IconAlignTextRight"),B=Object(C["resolveComponent"])("RadioGroup");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Ox,[Object(C["createElementVNode"])("div",jx,[fx,Object(C["createVNode"])(n,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d(e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:i.value,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createVNode"])(a),Object(C["createElementVNode"])("div",vx,[hx,Object(C["createVNode"])(p,{style:{flex:"3"},value:s.value.style,onChange:t[1]||(t[1]=e=>u({style:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{value:"solid"},{default:Object(C["withCtx"])(()=>[yx]),_:1}),Object(C["createVNode"])(m,{value:"dashed"},{default:Object(C["withCtx"])(()=>[gx]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",xx,[kx,Object(C["createVNode"])(n,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{modelValue:s.value.color,"onUpdate:modelValue":t[2]||(t[2]=e=>u({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:s.value.color||"#000",style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",Cx,[Nx,Object(C["createVNode"])(O,{value:s.value.width,onChange:t[3]||(t[3]=e=>u({width:e})),style:{flex:"3"}},null,8,["value"])]),Object(C["createVNode"])(a),Object(C["createVNode"])(h,{compact:"",class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(p,{style:{flex:"3"},value:Object(C["unref"])(l).fontname,onChange:t[4]||(t[4]=e=>b("fontname",e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j)]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f,{label:"系统字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(o),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(m,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",{style:Object(C["normalizeStyle"])({fontFamily:e.value})},Object(C["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(C["createVNode"])(f,{label:"在线字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(Bf["b"]),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(m,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"]),Object(C["createVNode"])(p,{style:{flex:"2"},value:Object(C["unref"])(l).fontsize,onChange:t[5]||(t[5]=e=>b("fontsize",e))},{suffixIcon:Object(C["withCtx"])(()=>[Object(C["createVNode"])(v)]),default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(r,e=>Object(C["createVNode"])(m,{key:e,value:e},{default:Object(C["withCtx"])(()=>[Object(C["createTextVNode"])(Object(C["toDisplayString"])(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),Object(C["createVNode"])(N,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{modelValue:Object(C["unref"])(l).color,"onUpdate:modelValue":t[6]||(t[6]=e=>b("color",e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{class:"text-color-btn",style:{flex:"3"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(l).color})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(n,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(c,{modelValue:Object(C["unref"])(l).backcolor,"onUpdate:modelValue":t[7]||(t[7]=e=>b("backcolor",e))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字高亮"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{class:"text-color-btn",style:{flex:"3"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k),Object(C["createElementVNode"])("div",{class:"text-color-block",style:Object(C["normalizeStyle"])({backgroundColor:Object(C["unref"])(l).backcolor})},null,4)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大字号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{class:"font-size-btn",style:{flex:"2"},onClick:t[8]||(t[8]=e=>b("fontsize-add","2"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j),Ex]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小字号"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{class:"font-size-btn",style:{flex:"2"},onClick:t[9]||(t[9]=e=>b("fontsize-reduce","2"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j),wx]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(B,{class:"row","button-style":"solid",value:Object(C["unref"])(l).align,onChange:t[10]||(t[10]=e=>b("align",e.target.value))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(w,{value:"left",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(E)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(w,{value:"center",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(x,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(w,{value:"right",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1},8,["value"])])}}});l("1222");const Ix=V()(Vx,[["__scopeId","data-v-71469855"]]);var Bx=Ix;const Sx={class:"element-style-panel"};var Lx=Object(C["defineComponent"])({__name:"index",setup(e){const t={[Aa.TEXT]:Pv,[Aa.IMAGE]:Bh,[Aa.SHAPE]:Zh,[Aa.LINE]:vy,[Aa.CHART]:sg,[Aa.TABLE]:_g,[Aa.LATEX]:Ug,[Aa.VIDEO]:ex,[Aa.AUDIO]:mx},{activeElementIdList:l,activeElementList:o,handleElement:c,activeGroupElementId:n}=Object(N["c"])(Object(ko["c"])()),a=Object(C["computed"])(()=>{if(l.value.length>1){if(!n.value)return Bx;const e=o.value.find(e=>e.id===n.value);return e&&t[e.type]||null}return c.value&&t[c.value.type]||null});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Sx,[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(a))))]))}});const _x=Lx;var Tx=_x;const Mx=e=>(Object(C["pushScopeId"])("data-v-43e5f476"),e=e(),Object(C["popScopeId"])(),e),Dx={class:"element-positopn-panel"},Ax=Mx(()=>Object(C["createElementVNode"])("div",{class:"title"},"层级：",-1)),zx=Object(C["createTextVNode"])(" 置于顶层"),Fx=Object(C["createTextVNode"])(" 置于底层"),$x=Object(C["createTextVNode"])(" 上移一层"),Rx=Object(C["createTextVNode"])(" 下移一层"),Px=Mx(()=>Object(C["createElementVNode"])("div",{class:"title"},"对齐：",-1)),Hx={class:"row"},Ux=Mx(()=>Object(C["createElementVNode"])("div",{style:{flex:"3"}},"位置：",-1)),qx=Mx(()=>Object(C["createElementVNode"])("div",{style:{flex:"1"}},null,-1)),Gx=Object(C["createStaticVNode"])('<div class="row" data-v-43e5f476><div style="flex:3;" data-v-43e5f476></div><div style="flex:4;" class="label" data-v-43e5f476>X</div><div style="flex:1;" data-v-43e5f476></div><div style="flex:4;" class="label" data-v-43e5f476>Y</div></div>',1),Yx={class:"row"},Xx=Mx(()=>Object(C["createElementVNode"])("div",{style:{flex:"3"}},"大小：",-1)),Zx={key:1,style:{flex:"1"}},Wx=Object(C["createStaticVNode"])('<div class="row" data-v-43e5f476><div style="flex:3;" data-v-43e5f476></div><div style="flex:4;" class="label" data-v-43e5f476>宽</div><div style="flex:1;" data-v-43e5f476></div><div style="flex:4;" class="label" data-v-43e5f476>高</div></div>',1),Jx={class:"row"},Qx=Mx(()=>Object(C["createElementVNode"])("div",{style:{flex:"3"}},"旋转：",-1)),Kx=Mx(()=>Object(C["createElementVNode"])("div",{style:{flex:"1"}},null,-1));var ek=Object(C["defineComponent"])({__name:"ElementPositionPanel",setup(e){const t=Object(ko["e"])(),{handleElement:l,handleElementId:o}=Object(N["c"])(Object(ko["c"])()),c=Object(C["ref"])(0),n=Object(C["ref"])(0),a=Object(C["ref"])(0),r=Object(C["ref"])(0),i=Object(C["ref"])(0),s=Object(C["ref"])(!1),d=Object(C["computed"])(()=>l.value&&oi[l.value.type]||20);Object(C["watch"])(l,()=>{l.value&&(c.value=Object(Yt["round"])(l.value.left,1),n.value=Object(Yt["round"])(l.value.top,1),s.value="fixedRatio"in l.value&&!!l.value.fixedRatio,"line"!==l.value.type&&(a.value=Object(Yt["round"])(l.value.width,1),r.value=Object(Yt["round"])(l.value.height,1),i.value="rotate"in l.value&&void 0!==l.value.rotate?Object(Yt["round"])(l.value.rotate,1):0))},{deep:!0,immediate:!0});const{orderElement:u}=Qa(),{alignElementToCanvas:b}=pi(),{addHistorySnapshot:m}=Object(Ra["a"])(),p=e=>{const l={left:e};t.updateElement({id:o.value,props:l}),m()},O=e=>{const l={top:e};t.updateElement({id:o.value,props:l}),m()},j=(e,t)=>{if(l.value&&"shape"===l.value.type&&"pathFormula"in l.value&&l.value.pathFormula){const o=za[l.value.pathFormula];let c="";return c="editable"in o?o.formula(e,t,l.value.keypoint):o.formula(e,t),{viewBox:[e,t],path:c}}return null},f=e=>{let l={width:e};const c=j(e,r.value);c&&(l={...l,...c}),t.updateElement({id:o.value,props:l}),m()},v=e=>{let l={height:e};const c=j(a.value,e);c&&(l={...l,...c}),t.updateElement({id:o.value,props:l}),m()},h=e=>{const l={rotate:e};t.updateElement({id:o.value,props:l}),m()},y=e=>{const l={fixedRatio:e};t.updateElement({id:o.value,props:l}),m()},g=e=>{let l=45*Math.floor(i.value/45);"+"===e?l+=45:"-"===e&&(l-=45),l<-180&&(l=-180),l>180&&(l=180);const c={rotate:l};t.updateElement({id:o.value,props:c}),m()};return(e,t)=>{const o=Object(C["resolveComponent"])("IconSendToBack"),m=Object(C["resolveComponent"])("Button"),j=Object(C["resolveComponent"])("IconBringToFrontOne"),x=Object(C["resolveComponent"])("ButtonGroup"),k=Object(C["resolveComponent"])("IconBringToFront"),N=Object(C["resolveComponent"])("IconSentToBack"),E=Object(C["resolveComponent"])("Divider"),w=Object(C["resolveComponent"])("IconAlignLeft"),V=Object(C["resolveComponent"])("Tooltip"),I=Object(C["resolveComponent"])("IconAlignVertically"),B=Object(C["resolveComponent"])("IconAlignRight"),S=Object(C["resolveComponent"])("IconAlignTop"),L=Object(C["resolveComponent"])("IconAlignHorizontally"),_=Object(C["resolveComponent"])("IconAlignBottom"),T=Object(C["resolveComponent"])("InputNumber"),M=Object(C["resolveComponent"])("IconLock"),D=Object(C["resolveComponent"])("IconUnlock"),A=Object(C["resolveComponent"])("IconRotate");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Dx,[Ax,Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[0]||(t[0]=e=>Object(C["unref"])(u)(Object(C["unref"])(l),Object(C["unref"])(ka).TOP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{class:"btn-icon"}),zx]),_:1}),Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[1]||(t[1]=e=>Object(C["unref"])(u)(Object(C["unref"])(l),Object(C["unref"])(ka).BOTTOM))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j,{class:"btn-icon"}),Fx]),_:1})]),_:1}),Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[2]||(t[2]=e=>Object(C["unref"])(u)(Object(C["unref"])(l),Object(C["unref"])(ka).UP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(k,{class:"btn-icon"}),$x]),_:1}),Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[3]||(t[3]=e=>Object(C["unref"])(u)(Object(C["unref"])(l),Object(C["unref"])(ka).DOWN))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{class:"btn-icon"}),Rx]),_:1})]),_:1}),Object(C["createVNode"])(E),Px,Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[4]||(t[4]=e=>Object(C["unref"])(b)(Object(C["unref"])(Ca).LEFT))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(w)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"水平居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[5]||(t[5]=e=>Object(C["unref"])(b)(Object(C["unref"])(Ca).HORIZONTAL))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[6]||(t[6]=e=>Object(C["unref"])(b)(Object(C["unref"])(Ca).RIGHT))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(B)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[7]||(t[7]=e=>Object(C["unref"])(b)(Object(C["unref"])(Ca).TOP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(S)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"垂直居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[8]||(t[8]=e=>Object(C["unref"])(b)(Object(C["unref"])(Ca).VERTICAL))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(L)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{style:{flex:"1"},onClick:t[9]||(t[9]=e=>Object(C["unref"])(b)(Object(C["unref"])(Ca).BOTTOM))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(E),Object(C["createElementVNode"])("div",Hx,[Ux,Object(C["createVNode"])(T,{step:5,value:c.value,onChange:t[10]||(t[10]=e=>p(e)),style:{flex:"4"}},null,8,["value"]),qx,Object(C["createVNode"])(T,{step:5,value:n.value,onChange:t[11]||(t[11]=e=>O(e)),style:{flex:"4"}},null,8,["value"])]),Gx,"line"!==Object(C["unref"])(l).type?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",Yx,[Xx,Object(C["createVNode"])(T,{min:Object(C["unref"])(d),max:1500,step:5,value:a.value,onChange:t[12]||(t[12]=e=>f(e)),style:{flex:"4"}},null,8,["min","value"]),["image","shape","audio"].includes(Object(C["unref"])(l).type)?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[s.value?(Object(C["openBlock"])(),Object(C["createBlock"])(V,{key:0,mouseLeaveDelay:0,mouseEnterDelay:.5,title:"解除宽高比锁定"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M,{style:{flex:"1"},class:"icon-btn",onClick:t[13]||(t[13]=e=>y(!1))})]),_:1},8,["mouseEnterDelay"])):(Object(C["openBlock"])(),Object(C["createBlock"])(V,{key:1,mouseLeaveDelay:0,mouseEnterDelay:.5,title:"宽高比锁定"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{style:{flex:"1"},class:"icon-btn",onClick:t[14]||(t[14]=e=>y(!0))})]),_:1},8,["mouseEnterDelay"]))],64)):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Zx)),Object(C["createVNode"])(T,{min:Object(C["unref"])(d),max:800,step:5,disabled:"text"===Object(C["unref"])(l).type,value:r.value,onChange:t[15]||(t[15]=e=>v(e)),style:{flex:"4"}},null,8,["min","disabled","value"])]),Wx],64)):Object(C["createCommentVNode"])("",!0),["line","video","audio"].includes(Object(C["unref"])(l).type)?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:1},[Object(C["createVNode"])(E),Object(C["createElementVNode"])("div",Jx,[Qx,Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"逆时针旋转"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{class:"icon-btn",onClick:t[16]||(t[16]=e=>g("-")),style:{flex:"2"}})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(V,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"顺时针旋转"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{class:"icon-btn",onClick:t[17]||(t[17]=e=>g("+")),style:Object(C["normalizeStyle"])({flex:2,transform:"rotateY(180deg)"})},null,8,["style"])]),_:1},8,["mouseEnterDelay"]),Kx,Object(C["createVNode"])(T,{min:-180,max:180,step:5,value:i.value,onChange:t[18]||(t[18]=e=>h(e)),style:{flex:"4"}},null,8,["value"])])],64))])}}});l("cb45");const tk=V()(ek,[["__scopeId","data-v-43e5f476"]]);var lk=tk;const ok=1e3,ck="click",nk="animate__",ak=[{type:"bounce",name:"弹跳",children:[{name:"弹入",value:"bounceIn"},{name:"向右弹入",value:"bounceInLeft"},{name:"向左弹入",value:"bounceInRight"},{name:"向上弹入",value:"bounceInUp"},{name:"向下弹入",value:"bounceInDown"}]},{type:"fade",name:"浮现",children:[{name:"浮入",value:"fadeIn"},{name:"向下浮入",value:"fadeInDown"},{name:"向下长距浮入",value:"fadeInDownBig"},{name:"向右浮入",value:"fadeInLeft"},{name:"向右长距浮入",value:"fadeInLeftBig"},{name:"向左浮入",value:"fadeInRight"},{name:"向左长距浮入",value:"fadeInRightBig"},{name:"向上浮入",value:"fadeInUp"},{name:"向上长距浮入",value:"fadeInUpBig"},{name:"从左上浮入",value:"fadeInTopLeft"},{name:"从右上浮入",value:"fadeInTopRight"},{name:"从左下浮入",value:"fadeInBottomLeft"},{name:"从右下浮入",value:"fadeInBottomRight"}]},{type:"rotate",name:"旋转",children:[{name:"旋转进入",value:"rotateIn"},{name:"绕左下进入",value:"rotateInDownLeft"},{name:"绕右下进入",value:"rotateInDownRight"},{name:"绕左上进入",value:"rotateInUpLeft"},{name:"绕右上进入",value:"rotateInUpRight"}]},{type:"zoom",name:"缩放",children:[{name:"放大进入",value:"zoomIn"},{name:"向下放大进入",value:"zoomInDown"},{name:"从左放大进入",value:"zoomInLeft"},{name:"从右放大进入",value:"zoomInRight"},{name:"向上放大进入",value:"zoomInUp"}]},{type:"slide",name:"滑入",children:[{name:"向下滑入",value:"slideInDown"},{name:"从右滑入",value:"slideInLeft"},{name:"从左滑入",value:"slideInRight"},{name:"向上滑入",value:"slideInUp"}]},{type:"flip",name:"翻转",children:[{name:"X轴翻转进入",value:"flipInX"},{name:"Y轴翻转进入",value:"flipInY"}]},{type:"back",name:"放大滑入",children:[{name:"向下放大滑入",value:"backInDown"},{name:"从左放大滑入",value:"backInLeft"},{name:"从右放大滑入",value:"backInRight"},{name:"向上放大滑入",value:"backInUp"}]},{type:"lightSpeed",name:"飞入",children:[{name:"从右飞入",value:"lightSpeedInRight"},{name:"从左飞入",value:"lightSpeedInLeft"}]}],rk=[{type:"bounce",name:"弹跳",children:[{name:"弹出",value:"bounceOut"},{name:"向左弹出",value:"bounceOutLeft"},{name:"向右弹出",value:"bounceOutRight"},{name:"向上弹出",value:"bounceOutUp"},{name:"向下弹出",value:"bounceOutDown"}]},{type:"fade",name:"浮现",children:[{name:"浮出",value:"fadeOut"},{name:"向下浮出",value:"fadeOutDown"},{name:"向下长距浮出",value:"fadeOutDownBig"},{name:"向左浮出",value:"fadeOutLeft"},{name:"向左长距浮出",value:"fadeOutLeftBig"},{name:"向右浮出",value:"fadeOutRight"},{name:"向右长距浮出",value:"fadeOutRightBig"},{name:"向上浮出",value:"fadeOutUp"},{name:"向上长距浮出",value:"fadeOutUpBig"},{name:"从左上浮出",value:"fadeOutTopLeft"},{name:"从右上浮出",value:"fadeOutTopRight"},{name:"从左下浮出",value:"fadeOutBottomLeft"},{name:"从右下浮出",value:"fadeOutBottomRight"}]},{type:"rotate",name:"旋转",children:[{name:"旋转退出",value:"rotateOut"},{name:"绕左下退出",value:"rotateOutDownLeft"},{name:"绕右下退出",value:"rotateOutDownRight"},{name:"绕左上退出",value:"rotateOutUpLeft"},{name:"绕右上退出",value:"rotateOutUpRight"}]},{type:"zoom",name:"缩放",children:[{name:"缩小退出",value:"zoomOut"},{name:"向下缩小退出",value:"zoomOutDown"},{name:"从左缩小退出",value:"zoomOutLeft"},{name:"从右缩小退出",value:"zoomOutRight"},{name:"向上缩小退出",value:"zoomOutUp"}]},{type:"slide",name:"滑出",children:[{name:"向下滑出",value:"slideOutDown"},{name:"从左滑出",value:"slideOutLeft"},{name:"从右滑出",value:"slideOutRight"},{name:"向上滑出",value:"slideOutUp"}]},{type:"flip",name:"翻转",children:[{name:"X轴翻转退出",value:"flipOutX"},{name:"Y轴翻转退出",value:"flipOutY"}]},{type:"back",name:"缩小滑出",children:[{name:"向下缩小滑出",value:"backOutDown"},{name:"从左缩小滑出",value:"backOutLeft"},{name:"从右缩小滑出",value:"backOutRight"},{name:"向上缩小滑出",value:"backOutUp"}]},{type:"lightSpeed",name:"飞出",children:[{name:"从右飞出",value:"lightSpeedOutRight"},{name:"从左飞出",value:"lightSpeedOutLeft"}]}],ik=[{type:"shake",name:"晃动",children:[{name:"左右摇晃",value:"shakeX"},{name:"上下摇晃",value:"shakeY"},{name:"摇头",value:"headShake"},{name:"摆动",value:"swing"},{name:"晃动",value:"wobble"},{name:"惊恐",value:"tada"},{name:"果冻",value:"jello"}]},{type:"other",name:"其他",children:[{name:"弹跳",value:"bounce"},{name:"闪烁",value:"flash"},{name:"脉搏",value:"pulse"},{name:"橡皮筋",value:"rubberBand"},{name:"心跳（快）",value:"heartBeat"}]}],sk=e=>(Object(C["pushScopeId"])("data-v-2f69234f"),e=e(),Object(C["popScopeId"])(),e),dk={class:"element-animation-panel"},uk={key:0,class:"element-animation"},bk={class:"tabs"},mk=["onClick"],pk={class:"type-title"},Ok={class:"pool-item-wrapper"},jk=["onMouseenter","onClick"],fk={key:0,class:"mask"},vk=Object(C["createTextVNode"])(" 添加动画 "),hk={key:1,class:"tip"},yk=Object(C["createTextVNode"])(" 选中画布中的元素添加动画"),gk={class:"sequence-content"},xk={class:"index"},kk={class:"text"},Ck={class:"handler"},Nk={key:0,class:"configs"},Ek={class:"config-item"},wk=sk(()=>Object(C["createElementVNode"])("div",{style:{flex:"3"}},"持续时长：",-1)),Vk={class:"config-item"},Ik=sk(()=>Object(C["createElementVNode"])("div",{style:{flex:"3"}},"触发方式：",-1)),Bk=Object(C["createTextVNode"])("主动触发"),Sk=Object(C["createTextVNode"])("与上一动画同时"),Lk=Object(C["createTextVNode"])("上一动画之后"),_k={class:"config-item"},Tk=Object(C["createTextVNode"])("更换动画");var Mk=Object(C["defineComponent"])({__name:"ElementAnimationPanel",setup(e){const t={};for(const C of ak)for(const e of C.children)t[e.value]=e.name;for(const C of rk)for(const e of C.children)t[e.value]=e.name;for(const C of ik)for(const e of C.children)t[e.value]=e.name;const l=["in","out","attention"],o=Object(ko["e"])(),{handleElement:c,handleElementId:n}=Object(N["c"])(Object(ko["c"])()),{currentSlide:a,formatedAnimations:r,currentSlideAnimations:i}=Object(N["c"])(o),s=[{key:"in",label:"入场"},{key:"out",label:"退场"},{key:"attention",label:"强调"}],d=Object(C["ref"])("in");Object(C["watch"])(()=>n.value,()=>{b.value=!1});const u=Object(C["ref"])(""),b=Object(C["ref"])(!1),{addHistorySnapshot:m}=Object(Ra["a"])(),p=Object(C["computed"])(()=>{const e=[];for(let l=0;l<r.value.length;l++){const o=r.value[l];for(let c=0;c<o.animations.length;c++){const n=o.animations[c],r=a.value.elements.find(e=>e.id===n.elId);if(!r)continue;const i=li[r.type],s=t[n.effect];e.push({...n,index:0===c?l+1:"",elType:i,animationEffect:s})}}return e}),O=Object(C["computed"])(()=>{const e=i.value,t=e.filter(e=>e.elId===n.value);return t||[]}),j=e=>{const t=i.value.filter(t=>t.id!==e);o.updateSlide({animations:t}),m()},f=e=>{const{newIndex:t,oldIndex:l}=e;if(l===t)return;const c=JSON.parse(JSON.stringify(i.value)),n=c[l];c.splice(l,1),c.splice(t,0,n),o.updateSlide({animations:c}),m()},v=(e,t,l)=>{const o=document.querySelector(`#editable-element-${e} [class^=editable-element-]`);if(o){const e=`${nk}${t}`;document.documentElement.style.setProperty("--animate-duration",l+"ms"),o.classList.add(nk+"animated",e);const c=()=>{document.documentElement.style.removeProperty("--animate-duration"),o.classList.remove(nk+"animated",e)};o.addEventListener("animationend",c,{once:!0})}},h=(e,t)=>{if(t<100||t>5e3)return;const l=i.value.map(l=>l.id===e?{...l,duration:t}:l);o.updateSlide({animations:l}),m()},y=(e,t)=>{const l=i.value.map(l=>l.id===e?{...l,trigger:t}:l);o.updateSlide({animations:l}),m()},g=(e,t)=>{const l=i.value.map(l=>l.id===x.value?{...l,type:e,effect:t}:l);o.updateSlide({animations:l}),b.value=!1,m();const c=i.value.find(e=>e.elId===n.value),a=(null===c||void 0===c?void 0:c.duration)||ok;v(n.value,t,a)},x=Object(C["ref"])(""),k=(e,t)=>{if(x.value)return void g(e,t);const l=JSON.parse(JSON.stringify(i.value));l.push({id:Object(Ba["b"])(10),elId:n.value,type:e,effect:t,duration:ok,trigger:ck}),o.updateSlide({animations:l}),b.value=!1,m(),v(n.value,t,ok)},E=Object(C["ref"])(!1),w=e=>{e?setTimeout(()=>E.value=!0,600):E.value=!1},V=e=>{b.value=!0,x.value=e,w(!0)},I={in:ak,out:rk,attention:ik};return(e,t)=>{const o=Object(C["resolveComponent"])("IconEffects"),n=Object(C["resolveComponent"])("Button"),a=Object(C["resolveComponent"])("Popover"),r=Object(C["resolveComponent"])("IconClick"),i=Object(C["resolveComponent"])("Divider"),m=Object(C["resolveComponent"])("IconPlayOne"),g=Object(C["resolveComponent"])("Tooltip"),N=Object(C["resolveComponent"])("IconCloseSmall"),B=Object(C["resolveComponent"])("InputNumber"),S=Object(C["resolveComponent"])("SelectOption"),L=Object(C["resolveComponent"])("Select");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",dk,[Object(C["unref"])(c)?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",uk,[Object(C["createVNode"])(a,{trigger:"click",visible:b.value,"onUpdate:visible":t[2]||(t[2]=e=>b.value=e),onVisibleChange:t[3]||(t[3]=e=>w(e))},{content:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",bk,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(s,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tab",e.key,{active:d.value===e.key}]),key:e.key,onClick:t=>d.value=e.key},Object(C["toDisplayString"])(e.label),11,mk)),64))]),(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(l,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,[d.value===e?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["animation-pool",e]),key:e},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(I[e],l=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"pool-type",key:l.name},[Object(C["createElementVNode"])("div",pk,Object(C["toDisplayString"])(l.name)+"：",1),Object(C["createElementVNode"])("div",Ok,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(l.children,l=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"pool-item",key:l.name,onMouseenter:e=>u.value=l.value,onMouseleave:t[0]||(t[0]=e=>u.value=""),onClick:t=>k(e,l.value)},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["animation-box",[Object(C["unref"])(nk)+"animated",Object(C["unref"])(nk)+"fast",u.value===l.value&&`${Object(C["unref"])(nk)}${l.value}`]])},Object(C["toDisplayString"])(l.name),3)],40,jk))),128))])]))),128)),E.value?Object(C["createCommentVNode"])("",!0):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",fk))],2)):Object(C["createCommentVNode"])("",!0)],64))),64))]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{class:"element-animation-btn",onClick:t[1]||(t[1]=e=>x.value="")},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{style:{"margin-right":"5px"}}),vk]),_:1})]),_:1},8,["visible"])])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",hk,[Object(C["createVNode"])(r,{style:{"margin-right":"5px"}}),yk])),Object(C["createVNode"])(i),Object(C["createVNode"])(Object(C["unref"])(Of.a),{class:"animation-sequence",modelValue:Object(C["unref"])(p),animation:300,scroll:!0,scrollSensitivity:50,handle:".sequence-content",onEnd:f,itemKey:"id"},{item:Object(C["withCtx"])(({element:e})=>{var t,l;return[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["sequence-item",[e.type,{active:(null===(t=Object(C["unref"])(c))||void 0===t?void 0:t.id)===e.elId}]])},[Object(C["createElementVNode"])("div",gk,[Object(C["createElementVNode"])("div",xk,Object(C["toDisplayString"])(e.index),1),Object(C["createElementVNode"])("div",kk,"【"+Object(C["toDisplayString"])(e.elType)+"】"+Object(C["toDisplayString"])(e.animationEffect),1),Object(C["createElementVNode"])("div",Ck,[Object(C["createVNode"])(g,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"预览"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{class:"handler-btn",onClick:t=>v(e.elId,e.effect,e.duration)},null,8,["onClick"])]),_:2},1032,["mouseEnterDelay"]),Object(C["createVNode"])(g,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{class:"handler-btn",onClick:t=>j(e.id)},null,8,["onClick"])]),_:2},1032,["mouseEnterDelay"])])]),(null===(l=Object(C["unref"])(O)[0])||void 0===l?void 0:l.elId)===e.elId?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Nk,[Object(C["createVNode"])(i,{style:{margin:"16px 0"}}),Object(C["createElementVNode"])("div",Ek,[wk,Object(C["createVNode"])(B,{min:500,max:3e3,step:500,value:e.duration,onChange:t=>h(e.id,t),style:{flex:"5"}},null,8,["value","onChange"])]),Object(C["createElementVNode"])("div",Vk,[Ik,Object(C["createVNode"])(L,{value:e.trigger,onChange:t=>y(e.id,t),style:{flex:"5"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(S,{value:"click"},{default:Object(C["withCtx"])(()=>[Bk]),_:1}),Object(C["createVNode"])(S,{value:"meantime"},{default:Object(C["withCtx"])(()=>[Sk]),_:1}),Object(C["createVNode"])(S,{value:"auto"},{default:Object(C["withCtx"])(()=>[Lk]),_:1})]),_:2},1032,["value","onChange"])]),Object(C["createElementVNode"])("div",_k,[Object(C["createVNode"])(n,{style:{flex:"1"},onClick:t=>V(e.id)},{default:Object(C["withCtx"])(()=>[Tk]),_:2},1032,["onClick"])])])):Object(C["createCommentVNode"])("",!0)],2)]}),_:1},8,["modelValue"])])}}});l("cc39");const Dk=V()(Mk,[["__scopeId","data-v-2f69234f"]]);var Ak=Dk;const zk=[{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#5b9bd5","#ed7d31","#a5a5a5","#ffc000","#4472c4","#70ad47"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#83992a","#3c9670","#44709d","#a23b32","#d87728","#deb340"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#e48312","#bd582c","#865640","#9b8357","#c2bc80","#94a088"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#bdc8df","#003fa9","#f5ba00","#ff7567","#7676d9","#923ffc"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#90c225","#54a121","#e6b91e","#e86618","#c42f19","#918756"]},{background:"#ffffff",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#1cade4","#2683c6","#27ced7","#42ba97","#3e8853","#62a39f"]},{background:"#e9efd6",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#a5300f","#de7e18","#9f8351","#728653","#92aa4c","#6aac91"]},{background:"#17444e",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#b01513","#ea6312","#e6b729","#6bab90","#55839a","#9e5d9d"]},{background:"#36234d",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#b31166","#e33d6f","#e45f3c","#e9943a","#9b6bf2","#d63cd0"]},{background:"#247fad",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#052f61","#a50e82","#14967c","#6a9e1f","#e87d37","#c62324"]},{background:"#103f55",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#40aebd","#97e8d5","#a1cf49","#628f3e","#f2df3a","#fcb01c"]},{background:"#242367",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#ac3ec1","#477bd1","#46b298","#90ba4c","#dd9d31","#e25345"]},{background:"#e4b75e",fontColor:"#333333",fontname:"Microsoft Yahei",colors:["#f0a22e","#a5644e","#b58b80","#c3986d","#a19574","#c17529"]},{background:"#333333",fontColor:"#ffffff",fontname:"Microsoft Yahei",colors:["#bdc8df","#003fa9","#f5ba00","#ff7567","#7676d9","#923ffc"]}];var Fk=()=>{const e=Object(ko["e"])(),{slides:t,currentSlide:l,theme:o}=Object(N["c"])(e),{addHistorySnapshot:c}=Object(Ra["a"])(),n=e=>{const t=[];for(const l of e.elements){if("shape"===l.type&&0!==Gt()(l.fill).getAlpha()){const e=Gt()(l.fill).toRgbString();t.includes(e)||t.push(e)}if("text"===l.type&&l.fill&&0!==Gt()(l.fill).getAlpha()){const e=Gt()(l.fill).toRgbString();t.includes(e)||t.push(e)}if("table"===l.type&&l.theme&&0!==Gt()(l.theme.color).getAlpha()){const e=Gt()(l.theme.color).toRgbString();t.includes(e)||t.push(e)}if("chart"===l.type&&l.fill&&0!==Gt()(l.fill).getAlpha()){const e=Gt()(l.fill).toRgbString();t.includes(e)||t.push(e)}if("line"===l.type&&0!==Gt()(l.color).getAlpha()){const e=Gt()(l.color).toRgbString();t.includes(e)||t.push(e)}if("audio"===l.type&&0!==Gt()(l.color).getAlpha()){const e=Gt()(l.color).toRgbString();t.includes(e)||t.push(e)}}return t},a=(e,t)=>{const l=n(e),o={};if(l.length>t.length){const e=Gt()(t[0]).analogous(l.length-t.length+10),o=e.map(e=>e.toHexString()).slice(1);t.push(...o)}for(let c=0;c<l.length;c++)o[l[c]]=t[c];return o},r=(e,t)=>{const l=a(e,t.colors);e.background&&"image"===e.background.type||(e.background={type:"solid",color:t.background});for(const o of e.elements){if("shape"===o.type&&(o.fill=l[Gt()(o.fill).toRgbString()]||o.fill,o.gradient&&delete o.gradient),"text"===o.type&&(o.fill&&(o.fill=l[Gt()(o.fill).toRgbString()]||o.fill),o.defaultColor=t.fontColor,o.defaultFontName=t.fontname),"table"===o.type){o.theme&&(o.theme.color=l[Gt()(o.theme.color).toRgbString()]||o.theme.color);for(const e of o.data)for(const l of e)l.style&&(l.style.color=t.fontColor,l.style.fontname=t.fontname)}"chart"===o.type&&(o.themeColor=[l[Gt()(o.themeColor[0]).toRgbString()]]||!1,o.gridColor=t.fontColor),"line"===o.type&&(o.color=l[Gt()(o.color).toRgbString()]||o.color),"audio"===o.type&&(o.color=l[Gt()(o.color).toRgbString()]||o.color),"latex"===o.type&&(o.color=t.fontColor)}},i=t=>{const o=JSON.parse(JSON.stringify(l.value));r(o,t),e.updateSlide({background:o.background,elements:o.elements}),c()},s=l=>{const o=JSON.parse(JSON.stringify(t.value));for(const e of o)r(e,l);e.setTheme({backgroundColor:l.background,themeColor:l.colors[0],fontColor:l.fontColor,fontName:l.fontname}),e.setSlides(o),c()},d=()=>{const l=JSON.parse(JSON.stringify(t.value)),{themeColor:n,backgroundColor:a,fontColor:r,fontName:i}=o.value;for(const e of l){e.background&&"image"===e.background.type||(e.background={type:"solid",color:a});for(const t of e.elements)if("shape"===t.type)t.fill=n;else if("line"===t.type)t.color=n;else if("text"===t.type)t.defaultColor=r,t.defaultFontName=i,t.fill&&(t.fill=n);else if("table"===t.type){t.theme&&(t.theme.color=n);for(const e of t.data)for(const t of e)t.style&&(t.style.color=r,t.style.fontname=i)}else"chart"===t.type?(t.themeColor=[n],t.gridColor=r):"latex"===t.type?t.color=r:"audio"===t.type&&(t.color=n)}e.setSlides(l),c()};return{applyPresetThemeToSingleSlide:i,applyPresetThemeToAllSlides:s,applyThemeToAllSlides:d}};const $k=e=>(Object(C["pushScopeId"])("data-v-8c16beae"),e=e(),Object(C["popScopeId"])(),e),Rk={class:"slide-design-panel"},Pk=$k(()=>Object(C["createElementVNode"])("div",{class:"title"},"背景填充",-1)),Hk={class:"row"},Uk=Object(C["createTextVNode"])("纯色填充"),qk=Object(C["createTextVNode"])("图片填充"),Gk=Object(C["createTextVNode"])("渐变填充"),Yk=$k(()=>Object(C["createElementVNode"])("div",{style:{flex:"1"}},null,-1)),Xk=Object(C["createTextVNode"])("缩放"),Zk=Object(C["createTextVNode"])("拼贴"),Wk=Object(C["createTextVNode"])("缩放铺满"),Jk=Object(C["createTextVNode"])("线性渐变"),Qk=Object(C["createTextVNode"])("径向渐变"),Kk={key:0,class:"background-image-wrapper"},eC={class:"background-image"},tC={key:1,class:"background-gradient-wrapper"},lC={class:"row"},oC=$k(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"起点颜色：",-1)),cC={class:"row"},nC=$k(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"终点颜色：",-1)),aC={key:0,class:"row"},rC=$k(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"渐变角度：",-1)),iC={class:"row"},sC=Object(C["createTextVNode"])("应用背景到全部"),dC={class:"row"},uC=$k(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"画布尺寸：",-1)),bC=Object(C["createTextVNode"])("宽屏 16 : 9"),mC=Object(C["createTextVNode"])("宽屏 16 ：10"),pC=Object(C["createTextVNode"])("标准 4 ：3"),OC=$k(()=>Object(C["createElementVNode"])("div",{class:"title"},"全局主题",-1)),jC={class:"row"},fC=$k(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"字体：",-1)),vC={class:"row"},hC=$k(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"字体颜色：",-1)),yC={class:"row"},gC=$k(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"背景颜色：",-1)),xC={class:"row"},kC=$k(()=>Object(C["createElementVNode"])("div",{style:{flex:"2"}},"主题色：",-1)),CC={class:"row"},NC=Object(C["createTextVNode"])("应用主题到全部"),EC=$k(()=>Object(C["createElementVNode"])("div",{class:"title"},"预置主题",-1)),wC={class:"theme-list"},VC={class:"theme-item-content"},IC={class:"colors"},BC={class:"btns"},SC=["onClick"],LC=["onClick"];var _C=Object(C["defineComponent"])({__name:"SlideDesignPanel",setup(e){const t=Object(ko["e"])(),{availableFonts:l}=Object(N["c"])(Object(ko["c"])()),{slides:o,currentSlide:c,viewportRatio:n,theme:a}=Object(N["c"])(t),r=Object(C["computed"])(()=>c.value.background?c.value.background:{type:"solid",value:"#fff"}),{addHistorySnapshot:i}=Object(Ra["a"])(),{applyPresetThemeToSingleSlide:s,applyPresetThemeToAllSlides:d,applyThemeToAllSlides:u}=Fk(),b=e=>{if("solid"===e){const e={...r.value,type:"solid",color:r.value.color||"#fff"};t.updateSlide({background:e})}else if("image"===e){const e={...r.value,type:"image",image:r.value.image||"",imageSize:r.value.imageSize||"cover"};t.updateSlide({background:e})}else{const e={...r.value,type:"gradient",gradientType:r.value.gradientType||"linear",gradientColor:r.value.gradientColor||["#fff","#fff"],gradientRotate:r.value.gradientRotate||0};t.updateSlide({background:e})}i()},m=e=>{t.updateSlide({background:{...r.value,...e}}),i()},p=e=>{const t=e[0];t&&Ta(t).then(e=>m({image:e}))},O=()=>{const e=o.value.map(e=>({...e,background:c.value.background}));t.setSlides(e),i()},j=e=>{t.setTheme(e)},f=e=>{t.setViewportRatio(e)};return(e,t)=>{const o=Object(C["resolveComponent"])("SelectOption"),c=Object(C["resolveComponent"])("Select"),i=Object(C["resolveComponent"])("ColorPicker"),v=Object(C["resolveComponent"])("Popover"),h=Object(C["resolveComponent"])("IconPlus"),y=Object(C["resolveComponent"])("FileInput"),g=Object(C["resolveComponent"])("Slider"),x=Object(C["resolveComponent"])("Button"),k=Object(C["resolveComponent"])("Divider"),N=Object(C["resolveComponent"])("SelectOptGroup");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Rk,[Pk,Object(C["createElementVNode"])("div",Hk,[Object(C["createVNode"])(c,{style:{flex:"10"},value:Object(C["unref"])(r).type,onChange:t[0]||(t[0]=e=>b(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{value:"solid"},{default:Object(C["withCtx"])(()=>[Uk]),_:1}),Object(C["createVNode"])(o,{value:"image"},{default:Object(C["withCtx"])(()=>[qk]),_:1}),Object(C["createVNode"])(o,{value:"gradient"},{default:Object(C["withCtx"])(()=>[Gk]),_:1})]),_:1},8,["value"]),Yk,"solid"===Object(C["unref"])(r).type?(Object(C["openBlock"])(),Object(C["createBlock"])(v,{key:0,trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(r).color,"onUpdate:modelValue":t[1]||(t[1]=e=>m({color:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:Object(C["unref"])(r).color||"#fff",style:{flex:"10"}},null,8,["color"])]),_:1})):"image"===Object(C["unref"])(r).type?(Object(C["openBlock"])(),Object(C["createBlock"])(c,{key:1,style:{flex:"10"},value:Object(C["unref"])(r).imageSize||"cover",onChange:t[2]||(t[2]=e=>m({imageSize:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{value:"contain"},{default:Object(C["withCtx"])(()=>[Xk]),_:1}),Object(C["createVNode"])(o,{value:"repeat"},{default:Object(C["withCtx"])(()=>[Zk]),_:1}),Object(C["createVNode"])(o,{value:"cover"},{default:Object(C["withCtx"])(()=>[Wk]),_:1})]),_:1},8,["value"])):(Object(C["openBlock"])(),Object(C["createBlock"])(c,{key:2,style:{flex:"10"},value:Object(C["unref"])(r).gradientType,onChange:t[3]||(t[3]=e=>m({gradientType:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{value:"linear"},{default:Object(C["withCtx"])(()=>[Jk]),_:1}),Object(C["createVNode"])(o,{value:"radial"},{default:Object(C["withCtx"])(()=>[Qk]),_:1})]),_:1},8,["value"]))]),"image"===Object(C["unref"])(r).type?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Kk,[Object(C["createVNode"])(y,{onChange:t[4]||(t[4]=e=>p(e))},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",eC,[Object(C["createElementVNode"])("div",{class:"content",style:Object(C["normalizeStyle"])({backgroundImage:`url(${Object(C["unref"])(r).image})`})},[Object(C["createVNode"])(h)],4)])]),_:1})])):Object(C["createCommentVNode"])("",!0),"gradient"===Object(C["unref"])(r).type?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",tC,[Object(C["createElementVNode"])("div",lC,[oC,Object(C["createVNode"])(v,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(r).gradientColor[0],"onUpdate:modelValue":t[5]||(t[5]=e=>m({gradientColor:[e,Object(C["unref"])(r).gradientColor[1]]}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:Object(C["unref"])(r).gradientColor[0],style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",cC,[nC,Object(C["createVNode"])(v,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(r).gradientColor[1],"onUpdate:modelValue":t[6]||(t[6]=e=>m({gradientColor:[Object(C["unref"])(r).gradientColor[0],e]}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:Object(C["unref"])(r).gradientColor[1],style:{flex:"3"}},null,8,["color"])]),_:1})]),"linear"===Object(C["unref"])(r).gradientType?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",aC,[rC,Object(C["createVNode"])(g,{class:"slider",min:0,max:360,step:15,value:Object(C["unref"])(r).gradientRotate,onChange:t[7]||(t[7]=e=>m({gradientRotate:e}))},null,8,["value"])])):Object(C["createCommentVNode"])("",!0)])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",iC,[Object(C["createVNode"])(x,{style:{flex:"1"},onClick:t[8]||(t[8]=e=>O())},{default:Object(C["withCtx"])(()=>[sC]),_:1})]),Object(C["createVNode"])(k),Object(C["createElementVNode"])("div",dC,[uC,Object(C["createVNode"])(c,{style:{flex:"3"},value:Object(C["unref"])(n),onChange:t[9]||(t[9]=e=>f(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{value:.5625},{default:Object(C["withCtx"])(()=>[bC]),_:1},8,["value"]),Object(C["createVNode"])(o,{value:.625},{default:Object(C["withCtx"])(()=>[mC]),_:1},8,["value"]),Object(C["createVNode"])(o,{value:.75},{default:Object(C["withCtx"])(()=>[pC]),_:1},8,["value"])]),_:1},8,["value"])]),Object(C["createVNode"])(k),OC,Object(C["createElementVNode"])("div",jC,[fC,Object(C["createVNode"])(c,{style:{flex:"3"},value:Object(C["unref"])(a).fontName,onChange:t[10]||(t[10]=e=>j({fontName:e}))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{label:"系统字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",{style:Object(C["normalizeStyle"])({fontFamily:e.value})},Object(C["toDisplayString"])(e.label),5)]),_:2},1032,["value"]))),128))]),_:1}),Object(C["createVNode"])(N,{label:"在线字体"},{default:Object(C["withCtx"])(()=>[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(Bf["b"]),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:e.value,value:e.value},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",vC,[hC,Object(C["createVNode"])(v,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(a).fontColor,"onUpdate:modelValue":t[11]||(t[11]=e=>j({fontColor:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:Object(C["unref"])(a).fontColor,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",yC,[gC,Object(C["createVNode"])(v,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(a).backgroundColor,"onUpdate:modelValue":t[12]||(t[12]=e=>j({backgroundColor:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:Object(C["unref"])(a).backgroundColor,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",xC,[kC,Object(C["createVNode"])(v,{trigger:"click"},{content:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{modelValue:Object(C["unref"])(a).themeColor,"onUpdate:modelValue":t[13]||(t[13]=e=>j({themeColor:e}))},null,8,["modelValue"])]),default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Rf,{color:Object(C["unref"])(a).themeColor,style:{flex:"3"}},null,8,["color"])]),_:1})]),Object(C["createElementVNode"])("div",CC,[Object(C["createVNode"])(x,{style:{flex:"1"},onClick:t[14]||(t[14]=e=>Object(C["unref"])(u)())},{default:Object(C["withCtx"])(()=>[NC]),_:1})]),Object(C["createVNode"])(k),EC,Object(C["createElementVNode"])("div",wC,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(zk),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"theme-item",key:t,style:Object(C["normalizeStyle"])({backgroundColor:e.background,fontFamily:e.fontname})},[Object(C["createElementVNode"])("div",VC,[Object(C["createElementVNode"])("div",{class:"text",style:Object(C["normalizeStyle"])({color:e.fontColor})},"文字 Aa",4),Object(C["createElementVNode"])("div",IC,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.colors,(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"color-block",key:t,style:Object(C["normalizeStyle"])({backgroundColor:e})},null,4))),128))]),Object(C["createElementVNode"])("div",BC,[Object(C["createElementVNode"])("div",{class:"btn",onClick:t=>Object(C["unref"])(s)(e)},"应用",8,SC),Object(C["createElementVNode"])("div",{class:"btn",onClick:t=>Object(C["unref"])(d)(e)},"应用全局",8,LC)])])],4))),128))])])}}});l("a330");const TC=V()(_C,[["__scopeId","data-v-8c16beae"]]);var MC=TC;const DC={class:"slide-animation-panel"},AC={class:"animation-pool"},zC=["onClick"],FC={class:"animation-text"},$C=Object(C["createTextVNode"])("应用到全部");var RC=Object(C["defineComponent"])({__name:"SlideAnimationPanel",setup(e){const t=Object(ko["e"])(),{slides:l,currentSlide:o}=Object(N["c"])(t),c=Object(C["computed"])(()=>o.value.turningMode||"slideY"),n=[{label:"无",value:"no"},{label:"淡入淡出",value:"fade"},{label:"左右推移",value:"slideX"},{label:"上下推移",value:"slideY"}],{addHistorySnapshot:a}=Object(Ra["a"])(),r=e=>{e!==c.value&&(t.updateSlide({turningMode:e}),a())},i=()=>{const e=l.value.map(e=>({...e,turningMode:o.value.turningMode}));t.setSlides(e),a()};return(e,t)=>{const l=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",DC,[Object(C["createElementVNode"])("div",AC,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(n,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["animation-item",{active:Object(C["unref"])(c)===e.value}]),key:e.label,onClick:t=>r(e.value)},[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["animation-block",e.value])},null,2),Object(C["createElementVNode"])("div",FC,Object(C["toDisplayString"])(e.label),1)],10,zC)),64))]),Object(C["createVNode"])(l,{style:{width:"100%"},onClick:t[0]||(t[0]=e=>i())},{default:Object(C["withCtx"])(()=>[$C]),_:1})])}}});l("cc76");const PC=V()(RC,[["__scopeId","data-v-577ae912"]]);var HC=PC,UC=()=>{const e=Object(ko["e"])(),{activeElementIdList:t,activeElementList:l}=Object(N["c"])(Object(ko["c"])()),{currentSlide:o}=Object(N["c"])(e),{addHistorySnapshot:c}=Object(Ra["a"])(),n=n=>{const{minX:a,maxX:r,minY:i,maxY:s}=Object(Sa["b"])(l.value),d=JSON.parse(JSON.stringify(o.value.elements)),u={};for(const e of l.value)if(e.groupId&&!u[e.groupId]){const t=l.value.filter(t=>t.groupId===e.groupId);u[e.groupId]=Object(Sa["b"])(t)}if(n===Ca.LEFT)d.forEach(e=>{if(t.value.includes(e.id))if(e.groupId){const t=u[e.groupId],l=t.minX-a;e.left=e.left-l}else if("rotate"in e&&e.rotate){const{offsetX:t}=Object(Sa["e"])({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.left=a-t}else e.left=a});else if(n===Ca.RIGHT)d.forEach(e=>{if(t.value.includes(e.id))if(e.groupId){const t=u[e.groupId],l=t.maxX-r;e.left=e.left-l}else{const t="line"===e.type?Math.max(e.start[0],e.end[0]):e.width;if("rotate"in e&&e.rotate){const{offsetX:l}=Object(Sa["e"])({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.left=r-t+l}else e.left=r-t}});else if(n===Ca.TOP)d.forEach(e=>{if(t.value.includes(e.id))if(e.groupId){const t=u[e.groupId],l=t.minY-i;e.top=e.top-l}else if("rotate"in e&&e.rotate){const{offsetY:t}=Object(Sa["e"])({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.top=i-t}else e.top=i});else if(n===Ca.BOTTOM)d.forEach(e=>{if(t.value.includes(e.id))if(e.groupId){const t=u[e.groupId],l=t.maxY-s;e.top=e.top-l}else{const t="line"===e.type?Math.max(e.start[1],e.end[1]):e.height;if("rotate"in e&&e.rotate){const{offsetY:l}=Object(Sa["e"])({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.top=s-t+l}else e.top=s-t}});else if(n===Ca.HORIZONTAL){const e=(a+r)/2;d.forEach(l=>{if(t.value.includes(l.id))if(l.groupId){const t=u[l.groupId],o=(t.maxX+t.minX)/2,c=o-e;l.left=l.left-c}else{const t="line"===l.type?Math.max(l.start[0],l.end[0]):l.width;l.left=e-t/2}})}else if(n===Ca.VERTICAL){const e=(i+s)/2;d.forEach(l=>{if(t.value.includes(l.id))if(l.groupId){const t=u[l.groupId],o=(t.maxY+t.minY)/2,c=o-e;l.top=l.top-c}else{const t="line"===l.type?Math.max(l.start[1],l.end[1]):l.height;l.top=e-t/2}})}e.updateSlide({elements:d}),c()};return{alignActiveElement:n}},qC=()=>{const e=Object(ko["e"])(),{activeElementIdList:t,activeElementList:l}=Object(N["c"])(Object(ko["c"])()),{currentSlide:o}=Object(N["c"])(e),{addHistorySnapshot:c}=Object(Ra["a"])(),n=Object(C["computed"])(()=>{let e=0;const t=[];for(const o of l.value)o.groupId?t.includes(o.groupId)||(t.push(o.groupId),e+=1):e+=1;return e}),a=()=>{const{minX:n,maxX:a}=Object(Sa["b"])(l.value),r=JSON.parse(JSON.stringify(l.value)),i=JSON.parse(JSON.stringify(o.value.elements)),s=[];let d=[];for(const e of r)if(e.groupId){const t=d.find(t=>t.groupId===e.groupId);t?d=d.map(t=>t.groupId===e.groupId?{...t,els:[...t.els,e]}:t):d.push({groupId:e.groupId,els:[e]})}else{const{minX:t,maxX:l}=Object(Sa["c"])(e);s.push({min:t,max:l,el:e})}const u=[];for(const e of d){const{minX:t,maxX:l}=Object(Sa["b"])(e.els);u.push({min:t,max:l,els:e.els})}const b=[...s,...u];b.sort((e,t)=>e.min-t.min);let m=0;for(const e of b){const t=e.max-e.min;m+=t}const p=(a-n-m)/(b.length-1),O=[],j=b[0];let f={min:j.min,max:j.max};if("el"in j)O.push({pos:j.min,el:j.el});else for(const e of j.els){const{minX:t}=Object(Sa["c"])(e);O.push({pos:t,el:e})}for(let e=1;e<b.length;e++){const t=b[e],l=f.max-f.min,o=f.min+l+p,c=t.max-t.min;if(f={min:o,max:o+c},"el"in t)O.push({pos:o,el:t.el});else for(const e of t.els){const{minX:l}=Object(Sa["c"])(e),c=l-t.min;O.push({pos:o+c,el:e})}}for(const e of i)if(t.value.includes(e.id))for(const t of O)if(t.el.id===e.id)if("rotate"in e&&e.rotate){const{offsetX:l}=Object(Sa["e"])({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.left=t.pos-l}else e.left=t.pos;e.updateSlide({elements:i}),c()},r=()=>{const{minY:n,maxY:a}=Object(Sa["b"])(l.value),r=JSON.parse(JSON.stringify(l.value)),i=JSON.parse(JSON.stringify(o.value.elements)),s=[];let d=[];for(const e of r)if(e.groupId){const t=d.find(t=>t.groupId===e.groupId);t?d=d.map(t=>t.groupId===e.groupId?{...t,els:[...t.els,e]}:t):d.push({groupId:e.groupId,els:[e]})}else{const{minY:t,maxY:l}=Object(Sa["c"])(e);s.push({min:t,max:l,el:e})}const u=[];for(const e of d){const{minY:t,maxY:l}=Object(Sa["b"])(e.els);u.push({min:t,max:l,els:e.els})}const b=[...s,...u];b.sort((e,t)=>e.min-t.min);let m=0;for(const e of b){const t=e.max-e.min;m+=t}const p=(a-n-m)/(b.length-1),O=[],j=b[0];let f={min:j.min,max:j.max};if("el"in j)O.push({pos:j.min,el:j.el});else for(const e of j.els){const{minY:t}=Object(Sa["c"])(e);O.push({pos:t,el:e})}for(let e=1;e<b.length;e++){const t=b[e],l=f.max-f.min,o=f.min+l+p,c=t.max-t.min;if(f={min:o,max:o+c},"el"in t)O.push({pos:o,el:t.el});else for(const e of t.els){const{minY:l}=Object(Sa["c"])(e),c=l-t.min;O.push({pos:o+c,el:e})}}for(const e of i)if(t.value.includes(e.id))for(const t of O)if(t.el.id===e.id)if("rotate"in e&&e.rotate){const{offsetY:l}=Object(Sa["e"])({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate});e.top=t.pos-l}else e.top=t.pos;e.updateSlide({elements:i}),c()};return{displayItemCount:n,uniformHorizontalDisplay:a,uniformVerticalDisplay:r}};const GC={class:"multi-position-panel"},YC=Object(C["createTextVNode"])("水平均匀分布"),XC=Object(C["createTextVNode"])("垂直均匀分布"),ZC=Object(C["createTextVNode"])("组合"),WC=Object(C["createTextVNode"])("取消组合");var JC=Object(C["defineComponent"])({__name:"MultiPositionPanel",setup(e){const{canCombine:t,combineElements:l,uncombineElements:o}=Xa(),{alignActiveElement:c}=UC(),{alignElementToCanvas:n}=pi(),{displayItemCount:a,uniformHorizontalDisplay:r,uniformVerticalDisplay:i}=qC(),s=e=>{t.value?c(e):n(e)};return(e,c)=>{const n=Object(C["resolveComponent"])("IconAlignLeft"),d=Object(C["resolveComponent"])("Button"),u=Object(C["resolveComponent"])("Tooltip"),b=Object(C["resolveComponent"])("IconAlignHorizontally"),m=Object(C["resolveComponent"])("IconAlignRight"),p=Object(C["resolveComponent"])("ButtonGroup"),O=Object(C["resolveComponent"])("IconAlignTop"),j=Object(C["resolveComponent"])("IconAlignVertically"),f=Object(C["resolveComponent"])("IconAlignBottom"),v=Object(C["resolveComponent"])("Divider"),h=Object(C["resolveComponent"])("IconGroup"),y=Object(C["resolveComponent"])("IconUngroup");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",GC,[Object(C["createVNode"])(p,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:c[0]||(c[0]=e=>s(Object(C["unref"])(Ca).LEFT))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"水平居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:c[1]||(c[1]=e=>s(Object(C["unref"])(Ca).HORIZONTAL))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:c[2]||(c[2]=e=>s(Object(C["unref"])(Ca).RIGHT))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["createVNode"])(p,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:c[3]||(c[3]=e=>s(Object(C["unref"])(Ca).TOP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(O)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"垂直居中"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:c[4]||(c[4]=e=>s(Object(C["unref"])(Ca).VERTICAL))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j)]),_:1})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下对齐"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:c[5]||(c[5]=e=>s(Object(C["unref"])(Ca).BOTTOM))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f)]),_:1})]),_:1},8,["mouseEnterDelay"])]),_:1}),Object(C["unref"])(a)>2?(Object(C["openBlock"])(),Object(C["createBlock"])(p,{key:0,class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{flex:"1"},onClick:c[6]||(c[6]=e=>Object(C["unref"])(r)())},{default:Object(C["withCtx"])(()=>[YC]),_:1}),Object(C["createVNode"])(d,{style:{flex:"1"},onClick:c[7]||(c[7]=e=>Object(C["unref"])(i)())},{default:Object(C["withCtx"])(()=>[XC]),_:1})]),_:1})):Object(C["createCommentVNode"])("",!0),Object(C["createVNode"])(v),Object(C["createVNode"])(p,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{disabled:!Object(C["unref"])(t),onClick:c[8]||(c[8]=e=>Object(C["unref"])(l)()),style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(h,{style:{"margin-right":"3px"}}),ZC]),_:1},8,["disabled"]),Object(C["createVNode"])(d,{disabled:Object(C["unref"])(t),onClick:c[9]||(c[9]=e=>Object(C["unref"])(o)()),style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y,{style:{"margin-right":"3px"}}),WC]),_:1},8,["disabled"])]),_:1})])}}});l("1855");const QC=V()(JC,[["__scopeId","data-v-0d3881c5"]]);var KC=QC;const eN=[{key:"letter",label:"字母",children:["α","β","γ","δ","ϵ","ε","ζ","η","θ","ϑ","ι","κ","λ","μ","ν","ξ","π","ϖ","ρ","ϱ","σ","ς","τ","υ","ϕ","φ","χ","ψ","ω","Γ","Δ","Θ","Λ","Ξ","Π","Σ","Υ","Φ","Ψ","Ω","𝐀","𝐁","𝐂","𝐃","𝐄","𝐅","𝐆","𝐇","𝐈","𝐉","𝐊","𝐋","𝐌","𝐍","𝐎","𝐏","𝐐","𝐑","𝐒","𝐓","𝐔","𝐕","𝐖","𝐗","𝐘","𝐙","𝐚","𝐛","𝐜","𝐝","𝐞","𝐟","𝐠","𝐡","𝐢","𝐣","𝐤","𝐥","𝐦","𝐧","𝐨","𝐩","𝐪","𝐫","𝐬","𝐭","𝐮","𝐯","𝐰","𝐱","𝐲","𝐳","𝓐","𝓑","𝓒","𝓓","𝓔","𝓕","𝓖","𝓗","𝓘","𝓙","𝓚","𝓛","𝓜","𝓝","𝓞","𝓟","𝓠","𝓡","𝓢","𝓣","𝓤","𝓥","𝓦","𝓧","𝓨","𝓩","𝓪","𝓫","𝓬","𝓭","𝓮","𝓯","𝓰","𝓱","𝓲","𝓳","𝓴","𝓵","𝓶","𝓷","𝓸","𝓹","𝓺","𝓻","𝓼","𝓽","𝓾","𝓿","𝔀","𝔁","𝔂","𝔃"]},{key:"number",label:"序号",children:["①","②","③","④","⑤","⑥","⑦","⑧","⑨","⑩","⑪","⑫","⑬","⑭","⑮","⑯","⑰","⑱","⑲","⑳","⑴","⑵","⑶","⑷","⑸","⑹","⑺","⑻","⑼","⑽","⑾","⑿","⒀","⒁","⒂","⒃","⒄","⒅","⒆","⒇","º","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹","₀","₁","₂","₃","₄","₅","₆","₇","₈","₉","Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ","Ⅼ","Ⅽ","Ⅾ","Ⅿ","ⅰ","ⅱ","ⅲ","ⅳ","ⅴ","ⅵ","ⅶ","ⅷ","ⅸ","ⅹ","ⅺ","ⅻ","ⅼ","ⅽ","ⅾ","ⅿ","ↀ","ↁ","ↂ","㊀","㊁","㊂","㊃","㊄","㊅","㊆","㊇","㊈","㊉","㈠","㈡","㈢","㈣","㈤","㈥","㈦","㈧","㈨","㈩","𝟘","𝟙","𝟚","𝟛","𝟜","𝟝","𝟞","𝟟","𝟠","𝟡"]},{key:"math",label:"数学",children:["+","-","×","÷","=","~","¬","±","%","°","ǃ","‰","‱","½","⅓","⅔","¼","¾","<",">","l","o","g","l","g","l","n","⨂","⨁","⨄","⨃","⨅","⨆","√","∛","∜","∝","∞","∟","∠","∡","∢","∧","∨","∩","∪","∫","∬","∭","∮","∯","∰","∱","∲","∳","∴","∵","∼","∽","∾","∿","≃","≄","≅","≆","≇","≈","≊","≋","≌","≍","≎","≏","≐","≑","≒","≓","≔","≕","≤","≥","≦","≧","≨","≩","≪","≫","≺","≻","≼","≽","≾","≿","⊀","⊁","⊂","⊃","⊄","⊅","⊆","⊇","⊈","⊉","⊊","⊋","⊏","⊐","⊑","⊒","⊓","⊔","⊢","⊣","⊤","⊥","⊦","⊧","⊨","⊩","⊪","⊫","⊬","⊭","⊮","⊯","⊲","⊳","⊴","⊵","⋀","⋁","⋂","⋃","⋉","⋊","⋋","⋌","⟨","⟩","⟪","⟫","⟮","⟯","⧼","⧽","⦰"]},{key:"arrow",label:"箭头",children:["←","↑","→","↓","↔","↕","↖","↗","↘","↙","↚","↛","↜","↝","↞","↟","↠","↡","↢","↣","↤","↥","↦","↧","↨","↫","↬","↭","↮","↯","↰","↱","↲","↳","↴","↵","↶","↷","↸","↹","↺","↻","↼","↽","↾","↿","⇀","⇁","⇂","⇃","⇄","⇅","⇆","⇇","⇈","⇉","⇊","⇋","⇌","⇍","⇎","⇏","⇐","⇑","⇒","⇓","⇔","⇕","⇖","⇗","⇘","⇙","⇚","⇛","⇜","⇝","⇞","⇟","⇠","⇡","⇢","⇣","⇤","⇥","⇦","⇧","⇨","⇩","⇪","⇫","⇬","⇭","⇮","⇯","⇰","⇱","⇲","⇳","⇴","⇵","⇶","⇷","⇸","⇹","⇺","⇻","⇼","⇽","⇾","⇿"]},{key:"graph",label:"图形",children:["▢","▣","▤","▥","▦","▧","▨","▩","▭","▮","▯","▰","▱","▲","▷","▼","◁","◈","◉","◍","◐","◑","◒","◓","◔","◕","◧","◨","◩","◪","◫","◬","◭","◮"]}],tN={class:"symbol-panel"},lN={class:"tabs"},oN=["onClick"],cN={class:"pool"},nN=["onClick"],aN={class:"symbol"};var rN=Object(C["defineComponent"])({__name:"SymbolPanel",setup(e){const t=Object(C["ref"])(eN[0].key),l=Object(C["computed"])(()=>{const e=eN.find(e=>e.key===t.value);return(null===e||void 0===e?void 0:e.children)||[]}),o=e=>{Js.emit(Ys.RICH_TEXT_COMMAND,{action:{command:"insert",value:e}})};return(e,c)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",tN,[Object(C["createElementVNode"])("div",lN,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(eN),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["tab",{active:t.value===e.key}]),key:e.key,onClick:l=>t.value=e.key},Object(C["toDisplayString"])(e.label),11,oN))),128))]),Object(C["createElementVNode"])("div",cN,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"symbol-item",key:t,onClick:t=>o(e)},[Object(C["createElementVNode"])("div",aN,Object(C["toDisplayString"])(e),1)],8,nN))),128))])]))}});l("1126");const iN=V()(rN,[["__scopeId","data-v-ba0c96fc"]]);var sN=iN;const dN={class:"toolbar"},uN={class:"tabs"},bN=["onClick"],mN={class:"content"};var pN=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(ko["c"])(),{activeElementIdList:l,handleElement:o,toolbarState:c}=Object(N["c"])(t),n=Object(C["computed"])(()=>{var e;return"text"===(null===(e=o.value)||void 0===e?void 0:e.type)?[{label:"样式",value:If["a"].EL_STYLE},{label:"符号",value:If["a"].SYMBOL},{label:"位置",value:If["a"].EL_POSITION},{label:"动画",value:If["a"].EL_ANIMATION}]:[{label:"样式",value:If["a"].EL_STYLE},{label:"位置",value:If["a"].EL_POSITION},{label:"动画",value:If["a"].EL_ANIMATION}]}),a=[{label:"设计",value:If["a"].SLIDE_DESIGN},{label:"切换",value:If["a"].SLIDE_ANIMATION},{label:"动画",value:If["a"].EL_ANIMATION}],r=[{label:"样式",value:If["a"].EL_STYLE},{label:"位置",value:If["a"].MULTI_POSITION}],i=e=>{t.setToolbarState(e)},s=Object(C["computed"])(()=>l.value.length?l.value.length>1?r:n.value:a);Object(C["watch"])(s,()=>{const e=s.value.map(e=>e.value);e.includes(c.value)||t.setToolbarState(e[0])});const d=Object(C["computed"])(()=>{const e={[If["a"].EL_STYLE]:Tx,[If["a"].EL_POSITION]:lk,[If["a"].EL_ANIMATION]:Ak,[If["a"].SLIDE_DESIGN]:MC,[If["a"].SLIDE_ANIMATION]:HC,[If["a"].MULTI_POSITION]:KC,[If["a"].SYMBOL]:sN};return e[c.value]||null});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",dN,[Object(C["createElementVNode"])("div",uN,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(s),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["tab",{active:e.value===Object(C["unref"])(c)}]),key:e.value,onClick:t=>i(e.value)},Object(C["toDisplayString"])(e.label),11,bN))),128))]),Object(C["createElementVNode"])("div",mN,[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(d))))])]))}});l("cd7e");const ON=V()(pN,[["__scopeId","data-v-5303bd17"]]);var jN=ON;const fN={class:"remark"},vN=["value"];var hN=Object(C["defineComponent"])({__name:"index",props:{height:{type:Number,required:!0}},emits:["update:height"],setup(e,{emit:t}){const l=e,o=Object(ko["e"])(),{currentSlide:c}=Object(N["c"])(o),n=Object(C["computed"])(()=>{var e;return(null===(e=c.value)||void 0===e?void 0:e.remark)||""}),a=e=>{const t=e.target.value;o.updateSlide({remark:t})},r=e=>{let o=!0;const c=e.pageY,n=l.height;document.onmousemove=e=>{if(!o)return;const l=e.pageY,a=l-c;let r=-a+n;r<40&&(r=40),r>120&&(r=120),t("update:height",r)},document.onmouseup=()=>{o=!1,document.onmousemove=null,document.onmouseup=null}};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",fN,[Object(C["createElementVNode"])("div",{class:"resize-handler",onMousedown:t[0]||(t[0]=e=>r(e))},null,32),Object(C["createElementVNode"])("textarea",{value:Object(C["unref"])(n),placeholder:"点击输入演讲者备注",onInput:t[1]||(t[1]=e=>a(e))},null,40,vN)]))}});l("ec27");const yN=V()(hN,[["__scopeId","data-v-82b674f6"]]);var gN=yN;const xN=e=>(Object(C["pushScopeId"])("data-v-60a953a0"),e=e(),Object(C["popScopeId"])(),e),kN={class:"export-img-dialog"},CN={class:"thumbnails-view"},NN={class:"configs"},EN={class:"row"},wN=xN(()=>Object(C["createElementVNode"])("div",{class:"title"},"导出格式：",-1)),VN=Object(C["createTextVNode"])("JPEG"),IN=Object(C["createTextVNode"])("PNG"),BN={class:"row"},SN=xN(()=>Object(C["createElementVNode"])("div",{class:"title"},"导出范围：",-1)),LN=Object(C["createTextVNode"])("全部"),_N=Object(C["createTextVNode"])("当前页"),TN=Object(C["createTextVNode"])("自定义"),MN={key:0,class:"row"},DN=["data-range"],AN={class:"row"},zN=xN(()=>Object(C["createElementVNode"])("div",{class:"title"},"图片质量：",-1)),FN={class:"row"},$N=xN(()=>Object(C["createElementVNode"])("div",{class:"title"},"忽略在线字体：",-1)),RN={class:"config-item"},PN={class:"btns"},HN=Object(C["createTextVNode"])("导出图片"),UN=Object(C["createTextVNode"])("关闭");var qN=Object(C["defineComponent"])({__name:"ExportImage",emits:["close"],setup(e,{emit:t}){const{slides:l,currentSlide:o}=Object(N["c"])(Object(ko["e"])()),c=Object(C["ref"])(),n=Object(C["ref"])("all"),a=Object(C["ref"])([1,l.value.length]),r=Object(C["ref"])("jpeg"),i=Object(C["ref"])(1),s=Object(C["ref"])(!0),d=Object(C["computed"])(()=>"all"===n.value?l.value:"current"===n.value?[o.value]:l.value.filter((e,t)=>{const[l,o]=a.value;return t>=l-1&&t<=o-1})),{exportImage:u,exporting:b}=Object(ar["a"])(),m=()=>{c.value&&u(c.value,r.value,i.value,s.value)};return(e,o)=>{const u=Object(C["resolveComponent"])("RadioButton"),p=Object(C["resolveComponent"])("RadioGroup"),O=Object(C["resolveComponent"])("Slider"),j=Object(C["resolveComponent"])("Switch"),f=Object(C["resolveComponent"])("Tooltip"),v=Object(C["resolveComponent"])("Button"),h=Object(C["resolveComponent"])("FullscreenSpin");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",kN,[Object(C["createElementVNode"])("div",CN,[Object(C["createElementVNode"])("div",{class:"thumbnails",ref_key:"imageThumbnailsRef",ref:c},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(d),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(tO,{class:"thumbnail",key:e.id,slide:e,size:1600},null,8,["slide"]))),128))],512)]),Object(C["createElementVNode"])("div",NN,[Object(C["createElementVNode"])("div",EN,[wN,Object(C["createVNode"])(p,{class:"config-item",value:r.value,"onUpdate:value":o[0]||(o[0]=e=>r.value=e)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(u,{style:{width:"50%"},value:"jpeg"},{default:Object(C["withCtx"])(()=>[VN]),_:1}),Object(C["createVNode"])(u,{style:{width:"50%"},value:"png"},{default:Object(C["withCtx"])(()=>[IN]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",BN,[SN,Object(C["createVNode"])(p,{class:"config-item",value:n.value,"onUpdate:value":o[1]||(o[1]=e=>n.value=e)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(u,{style:{width:"33.33%"},value:"all"},{default:Object(C["withCtx"])(()=>[LN]),_:1}),Object(C["createVNode"])(u,{style:{width:"33.33%"},value:"current"},{default:Object(C["withCtx"])(()=>[_N]),_:1}),Object(C["createVNode"])(u,{style:{width:"33.33%"},value:"custom"},{default:Object(C["withCtx"])(()=>[TN]),_:1})]),_:1},8,["value"])]),"custom"===n.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",MN,[Object(C["createElementVNode"])("div",{class:"title","data-range":`（${a.value[0]} ~ ${a.value[1]}）`},"自定义范围：",8,DN),Object(C["createVNode"])(O,{class:"config-item",range:"",min:1,max:Object(C["unref"])(l).length,step:1,value:a.value,"onUpdate:value":o[2]||(o[2]=e=>a.value=e)},null,8,["max","value"])])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",AN,[zN,Object(C["createVNode"])(O,{class:"config-item",min:0,max:1,step:.1,value:i.value,"onUpdate:value":o[3]||(o[3]=e=>i.value=e)},null,8,["step","value"])]),Object(C["createElementVNode"])("div",FN,[$N,Object(C["createElementVNode"])("div",RN,[Object(C["createVNode"])(f,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"导出时默认忽略在线字体，若您在幻灯片中使用了在线字体，且希望导出后保留相关样式，可选择关闭【忽略在线字体】选项，但要注意这将会增加导出用时。"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j,{checked:s.value,"onUpdate:checked":o[4]||(o[4]=e=>s.value=e)},null,8,["checked"])]),_:1},8,["mouseEnterDelay"])])])]),Object(C["createElementVNode"])("div",PN,[Object(C["createVNode"])(v,{class:"btn export",type:"primary",onClick:o[5]||(o[5]=e=>m())},{default:Object(C["withCtx"])(()=>[HN]),_:1}),Object(C["createVNode"])(v,{class:"btn close",onClick:o[6]||(o[6]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[UN]),_:1})]),Object(C["createVNode"])(h,{loading:Object(C["unref"])(b),tip:"正在导出..."},null,8,["loading"])])}}});l("e303");const GN=V()(qN,[["__scopeId","data-v-60a953a0"]]);var YN=GN;const XN={class:"export-json-dialog"},ZN={class:"preview"},WN={class:"btns"},JN=Object(C["createTextVNode"])("导出 JSON"),QN=Object(C["createTextVNode"])("关闭");var KN=Object(C["defineComponent"])({__name:"ExportJSON",emits:["close"],setup(e,{emit:t}){const{slides:l}=Object(N["c"])(Object(ko["e"])()),{exportJSON:o}=Object(ar["a"])();return(e,c)=>{const n=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",XN,[Object(C["createElementVNode"])("div",ZN,[Object(C["createElementVNode"])("pre",null,Object(C["toDisplayString"])(Object(C["unref"])(l)),1)]),Object(C["createElementVNode"])("div",WN,[Object(C["createVNode"])(n,{class:"btn export",type:"primary",onClick:c[0]||(c[0]=e=>Object(C["unref"])(o)())},{default:Object(C["withCtx"])(()=>[JN]),_:1}),Object(C["createVNode"])(n,{class:"btn close",onClick:c[1]||(c[1]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[QN]),_:1})])])}}});l("eba1");const eE=V()(KN,[["__scopeId","data-v-1bc24666"]]);var tE=eE;const lE=()=>{const e=document.createElement("iframe");return e.style.width="0",e.style.height="0",e.style.position="absolute",e.style.right="0",e.style.top="0",e.style.border="0",document.body.appendChild(e),e},oE=(e,t,l)=>{const o="<!DOCTYPE html>";let c="";const n=document.styleSheets;if(n)for(const u of n)if(u.cssRules)for(const e of u.cssRules)c+=e.cssText;const{width:a,height:r,margin:i}=l,s=`\n    <head>\n      <style type="text/css">\n        ${c} \n        html, body {\n          height: auto;\n          overflow: auto;\n        }\n        @media print {\n          @page {\n            size: ${a+2*i}px ${r+2*i}px;\n            margin: ${i}px;\n          }\n        }\n      </style>\n    </head>\n  `,d="<body>"+t.innerHTML+"</body>";e.open(),e.write(`\n    ${o}\n    <html>\n      ${s}\n      ${d}\n    </html>\n  `),e.close()},cE=(e,t)=>{const l=lE(),o=l.contentWindow;if(!l.contentDocument||!o)return;oE(l.contentDocument,e,t);const c=()=>{o.focus(),o.print()},n=()=>{l.removeEventListener("load",c),o.removeEventListener("afterprint",n),document.body.removeChild(l)};l.addEventListener("load",c),o.addEventListener("afterprint",n)},nE=e=>(Object(C["pushScopeId"])("data-v-15b57798"),e=e(),Object(C["popScopeId"])(),e),aE={class:"export-pdf-dialog"},rE={class:"thumbnails-view"},iE={class:"configs"},sE={class:"row"},dE=nE(()=>Object(C["createElementVNode"])("div",{class:"title"},"导出范围：",-1)),uE=Object(C["createTextVNode"])("全部幻灯片"),bE=Object(C["createTextVNode"])("当前幻灯片"),mE={class:"row"},pE=nE(()=>Object(C["createElementVNode"])("div",{class:"title"},"每页数量：",-1)),OE=Object(C["createTextVNode"])("1"),jE=Object(C["createTextVNode"])("2"),fE=Object(C["createTextVNode"])("3"),vE={class:"row"},hE=nE(()=>Object(C["createElementVNode"])("div",{class:"title"},"边缘留白：",-1)),yE={class:"config-item"},gE=nE(()=>Object(C["createElementVNode"])("div",{class:"tip"}," 注意：若打印预览与实际样式不一致，请在弹出的打印窗口中勾选【背景图形】选项。 ",-1)),xE={class:"btns"},kE=Object(C["createTextVNode"])("打印 / 导出 PDF"),CE=Object(C["createTextVNode"])("关闭");var NE=Object(C["defineComponent"])({__name:"ExportPDF",emits:["close"],setup(e,{emit:t}){const{slides:l,currentSlide:o}=Object(N["c"])(Object(ko["e"])()),c=Object(C["ref"])(),n=Object(C["ref"])("all"),a=Object(C["ref"])(1),r=Object(C["ref"])(!0),i=()=>{if(!c.value)return;const e={width:1600,height:"all"===n.value?900*a.value:900,margin:r.value?50:0};cE(c.value,e)};return(e,s)=>{const d=Object(C["resolveComponent"])("RadioButton"),u=Object(C["resolveComponent"])("RadioGroup"),b=Object(C["resolveComponent"])("SelectOption"),m=Object(C["resolveComponent"])("Select"),p=Object(C["resolveComponent"])("Switch"),O=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",aE,[Object(C["createElementVNode"])("div",rE,[Object(C["createElementVNode"])("div",{class:"thumbnails",ref_key:"pdfThumbnailsRef",ref:c},["current"===n.value?(Object(C["openBlock"])(),Object(C["createBlock"])(tO,{key:0,class:"thumbnail",slide:Object(C["unref"])(o),size:1600},null,8,["slide"])):(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],{key:1},Object(C["renderList"])(Object(C["unref"])(l),(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(tO,{class:Object(C["normalizeClass"])(["thumbnail",{"break-page":(t+1)%a.value===0}]),key:e.id,slide:e,size:1600},null,8,["class","slide"]))),128))],512)]),Object(C["createElementVNode"])("div",iE,[Object(C["createElementVNode"])("div",sE,[dE,Object(C["createVNode"])(u,{class:"config-item",value:n.value,"onUpdate:value":s[0]||(s[0]=e=>n.value=e)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{width:"50%"},value:"all"},{default:Object(C["withCtx"])(()=>[uE]),_:1}),Object(C["createVNode"])(d,{style:{width:"50%"},value:"current"},{default:Object(C["withCtx"])(()=>[bE]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",mE,[pE,Object(C["createVNode"])(m,{class:"config-item",value:a.value,"onUpdate:value":s[1]||(s[1]=e=>a.value=e)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(b,{value:1},{default:Object(C["withCtx"])(()=>[OE]),_:1}),Object(C["createVNode"])(b,{value:2},{default:Object(C["withCtx"])(()=>[jE]),_:1}),Object(C["createVNode"])(b,{value:3},{default:Object(C["withCtx"])(()=>[fE]),_:1})]),_:1},8,["value"])]),Object(C["createElementVNode"])("div",vE,[hE,Object(C["createElementVNode"])("div",yE,[Object(C["createVNode"])(p,{checked:r.value,"onUpdate:checked":s[2]||(s[2]=e=>r.value=e)},null,8,["checked"])])]),gE]),Object(C["createElementVNode"])("div",xE,[Object(C["createVNode"])(O,{class:"btn export",type:"primary",onClick:s[3]||(s[3]=e=>i())},{default:Object(C["withCtx"])(()=>[kE]),_:1}),Object(C["createVNode"])(O,{class:"btn close",onClick:s[4]||(s[4]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[CE]),_:1})])])}}});l("7239");const EE=V()(NE,[["__scopeId","data-v-15b57798"]]);var wE=EE;const VE=e=>(Object(C["pushScopeId"])("data-v-3fef9be0"),e=e(),Object(C["popScopeId"])(),e),IE={class:"export-pptx-dialog"},BE={class:"configs"},SE={class:"row"},LE=VE(()=>Object(C["createElementVNode"])("div",{class:"title"},"导出范围：",-1)),_E=Object(C["createTextVNode"])("全部"),TE=Object(C["createTextVNode"])("当前页"),ME=Object(C["createTextVNode"])("自定义"),DE={key:0,class:"row"},AE=["data-range"],zE={class:"row"},FE=VE(()=>Object(C["createElementVNode"])("div",{class:"title"},"覆盖默认母版：",-1)),$E={class:"config-item"},RE={class:"btns"},PE=Object(C["createTextVNode"])("导出 PPTX"),HE=Object(C["createTextVNode"])("关闭");var UE=Object(C["defineComponent"])({__name:"ExportPPTX",emits:["close"],setup(e,{emit:t}){const{slides:l,currentSlide:o}=Object(N["c"])(Object(ko["e"])()),{exportPPTX:c,exporting:n}=Object(ar["a"])(),a=Object(C["ref"])("all"),r=Object(C["ref"])([1,l.value.length]),i=Object(C["ref"])(!0),s=Object(C["computed"])(()=>"all"===a.value?l.value:"current"===a.value?[o.value]:l.value.filter((e,t)=>{const[l,o]=r.value;return t>=l-1&&t<=o-1}));return(e,o)=>{const d=Object(C["resolveComponent"])("RadioButton"),u=Object(C["resolveComponent"])("RadioGroup"),b=Object(C["resolveComponent"])("Slider"),m=Object(C["resolveComponent"])("Switch"),p=Object(C["resolveComponent"])("Button"),O=Object(C["resolveComponent"])("FullscreenSpin");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",IE,[Object(C["createElementVNode"])("div",BE,[Object(C["createElementVNode"])("div",SE,[LE,Object(C["createVNode"])(u,{class:"config-item",value:a.value,"onUpdate:value":o[0]||(o[0]=e=>a.value=e)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{style:{width:"33.33%"},value:"all"},{default:Object(C["withCtx"])(()=>[_E]),_:1}),Object(C["createVNode"])(d,{style:{width:"33.33%"},value:"current"},{default:Object(C["withCtx"])(()=>[TE]),_:1}),Object(C["createVNode"])(d,{style:{width:"33.33%"},value:"custom"},{default:Object(C["withCtx"])(()=>[ME]),_:1})]),_:1},8,["value"])]),"custom"===a.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",DE,[Object(C["createElementVNode"])("div",{class:"title","data-range":`（${r.value[0]} ~ ${r.value[1]}）`},"自定义范围：",8,AE),Object(C["createVNode"])(b,{class:"config-item",range:"",min:1,max:Object(C["unref"])(l).length,step:1,value:r.value,"onUpdate:value":o[1]||(o[1]=e=>r.value=e)},null,8,["max","value"])])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",zE,[FE,Object(C["createElementVNode"])("div",$E,[Object(C["createVNode"])(m,{checked:i.value,"onUpdate:checked":o[2]||(o[2]=e=>i.value=e)},null,8,["checked"])])])]),Object(C["createElementVNode"])("div",RE,[Object(C["createVNode"])(p,{class:"btn export",type:"primary",onClick:o[3]||(o[3]=e=>Object(C["unref"])(c)(Object(C["unref"])(s),i.value))},{default:Object(C["withCtx"])(()=>[PE]),_:1}),Object(C["createVNode"])(p,{class:"btn close",onClick:o[4]||(o[4]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[HE]),_:1})]),Object(C["createVNode"])(O,{loading:Object(C["unref"])(n),tip:"正在导出..."},null,8,["loading"])])}}});l("fef8");const qE=V()(UE,[["__scopeId","data-v-3fef9be0"]]);var GE=qE;const YE=e=>(Object(C["pushScopeId"])("data-v-e2b465d2"),e=e(),Object(C["popScopeId"])(),e),XE={class:"export-pptist-dialog"},ZE={class:"configs"},WE={class:"row"},JE=YE(()=>Object(C["createElementVNode"])("div",{class:"title"},"导出范围：",-1)),QE=Object(C["createTextVNode"])("全部"),KE=Object(C["createTextVNode"])("当前页"),ew=Object(C["createTextVNode"])("自定义"),tw={key:0,class:"row"},lw=["data-range"],ow=YE(()=>Object(C["createElementVNode"])("div",{class:"tip"}," 提示：.pptist 是本应用的特有文件后缀，支持将该类型的文件导入回应用中。 ",-1)),cw={class:"btns"},nw=Object(C["createTextVNode"])("导出 .pptist 文件"),aw=Object(C["createTextVNode"])("关闭");var rw=Object(C["defineComponent"])({__name:"ExportSpecificFile",emits:["close"],setup(e,{emit:t}){const{slides:l,currentSlide:o}=Object(N["c"])(Object(ko["e"])()),{exportSpecificFile:c}=Object(ar["a"])(),n=Object(C["ref"])("all"),a=Object(C["ref"])([1,l.value.length]),r=Object(C["computed"])(()=>"all"===n.value?l.value:"current"===n.value?[o.value]:l.value.filter((e,t)=>{const[l,o]=a.value;return t>=l-1&&t<=o-1}));return(e,o)=>{const i=Object(C["resolveComponent"])("RadioButton"),s=Object(C["resolveComponent"])("RadioGroup"),d=Object(C["resolveComponent"])("Slider"),u=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",XE,[Object(C["createElementVNode"])("div",ZE,[Object(C["createElementVNode"])("div",WE,[JE,Object(C["createVNode"])(s,{class:"config-item",value:n.value,"onUpdate:value":o[0]||(o[0]=e=>n.value=e)},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{style:{width:"33.33%"},value:"all"},{default:Object(C["withCtx"])(()=>[QE]),_:1}),Object(C["createVNode"])(i,{style:{width:"33.33%"},value:"current"},{default:Object(C["withCtx"])(()=>[KE]),_:1}),Object(C["createVNode"])(i,{style:{width:"33.33%"},value:"custom"},{default:Object(C["withCtx"])(()=>[ew]),_:1})]),_:1},8,["value"])]),"custom"===n.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",tw,[Object(C["createElementVNode"])("div",{class:"title","data-range":`（${a.value[0]} ~ ${a.value[1]}）`},"自定义范围：",8,lw),Object(C["createVNode"])(d,{class:"config-item",range:"",min:1,max:Object(C["unref"])(l).length,step:1,value:a.value,"onUpdate:value":o[1]||(o[1]=e=>a.value=e)},null,8,["max","value"])])):Object(C["createCommentVNode"])("",!0),ow]),Object(C["createElementVNode"])("div",cw,[Object(C["createVNode"])(u,{class:"btn export",type:"primary",onClick:o[2]||(o[2]=e=>Object(C["unref"])(c)(Object(C["unref"])(r)))},{default:Object(C["withCtx"])(()=>[nw]),_:1}),Object(C["createVNode"])(u,{class:"btn close",onClick:o[3]||(o[3]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[aw]),_:1})])])}}});l("bf43");const iw=V()(rw,[["__scopeId","data-v-e2b465d2"]]);var sw=iw;const dw={class:"export-dialog"},uw={class:"tabs"},bw=["onClick"],mw={class:"content"};var pw=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(ko["c"])(),{dialogForExport:l}=Object(N["c"])(t),o=t.setDialogForExport,c=[{key:"pptist",label:"导出 pptist 文件"},{key:"pptx",label:"导出 PPTX"},{key:"image",label:"导出图片"},{key:"json",label:"导出 JSON"},{key:"pdf",label:"打印 / 导出 PDF"}],n=Object(C["computed"])(()=>{const e={image:YN,json:tE,pdf:wE,pptx:GE,pptist:sw};return e[l.value]||null});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",dw,[Object(C["createElementVNode"])("div",uw,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(c,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tab",{active:e.key===Object(C["unref"])(l)}]),key:e.key,onClick:t=>Object(C["unref"])(o)(e.key)},Object(C["toDisplayString"])(e.label),11,bw)),64))]),Object(C["createElementVNode"])("div",mw,[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(n)),{onClose:t[0]||(t[0]=e=>Object(C["unref"])(o)(""))},null,32))])]))}});l("d970");const Ow=V()(pw,[["__scopeId","data-v-1f8f1a8b"]]);var jw=Ow;const fw={key:0,class:"pptist-editor"},vw={class:"layout-content"},hw={class:"layout-content-center"};var yw=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(ko["c"])(),l=Object(ko["e"])(),{dialogForExport:o,handleElementId:c}=Object(N["c"])(t),{docsId:n}=Object(N["c"])(l),a=Object(C["ref"])(!1),r=Object(ho["c"])(),i=()=>t.setDialogForExport(""),s=Object(C["ref"])(40);async function d(e){const t=await fc(e);l.setSlides(JSON.parse(t.json)),a.value=!0}return cr(),nr(),Object(C["onMounted"])(()=>{const e=r.params.id;n.value=e,d(e),l.connectWebsocket()}),Object(C["onUnmounted"])(()=>{l.closeWebsocket()}),Object(C["watch"])(()=>c.value,(e,t)=>{t&&!e&&Object(C["nextTick"])(()=>{l._sync(n.value,l.slides.slice())})}),(e,t)=>{const l=Object(C["resolveComponent"])("Modal");return Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,[a.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",fw,[Object(C["createVNode"])(Yr,{class:"layout-header"}),Object(C["createElementVNode"])("div",vw,[Object(C["createVNode"])(Vf,{class:"layout-content-left"}),Object(C["createElementVNode"])("div",hw,[Object(C["createVNode"])(bf,{class:"center-top"}),Object(C["createVNode"])(vO,{class:"center-body",style:Object(C["normalizeStyle"])({height:`calc(100% - ${s.value+40}px)`})},null,8,["style"]),Object(C["createVNode"])(gN,{class:"center-bottom",height:s.value,"onUpdate:height":t[0]||(t[0]=e=>s.value=e),style:Object(C["normalizeStyle"])({height:s.value+"px"})},null,8,["height","style"])]),Object(C["createVNode"])(jN,{class:"layout-content-right"})])])):Object(C["createCommentVNode"])("",!0),Object(C["createVNode"])(l,{visible:!!Object(C["unref"])(o),footer:null,centered:"",closable:!1,width:680,destroyOnClose:"",onCancel:t[1]||(t[1]=e=>i())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(jw)]),_:1},8,["visible"])],64)}}});l("58ff");const gw=V()(yw,[["__scopeId","data-v-a97652e6"]]);var xw=gw,kw=()=>{const e=Object(ko["e"])(),{slides:t,slideIndex:l,formatedAnimations:o}=Object(N["c"])(e),c=Object(C["ref"])(0),n=Object(C["ref"])(!1),a=Object(C["ref"])(l.value),r=()=>{if(n.value)return;const{animations:e,autoNext:t}=o.value[c.value];c.value+=1,n.value=!0;let l=0;for(const o of e){const c=document.querySelector(`#screen-element-${o.elId} [class^=base-element-]`);if(!c){l+=1;continue}const a=`${nk}${o.effect}`;c.style.removeProperty("--animate-duration");for(const e of c.classList)-1!==e.indexOf(nk)&&c.classList.remove(e,nk+"animated");c.style.setProperty("--animate-duration",o.duration+"ms"),c.classList.add(a,nk+"animated");const i=()=>{"out"!==o.type&&(c.style.removeProperty("--animate-duration"),c.classList.remove(a,nk+"animated")),l+=1,l===e.length&&(n.value=!1,t&&r())};c.addEventListener("animationend",i,{once:!0})}},i=()=>{c.value-=1;const{animations:e}=o.value[c.value];for(const t of e){const e=document.querySelector(`#screen-element-${t.elId} [class^=base-element-]`);if(e){e.style.removeProperty("--animate-duration");for(const t of e.classList)-1!==t.indexOf(nk)&&e.classList.remove(t,nk+"animated")}}e.every(e=>"attention"===e.type)&&b()},s=Object(C["ref"])(0),d=()=>{s.value&&(clearInterval(s.value),s.value=0)};Object(C["onUnmounted"])(d);const u=Object(Yt["throttle"])((function(e){Ut["a"].success(e)}),1e3,{leading:!0,trailing:!1}),b=()=>{o.value.length&&c.value>0?i():l.value>0?(e.updateSlideIndex(l.value-1),l.value<a.value?(c.value=0,a.value=l.value):c.value=o.value.length):u("已经是第一页了"),n.value=!1},m=()=>{o.value.length&&c.value<o.value.length?r():l.value<t.value.length-1?(e.updateSlideIndex(l.value+1),c.value=0,n.value=!1):(u("已经是最后一页了"),d(),n.value=!1)},p=()=>{d(),Ut["a"].success("开始自动放映"),s.value=setInterval(m,2500)},O=Object(Yt["throttle"])((function(e){e.deltaY<0?b():e.deltaY>0&&m()}),500,{leading:!0,trailing:!1}),j=Object(C["ref"])(null),f=e=>{j.value={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}},v=e=>{if(!j.value)return;const t=Math.abs(j.value.x-e.changedTouches[0].pageX),l=e.changedTouches[0].pageY-j.value.y;Math.abs(l)>t&&Math.abs(l)>50&&(j.value=null,l>0?b():m())},h=e=>{const t=e.key.toUpperCase();t===Va.UP||t===Va.LEFT||t===Va.PAGEUP?b():t!==Va.DOWN&&t!==Va.RIGHT&&t!==Va.SPACE&&t!==Va.ENTER&&t!==Va.PAGEDOWN||m()};Object(C["onMounted"])(()=>document.addEventListener("keydown",h)),Object(C["onUnmounted"])(()=>document.removeEventListener("keydown",h));const y=()=>{e.updateSlideIndex(l.value-1),c.value=0},g=()=>{e.updateSlideIndex(l.value+1),c.value=0},x=t=>{e.updateSlideIndex(t),c.value=0},k=l=>{const o=t.value.findIndex(e=>e.id===l);-1!==o&&(e.updateSlideIndex(o),c.value=0)};return{autoPlayTimer:s,autoPlay:p,closeAutoPlay:d,mousewheelListener:O,touchStartListener:f,touchEndListener:v,turnPrevSlide:y,turnNextSlide:g,turnSlideToIndex:x,turnSlideToId:k,execPrev:b,execNext:m,animationIndex:c}},Cw=e=>{const t=Object(ko["e"])(),{viewportRatio:l}=Object(N["c"])(t),o=Object(C["ref"])(0),c=Object(C["ref"])(0),n=()=>{const t=(null===e||void 0===e?void 0:e.value)||document.body,n=t.clientWidth,a=t.clientHeight;let r,i;a/n===l.value?(r=n,i=a):a/n>l.value?(r=n,i=n*l.value):(r=a/l.value,i=a),o.value=r,c.value=i};return Object(C["onMounted"])(()=>{n(),window.addEventListener("resize",n)}),Object(C["onUnmounted"])(()=>{window.removeEventListener("resize",n)}),{slideWidth:o,slideHeight:c}},Nw=()=>{const e=Object(C["ref"])(!0),t=Object(C["ref"])(!0),{exitScreening:l}=lr(),o=()=>{e.value=tr(),!e.value&&t.value&&l(),t.value=!0};Object(C["onMounted"])(()=>{e.value=tr(),document.addEventListener("fullscreenchange",o),document.addEventListener("webkitfullscreenchange",o)}),Object(C["onUnmounted"])(()=>{document.removeEventListener("fullscreenchange",o),document.removeEventListener("webkitfullscreenchange",o)});const c=()=>{e.value&&(t.value=!1,er())};return{fullscreenState:e,manualExitFullscreen:c}},Ew=Object(C["defineComponent"])({__name:"ScreenChartElement",props:{elementInfo:{type:Object,required:!0}},setup(e){return(t,l)=>(Object(C["openBlock"])(),Object(C["createBlock"])(Cp,{class:"screen-element-chart",elementInfo:e.elementInfo},null,8,["elementInfo"]))}});const ww=Ew;var Vw=ww;const Iw={class:"element-content"};var Bw=Object(C["defineComponent"])({__name:"ScreenVideoElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const{currentSlide:t}=Object(N["c"])(Object(ko["e"])()),l=Object(C["inject"])(Xr)||Object(C["ref"])(1),o=Object(C["inject"])(Zr)||Object(C["ref"])(""),c=Object(C["computed"])(()=>t.value.id===o.value);return(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"screen-element-video",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",Iw,[Object(C["unref"])(c)?(Object(C["openBlock"])(),Object(C["createBlock"])(Xu,{key:0,width:e.elementInfo.width,height:e.elementInfo.height,src:e.elementInfo.src,poster:e.elementInfo.poster,scale:Object(C["unref"])(l)},null,8,["width","height","src","poster","scale"])):Object(C["createCommentVNode"])("",!0)])],4)],4))}});l("7a78");const Sw=V()(Bw,[["__scopeId","data-v-76457308"]]);var Lw=Sw;const _w={class:"element-content"};var Tw=Object(C["defineComponent"])({__name:"ScreenAudioElement",props:{elementInfo:{type:Object,required:!0}},setup(e){const t=e,{viewportRatio:l,currentSlide:o}=Object(N["c"])(Object(ko["e"])()),c=Object(C["inject"])(Xr)||Object(C["ref"])(1),n=Object(C["inject"])(Zr)||Object(C["ref"])(""),a=Object(C["computed"])(()=>o.value.id===n.value),r=Object(C["computed"])(()=>Math.min(t.elementInfo.width,t.elementInfo.height)+"px"),i=Object(C["computed"])(()=>{const e=Ma,o=Ma*l.value,n=280/c.value,a=50/c.value,r=t.elementInfo.width,i=t.elementInfo.height,s=t.elementInfo.left,d=t.elementInfo.top;let u=0,b=i;return s+n>=e&&(u=r-n),d+i+a>=o&&(b=-a),{left:u+"px",top:b+"px"}}),s=Object(C["ref"])(),d=()=>{s.value&&s.value.toggle()};return(t,l)=>{const o=Object(C["resolveComponent"])("IconVolumeNotice");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"screen-element-audio",style:Object(C["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(C["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(C["normalizeStyle"])({transform:`rotate(${e.elementInfo.rotate}deg)`})},[Object(C["createElementVNode"])("div",_w,[Object(C["createVNode"])(o,{class:"audio-icon",style:Object(C["normalizeStyle"])({fontSize:Object(C["unref"])(r),color:e.elementInfo.color}),onClick:l[0]||(l[0]=e=>d())},null,8,["style"]),Object(C["unref"])(a)?(Object(C["openBlock"])(),Object(C["createBlock"])(jb,{key:0,class:"audio-player",ref_key:"audioPlayerRef",ref:s,style:Object(C["normalizeStyle"])({...Object(C["unref"])(i)}),src:e.elementInfo.src,loop:e.elementInfo.loop,autoplay:e.elementInfo.autoplay,scale:Object(C["unref"])(c)},null,8,["style","src","loop","autoplay","scale"])):Object(C["createCommentVNode"])("",!0)])],4)],4)}}});l("3010");const Mw=V()(Tw,[["__scopeId","data-v-1172b8ee"]]);var Dw=Mw;const Aw=["id","title"];var zw=Object(C["defineComponent"])({__name:"ScreenElement",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},animationIndex:{type:Number,required:!0},turnSlideToId:{type:Function,required:!0},manualExitFullscreen:{type:Function,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e={[Aa.IMAGE]:cp,[Aa.TEXT]:ip,[Aa.SHAPE]:jp,[Aa.LINE]:gp,[Aa.CHART]:Vw,[Aa.TABLE]:Tp,[Aa.LATEX]:Rp,[Aa.VIDEO]:Lw,[Aa.AUDIO]:Dw};return e[t.elementInfo.type]||null}),{formatedAnimations:o,theme:c}=Object(N["c"])(Object(ko["e"])()),n=Object(C["computed"])(()=>{const e=o.value.findIndex(e=>{const l=e.animations.map(e=>e.elId);return l.includes(t.elementInfo.id)});if(-1===e)return!1;if(e<t.animationIndex)return!1;const l=o.value[e].animations.find(e=>e.elId===t.elementInfo.id);return"in"===(null===l||void 0===l?void 0:l.type)}),a=()=>{const e=t.elementInfo.link;e&&("web"===e.type?(t.manualExitFullscreen(),window.open(e.target)):"slide"===e.type&&t.turnSlideToId(e.target))};return(t,o)=>{var r;return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["screen-element",{link:e.elementInfo.link}]),id:"screen-element-"+e.elementInfo.id,style:Object(C["normalizeStyle"])({zIndex:e.elementIndex,color:Object(C["unref"])(c).fontColor,fontFamily:Object(C["unref"])(c).fontName,visibility:Object(C["unref"])(n)?"hidden":"visible"}),title:(null===(r=e.elementInfo.link)||void 0===r?void 0:r.target)||"",onClick:o[0]||(o[0]=e=>a())},[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(l)),{elementInfo:e.elementInfo},null,8,["elementInfo"]))],14,Aw)}}});l("d2ee");const Fw=V()(zw,[["__scopeId","data-v-a15cc1d8"]]);var $w=Fw,Rw=Object(C["defineComponent"])({__name:"ScreenSlide",props:{slide:{type:Object,required:!0},scale:{type:Number,required:!0},animationIndex:{type:Number,required:!0},turnSlideToId:{type:Function,required:!0},manualExitFullscreen:{type:Function,required:!0}},setup(e){const t=e,{viewportRatio:l}=Object(N["c"])(Object(ko["e"])()),o=Object(C["computed"])(()=>t.slide.background),{backgroundStyle:c}=Lb(o),n=Object(C["computed"])(()=>t.slide.id);return Object(C["provide"])(Zr,n),(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"screen-slide",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(Ma)+"px",height:Object(C["unref"])(Ma)*Object(C["unref"])(l)+"px",transform:`scale(${e.scale})`})},[Object(C["createElementVNode"])("div",{class:"background",style:Object(C["normalizeStyle"])({...Object(C["unref"])(c)})},null,4),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e.slide.elements,(t,l)=>(Object(C["openBlock"])(),Object(C["createBlock"])($w,{key:t.id,elementInfo:t,elementIndex:l+1,animationIndex:e.animationIndex,turnSlideToId:e.turnSlideToId,manualExitFullscreen:e.manualExitFullscreen},null,8,["elementInfo","elementIndex","animationIndex","turnSlideToId","manualExitFullscreen"]))),128))],4))}});l("a060");const Pw=V()(Rw,[["__scopeId","data-v-7cf7f9e7"]]);var Hw=Pw;const Uw={class:"screen-slide-list"};var qw=Object(C["defineComponent"])({__name:"ScreenSlideList",props:{slideWidth:{type:Number,required:!0},slideHeight:{type:Number,required:!0},animationIndex:{type:Number,required:!0},turnSlideToId:{type:Function,required:!0},manualExitFullscreen:{type:Function,required:!0}},setup(e){const t=e,{slides:l,slideIndex:o,currentSlide:c}=Object(N["c"])(Object(ko["e"])()),n=Object(C["computed"])(()=>t.slideWidth/Ma);return Object(C["provide"])(Xr,n),(t,a)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Uw,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),(t,l)=>{var a;return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["slide-item","turning-mode-"+(t.turningMode||"slideY"),{current:l===Object(C["unref"])(o),before:l<Object(C["unref"])(o),after:l>Object(C["unref"])(o),hide:(l===Object(C["unref"])(o)-1||l===Object(C["unref"])(o)+1)&&t.turningMode!==Object(C["unref"])(c).turningMode}]),key:t.id},[Math.abs(Object(C["unref"])(o)-l)<2||null!==(a=t.animations)&&void 0!==a&&a.length?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"slide-content",style:Object(C["normalizeStyle"])({width:e.slideWidth+"px",height:e.slideHeight+"px"})},[Object(C["createVNode"])(Hw,{slide:t,scale:Object(C["unref"])(n),animationIndex:e.animationIndex,turnSlideToId:e.turnSlideToId,manualExitFullscreen:e.manualExitFullscreen},null,8,["slide","scale","animationIndex","turnSlideToId","manualExitFullscreen"])],4)):Object(C["createCommentVNode"])("",!0)],2)}),128))]))}});l("afd6");const Gw=V()(qw,[["__scopeId","data-v-0a0ca778"]]);var Yw=Gw;const Xw={class:"slide-thumbnails"},Zw={class:"return-button"},Ww={class:"slide-thumbnails-content"},Jw=["onClick"];var Qw=Object(C["defineComponent"])({__name:"SlideThumbnails",props:{turnSlideToIndex:{type:Function,required:!0}},emits:["close"],setup(e,{emit:t}){const l=e,{slides:o,slideIndex:c}=Object(N["c"])(Object(ko["e"])()),{slidesLoadLimit:n}=mf(),a=e=>{l.turnSlideToIndex(e),t("close")};return(e,l)=>{const r=Object(C["resolveComponent"])("IconArrowCircleLeft");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",Xw,[Object(C["createElementVNode"])("div",Zw,[Object(C["createVNode"])(r,{class:"icon",onClick:l[0]||(l[0]=e=>t("close"))})]),Object(C["createElementVNode"])("div",Ww,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(o),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["thumbnail",{active:t===Object(C["unref"])(c)}]),key:e.id,onClick:e=>a(t)},[Object(C["createVNode"])(tO,{slide:e,size:150,visible:t<Object(C["unref"])(n)},null,8,["slide","visible"])],10,Jw))),128))])])}}});l("2803");const Kw=V()(Qw,[["__scopeId","data-v-b7c6c0cc"]]);var eV=Kw;const tV={key:0,class:"blackboard"};var lV=Object(C["defineComponent"])({__name:"WritingBoard",props:{color:{type:String,default:"#ffcc00"},model:{type:String,default:"pen"},blackboard:{type:Boolean,default:!1}},setup(e,{expose:t}){const l=e;let o=null;const c=Object(C["ref"])(),n=Object(C["ref"])(),a=Object(C["ref"])(6),r=Object(C["ref"])(80),i=Object(C["ref"])(24);let s={x:0,y:0},d=!1,u=0,b=-1;const m=Object(C["ref"])({x:0,y:0}),p=Object(C["ref"])(!1),O=Object(C["ref"])(0),j=Object(C["ref"])(0),f=Object(C["computed"])(()=>n.value?O.value/n.value.width:1),v=Object(C["computed"])(()=>n.value?j.value/n.value.height:1),h=()=>{c.value&&(O.value=c.value.clientWidth,j.value=c.value.clientHeight)},y=new ResizeObserver(h);Object(C["onMounted"])(()=>{c.value&&y.observe(c.value)}),Object(C["onUnmounted"])(()=>{c.value&&y.unobserve(c.value)});const g=()=>{n.value&&c.value&&(o=n.value.getContext("2d"),o&&(n.value.width=c.value.clientWidth,n.value.height=c.value.clientHeight,o.lineCap="round",o.lineJoin="round"))};Object(C["onMounted"])(g);const x=()=>{o&&("mark"===l.model?(o.globalCompositeOperation="xor",o.globalAlpha=.5):"pen"===l.model&&(o.globalCompositeOperation="source-over",o.globalAlpha=1))};Object(C["watch"])(()=>l.model,x);const k=(e,t,c)=>{if(!o)return;const n=s.x,a=s.y;o.lineWidth=c,o.strokeStyle=l.color,o.beginPath(),o.moveTo(n,a),o.lineTo(e,t),o.stroke(),o.closePath()},N=(e,t)=>{if(!o||!n.value)return;const l=s.x,c=s.y,a=r.value/2,i=a*Math.sin(Math.atan((t-c)/(e-l))),d=a*Math.cos(Math.atan((t-c)/(e-l))),u=[l+i,c-d],b=[l-i,c+d],m=[e+i,t-d],p=[e-i,t+d];o.save(),o.beginPath(),o.arc(e,t,a,0,2*Math.PI),o.clip(),o.clearRect(0,0,n.value.width,n.value.height),o.restore(),o.save(),o.beginPath(),o.moveTo(...u),o.lineTo(...m),o.lineTo(...p),o.lineTo(...b),o.closePath(),o.clip(),o.clearRect(0,0,n.value.width,n.value.height),o.restore()},E=(e,t)=>{const l=s.x,o=s.y;return Math.sqrt((e-l)*(e-l)+(t-o)*(t-o))},w=(e,t)=>{const l=10,o=.1,c=a.value,n=3,r=e/t;let i;return i=r<=o?c:r>=l?n:c-r/l*c,-1===b?i:1*i/3+2*b/3},V=(e,t)=>{const o=(new Date).getTime();if("pen"===l.model){const l=E(e,t),c=o-u,n=w(l,c);k(e,t,n),b=n}else"mark"===l.model?k(e,t,i.value):N(e,t);s={x:e,y:t},u=(new Date).getTime()},I=e=>{if(!n.value)return[0,0];const t=e instanceof MouseEvent?e:e.changedTouches[0],l=n.value.getBoundingClientRect(),o=t.pageX-l.x,c=t.pageY-l.y;return[o,c]},B=e=>{const[t,l]=I(e),o=t/f.value,c=l/v.value;d=!0,s={x:o,y:c},u=(new Date).getTime(),e instanceof MouseEvent||(m.value={x:t,y:l},p.value=!0)},S=e=>{const[t,l]=I(e),o=t/f.value,c=l/v.value;m.value={x:t,y:l},d&&V(o,c)},L=()=>{d&&(d=!1)},_=()=>{o&&n.value&&o.clearRect(0,0,n.value.width,n.value.height)},T=()=>{var e;return null===(e=n.value)||void 0===e?void 0:e.toDataURL()},M=e=>{const t=new Image;t.src=e,t.onload=()=>{o&&o.drawImage(t,0,0)}},D=Object(Yt["throttle"])((function(e){"eraser"===l.model&&(e.deltaY<0&&r.value<200?r.value+=20:e.deltaY>0&&r.value>20&&(r.value-=20)),"pen"===l.model&&(e.deltaY<0&&a.value<10?a.value+=2:e.deltaY>0&&a.value>4&&(a.value-=2)),"mark"===l.model&&(e.deltaY<0&&i.value<40?i.value+=4:e.deltaY>0&&i.value>16&&(i.value-=4))}),300,{leading:!0,trailing:!1});return t({clearCanvas:_,getImageDataURL:T,setImageDataURL:M}),(t,l)=>{const o=Object(C["resolveComponent"])("IconWrite"),s=Object(C["resolveComponent"])("IconHighLight");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"writing-board",ref_key:"writingBoardRef",ref:c},[e.blackboard?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",tV)):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("canvas",{class:"canvas",ref_key:"canvasRef",ref:n,style:Object(C["normalizeStyle"])({width:O.value+"px",height:j.value+"px"}),onMousedown:l[0]||(l[0]=e=>B(e)),onMousemove:l[1]||(l[1]=e=>S(e)),onMouseup:l[2]||(l[2]=e=>L()),onTouchstart:l[3]||(l[3]=e=>B(e)),onTouchmove:l[4]||(l[4]=e=>S(e)),onTouchend:l[5]||(l[5]=e=>{L(),p.value=!1}),onMouseleave:l[6]||(l[6]=e=>{L(),p.value=!1}),onMouseenter:l[7]||(l[7]=e=>p.value=!0),onWheel:l[8]||(l[8]=e=>Object(C["unref"])(D)(e))},null,36),p.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:1},["eraser"===e.model?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"eraser",style:Object(C["normalizeStyle"])({left:m.value.x-r.value/2+"px",top:m.value.y-r.value/2+"px",width:r.value+"px",height:r.value+"px"})},null,4)):Object(C["createCommentVNode"])("",!0),"pen"===e.model?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:1,class:"pen",style:Object(C["normalizeStyle"])({left:m.value.x-a.value/2+"px",top:m.value.y-6*a.value+a.value/2+"px",color:e.color})},["pen"===e.model?(Object(C["openBlock"])(),Object(C["createBlock"])(o,{key:0,class:"icon",size:6*a.value},null,8,["size"])):Object(C["createCommentVNode"])("",!0)],4)):Object(C["createCommentVNode"])("",!0),"mark"===e.model?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:2,class:"pen",style:Object(C["normalizeStyle"])({left:m.value.x-i.value/2+"px",top:m.value.y+"px",color:e.color})},["mark"===e.model?(Object(C["openBlock"])(),Object(C["createBlock"])(s,{key:0,class:"icon",size:1.5*i.value},null,8,["size"])):Object(C["createCommentVNode"])("",!0)],4)):Object(C["createCommentVNode"])("",!0)],64)):Object(C["createCommentVNode"])("",!0)],512)}}});l("5fa4");const oV=V()(lV,[["__scopeId","data-v-1d4eb7f0"]]);var cV=oV;const nV={class:"writing-board-tool"},aV={class:"colors"},rV=["onClick"];var iV=Object(C["defineComponent"])({__name:"WritingBoardTool",props:{slideWidth:{type:Number,required:!0},slideHeight:{type:Number,required:!0},position:{type:Object,default:()=>({right:"5px",bottom:"5px"})}},emits:["close"],setup(e,{emit:t}){const l=["#000000","#ffffff","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c","#ffff3a"],o=Object(C["ref"])(),c=Object(C["ref"])("#e2534d"),n=Object(C["ref"])("pen"),a=Object(C["ref"])(!1),r=e=>{n.value=e},i=()=>{o.value.clearCanvas()},s=e=>{"eraser"===n.value&&(n.value="pen"),c.value=e},d=()=>{t("close")};return(t,u)=>{const b=Object(C["resolveComponent"])("IconWrite"),m=Object(C["resolveComponent"])("Tooltip"),p=Object(C["resolveComponent"])("IconHighLight"),O=Object(C["resolveComponent"])("IconErase"),j=Object(C["resolveComponent"])("IconClear"),f=Object(C["resolveComponent"])("IconFill"),v=Object(C["resolveComponent"])("IconClose");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",nV,[Object(C["createElementVNode"])("div",{class:"writing-board-wrap",style:Object(C["normalizeStyle"])({width:e.slideWidth+"px",height:e.slideHeight+"px"})},[Object(C["createVNode"])(cV,{ref_key:"writingBoardRef",ref:o,color:c.value,blackboard:a.value,model:n.value},null,8,["color","blackboard","model"])],4),Object(C["createElementVNode"])("div",{class:"tools",style:Object(C["normalizeStyle"])(e.position)},[Object(C["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"画笔"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["btn",{active:"pen"===n.value}]),onClick:u[0]||(u[0]=e=>r("pen"))},[Object(C["createVNode"])(b,{class:"icon"})],2)]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"荧光笔"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["btn",{active:"mark"===n.value}]),onClick:u[1]||(u[1]=e=>r("mark"))},[Object(C["createVNode"])(p,{class:"icon"})],2)]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"橡皮擦"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["btn",{active:"eraser"===n.value}]),onClick:u[2]||(u[2]=e=>r("eraser"))},[Object(C["createVNode"])(O,{class:"icon"})],2)]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"清除墨迹"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:"btn",onClick:u[3]||(u[3]=e=>i())},[Object(C["createVNode"])(j,{class:"icon"})])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"黑板"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["btn",{active:a.value}]),onClick:u[4]||(u[4]=e=>a.value=!a.value)},[Object(C["createVNode"])(f,{class:"icon"})],2)]),_:1},8,["mouseEnterDelay"]),Object(C["createElementVNode"])("div",aV,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(l,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["color",{active:e===c.value}]),key:e,style:Object(C["normalizeStyle"])({backgroundColor:e}),onClick:t=>s(e)},null,14,rV)),64))]),Object(C["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"关闭画笔"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:"btn",onClick:u[5]||(u[5]=e=>d())},[Object(C["createVNode"])(v,{class:"icon"})])]),_:1},8,["mouseEnterDelay"])],4)])}}});l("4f60");const sV=V()(iV,[["__scopeId","data-v-876081a6"]]);var dV=sV;const uV={class:"tools-left"},bV={class:"content"};var mV=Object(C["defineComponent"])({__name:"BaseView",props:{changeViewMode:{type:Function,required:!0}},setup(e){const t=e,{slides:l,slideIndex:o}=Object(N["c"])(Object(ko["e"])()),{autoPlayTimer:c,autoPlay:n,closeAutoPlay:a,mousewheelListener:r,touchStartListener:i,touchEndListener:s,turnPrevSlide:d,turnNextSlide:u,turnSlideToIndex:b,turnSlideToId:m,execPrev:p,execNext:O,animationIndex:j}=kw(),{slideWidth:f,slideHeight:v}=Cw(),{exitScreening:h}=lr(),{fullscreenState:y,manualExitFullscreen:g}=Nw(),x=Object(C["ref"])(!1),k=Object(C["ref"])(!1),E=Object(C["ref"])(!1),w=Object(C["ref"])(!1),V=()=>[{text:"上一页",subText:"↑ ←",disable:o.value<=0,handler:()=>d()},{text:"下一页",subText:"↓ →",disable:o.value>=l.value.length-1,handler:()=>u()},{text:"第一页",disable:0===o.value,handler:()=>b(0)},{text:"最后一页",disable:o.value===l.value.length-1,handler:()=>b(l.value.length-1)},{divider:!0},{text:"显示工具栏",handler:()=>x.value=!0},{text:"查看所有幻灯片",handler:()=>E.value=!0},{text:"画笔工具",handler:()=>k.value=!0},{text:"演讲者视图",handler:()=>t.changeViewMode("presenter")},{divider:!0},{text:c.value?"取消自动放映":"自动放映",handler:c.value?a:n},{text:"结束放映",subText:"ESC",handler:h}];return(t,c)=>{const n=Object(C["resolveComponent"])("IconLeftTwo"),a=Object(C["resolveComponent"])("IconRightTwo"),d=Object(C["resolveComponent"])("IconWrite"),u=Object(C["resolveComponent"])("Tooltip"),N=Object(C["resolveComponent"])("IconMagic"),I=Object(C["resolveComponent"])("IconListView"),B=Object(C["resolveComponent"])("IconOffScreenOne"),S=Object(C["resolveComponent"])("IconFullScreenOne"),L=Object(C["resolveComponent"])("IconPower"),_=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["base-view",{"laser-pen":w.value}])},[Object(C["withDirectives"])(Object(C["createVNode"])(Yw,{slideWidth:Object(C["unref"])(f),slideHeight:Object(C["unref"])(v),animationIndex:Object(C["unref"])(j),turnSlideToId:Object(C["unref"])(m),manualExitFullscreen:Object(C["unref"])(g),onWheel:c[0]||(c[0]=e=>Object(C["unref"])(r)(e)),onTouchstart:c[1]||(c[1]=e=>Object(C["unref"])(i)(e)),onTouchend:c[2]||(c[2]=e=>Object(C["unref"])(s)(e))},null,8,["slideWidth","slideHeight","animationIndex","turnSlideToId","manualExitFullscreen"]),[[_,V]]),E.value?(Object(C["openBlock"])(),Object(C["createBlock"])(eV,{key:0,turnSlideToIndex:Object(C["unref"])(b),onClose:c[3]||(c[3]=e=>E.value=!1)},null,8,["turnSlideToIndex"])):Object(C["createCommentVNode"])("",!0),k.value?(Object(C["openBlock"])(),Object(C["createBlock"])(dV,{key:1,slideWidth:Object(C["unref"])(f),slideHeight:Object(C["unref"])(v),onClose:c[4]||(c[4]=e=>k.value=!1)},null,8,["slideWidth","slideHeight"])):Object(C["createCommentVNode"])("",!0),Object(C["createElementVNode"])("div",uV,[Object(C["createVNode"])(n,{class:"tool-btn",theme:"two-tone",fill:["#111","#fff"],onClick:c[5]||(c[5]=e=>Object(C["unref"])(p)())}),Object(C["createVNode"])(a,{class:"tool-btn",theme:"two-tone",fill:["#111","#fff"],onClick:c[6]||(c[6]=e=>Object(C["unref"])(O)())})]),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tools-right",{visible:x.value}]),onMouseleave:c[14]||(c[14]=e=>x.value=!1),onMouseenter:c[15]||(c[15]=e=>x.value=!0)},[Object(C["createElementVNode"])("div",bV,[Object(C["createElementVNode"])("div",{class:"tool-btn page-number",onClick:c[7]||(c[7]=e=>E.value=!0)},"幻灯片 "+Object(C["toDisplayString"])(Object(C["unref"])(o)+1)+" / "+Object(C["toDisplayString"])(Object(C["unref"])(l).length),1),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"画笔工具"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(d,{class:"tool-btn",onClick:c[8]||(c[8]=e=>k.value=!0)})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"激光笔"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N,{class:Object(C["normalizeClass"])(["tool-btn",{active:w.value}]),onClick:c[9]||(c[9]=e=>w.value=!w.value)},null,8,["class"])]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"演讲者视图"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(I,{class:"tool-btn",onClick:c[10]||(c[10]=t=>e.changeViewMode("presenter"))})]),_:1},8,["mouseEnterDelay"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:Object(C["unref"])(y)?"退出全屏":"进入全屏"},{default:Object(C["withCtx"])(()=>[Object(C["unref"])(y)?(Object(C["openBlock"])(),Object(C["createBlock"])(B,{key:0,class:"tool-btn",onClick:c[11]||(c[11]=e=>Object(C["unref"])(g)())})):(Object(C["openBlock"])(),Object(C["createBlock"])(S,{key:1,class:"tool-btn",onClick:c[12]||(c[12]=e=>Object(C["unref"])(Ka)())}))]),_:1},8,["mouseEnterDelay","title"]),Object(C["createVNode"])(u,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"结束放映"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(L,{class:"tool-btn",onClick:c[13]||(c[13]=e=>Object(C["unref"])(h)())})]),_:1},8,["mouseEnterDelay"])])],34)],2)}}});l("4a2e");const pV=V()(mV,[["__scopeId","data-v-d72d6626"]]);var OV=pV;const jV=e=>(Object(C["pushScopeId"])("data-v-5fba3eec"),e=e(),Object(C["popScopeId"])(),e),fV={class:"presenter-view"},vV={class:"toolbar"},hV=jV(()=>Object(C["createElementVNode"])("span",null,"普通视图",-1)),yV=jV(()=>Object(C["createElementVNode"])("span",null,"画笔",-1)),gV=jV(()=>Object(C["createElementVNode"])("span",null,"激光笔",-1)),xV=jV(()=>Object(C["createElementVNode"])("span",null,"结束放映",-1)),kV={class:"content"},CV=["onClick"],NV={class:"remark"},EV={class:"header"},wV=jV(()=>Object(C["createElementVNode"])("span",null,"演讲者备注",-1)),VV=["innerHTML"],IV={class:"remark-scale"};var BV=Object(C["defineComponent"])({__name:"PresenterView",props:{changeViewMode:{type:Function,required:!0}},setup(e){const t=e,{slides:l,slideIndex:o,viewportRatio:c,currentSlide:n}=Object(N["c"])(Object(ko["e"])()),a=Object(C["ref"])(),r=Object(C["ref"])(),i=Object(C["ref"])(!1),s=Object(C["ref"])(!1),{mousewheelListener:d,touchStartListener:u,touchEndListener:b,turnPrevSlide:m,turnNextSlide:p,turnSlideToIndex:O,turnSlideToId:j,animationIndex:f}=kw(),{slideWidth:v,slideHeight:h}=Cw(a),{exitScreening:y}=lr(),{slidesLoadLimit:g}=mf(),{fullscreenState:x,manualExitFullscreen:k}=Nw(),E=Object(C["ref"])(16),w=Object(C["computed"])(()=>La(n.value.remark||"无备注")),V=e=>{r.value&&r.value.scrollBy(e.deltaY,0)},I=e=>{e<12||e>40||(E.value=e)};Object(C["watch"])(o,()=>{Object(C["nextTick"])(()=>{if(!r.value)return;const e=r.value.querySelector(".thumbnail.active");if(!e)return;const t=r.value.offsetWidth,l=e.offsetLeft;r.value.scrollTo({left:l-t/2,behavior:"smooth"})})});const B=()=>[{text:"上一页",subText:"↑ ←",disable:o.value<=0,handler:()=>m()},{text:"下一页",subText:"↓ →",disable:o.value>=l.value.length-1,handler:()=>p()},{text:"第一页",disable:0===o.value,handler:()=>O(0)},{text:"最后一页",disable:o.value===l.value.length-1,handler:()=>O(l.value.length-1)},{divider:!0},{text:"画笔工具",handler:()=>i.value=!0},{text:"普通视图",handler:()=>t.changeViewMode("base")},{divider:!0},{text:"结束放映",subText:"ESC",handler:y}];return(t,n)=>{const m=Object(C["resolveComponent"])("IconListView"),p=Object(C["resolveComponent"])("IconWrite"),N=Object(C["resolveComponent"])("IconMagic"),S=Object(C["resolveComponent"])("IconOffScreenOne"),L=Object(C["resolveComponent"])("Divider"),_=Object(C["resolveComponent"])("IconPower"),T=Object(C["resolveComponent"])("IconMinus"),M=Object(C["resolveComponent"])("IconPlus"),D=Object(C["resolveDirective"])("contextmenu");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",fV,[Object(C["createElementVNode"])("div",vV,[Object(C["createElementVNode"])("div",{class:"tool-btn",onClick:n[0]||(n[0]=t=>e.changeViewMode("base"))},[Object(C["createVNode"])(m,{class:"tool-icon"}),hV]),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tool-btn",{active:i.value}]),onClick:n[1]||(n[1]=e=>i.value=!i.value)},[Object(C["createVNode"])(p,{class:"tool-icon"}),yV],2),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tool-btn",{active:s.value}]),onClick:n[2]||(n[2]=e=>s.value=!s.value)},[Object(C["createVNode"])(N,{class:"tool-icon"}),gV],2),Object(C["createElementVNode"])("div",{class:"tool-btn",onClick:n[3]||(n[3]=()=>Object(C["unref"])(x)?Object(C["unref"])(k)():Object(C["unref"])(Ka)())},[Object(C["unref"])(x)?(Object(C["openBlock"])(),Object(C["createBlock"])(S,{key:0,class:"tool-icon"})):(Object(C["openBlock"])(),Object(C["createBlock"])(S,{key:1,class:"tool-icon"})),Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(Object(C["unref"])(x)?"退出全屏":"全屏"),1)]),Object(C["createVNode"])(L,{class:"divider"}),Object(C["createElementVNode"])("div",{class:"tool-btn",onClick:n[4]||(n[4]=e=>Object(C["unref"])(y)())},[Object(C["createVNode"])(_,{class:"tool-icon"}),xV])]),Object(C["createElementVNode"])("div",kV,[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["slide-list-wrap",{"laser-pen":s.value}]),ref_key:"slideListWrapRef",ref:a},[Object(C["withDirectives"])(Object(C["createVNode"])(Yw,{slideWidth:Object(C["unref"])(v),slideHeight:Object(C["unref"])(h),animationIndex:Object(C["unref"])(f),turnSlideToId:Object(C["unref"])(j),manualExitFullscreen:Object(C["unref"])(k),onWheel:n[5]||(n[5]=e=>Object(C["unref"])(d)(e)),onTouchstart:n[6]||(n[6]=e=>Object(C["unref"])(u)(e)),onTouchend:n[7]||(n[7]=e=>Object(C["unref"])(b)(e))},null,8,["slideWidth","slideHeight","animationIndex","turnSlideToId","manualExitFullscreen"]),[[D,B]]),i.value?(Object(C["openBlock"])(),Object(C["createBlock"])(dV,{key:0,slideWidth:Object(C["unref"])(v),slideHeight:Object(C["unref"])(h),position:{left:"75px",top:"5px"},onClose:n[8]||(n[8]=e=>i.value=!1)},null,8,["slideWidth","slideHeight"])):Object(C["createCommentVNode"])("",!0)],2),Object(C["createElementVNode"])("div",{class:"thumbnails",ref_key:"thumbnailsRef",ref:r,onWheel:n[9]||(n[9]=Object(C["withModifiers"])(e=>V(e),["prevent"]))},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["thumbnail",{active:t===Object(C["unref"])(o)}]),key:e.id,onClick:e=>Object(C["unref"])(O)(t)},[Object(C["createVNode"])(tO,{slide:e,size:120/Object(C["unref"])(c),visible:t<Object(C["unref"])(g)},null,8,["slide","size","visible"])],10,CV))),128))],544)]),Object(C["createElementVNode"])("div",NV,[Object(C["createElementVNode"])("div",EV,[wV,Object(C["createElementVNode"])("span",null,"P "+Object(C["toDisplayString"])(Object(C["unref"])(o)+1)+" / "+Object(C["toDisplayString"])(Object(C["unref"])(l).length),1)]),Object(C["createElementVNode"])("div",{class:"remark-content",style:Object(C["normalizeStyle"])({fontSize:E.value+"px"}),innerHTML:Object(C["unref"])(w)},null,12,VV),Object(C["createElementVNode"])("div",IV,[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["scale-btn",{disable:12===E.value}]),onClick:n[10]||(n[10]=e=>I(E.value-2))},[Object(C["createVNode"])(T)],2),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["scale-btn",{disable:40===E.value}]),onClick:n[11]||(n[11]=e=>I(E.value+2))},[Object(C["createVNode"])(M)],2)])])])}}});l("7a60");const SV=V()(BV,[["__scopeId","data-v-5fba3eec"]]);var LV=SV;const _V={class:"pptist-screen"};var TV=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(C["ref"])("base"),l=e=>{t.value=e},{exitScreening:o}=lr(),c=e=>{const t=e.key.toUpperCase();t===Va.ESC&&o()};return Object(C["onMounted"])(()=>document.addEventListener("keydown",c)),Object(C["onUnmounted"])(()=>document.removeEventListener("keydown",c)),(e,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",_V,["base"===t.value?(Object(C["openBlock"])(),Object(C["createBlock"])(OV,{key:0,changeViewMode:l})):"presenter"===t.value?(Object(C["openBlock"])(),Object(C["createBlock"])(LV,{key:1,changeViewMode:l})):Object(C["createCommentVNode"])("",!0)]))}});l("4764");const MV=V()(TV,[["__scopeId","data-v-6bf3d190"]]);var DV=MV,AV=Object(C["defineComponent"])({__name:"MobileEditableElement",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},selectElement:{type:Function,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>{const e={[Aa.IMAGE]:ts,[Aa.TEXT]:md,[Aa.SHAPE]:Id,[Aa.LINE]:$d,[Aa.CHART]:Xd,[Aa.TABLE]:pu,[Aa.LATEX]:yu,[Aa.VIDEO]:Ju,[Aa.AUDIO]:hb};return e[t.elementInfo.type]||null});return(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"mobile-editable-element",style:Object(C["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(l)),{elementInfo:e.elementInfo,selectElement:e.selectElement,contextmenus:()=>null},null,8,["elementInfo","selectElement","contextmenus"]))],4))}});const zV=AV;var FV=zV,$V=Object(C["defineComponent"])({__name:"MobileOperate",props:{elementInfo:{type:Object,required:!0},isSelected:{type:Boolean,required:!0},canvasScale:{type:Number,required:!0},scaleElement:{type:Function,required:!0}},setup(e){const t=e,l=Object(C["computed"])(()=>"rotate"in t.elementInfo?t.elementInfo.rotate:0),o=Object(C["computed"])(()=>t.elementInfo.width*t.canvasScale),c=Object(C["computed"])(()=>t.elementInfo.height*t.canvasScale),{borderLines:n,resizeHandlers:a,textElementResizeHandlers:r}=Xb(o,c),i="text"===t.elementInfo.type||"table"===t.elementInfo.type?r:a;return(t,o)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"mobile-operate",style:Object(C["normalizeStyle"])({top:e.elementInfo.top*e.canvasScale+"px",left:e.elementInfo.left*e.canvasScale+"px",transform:`rotate(${Object(C["unref"])(l)}deg)`,transformOrigin:`${e.elementInfo.width*e.canvasScale/2}px ${e.elementInfo.height*e.canvasScale/2}px`})},[e.isSelected?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(n),e=>(Object(C["openBlock"])(),Object(C["createBlock"])(em,{class:"operate-border-line",key:e.type,type:e.type,style:Object(C["normalizeStyle"])(e.style)},null,8,["type","style"]))),128)),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(i),t=>(Object(C["openBlock"])(),Object(C["createBlock"])(Jb,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(C["normalizeStyle"])(t.style),onTouchstart:Object(C["withModifiers"])(l=>e.scaleElement(l,e.elementInfo,t.direction),["stop"])},null,8,["type","rotate","style","onTouchstart"]))),128))],64)):Object(C["createCommentVNode"])("",!0)],4))}});l("dd03");const RV=V()($V,[["__scopeId","data-v-7fdc6c04"]]);var PV=RV;const HV={class:"mobile-thumbnails"},UV=["onClick"],qV={class:"label"};var GV=Object(C["defineComponent"])({__name:"MobileThumbnails",setup(e){const t=Object(ko["e"])(),{slides:l,slideIndex:o}=Object(N["c"])(t),{slidesLoadLimit:c}=mf(),n=e=>{t.updateSlideIndex(e)};return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",HV,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["thumbnail-item",{active:Object(C["unref"])(o)===t}]),key:e.id,onClick:e=>n(t)},[Object(C["createElementVNode"])("div",qV,Object(C["toDisplayString"])(t+1),1),Object(C["createVNode"])(tO,{class:"thumbnail",slide:e,size:120,visible:t<Object(C["unref"])(c)},null,8,["slide","visible"])],10,UV))),128))]))}});l("dd28");const YV=V()(GV,[["__scopeId","data-v-4a0c7aa7"]]);var XV=YV;const ZV={class:"slide-toolbar"},WV={class:"remark"},JV=["value"],QV={class:"toolbar"},KV=Object(C["createTextVNode"])(" 新幻灯片"),eI=Object(C["createTextVNode"])(" 复制"),tI=Object(C["createTextVNode"])(" 删除"),lI=Object(C["createTextVNode"])(" 文字"),oI=Object(C["createTextVNode"])("图片 "),cI=Object(C["createTextVNode"])(" 矩形"),nI=Object(C["createTextVNode"])(" 圆形");var aI=Object(C["defineComponent"])({__name:"SlideToolbar",setup(e){const t=Object(ko["e"])(),{viewportRatio:l,currentSlide:o}=Object(N["c"])(t),{createSlide:c,copyAndPasteSlide:n,deleteSlide:a}=qa(),{createTextElement:r,createImageElement:i,createShapeElement:s}=Pa(),d=()=>{const e=400,t=56;r({left:(Ma-e)/2,top:(Ma*l.value-t)/2,width:e,height:t},"<p>新添加文本</p>")},u=e=>{e&&e[0]&&Ta(e[0]).then(e=>i(e))},b=e=>{const t={viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z"},o={viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z"},c={square:t,round:o},n=200;s({left:(Ma-n)/2,top:(Ma*l.value-n)/2,width:n,height:n},c[e])},m=Object(C["computed"])(()=>{var e;return(null===(e=o.value)||void 0===e?void 0:e.remark)||""}),p=e=>{const l=e.target.value;t.updateSlide({remark:l})};return(e,t)=>{const l=Object(C["resolveComponent"])("IconPlus"),o=Object(C["resolveComponent"])("Button"),r=Object(C["resolveComponent"])("IconCopy"),i=Object(C["resolveComponent"])("IconDelete"),s=Object(C["resolveComponent"])("ButtonGroup"),O=Object(C["resolveComponent"])("IconFontSize"),j=Object(C["resolveComponent"])("IconPicture"),f=Object(C["resolveComponent"])("FileInput"),v=Object(C["resolveComponent"])("IconSquare"),h=Object(C["resolveComponent"])("IconRound");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",ZV,[Object(C["createElementVNode"])("div",WV,[Object(C["createElementVNode"])("textarea",{value:Object(C["unref"])(m),placeholder:"点击输入演讲者备注",onInput:t[0]||(t[0]=e=>p(e))},null,40,JV)]),Object(C["createElementVNode"])("div",QV,[Object(C["createVNode"])(s,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{style:{flex:"1"},onClick:t[1]||(t[1]=e=>Object(C["unref"])(c)())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(l,{class:"icon"}),KV]),_:1}),Object(C["createVNode"])(o,{style:{flex:"1"},onClick:t[2]||(t[2]=e=>Object(C["unref"])(n)())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(r,{class:"icon"}),eI]),_:1}),Object(C["createVNode"])(o,{style:{flex:"1"},onClick:t[3]||(t[3]=e=>Object(C["unref"])(a)())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i,{class:"icon"}),tI]),_:1})]),_:1}),Object(C["createVNode"])(s,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o,{style:{flex:"1"},onClick:t[4]||(t[4]=e=>d())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(O,{class:"icon"}),lI]),_:1}),Object(C["createVNode"])(o,{style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(f,{onChange:t[5]||(t[5]=e=>u(e))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(j,{class:"icon"}),oI]),_:1})]),_:1}),Object(C["createVNode"])(o,{style:{flex:"1"},onClick:t[6]||(t[6]=e=>b("square"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(v,{class:"icon"}),cI]),_:1}),Object(C["createVNode"])(o,{style:{flex:"1"},onClick:t[7]||(t[7]=e=>b("round"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(h,{class:"icon"}),nI]),_:1})]),_:1})]),Object(C["createVNode"])(XV)])}}});l("e62b");const rI=V()(aI,[["__scopeId","data-v-5c24a24d"]]);var iI=rI;const sI=e=>(Object(C["pushScopeId"])("data-v-446388c6"),e=e(),Object(C["popScopeId"])(),e),dI={class:"element-toolbar"},uI={class:"tabs"},bI=["onClick"],mI={class:"content"},pI={key:0,class:"style"},OI=Object(C["createTextVNode"])("+"),jI=Object(C["createTextVNode"])("-"),fI={class:"row-block"},vI=sI(()=>Object(C["createElementVNode"])("div",{class:"label"},"文字颜色：",-1)),hI={class:"colors"},yI=["onClick"],gI={class:"row-block"},xI=sI(()=>Object(C["createElementVNode"])("div",{class:"label"},"填充色：",-1)),kI={class:"colors"},CI=["onClick"],NI={key:1,class:"common"},EI=Object(C["createTextVNode"])(" 复制"),wI=Object(C["createTextVNode"])(" 删除"),VI=Object(C["createTextVNode"])(" 置顶"),II=Object(C["createTextVNode"])(" 置底"),BI=Object(C["createTextVNode"])(" 上移"),SI=Object(C["createTextVNode"])(" 下移"),LI=Object(C["createTextVNode"])(" 左对齐"),_I=Object(C["createTextVNode"])(" 水平居中"),TI=Object(C["createTextVNode"])(" 右对齐"),MI=Object(C["createTextVNode"])(" 上对齐"),DI=Object(C["createTextVNode"])(" 垂直居中"),AI=Object(C["createTextVNode"])(" 下对齐");var zI=Object(C["defineComponent"])({__name:"ElementToolbar",setup(e){const t=["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c","#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57"],l=Object(ko["c"])(),o=Object(ko["e"])(),{handleElement:c,handleElementId:n,richTextAttrs:a}=Object(N["c"])(l),{addHistorySnapshot:r}=Object(Ra["a"])(),i=(e,t)=>{o.updateElement({id:e,props:t}),r()},s=[{key:"style",label:"样式"},{key:"common",label:"布局"}],d=Object(C["ref"])("common"),{orderElement:u}=Qa(),{alignElementToCanvas:b}=pi(),{addElementsFromData:m}=Object(Ha["a"])(),{deleteElement:p}=Ya(),O=()=>{const e=JSON.parse(JSON.stringify(c.value));m([e])},j=(e,t)=>{Js.emit(Ys.RICH_TEXT_COMMAND,{action:{command:e,value:t}})},f=e=>{var t;if(c.value){if(("text"===c.value.type||"shape"===c.value.type&&null!==(t=c.value.text)&&void 0!==t&&t.content)&&Js.emit(Ys.RICH_TEXT_COMMAND,{action:{command:"color",value:e}}),"table"===c.value.type){const t=JSON.parse(JSON.stringify(c.value.data));for(let l=0;l<t.length;l++)for(let o=0;o<t[l].length;o++){const c=t[l][o].style||{};t[l][o].style={...c,color:e}}i(n.value,{data:t})}"latex"===c.value.type&&i(n.value,{color:e})}},v=e=>{if(c.value){if("text"!==c.value.type&&"shape"!==c.value.type&&"chart"!==c.value.type||i(n.value,{fill:e}),"table"===c.value.type){const t=JSON.parse(JSON.stringify(c.value.data));for(let l=0;l<t.length;l++)for(let o=0;o<t[l].length;o++){const c=t[l][o].style||{};t[l][o].style={...c,backcolor:e}}i(n.value,{data:t})}"audio"===c.value.type&&i(n.value,{color:e})}};return(e,l)=>{const o=Object(C["resolveComponent"])("IconTextBold"),n=Object(C["resolveComponent"])("CheckboxButton"),r=Object(C["resolveComponent"])("IconTextItalic"),i=Object(C["resolveComponent"])("IconTextUnderline"),m=Object(C["resolveComponent"])("IconStrikethrough"),h=Object(C["resolveComponent"])("CheckboxButtonGroup"),y=Object(C["resolveComponent"])("IconFontSize"),g=Object(C["resolveComponent"])("Button"),x=Object(C["resolveComponent"])("ButtonGroup"),k=Object(C["resolveComponent"])("Divider"),N=Object(C["resolveComponent"])("IconAlignTextLeft"),E=Object(C["resolveComponent"])("RadioButton"),w=Object(C["resolveComponent"])("IconAlignTextCenter"),V=Object(C["resolveComponent"])("IconAlignTextRight"),I=Object(C["resolveComponent"])("RadioGroup"),B=Object(C["resolveComponent"])("IconCopy"),S=Object(C["resolveComponent"])("IconDelete"),L=Object(C["resolveComponent"])("IconSendToBack"),_=Object(C["resolveComponent"])("IconBringToFrontOne"),T=Object(C["resolveComponent"])("IconBringToFront"),M=Object(C["resolveComponent"])("IconSentToBack"),D=Object(C["resolveComponent"])("IconAlignLeft"),A=Object(C["resolveComponent"])("IconAlignVertically"),z=Object(C["resolveComponent"])("IconAlignRight"),F=Object(C["resolveComponent"])("IconAlignTop"),$=Object(C["resolveComponent"])("IconAlignHorizontally"),R=Object(C["resolveComponent"])("IconAlignBottom");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",dI,[Object(C["createElementVNode"])("div",uI,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(s,e=>Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["tab",{active:d.value===e.key}]),key:e.key,onClick:t=>d.value=e.key},Object(C["toDisplayString"])(e.label),11,bI)),64))]),Object(C["createElementVNode"])("div",mI,["style"===d.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",pI,[Object(C["createVNode"])(h,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(n,{style:{flex:"1"},checked:Object(C["unref"])(a).bold,onClick:l[0]||(l[0]=e=>j("bold"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(o)]),_:1},8,["checked"]),Object(C["createVNode"])(n,{style:{flex:"1"},checked:Object(C["unref"])(a).em,onClick:l[1]||(l[1]=e=>j("em"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(r)]),_:1},8,["checked"]),Object(C["createVNode"])(n,{style:{flex:"1"},checked:Object(C["unref"])(a).underline,onClick:l[2]||(l[2]=e=>j("underline"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(i)]),_:1},8,["checked"]),Object(C["createVNode"])(n,{style:{flex:"1"},checked:Object(C["unref"])(a).strikethrough,onClick:l[3]||(l[3]=e=>j("strikethrough"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m)]),_:1},8,["checked"])]),_:1}),Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{style:{flex:"2"},onClick:l[4]||(l[4]=e=>j("fontsize-add"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y),OI]),_:1}),Object(C["createVNode"])(g,{style:{flex:"2"},onClick:l[5]||(l[5]=e=>j("fontsize-reduce"))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(y),jI]),_:1})]),_:1}),Object(C["createVNode"])(k,{style:{margin:"20px 0"}}),Object(C["createVNode"])(I,{class:"row","button-style":"solid",value:Object(C["unref"])(a).align,onChange:l[6]||(l[6]=e=>j("align",e.target.value))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(E,{value:"left",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(N)]),_:1}),Object(C["createVNode"])(E,{value:"center",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(w)]),_:1}),Object(C["createVNode"])(E,{value:"right",style:{flex:"1"}},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(V)]),_:1})]),_:1},8,["value"]),Object(C["createVNode"])(k,{style:{margin:"20px 0"}}),Object(C["createElementVNode"])("div",fI,[vI,Object(C["createElementVNode"])("div",hI,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t,e=>Object(C["createElementVNode"])("div",{class:"color",key:e,onClick:t=>f(e)},[Object(C["createElementVNode"])("div",{class:"color-block",style:Object(C["normalizeStyle"])({backgroundColor:e})},null,4)],8,yI)),64))])]),Object(C["createElementVNode"])("div",gI,[xI,Object(C["createElementVNode"])("div",kI,[(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(t,e=>Object(C["createElementVNode"])("div",{class:"color",key:e,onClick:t=>v(e)},[Object(C["createElementVNode"])("div",{class:"color-block",style:Object(C["normalizeStyle"])({backgroundColor:e})},null,4)],8,CI)),64))])])])):Object(C["createCommentVNode"])("",!0),"common"===d.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",NI,[Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[7]||(l[7]=e=>O())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(B,{class:"icon"}),EI]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[8]||(l[8]=e=>Object(C["unref"])(p)())},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(S,{class:"icon"}),wI]),_:1})]),_:1}),Object(C["createVNode"])(k,{style:{margin:"20px 0"}}),Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[9]||(l[9]=e=>Object(C["unref"])(u)(Object(C["unref"])(c),Object(C["unref"])(ka).TOP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(L,{class:"icon"}),VI]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[10]||(l[10]=e=>Object(C["unref"])(u)(Object(C["unref"])(c),Object(C["unref"])(ka).BOTTOM))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(_,{class:"icon"}),II]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[11]||(l[11]=e=>Object(C["unref"])(u)(Object(C["unref"])(c),Object(C["unref"])(ka).UP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(T,{class:"icon"}),BI]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[12]||(l[12]=e=>Object(C["unref"])(u)(Object(C["unref"])(c),Object(C["unref"])(ka).DOWN))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(M,{class:"icon"}),SI]),_:1})]),_:1}),Object(C["createVNode"])(k,{style:{margin:"20px 0"}}),Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[13]||(l[13]=e=>Object(C["unref"])(b)(Object(C["unref"])(Ca).LEFT))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(D,{class:"icon"}),LI]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[14]||(l[14]=e=>Object(C["unref"])(b)(Object(C["unref"])(Ca).HORIZONTAL))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(A,{class:"icon"}),_I]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[15]||(l[15]=e=>Object(C["unref"])(b)(Object(C["unref"])(Ca).RIGHT))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(z,{class:"icon"}),TI]),_:1})]),_:1}),Object(C["createVNode"])(x,{class:"row"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[16]||(l[16]=e=>Object(C["unref"])(b)(Object(C["unref"])(Ca).TOP))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(F,{class:"icon"}),MI]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[17]||(l[17]=e=>Object(C["unref"])(b)(Object(C["unref"])(Ca).VERTICAL))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])($,{class:"icon"}),DI]),_:1}),Object(C["createVNode"])(g,{style:{flex:"1"},onClick:l[18]||(l[18]=e=>Object(C["unref"])(b)(Object(C["unref"])(Ca).BOTTOM))},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(R,{class:"icon"}),AI]),_:1})]),_:1})])):Object(C["createCommentVNode"])("",!0)])])}}});l("1c65");const FI=V()(zI,[["__scopeId","data-v-446388c6"]]);var $I=FI;const RI={class:"mobile-editor-header"},PI={class:"history"},HI=Object(C["createTextVNode"])(" 撤销"),UI=Object(C["createTextVNode"])(" 重做"),qI=Object(C["createTextVNode"])(" 退出编辑");var GI=Object(C["defineComponent"])({__name:"Header",props:{changeMode:{type:Function,required:!0}},setup(e){const{canUndo:t,canRedo:l}=Object(N["c"])(Object(ko["f"])()),{redo:o,undo:c}=Object(Ra["a"])();return(n,a)=>{const r=Object(C["resolveComponent"])("IconBack"),i=Object(C["resolveComponent"])("IconNext"),s=Object(C["resolveComponent"])("IconLogout");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",RI,[Object(C["createElementVNode"])("div",PI,[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["history-item",{disable:!Object(C["unref"])(t)}]),onClick:a[0]||(a[0]=Object(C["withModifiers"])(e=>Object(C["unref"])(c)(),["stop"]))},[Object(C["createVNode"])(r),HI],2),Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(["history-item",{disable:!Object(C["unref"])(l)}]),onClick:a[1]||(a[1]=Object(C["withModifiers"])(e=>Object(C["unref"])(o)(),["stop"]))},[Object(C["createVNode"])(i),UI],2)]),Object(C["createElementVNode"])("div",{class:"back",onClick:a[2]||(a[2]=t=>e.changeMode("preview"))},[Object(C["createVNode"])(s),qI])])}}});l("601c");const YI=V()(GI,[["__scopeId","data-v-8639f30e"]]);var XI=YI;const ZI={class:"mobile-editor"};var WI=Object(C["defineComponent"])({__name:"index",props:{changeMode:{type:Function,required:!0}},setup(e){const t=Object(ko["e"])(),l=Object(ko["c"])(),{slideIndex:o,currentSlide:c,viewportRatio:n}=Object(N["c"])(t),{activeElementIdList:a,handleElement:r}=Object(N["c"])(l),i=Object(C["ref"])(),s=Object(C["ref"])([]),d=Object(C["computed"])(()=>c.value.background),{backgroundStyle:u}=Lb(d),b=Object(C["computed"])(()=>{if(!i.value)return 1;const e=i.value.clientWidth,t=i.value.clientHeight,l=t/e;return l>=n.value?(e-20)/Ma:(t-20)/n.value/Ma});Object(C["onMounted"])(()=>{a.value.length&&l.setActiveElementIdList([]),0!==o.value&&t.updateSlideIndex(0)});const m=Object(C["computed"])(()=>({width:Ma*b.value+"px",height:Ma*n.value*b.value+"px"})),p=Object(C["ref"])([]),O=()=>{p.value=c.value?JSON.parse(JSON.stringify(c.value.elements)):[]};Object(C["watchEffect"])(O);const{dragElement:j}=di(p,s,b),{scaleElement:f}=ii(p,s,b),v=(e,t,o=!0)=>{a.value.includes(t.id)||(l.setActiveElementIdList([t.id]),l.setHandleElementId(t.id)),o&&j(e,t)},h=()=>{l.setActiveElementIdList([])};return(t,l)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",ZI,[Object(C["createVNode"])(XI,{changeMode:e.changeMode},null,8,["changeMode"]),Object(C["createElementVNode"])("div",{class:"content",ref_key:"contentRef",ref:i,onTouchstart:l[0]||(l[0]=e=>h())},[Object(C["createElementVNode"])("div",{class:"viewport-wrapper",style:Object(C["normalizeStyle"])(Object(C["unref"])(m))},[Object(C["createElementVNode"])("div",{class:"background",style:Object(C["normalizeStyle"])(Object(C["unref"])(u))},null,4),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(s.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(zb,{key:t,type:e.type,axis:e.axis,length:e.length,canvasScale:Object(C["unref"])(b)},null,8,["type","axis","length","canvasScale"]))),128)),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(p.value,e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:e.id},["line"!==e.type?(Object(C["openBlock"])(),Object(C["createBlock"])(PV,{key:0,elementInfo:e,isSelected:Object(C["unref"])(a).includes(e.id),canvasScale:Object(C["unref"])(b),scaleElement:Object(C["unref"])(f)},null,8,["elementInfo","isSelected","canvasScale","scaleElement"])):Object(C["createCommentVNode"])("",!0)],64))),128)),Object(C["createElementVNode"])("div",{class:"viewport",style:Object(C["normalizeStyle"])({transform:`scale(${Object(C["unref"])(b)})`})},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(p.value,(e,t)=>(Object(C["openBlock"])(),Object(C["createBlock"])(FV,{key:e.id,elementInfo:e,elementIndex:t+1,selectElement:v},null,8,["elementInfo","elementIndex"]))),128))],4)],4)],544),Object(C["createVNode"])(iI),Object(C["unref"])(r)?(Object(C["openBlock"])(),Object(C["createBlock"])($I,{key:0})):Object(C["createCommentVNode"])("",!0)]))}});l("2d86");const JI=V()(WI,[["__scopeId","data-v-8cdcde82"]]);var QI=JI;const KI={class:"header"},eB=Object(C["createTextVNode"])(" 退出播放");var tB=Object(C["defineComponent"])({__name:"MobilePlayer",props:{changeMode:{type:Function,required:!0}},setup(e){const t=Object(ko["e"])(),{slides:l,slideIndex:o,currentSlide:c,viewportRatio:n}=Object(N["c"])(t),a=Object(C["ref"])(!1),r=Object(C["ref"])({width:0,height:0});Object(C["onMounted"])(()=>{0!==o.value&&t.updateSlideIndex(0),r.value={width:document.body.clientHeight,height:document.body.clientWidth}});const i=Object(C["computed"])(()=>{const e=r.value.height/r.value.width;let t=0,l=0;return e>=n.value?(t=r.value.width,l=t*n.value):(l=r.value.height,t=l/n.value),{width:t,height:l}}),s=Object(C["ref"])(null),d=e=>{s.value={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}},u=e=>{if(!s.value)return;const c=Math.abs(s.value.y-e.changedTouches[0].pageY),n=e.changedTouches[0].pageX-s.value.x;Math.abs(n)>c&&Math.abs(n)>50&&(s.value=null,n<0&&o.value>0&&t.updateSlideIndex(o.value-1),n>0&&o.value<l.value.length-1&&t.updateSlideIndex(o.value+1))};return(t,n)=>{const s=Object(C["resolveComponent"])("IconLogout");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"mobile-player",style:Object(C["normalizeStyle"])({width:r.value.width+"px",height:r.value.height+"px",transform:`rotate(90deg) translateY(-${r.value.height}px)`})},[Object(C["createElementVNode"])("div",{class:"screen-slide-list",onClick:n[0]||(n[0]=e=>a.value=!a.value),onTouchstart:n[1]||(n[1]=e=>d(e)),onTouchend:n[2]||(n[2]=e=>u(e))},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(l),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:Object(C["normalizeClass"])(["slide-item","turning-mode-"+(e.turningMode||"slideY"),{current:t===Object(C["unref"])(o),before:t<Object(C["unref"])(o),after:t>Object(C["unref"])(o),hide:(t===Object(C["unref"])(o)-1||t===Object(C["unref"])(o)+1)&&e.turningMode!==Object(C["unref"])(c).turningMode}]),key:e.id},[Math.abs(Object(C["unref"])(o)-t)<2?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:0,class:"slide-content",style:Object(C["normalizeStyle"])({width:Object(C["unref"])(i).width+"px",height:Object(C["unref"])(i).height+"px"})},[Object(C["createVNode"])(tO,{slide:e,size:Object(C["unref"])(i).width},null,8,["slide","size"])],4)):Object(C["createCommentVNode"])("",!0)],2))),128))],32),a.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],{key:0},[Object(C["createElementVNode"])("div",KI,[Object(C["createElementVNode"])("div",{class:"back",onClick:n[3]||(n[3]=t=>e.changeMode("preview"))},[Object(C["createVNode"])(s),eB])]),Object(C["createVNode"])(XV,{class:"thumbnails"})],64)):Object(C["createCommentVNode"])("",!0)],4)}}});l("4f8b");const lB=V()(tB,[["__scopeId","data-v-5293de3b"]]);var oB=lB;const cB={class:"thumbnail-list"},nB={class:"menu"},aB=Object(C["createTextVNode"])(" 编辑"),rB=Object(C["createTextVNode"])(" 播放");var iB=Object(C["defineComponent"])({__name:"MobilePreview",props:{changeMode:{type:Function,required:!0}},setup(e){const{slides:t}=Object(N["c"])(Object(ko["e"])()),{slidesLoadLimit:l}=mf(),o=Object(C["ref"])(),c=Object(C["ref"])(0);return Object(C["onMounted"])(()=>{o.value&&(c.value=o.value.clientWidth)}),(n,a)=>{const r=Object(C["resolveComponent"])("IconEdit"),i=Object(C["resolveComponent"])("Divider"),s=Object(C["resolveComponent"])("IconFullScreenPlay");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"mobile-preview",ref_key:"mobileRef",ref:o},[Object(C["createElementVNode"])("div",cB,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(t),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{class:"thumbnail-item",key:e.id},[Object(C["createVNode"])(tO,{slide:e,size:c.value-20,visible:t<Object(C["unref"])(l)},null,8,["slide","size","visible"])]))),128))]),Object(C["createElementVNode"])("div",nB,[Object(C["createElementVNode"])("div",{class:"menu-item",onClick:a[0]||(a[0]=t=>e.changeMode("editor"))},[Object(C["createVNode"])(r,{class:"icon"}),aB]),Object(C["createVNode"])(i,{type:"vertical",style:{height:"30px"}}),Object(C["createElementVNode"])("div",{class:"menu-item",onClick:a[1]||(a[1]=t=>e.changeMode("player"))},[Object(C["createVNode"])(s,{class:"icon"}),rB])])],512)}}});l("9670");const sB=V()(iB,[["__scopeId","data-v-6414f8a8"]]);var dB=sB;const uB={class:"mobile"};var bB=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(C["ref"])("preview"),l=e=>t.value=e,o=Object(C["computed"])(()=>{const e={editor:QI,player:oB,preview:dB};return e[t.value]||null});return(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",uB,[(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(Object(C["unref"])(o)),{changeMode:l}))]))}});l("be01");const mB=V()(bB,[["__scopeId","data-v-1fb24d48"]]);var pB=mB,OB=Object(C["defineComponent"])({__name:"PptistEditor",setup(e){const t=xa(),l=Object(ko["c"])(),o=Object(ko["f"])(),{databaseId:c}=Object(N["c"])(l),{screening:n}=Object(N["c"])(Object(ko["d"])());return window.onbeforeunload=()=>!1,Object(C["onMounted"])(()=>{o.initSnapshotDatabase(),l.setAvailableFonts()}),window.addEventListener("unload",()=>{const e=localStorage.getItem(ya["a"]),t=e?JSON.parse(e):[];t.push(c.value);const l=JSON.stringify(t);localStorage.setItem(ya["a"],l)}),(e,l)=>Object(C["unref"])(n)?(Object(C["openBlock"])(),Object(C["createBlock"])(DV,{key:0})):Object(C["unref"])(t)?(Object(C["openBlock"])(),Object(C["createBlock"])(xw,{key:1})):(Object(C["openBlock"])(),Object(C["createBlock"])(pB,{key:2}))}});l("aceb");const jB=OB;var fB=jB;const vB=e=>(Object(C["pushScopeId"])("data-v-4691cd0c"),e=e(),Object(C["popScopeId"])(),e),hB={class:"join-invite-page"},yB={key:0,class:"invite-card"},gB={class:"content"},xB={class:"bold"},kB=vB(()=>Object(C["createElementVNode"])("span",null," 的 ",-1)),CB={class:"bold"},NB=vB(()=>Object(C["createElementVNode"])("div",null," 正在邀请你加入团队 ",-1)),EB={key:0,class:"tips"},wB=Object(C["createTextVNode"])("加入团队");var VB=Object(C["defineComponent"])({__name:"JoinTeam",setup(e){const t=Object(ho["c"])(),{inviteId:l}=t.params,o=Object(C["ref"])(),c=Object(C["ref"])(),n=Object(C["ref"])(),{loginState:a}=Object(N["c"])(Object(ko["a"])());async function r(){const{team:e,invite:t}=await Ao(l);o.value=e,c.value=t;const a=await Object(Nn["a"])(null===t||void 0===t?void 0:t.inviterUserId);n.value=a}function i(){m["a"].confirm({title:"未登录",content:"加入团队前，请先登录账号",okText:"去登录",cancelText:"取消",centered:!0,onOk:()=>{localStorage.setItem("inviteId",l),PS.push({name:"login"})}})}async function s(){if(!a.value&&!localStorage.getItem("token"))return void i();const e=await $o(l);var t;e&&(Ut["a"].success("你已成功加入 "+(null===(t=o.value)||void 0===t?void 0:t.name)),setTimeout(()=>{var e;PS.push({path:"/team/"+(null===(e=o.value)||void 0===e?void 0:e.id)})},1e3))}return Object(C["onMounted"])(()=>{r()}),(e,t)=>{var l,a,r;const i=Object(C["resolveComponent"])("Avatar"),d=Object(C["resolveComponent"])("Button");return Object(C["openBlock"])(),Object(C["createElementBlock"])("div",hB,[o.value&&c.value&&n.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",yB,[Object(C["createVNode"])(i,{size:100,src:null===(l=o.value)||void 0===l?void 0:l.logo,draggable:!1},null,8,["src"]),Object(C["createElementVNode"])("div",gB,[Object(C["createElementVNode"])("div",null,[Object(C["createElementVNode"])("span",xB,Object(C["toDisplayString"])(null===(a=o.value)||void 0===a?void 0:a.name),1),kB,Object(C["createElementVNode"])("span",CB,Object(C["toDisplayString"])(Object(C["unref"])(xo)(n.value)),1)]),NB,null!==(r=c.value)&&void 0!==r&&r.outdateTimestamp?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",EB,"这个邀请链接将在 "+Object(C["toDisplayString"])(Math.ceil((c.value.outdateTimestamp-Date.now())/864e5))+" 天后过期",1)):Object(C["createCommentVNode"])("",!0)]),Object(C["createVNode"])(d,{type:"primary",class:"primary-btn-large",onClick:t[0]||(t[0]=e=>s())},{default:Object(C["withCtx"])(()=>[wB]),_:1})])):Object(C["createCommentVNode"])("",!0)])}}});l("3564");const IB=V()(VB,[["__scopeId","data-v-4691cd0c"]]);var BB=IB,SB=l("25c8");const{get:LB}=Object(Io["b"])();function _B(){return LB("/api/medias/token",{})}var TB=()=>{const e=async()=>{const e=await _B();return e};return{getToken:e}},MB=l("d905");const DB={key:0,class:"preview"},AB=["src"],zB={key:1,class:"preview"};var FB=Object(C["defineComponent"])({__name:"UploadImage",props:{initFileList:{type:Array,require:!1}},emits:["change"],setup(e,{emit:t}){const l=e;Object(C["onMounted"])(()=>{var e;null!==(e=l.initFileList)&&void 0!==e&&e.length&&(c.value=l.initFileList.map(e=>({fileName:e,uid:e,name:e,url:e})))});const{getToken:o}=TB(),c=Object(C["ref"])([]);async function n(e){const{file:l,onSuccess:n,onProgress:a,onError:r}=e,i="/shot/"+l.name,s=await o(),d=MB["a"](l,i,s);d.subscribe({next:e=>{const{percent:t}=(null===e||void 0===e?void 0:e.total)||{};null===a||void 0===a||a({percent:t})},error:e=>{null===r||void 0===r||r(e)},complete:e=>{const{hash:o,key:a}=e,r=l.name,i="https://static.aside.fun/"+a;null===n||void 0===n||n(i),c.value=[{fileName:r,uid:o,name:r,url:i}],t("change",i)}})}function a(e){"uploading"!==e.file.status&&(c.value=e.fileList)}return(e,t)=>{const l=Object(C["resolveComponent"])("Upload");return Object(C["openBlock"])(),Object(C["createBlock"])(l,{onChange:a,"custom-request":n,"file-list":c.value,"max-count":1},{itemRender:Object(C["withCtx"])(()=>[]),default:Object(C["withCtx"])(()=>{var e;return[c.value.length?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",DB,[Object(C["createElementVNode"])("img",{src:null===(e=c.value[0])||void 0===e?void 0:e.url,draggable:"false"},null,8,AB)])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",zB,[Object(C["createVNode"])(Object(C["unref"])(SB["a"]))]))]}),_:1},8,["file-list"])}}});l("c743");const $B=V()(FB,[["__scopeId","data-v-13982f72"]]);var RB=$B;const PB={class:"wrapper"},HB={class:"left"},UB=Object(C["createElementVNode"])("div",{class:"title"},"创建新团队",-1),qB=Object(C["createElementVNode"])("div",{class:"subtitle",style:{marginBottom:"36px"}},"与团队成员一同协作",-1),GB={class:"form"},YB={class:"item"},XB=Object(C["createElementVNode"])("div",{class:"title"},"团队名称",-1),ZB={class:"box"},WB={class:"item"},JB=Object(C["createElementVNode"])("div",{class:"title"},"团队描述（可选）",-1),QB={class:"box"},KB={class:"item"},eS=Object(C["createElementVNode"])("div",{class:"title"},"LOGO（可选）",-1),tS={class:"box"},lS={class:"buttons"},oS=Object(C["createTextVNode"])("创建团队"),cS=Object(C["createTextVNode"])("取消");var nS=Object(C["defineComponent"])({__name:"CreateTeamModal",props:{visible:{type:Boolean,require:!0}},emits:["close","ok"],setup(e,{emit:t}){const l=e,o=Object(C["ref"])(""),c=Object(C["ref"])(""),n=Object(C["ref"])("");function a(){o.value?t("ok",{name:o.value,description:c.value,logoUrl:n.value}):Ut["a"].warning("请输入团队名称")}return Object(C["watch"])([()=>l.visible],()=>{o.value="",c.value="",n.value=""}),(e,r)=>{const i=Object(C["resolveComponent"])("Input"),s=Object(C["resolveComponent"])("TextArea"),d=Object(C["resolveComponent"])("Button"),u=Object(C["resolveComponent"])("Modal");return Object(C["openBlock"])(),Object(C["createBlock"])(u,{visible:l.visible,centered:"",footer:null,width:550,class:"create-team-modal",closable:!1},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",PB,[Object(C["createElementVNode"])("div",HB,[UB,qB,Object(C["createElementVNode"])("div",GB,[Object(C["createElementVNode"])("div",YB,[XB,Object(C["createElementVNode"])("div",ZB,[Object(C["createVNode"])(i,{class:"input",placeholder:"请输入团队名称",value:o.value,"onUpdate:value":r[0]||(r[0]=e=>o.value=e)},null,8,["value"])])]),Object(C["createElementVNode"])("div",WB,[JB,Object(C["createElementVNode"])("div",QB,[Object(C["createVNode"])(s,{class:"input textarea",placeholder:"请输入团队描述",value:c.value,"onUpdate:value":r[1]||(r[1]=e=>c.value=e)},null,8,["value"])])]),Object(C["createElementVNode"])("div",KB,[eS,Object(C["createElementVNode"])("div",tS,[Object(C["createVNode"])(RB,{onChange:r[2]||(r[2]=e=>n.value=e),"init-file-list":n.value?[n.value]:void 0},null,8,["init-file-list"])])])]),Object(C["createElementVNode"])("div",lS,[Object(C["createVNode"])(d,{type:"primary",class:"primary-btn-large",onClick:r[3]||(r[3]=e=>a())},{default:Object(C["withCtx"])(()=>[oS]),_:1}),Object(C["createVNode"])(d,{class:"primary-btn-large",onClick:r[4]||(r[4]=e=>t("close"))},{default:Object(C["withCtx"])(()=>[cS]),_:1})])])])]),_:1},8,["visible"])}}});l("9359");const aS=nS;var rS=aS;const iS={class:"sidebar"},sS={key:0,class:"menus"},dS=["onClick"],uS={class:"icon"},bS={key:0,class:"divider"},mS={key:1,class:"menu"},pS=Object(C["createElementVNode"])("div",{class:"avatar"},null,-1),OS=Object(C["createElementVNode"])("br",null,null,-1),jS=Object(C["createElementVNode"])("div",{class:"avatar"},null,-1),fS=Object(C["createElementVNode"])("br",null,null,-1),vS=Object(C["createElementVNode"])("div",{class:"avatar"},null,-1);var hS=Object(C["defineComponent"])({__name:"index",setup(e){const t=Object(C["ref"])(!1),{sidebarKey:l,menuItems:o,activeMenuItem:c,activeHeaderBarMenuKey:n}=Object(N["c"])(Object(ko["a"])()),a=Object(C["ref"])([]),r=Object(C["ref"])(!0);function i(){o.value={teamMenuItems:a.value,tools:[{title:"新建团队",icon:SB["a"],onClick:()=>t.value=!0,key:"new",type:"button"}]},l.value=a.value[0].key,c.value=a.value[0],PS.replace({path:"/team/"+a.value[0].key})}function s(e){const t=Object(Ro["a"])(e,o.value)||null;"team"===(null===t||void 0===t?void 0:t.type)&&PS.push({path:`/${n.value}/${t.key}`}),"menu"===(null===t||void 0===t?void 0:t.type)&&PS.push({path:"/home"}),l.value=e,c.value=t}function d(e){return e===l.value?"menu-item active":"menu-item"}async function u(e){const l=await _o(e);l&&(Ut["a"].success("创建成功"),t.value=!1,b())}async function b(){r.value=!0;const e=await To();a.value=e.map(e=>({title:e.name,imageUrl:e.logo,key:e.id,type:"team"})),i(),r.value=!1}async function m(){await b()}return Object(C["onMounted"])(()=>{m(),l.value="home"}),(e,l)=>{const c=Object(C["resolveComponent"])("Avatar"),n=Object(C["resolveComponent"])("Tooltip"),a=Object(C["resolveComponent"])("Skeleton");return Object(C["openBlock"])(),Object(C["createElementBlock"])(C["Fragment"],null,[Object(C["createElementVNode"])("div",iS,[r.value?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",mS,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Array(3).fill(null),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:t,class:"fake-data"},[pS,Object(C["createVNode"])(a,{width:20*t+60+"px",height:"20px"},null,8,["width"])]))),128)),OS,(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Array(1).fill(null),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:t,class:"fake-data"},[Object(C["createVNode"])(a,{class:"avatar",circle:""}),Object(C["createVNode"])(a,{width:"140px",height:"20px"})]))),128)),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Array(2).fill(null),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:t,class:"fake-data"},[jS,Object(C["createVNode"])(a,{width:"140px",height:"20px"})]))),128)),fS,(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Array(1).fill(null),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:t,class:"fake-data"},[Object(C["createVNode"])(a,{class:"avatar",circle:""}),Object(C["createVNode"])(a,{width:"140px",height:"20px"})]))),128)),(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Array(2).fill(null),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:t,class:"fake-data"},[vS,Object(C["createVNode"])(a,{width:"140px",height:"20px"})]))),128))])):(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",sS,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(o),(e,t)=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",{key:t,class:"menu-container"},[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(e,e=>(Object(C["openBlock"])(),Object(C["createBlock"])(n,{key:e.key,title:e.title,placement:"right"},{default:Object(C["withCtx"])(()=>[Object(C["createElementVNode"])("div",{class:Object(C["normalizeClass"])(d(e.key)),onClick:t=>e.onClick?e.onClick():s(e.key)},[Object(C["createElementVNode"])("div",uS,[e.icon?(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(e.icon),{key:0})):Object(C["createCommentVNode"])("",!0),e.imageUrl?(Object(C["openBlock"])(),Object(C["createBlock"])(c,{key:1,size:16,src:e.imageUrl,shape:"circle"},null,8,["src"])):Object(C["createCommentVNode"])("",!0)]),Object(C["createElementVNode"])("div",{class:"title",style:Object(C["normalizeStyle"])(e.parentNode?{fontWeight:400}:{})},Object(C["toDisplayString"])(e.title),5)],10,dS)]),_:2},1032,["title"]))),128)),"tools"!==t&&e.length?(Object(C["openBlock"])(),Object(C["createElementBlock"])("div",bS)):Object(C["createCommentVNode"])("",!0)]))),128))]))]),Object(C["createVNode"])(rS,{visible:t.value,onClose:l[0]||(l[0]=e=>t.value=!1),onOk:u},null,8,["visible"])],64)}}});l("15689");const yS=hS;var gS=yS;const xS={class:"header-bar"},kS=Object(C["createElementVNode"])("div",{class:"left-side"},[Object(C["createElementVNode"])("div",{class:"logo-bar"},[Object(C["createElementVNode"])("img",{class:"logo",src:"https://static.aside.fun/upload/shot-logo.svg",draggable:!1})])],-1),CS={class:"right-side"},NS={class:"headerbar-menu-container"},ES=["onClick"],wS={class:"icon"},VS={style:{flexShrink:0}},IS={class:"userinfo"},BS=Object(C["createTextVNode"])("设置"),SS=Object(C["createTextVNode"])("退出登录");var LS=Object(C["defineComponent"])({__name:"DashboardHeaderBar",emits:["search"],setup(e,{emit:t}){const l=Object(ho["c"])(),o=Object(C["ref"])(""),c=Object(ko["a"])(),{user:n,headerBarMenuItems:a,activeHeaderBarMenuKey:r}=Object(N["c"])(c);function i(e){return e!==r.value?"headerbar-menu-item":"headerbar-menu-item active"}function s(e){const{teamId:t}=l.params;PS.push({path:`/${e}/${t}`})}function d(){go.logoutWithRedirect({redirectUri:"https://aside.fun/login"}).then(()=>{localStorage.clear()})}return(e,l)=>{const c=Object(C["resolveComponent"])("Input"),r=Object(C["resolveComponent"])("Avatar"),u=Object(C["resolveComponent"])("MenuItem"),b=Object(C["resolveComponent"])("MenuDivider"),m=Object(C["resolveComponent"])("Menu"),p=Object(C["resolveComponent"])("Dropdown");return Object(C["openBlock"])(),Object(C["createElementBlock"])("header",xS,[kS,Object(C["createElementVNode"])("div",CS,[Object(C["createElementVNode"])("div",NS,[(Object(C["openBlock"])(!0),Object(C["createElementBlock"])(C["Fragment"],null,Object(C["renderList"])(Object(C["unref"])(a),e=>(Object(C["openBlock"])(),Object(C["createElementBlock"])("a",{class:Object(C["normalizeClass"])(i(e.key)),key:e.key,onClick:t=>s(e.key)},[Object(C["createElementVNode"])("span",wS,[e.icon?(Object(C["openBlock"])(),Object(C["createBlock"])(Object(C["resolveDynamicComponent"])(e.icon),{key:0})):Object(C["createCommentVNode"])("",!0)]),Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])(e.name),1)],10,ES))),128))]),Object(C["createVNode"])(c,{placeholder:"搜索功能或者幻灯片内容 (⌘ + K)",class:"cover-radius input search-input",value:o.value,"onUpdate:value":l[0]||(l[0]=e=>o.value=e),onChange:l[1]||(l[1]=e=>t("search",o.value))},{prefix:Object(C["withCtx"])(()=>[Object(C["createVNode"])(Object(C["unref"])(kn["a"]))]),_:1},8,["value"]),Object(C["createElementVNode"])("div",VS,[Object(C["createVNode"])(p,null,{overlay:Object(C["withCtx"])(()=>[Object(C["createVNode"])(m,{class:"user-dropdown"},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(u,{class:"disabled-menu"},{default:Object(C["withCtx"])(()=>{var e,t,l;return[Object(C["createElementVNode"])("div",IS,[Object(C["createVNode"])(r,{size:36,src:null===(e=Object(C["unref"])(n))||void 0===e?void 0:e.picture},null,8,["src"]),Object(C["createElementVNode"])("span",null,Object(C["toDisplayString"])((null===(t=Object(C["unref"])(n))||void 0===t?void 0:t.name)||(null===(l=Object(C["unref"])(n))||void 0===l?void 0:l.nickname)||"匿名用户"),1)])]}),_:1}),Object(C["createVNode"])(b),Object(C["createVNode"])(u,null,{default:Object(C["withCtx"])(()=>[BS]),_:1}),Object(C["createVNode"])(u,{onClick:l[2]||(l[2]=e=>d())},{default:Object(C["withCtx"])(()=>[SS]),_:1})]),_:1})]),default:Object(C["withCtx"])(()=>{var e;return[Object(C["createVNode"])(r,{size:36,src:null===(e=Object(C["unref"])(n))||void 0===e?void 0:e.picture},null,8,["src"])]}),_:1})])])])}}});l("7f1a");const _S=LS;var TS=_S;const MS={class:"dashboard"},DS={class:"right-side"};var AS=Object(C["defineComponent"])({__name:"index",setup(e){return Object(C["onBeforeMount"])(()=>{var e;null!==(e=window.history.state)&&void 0!==e&&e.token&&localStorage.setItem("token",window.history.state.token)}),(e,t)=>{const l=Object(C["resolveComponent"])("router-view"),o=Object(C["resolveComponent"])("SkeletonTheme");return Object(C["openBlock"])(),Object(C["createBlock"])(o,{color:"#eef5ee",highlight:"#f7fcf7",duration:2},{default:Object(C["withCtx"])(()=>[Object(C["createVNode"])(TS),Object(C["createElementVNode"])("div",MS,[Object(C["createVNode"])(gS),Object(C["createElementVNode"])("div",DS,[Object(C["createVNode"])(l)])])]),_:1})}}});l("2f2f");const zS=V()(AS,[["__scopeId","data-v-698dbf04"]]);var FS=zS;const $S=Object(ho["a"])({history:Object(ho["b"])("/"),routes:[{name:"home",component:FS,path:"/",meta:{title:""},children:[{component:tn,path:"home"},{component:Hc,path:"team/:teamId"},{component:ja,path:"member/:teamId"},...["data","recycle","setting","group","user"].map(e=>({component:rn,path:e+"/:teamId"}))]},{component:ha,path:"/createDocs",name:"createDocs",meta:{title:"新建文档"}},{component:fB,path:"/editor/:id",meta:{title:"文档"}},{name:"login",path:"/login",component:Vo,meta:{title:"登录中..."}},{name:"join-team",path:"/join-team/:inviteId",component:BB,meta:{title:"加入团队"}}]}),RS=["login","join-team"];$S.beforeEach((e,t,l)=>{const{user:o}=Object(N["c"])(Object(ko["a"])());var c;if(RS.includes(null===e||void 0===e?void 0:e.name))return null!==e&&void 0!==e&&null!==(c=e.meta)&&void 0!==c&&c.title&&Co(e.meta.title),void l();go.getUserInfo().then(t=>{var c;t?(o.value=t,null!==e&&void 0!==e&&null!==(c=e.meta)&&void 0!==c&&c.title&&Co(e.meta.title),l()):l({name:"login"})}).catch(e=>{l({name:"login"})})});var PS=$S;const HS=Object(C["createApp"])(S);HS.component("InputNumber",k["a"]),HS.component("Divider",x["a"]),HS.component("Button",g["a"]),HS.component("ButtonGroup",g["a"].Group),HS.component("Tooltip",y["a"]),HS.component("Popover",h["a"]),HS.component("Slider",v["a"]),HS.component("Select",f["a"]),HS.component("SelectOption",f["a"].Option),HS.component("SelectOptGroup",f["a"].OptGroup),HS.component("Switch",j["a"]),HS.component("Radio",O["a"]),HS.component("RadioGroup",O["a"].Group),HS.component("RadioButton",O["a"].Button),HS.component("Input",p["a"]),HS.component("InputGroup",p["a"].Group),HS.component("TextArea",p["a"].TextArea),HS.component("Modal",m["a"]),HS.component("Dropdown",b["a"]),HS.component("Menu",u["a"]),HS.component("MenuItem",u["a"].Item),HS.component("MenuItemGroup",u["a"].ItemGroup),HS.component("Checkbox",d["a"]),HS.component("Drawer",s["a"]),HS.component("Spin",i["a"]),HS.component("SubMenu",u["a"].SubMenu),HS.component("Avatar",r["a"]),HS.component("ConfigProvider",a["a"]),HS.component("MenuDivider",u["a"].Divider),HS.component("Upload",n["a"]),HS.component("Tabs",c["a"]),HS.component("TabPane",c["a"].TabPane),HS.component("Empty",o["a"]),HS.component("Skeleton",vo["a"]),HS.component("SkeletonTheme",vo["b"]),HS.use(St),HS.use(Jl),HS.use(fo),HS.use(PS),HS.use(Object(N["a"])()),HS.mount("#app")},cd7e:function(e,t,l){"use strict";l("3083")},cd84:function(e,t,l){},d074:function(e,t,l){"use strict";l("33a1")},d12f:function(e,t,l){"use strict";l("6b66")},d2ee:function(e,t,l){"use strict";l("7857")},d2f3:function(e,t,l){"use strict";l("25b1")},d56b:function(e,t,l){},d806:function(e,t,l){"use strict";l("ac7f")},d928:function(e,t,l){},d970:function(e,t,l){"use strict";l("d928")},d9c9:function(e,t,l){},dbf4:function(e,t,l){"use strict";l("1a38")},dcd4:function(e,t,l){"use strict";l("fa8b")},dd03:function(e,t,l){"use strict";l("503e")},dd28:function(e,t,l){"use strict";l("0017")},dd7b:function(e,t,l){"use strict";l("39e2")},dd8f:function(e,t,l){},de23:function(e,t,l){"use strict";l("e84b")},de97:function(e,t,l){},deb6:function(e,t,l){"use strict";l.d(t,"a",(function(){return o}));const o="PPTIST_DISCARDED_DB"},df90:function(e,t,l){},e227:function(e,t,l){},e25c:function(e,t,l){"use strict";l("5b9c")},e26e:function(e,t,l){},e2a7:function(e,t,l){"use strict";l("e227")},e303:function(e,t,l){"use strict";l("d9c9")},e4e9:function(e,t,l){},e62b:function(e,t,l){"use strict";l("10c4")},e81b:function(e,t,l){},e83e:function(e,t,l){"use strict";l("9845")},e84b:function(e,t,l){},e9df:function(e,t,l){"use strict";l("cd49")},eba1:function(e,t,l){"use strict";l("887c")},ebd4:function(e,t,l){},ec27:function(e,t,l){"use strict";l("76e0")},ecf8:function(e,t,l){"use strict";l("3a8e")},ef22:function(e,t,l){},ef5a:function(e,t,l){},f005:function(e,t,l){},f075:function(e,t,l){},f40d:function(e,t,l){"use strict";l("2338")},f5f4:function(e,t,l){},f630:function(e,t,l){"use strict";l("a37a")},fa3d:function(e,t,l){"use strict";l("555f")},fa8b:function(e,t,l){},fa96:function(e,t,l){},fac9:function(e,t,l){"use strict";l("047a")},fbfe:function(e,t,l){"use strict";l("0045")},fd96:function(e,t,l){},fef7:function(e,t,l){"use strict";l("c145")},fef8:function(e,t,l){"use strict";l("9fce")}});
//# sourceMappingURL=app.e2f4ad06.js.map