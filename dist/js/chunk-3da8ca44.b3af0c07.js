(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3da8ca44"],{"4ab6":function(t,e,n){},"56d8":function(t,e,n){"use strict";n("4ab6")},ac2a:function(t,e,n){"use strict";n.r(e);n("77ab");var a=n("3eb2"),o=n("0613"),c=n("518b"),i=n("4365"),s=n("4f07");const d={class:"login-page"};var l=Object(a["defineComponent"])({__name:"Login",setup(t){const{user:e,loginState:n}=Object(c["c"])(Object(o["a"])()),l=()=>{i["b"].loginWithRedirect()};function r(){const t=localStorage.getItem("inviteId");if(t)return localStorage.removeItem("inviteId"),void s["a"].push({path:"/join-team/"+t});s["a"].push({name:"home"})}const u=async()=>{try{const t=await i["b"].getLoginState();if(n.value=t,null===t||void 0===t||!t.accessToken)throw new Error;v(),r()}catch{l()}};async function b(){if(!i["b"].isRedirectCallback())return void u();const t=await i["b"].handleRedirectCallback();n.value=t;let e="";null!==t&&void 0!==t&&t.idToken&&(e=t.idToken,localStorage.setItem("token",e)),await v(),r()}async function v(){try{const t=await i["b"].getUserInfo();t&&(e.value=t)}catch{l()}}return Object(a["onMounted"])(()=>{b()}),(t,e)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",d," 跳转中，请稍后... "))}}),r=(n("56d8"),n("6dd4")),u=n.n(r);const b=u()(l,[["__scopeId","data-v-b9d69db2"]]);e["default"]=b}}]);
//# sourceMappingURL=chunk-3da8ca44.b3af0c07.js.map