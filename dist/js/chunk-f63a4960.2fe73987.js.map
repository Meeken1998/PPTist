{"version":3,"sources":["webpack:///./src/views/components/dashboard/Sidebar/index.vue?5eea","webpack:///./node_modules/.pnpm/querystring-es3@0.2.1/node_modules/querystring-es3/encode.js","webpack:///./src/apis/team.ts","webpack:///./src/views/Dashboard/index.vue?5355","webpack:///./node_modules/.pnpm/querystring-es3@0.2.1/node_modules/querystring-es3/decode.js","webpack:///./src/views/components/dashboard/DashboardHeaderBar.vue?ff75","webpack:///./src/views/components/dashboard/modal/CreateTeamModal.vue?0dbc","webpack:///./node_modules/.pnpm/querystring-es3@0.2.1/node_modules/querystring-es3/index.js","webpack:///./src/components/UploadImage.vue?96f4","webpack:///./src/apis/upload.ts","webpack:///./src/hooks/useQiniuUpload.ts","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/errors/index.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/utils/pool.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/utils/observable.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/utils/base64.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/config/region.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/utils/helper.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/api/index.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/upload/base.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/upload/resume.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/utils/crc32.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/upload/direct.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/logger/report-v3.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/logger/index.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/upload/hosts.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/upload/index.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/utils/config.js","webpack:///./node_modules/.pnpm/qiniu-js@3.4.1/node_modules/qiniu-js/esm/utils/compress.js","webpack:///./src/components/UploadImage.vue","webpack:///./src/components/UploadImage.vue?1842","webpack:///./src/views/components/dashboard/modal/CreateTeamModal.vue","webpack:///./src/views/components/dashboard/modal/CreateTeamModal.vue?f94c","webpack:///./src/views/components/dashboard/Sidebar/index.vue","webpack:///./src/views/components/dashboard/Sidebar/index.vue?3c87","webpack:///./src/views/components/dashboard/DashboardHeaderBar.vue","webpack:///./src/views/components/dashboard/DashboardHeaderBar.vue?1c23","webpack:///./src/views/Dashboard/index.vue","webpack:///./src/views/Dashboard/index.vue?cf98","webpack:///./node_modules/.pnpm/spark-md5@3.0.2/node_modules/spark-md5/spark-md5.js"],"names":["stringifyPrimitive","v","isFinite","module","exports","obj","sep","eq","name","undefined","map","objectKeys","k","ks","encodeURIComponent","isArray","join","Array","xs","Object","prototype","toString","call","f","res","i","length","push","keys","key","hasOwnProperty","post","get","useRequest","TeamInviteType","createTeam","payload","getTeams","getTeamDetail","teamId","getTeamDocs","getTeamInviteInfo","inviteId","getTeamMembers","createTeamInviteLink","inviterUserId","targetUserId","acceptTeamInvite","prop","qs","options","regexp","split","maxKeys","len","kstr","vstr","x","replace","idx","indexOf","substr","decodeURIComponent","decode","parse","encode","stringify","getQiniuUploadToken","QiniuErrorName","getToken","async","token","__extends","extendStatics","d","b","setPrototypeOf","__proto__","p","__","this","constructor","create","QiniuError","message","stack","Error","QiniuRequestError","_super","code","reqId","data","_this","RequestError","isRequestError","QiniuNetworkError","Pool","runTask","limit","aborted","queue","processing","enqueue","task","Promise","resolve","reject","check","run","item","filter","then","err","processingNum","availableNum","slice","forEach","abort","__assign","assign","t","s","n","arguments","apply","Subscription","closed","unsubscribe","_unsubscribe","add","teardown","Subscriber","observerOrNext","error","complete","isStopped","destination","next","value","result","Observable","_subscribe","subscribe","sink","utf8Encode","argString","start","end","string","utftext","stringl","c1","charCodeAt","enc","String","fromCharCode","RangeError","c2","utf8Decode","strData","tmpArr","seqlen","ai","base64Encode","o1","o2","o3","h1","h2","h3","h4","bits","b64","ac","tmp_arr","charAt","base64Decode","dec","urlSafeBase64Encode","urlSafeBase64Decode","__awaiter","thisArg","_arguments","P","generator","adopt","fulfilled","step","e","rejected","done","__generator","body","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","op","TypeError","pop","MB","Math","pow","getChunks","file","blockSize","chunkByteSize","size","chunks","count","ceil","chunk","isMetaDataValid","params","every","isCustomVarsValid","sum","list","reduce","loaded","setLocalFileInfo","localKey","info","logger","localStorage","setItem","JSON","warn","WriteCacheFailed","createLocalKey","removeLocalFileInfo","removeItem","RemoveCacheFailed","getLocalFileInfo","localInfoString","getItem","_a","ReadCacheFailed","localInfo","_b","InvalidCacheData","getAuthHeaders","auth","Authorization","getHeadersForChunkUpload","header","getHeadersForMkFile","createXHR","window","XMLHttpRequest","ActiveXObject","NotAvailableXMLHttpRequest","computeMd5","buffer","spark","readAsArrayBuffer","ArrayBuffer","append","reader","FileReader","onload","evt","target","InvalidProgressEventTarget","onerror","FileReaderReadFailed","request","url","xhr","open","method","onCreate","headers","headers_1","setRequestHeader","upload","addEventListener","lengthComputable","onProgress","total","onreadystatechange","responseText","readyState","getResponseHeader","status","send","getPortFromUrl","match","groups","type","getDomainFromUrl","getPutPolicy","InvalidToken","segments","assessKey","putPolicy","scope","bucketName","createObjectURL","URL","webkitURL","mozURL","region","z0","z1","z2","na0","as0","cnEast2","regionUphostMap","srcUphost","cdnUphost","getUpHosts","accessKey","protocol","ak","bucket","getBaseUrl","uploadInfo","id","initUploadParts","uploadUrl","uploadChunk","index","md5","uploadComplete","direct","__read","o","m","r","ar","__spread","concat","DEFAULT_CHUNK_SIZE","FREEZE_CODE_LIST","RETRY_CODE_LIST","GB","Base","handlers","hostPool","retryCount","xhrList","config","putExtra","fname","onData","onError","onComplete","checkAndUpdateUploadHost","newHost","getUp","upprotocol","NotAvailableUploadHost","uploadHost","host","checkAndUnfreezeHost","isFrozen","unfreeze","checkAndFreezeHost","includes","freeze","handleError","putFile","err_1","notReachRetryCount","needRetry","InvalidFile","customVars","InvalidCustomVars","metadata","InvalidMetadata","uploadAt","Date","getTime","sendLog","clear","stop","addXhr","report","remoteIp","upType","time","floor","port","getUrl","bytesSent","progress","duration","getProgressInfoItem","fromCache","percent","isPositiveInteger","re","test","Resume","pool","mkFileResponse","uploadChunks","error_1","chunkSize","InvalidChunkSize","initBeforeUploadChunks","chunkInfo","concurrentRequestLimit","getLocalKey","all","mkFileReq","cachedInfo","shouldCheckMD5","reuseSaved","requestOptions","response","cachedUploadedList","checkByMD5","usedCacheList","updateChunkProgress","uploadedList","updateLocalCache","checkByServer","getUploadInfo","etag","parts","partNumber","mimeType","updateMkFileProgress","infoMessage","uploadId","mkFileProgress","notifyResumeProgress","CRC32","crc","table","makeTable","j","offset","byteLength","compute","readAsUint8Array","arrayBuffer","Uint8Array","bind","chuck","Direct","formData","crcSign","customVars_1","FormData","updateDirectProgress","finishDirectProgress","reportV3","retry","stringifyData","Logger","disableReport","level","prefix","getPrintPrefix","args","_i","allowLevel","console","log","unfreezeTimeMap","Map","Host","currentTime","unfreezeTime","set","getUnfreezeTime","HostPool","initHosts","cachedHostsMap","register","hosts","refresh","_c","_d","cachedHostList","stashHosts","_e","up","acc","main","backup","availableHostList","priorityQueue","sort","hostA","hostB","createUploadManager","forceDirect","disableStatisticsReport","debugLogLevel","normalizeUploadConfig","uphost","observer","manager","__rest","getOwnPropertySymbols","propertyIsEnumerable","otherConfig","normalizeConfig","useCdnDomain","hostList","hostMap","Boolean","PNG","JPEG","WEBP","BMP","maxSteps","scaleFactor","supportMimeTypes","defaultType","isSupportedType","Compress","quality","noCompressIfLarger","process","srcDimension","originImage","canvas","scale","scaleCanvas","distBlob","outputType","UnsupportedFileType","getOriginImage","getCanvas","maxWidth","min","width","maxHeight","height","doScale","toBlob","dist","ctx","fillStyle","fillRect","clearRect","img","Image","src","document","createElement","context","getContext","drawImage","GetCanvasContextFailed","source","sctx","steps","factor","mirror","mctx","originWidth","originHeight","dw","dh","getImageData","putImageData","dataURL","toDataURL","atob","char","blob","Blob","_hoisted_1","class","_hoisted_2","_hoisted_3","_defineComponent","__name","props","initFileList","require","emits","setup","__props","emit","onMounted","fileList","fileName","uid","useQiniuUpload","ref","customRequest","onSuccess","fileKey","observable","qiniu","hash","imageUrl","handleChange","_ctx","_cache","_component_Upload","_resolveComponent","_openBlock","_createBlock","onChange","itemRender","_withCtx","default","_createElementBlock","_createElementVNode","draggable","_createVNode","_unref","PlusOutlined","__exports__","_hoisted_4","style","marginBottom","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_createTextVNode","_hoisted_17","visible","description","logoUrl","handleCreateTeam","warning","watch","_component_Input","_component_TextArea","_component_Button","_component_Modal","centered","footer","closable","placeholder","$event","UploadImage","onClick","createTeamModalVisible","sidebarKey","menuItems","activeMenuItem","activeHeaderBarMenuKey","storeToRefs","useDashboardStore","teamMenuItems","loading","genMenuItems","tools","title","icon","router","path","handleMenuKeyChange","menu","getActiveMenuItem","getMenuItemClass","success","fetchUserTeams","teams","logo","initSidebarData","_component_Avatar","_component_Tooltip","_component_Skeleton","_Fragment","_renderList","fill","circle","val","placement","_normalizeClass","_resolveDynamicComponent","_createCommentVNode","shape","_normalizeStyle","parentNode","fontWeight","_toDisplayString","CreateTeamModal","onClose","onOk","flexShrink","route","useRoute","searchVal","dashboardStore","user","headerBarMenuItems","getHeaderBarMenuItemClass","handleSwitchHeaderBarItem","logout","sdk","logoutWithRedirect","redirectUri","_component_MenuItem","_component_MenuDivider","_component_Menu","_component_Dropdown","SearchOutlined","overlay","picture","nickname","onBeforeMount","history","state","_component_router_view","_component_SkeletonTheme","color","highlight","DashboardHeaderBar","Sidebar","factory","hex_chr","md5cycle","a","c","md5blk","md5blks","md5blk_array","md51","tail","tmp","lo","hi","substring","parseInt","md51_array","subarray","rhex","hex","toUtf8","str","unescape","utf8Str2ArrayBuffer","returnUInt8Array","buff","arr","arrayBuffer2Utf8Str","concatenateArrayBuffers","first","second","hexToBinaryString","bytes","SparkMD5","reset","lsw","msw","clamp","max","from","to","num","targetArray","sourceArray","begin","appendBinary","contents","_buff","_length","_hash","raw","ret","_finish","getState","setState","destroy","hashBinary","content"],"mappings":"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","file":"js/chunk-f63a4960.2fe73987.js","sourcesContent":["export * from \"-!../../../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/.pnpm/vue-loader@16.8.3_5vqgdkn543z7gobmtemdwwisxa/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/.pnpm/sass-loader@8.0.2_sass@1.54.5/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/.pnpm/vue-loader@16.8.3_5vqgdkn543z7gobmtemdwwisxa/node_modules/vue-loader/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=79fcc884&lang=scss\"","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","import useRequest from '@/hooks/useRequest'\nimport { UserInfo } from '@authing/browser/dist/types/global'\nimport { Docs } from './docs'\n\nconst { post, get } = useRequest()\n\nexport interface Team {\n  id: string // authing tanantId\n  name: string\n  logo?: string\n  description?: string\n}\n\nexport type CreateTeamPayload = {\n  name: string\n  description?: string\n  logoUrl?: string\n}\n\nexport type TeamDetail = {\n  team: Team\n  docs: Docs[]\n}\n\nexport type TeamMemberResponse = {\n  list: Array<{\n    id: string\n    tenantId: string\n    user: UserInfo\n  }>\n  listTotal: number\n}\n\nexport enum TeamInviteType {\n  INDIVIDUAL = 1,\n  PUBLIC = 2,\n}\n\nexport type TeamInvite = {\n  _id: string\n  inviterUserId: string\n  targetUserId?: string\n  teamId: string\n  type: TeamInviteType\n  outdateTimestamp: number\n}\n\nexport function createTeam(payload: CreateTeamPayload) {\n  return post<boolean>('/api/teams/create', payload)\n}\n\nexport function getTeams() {\n  return get<Team[]>('/api/teams', {})\n}\n\nexport function getTeamDetail(teamId: string) {\n  return get<Team>(`/api/teams/${teamId}/detail`)\n}\n\nexport function getTeamDocs(teamId: string) {\n  return get<Docs[]>(`/api/teams/${teamId}/docs`)\n}\n\nexport function getTeamInviteInfo(inviteId: string) {\n  return get<{\n    team: Team\n    invite: TeamInvite\n  }>(`/api/teams/invites/${inviteId}`)\n}\n\nexport function getTeamMembers(teamId: string) {\n  return get<TeamMemberResponse>(`/api/teams/${teamId}/members`)\n}\n\nexport function createTeamInviteLink(teamId: string, inviterUserId: string, targetUserId?: string) {\n  return post<string>(`/api/teams/invites/${teamId}`, {\n    inviterUserId,\n    targetUserId,\n  })\n}\n\nexport function acceptTeamInvite(inviteId: string) {\n  return post<boolean>(`/api/teams/invites/${inviteId}/accept`, {})\n}\n","export * from \"-!../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/.pnpm/vue-loader@16.8.3_5vqgdkn543z7gobmtemdwwisxa/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/.pnpm/sass-loader@8.0.2_sass@1.54.5/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@16.8.3_5vqgdkn543z7gobmtemdwwisxa/node_modules/vue-loader/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=698dbf04&lang=scss&scoped=true\"","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","export * from \"-!../../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/.pnpm/vue-loader@16.8.3_5vqgdkn543z7gobmtemdwwisxa/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/.pnpm/sass-loader@8.0.2_sass@1.54.5/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@16.8.3_5vqgdkn543z7gobmtemdwwisxa/node_modules/vue-loader/dist/index.js??ref--1-1!./DashboardHeaderBar.vue?vue&type=style&index=0&id=45c7401c&lang=scss&scope=true\"","export * from \"-!../../../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/.pnpm/vue-loader@16.8.3_5vqgdkn543z7gobmtemdwwisxa/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/.pnpm/sass-loader@8.0.2_sass@1.54.5/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/.pnpm/vue-loader@16.8.3_5vqgdkn543z7gobmtemdwwisxa/node_modules/vue-loader/dist/index.js??ref--1-1!./CreateTeamModal.vue?vue&type=style&index=0&id=68054392&lang=scss\"","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","export * from \"-!../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/.pnpm/vue-loader@16.8.3_5vqgdkn543z7gobmtemdwwisxa/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/.pnpm/sass-loader@8.0.2_sass@1.54.5/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/vue-loader@16.8.3_5vqgdkn543z7gobmtemdwwisxa/node_modules/vue-loader/dist/index.js??ref--1-1!./UploadImage.vue?vue&type=style&index=0&id=13982f72&lang=scss&scoped=true\"","import useRequest from '@/hooks/useRequest'\n\nconst { get } = useRequest()\n\nexport function getQiniuUploadToken() {\n  return get<string>('/api/medias/token', {})\n}\n","import { getQiniuUploadToken } from '@/apis/upload'\n\nexport default () => {\n  const getToken = async () => {\n    const token = await getQiniuUploadToken()\n    return token\n  }\n\n  return { getToken }\n}","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexport var QiniuErrorName;\n(function (QiniuErrorName) {\n    // 输入错误\n    QiniuErrorName[\"InvalidFile\"] = \"InvalidFile\";\n    QiniuErrorName[\"InvalidToken\"] = \"InvalidToken\";\n    QiniuErrorName[\"InvalidMetadata\"] = \"InvalidMetadata\";\n    QiniuErrorName[\"InvalidChunkSize\"] = \"InvalidChunkSize\";\n    QiniuErrorName[\"InvalidCustomVars\"] = \"InvalidCustomVars\";\n    QiniuErrorName[\"NotAvailableUploadHost\"] = \"NotAvailableUploadHost\";\n    // 缓存相关\n    QiniuErrorName[\"ReadCacheFailed\"] = \"ReadCacheFailed\";\n    QiniuErrorName[\"InvalidCacheData\"] = \"InvalidCacheData\";\n    QiniuErrorName[\"WriteCacheFailed\"] = \"WriteCacheFailed\";\n    QiniuErrorName[\"RemoveCacheFailed\"] = \"RemoveCacheFailed\";\n    // 图片压缩模块相关\n    QiniuErrorName[\"GetCanvasContextFailed\"] = \"GetCanvasContextFailed\";\n    QiniuErrorName[\"UnsupportedFileType\"] = \"UnsupportedFileType\";\n    // 运行环境相关\n    QiniuErrorName[\"FileReaderReadFailed\"] = \"FileReaderReadFailed\";\n    QiniuErrorName[\"NotAvailableXMLHttpRequest\"] = \"NotAvailableXMLHttpRequest\";\n    QiniuErrorName[\"InvalidProgressEventTarget\"] = \"InvalidProgressEventTarget\";\n    // 请求错误\n    QiniuErrorName[\"RequestError\"] = \"RequestError\";\n})(QiniuErrorName || (QiniuErrorName = {}));\nvar QiniuError = /** @class */ (function () {\n    function QiniuError(name, message) {\n        this.name = name;\n        this.message = message;\n        this.stack = new Error().stack;\n    }\n    return QiniuError;\n}());\nexport { QiniuError };\nvar QiniuRequestError = /** @class */ (function (_super) {\n    __extends(QiniuRequestError, _super);\n    function QiniuRequestError(code, reqId, message, data) {\n        var _this = _super.call(this, QiniuErrorName.RequestError, message) || this;\n        _this.code = code;\n        _this.reqId = reqId;\n        /**\n         * @description 标记当前的 error 类型是一个 QiniuRequestError\n         * @deprecated 下一个大版本将会移除，不推荐使用，推荐直接使用 instanceof 进行判断\n         */\n        _this.isRequestError = true;\n        _this.data = data;\n        return _this;\n    }\n    return QiniuRequestError;\n}(QiniuError));\nexport { QiniuRequestError };\n/**\n * @description 由于跨域、证书错误、断网、host 解析失败、系统拦截等原因导致的错误\n */\nvar QiniuNetworkError = /** @class */ (function (_super) {\n    __extends(QiniuNetworkError, _super);\n    function QiniuNetworkError(message, reqId) {\n        if (reqId === void 0) { reqId = ''; }\n        return _super.call(this, 0, reqId, message) || this;\n    }\n    return QiniuNetworkError;\n}(QiniuRequestError));\nexport { QiniuNetworkError };\n//# sourceMappingURL=index.js.map","var Pool = /** @class */ (function () {\n    function Pool(runTask, limit) {\n        this.runTask = runTask;\n        this.limit = limit;\n        this.aborted = false;\n        this.queue = [];\n        this.processing = [];\n    }\n    Pool.prototype.enqueue = function (task) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.queue.push({\n                task: task,\n                resolve: resolve,\n                reject: reject\n            });\n            _this.check();\n        });\n    };\n    Pool.prototype.run = function (item) {\n        var _this = this;\n        this.queue = this.queue.filter(function (v) { return v !== item; });\n        this.processing.push(item);\n        this.runTask(item.task).then(function () {\n            _this.processing = _this.processing.filter(function (v) { return v !== item; });\n            item.resolve();\n            _this.check();\n        }, function (err) { return item.reject(err); });\n    };\n    Pool.prototype.check = function () {\n        var _this = this;\n        if (this.aborted)\n            return;\n        var processingNum = this.processing.length;\n        var availableNum = this.limit - processingNum;\n        this.queue.slice(0, availableNum).forEach(function (item) {\n            _this.run(item);\n        });\n    };\n    Pool.prototype.abort = function () {\n        this.queue = [];\n        this.aborted = true;\n    };\n    return Pool;\n}());\nexport { Pool };\n//# sourceMappingURL=pool.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** 表示可清理的资源，比如 Observable 的执行 */\nvar Subscription = /** @class */ (function () {\n    function Subscription() {\n        /** 用来标示该 Subscription 是否被取消订阅的标示位 */\n        this.closed = false;\n    }\n    /** 取消 observer 的订阅 */\n    Subscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        if (this._unsubscribe) {\n            this._unsubscribe();\n        }\n    };\n    /** 添加一个 tear down 在该 Subscription 的 unsubscribe() 期间调用 */\n    Subscription.prototype.add = function (teardown) {\n        this._unsubscribe = teardown;\n    };\n    return Subscription;\n}());\n/**\n * 实现 Observer 接口并且继承 Subscription 类，Observer 是消费 Observable 值的公有 API\n * 所有 Observers 都转化成了 Subscriber，以便提供类似 Subscription 的能力，比如 unsubscribe\n*/\nvar Subscriber = /** @class */ (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (observerOrNext && typeof observerOrNext === 'object') {\n            _this.destination = observerOrNext;\n        }\n        else {\n            _this.destination = __assign(__assign(__assign({}, observerOrNext && { next: observerOrNext }), error && { error: error }), complete && { complete: complete });\n        }\n        return _this;\n    }\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped && this.destination.next) {\n            this.destination.next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped && this.destination.error) {\n            this.isStopped = true;\n            this.destination.error(err);\n        }\n    };\n    Subscriber.prototype.complete = function (result) {\n        if (!this.isStopped && this.destination.complete) {\n            this.isStopped = true;\n            this.destination.complete(result);\n        }\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\n/** 可观察对象，当前的上传事件的集合 */\nvar Observable = /** @class */ (function () {\n    function Observable(_subscribe) {\n        this._subscribe = _subscribe;\n    }\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var sink = new Subscriber(observerOrNext, error, complete);\n        sink.add(this._subscribe(sink));\n        return sink;\n    };\n    return Observable;\n}());\nexport { Observable };\n//# sourceMappingURL=observable.js.map","/* eslint-disable */\n// https://github.com/locutusjs/locutus/blob/master/src/php/xml/utf8_encode.js\nfunction utf8Encode(argString) {\n    // http://kevin.vanzonneveld.net\n    // +   original by: Webtoolkit.info (http://www.webtoolkit.info/)\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // +   improved by: sowberry\n    // +    tweaked by: Jack\n    // +   bugfixed by: Onno Marsman\n    // +   improved by: Yves Sucaet\n    // +   bugfixed by: Onno Marsman\n    // +   bugfixed by: Ulrich\n    // +   bugfixed by: Rafal Kukawski\n    // +   improved by: kirilloid\n    // +   bugfixed by: kirilloid\n    // *     example 1: this.utf8Encode('Kevin van Zonneveld')\n    // *     returns 1: 'Kevin van Zonneveld'\n    if (argString === null || typeof argString === 'undefined') {\n        return '';\n    }\n    var string = argString + ''; // .replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n')\n    var utftext = '', start, end, stringl = 0;\n    start = end = 0;\n    stringl = string.length;\n    for (var n = 0; n < stringl; n++) {\n        var c1 = string.charCodeAt(n);\n        var enc = null;\n        if (c1 < 128) {\n            end++;\n        }\n        else if (c1 > 127 && c1 < 2048) {\n            enc = String.fromCharCode((c1 >> 6) | 192, (c1 & 63) | 128);\n        }\n        else if ((c1 & 0xf800 ^ 0xd800) > 0) {\n            enc = String.fromCharCode((c1 >> 12) | 224, ((c1 >> 6) & 63) | 128, (c1 & 63) | 128);\n        }\n        else {\n            // surrogate pairs\n            if ((c1 & 0xfc00 ^ 0xd800) > 0) {\n                throw new RangeError('Unmatched trail surrogate at ' + n);\n            }\n            var c2 = string.charCodeAt(++n);\n            if ((c2 & 0xfc00 ^ 0xdc00) > 0) {\n                throw new RangeError('Unmatched lead surrogate at ' + (n - 1));\n            }\n            c1 = ((c1 & 0x3ff) << 10) + (c2 & 0x3ff) + 0x10000;\n            enc = String.fromCharCode((c1 >> 18) | 240, ((c1 >> 12) & 63) | 128, ((c1 >> 6) & 63) | 128, (c1 & 63) | 128);\n        }\n        if (enc !== null) {\n            if (end > start) {\n                utftext += string.slice(start, end);\n            }\n            utftext += enc;\n            start = end = n + 1;\n        }\n    }\n    if (end > start) {\n        utftext += string.slice(start, stringl);\n    }\n    return utftext;\n}\n// https://github.com/locutusjs/locutus/blob/master/src/php/xml/utf8_decode.js\nfunction utf8Decode(strData) {\n    // eslint-disable-line camelcase\n    //  discuss at: https://locutus.io/php/utf8_decode/\n    // original by: Webtoolkit.info (https://www.webtoolkit.info/)\n    //    input by: Aman Gupta\n    //    input by: Brett Zamir (https://brett-zamir.me)\n    // improved by: Kevin van Zonneveld (https://kvz.io)\n    // improved by: Norman \"zEh\" Fuchs\n    // bugfixed by: hitwork\n    // bugfixed by: Onno Marsman (https://twitter.com/onnomarsman)\n    // bugfixed by: Kevin van Zonneveld (https://kvz.io)\n    // bugfixed by: kirilloid\n    // bugfixed by: w35l3y (https://www.wesley.eti.br)\n    //   example 1: utf8_decode('Kevin van Zonneveld')\n    //   returns 1: 'Kevin van Zonneveld'\n    var tmpArr = [];\n    var i = 0;\n    var c1 = 0;\n    var seqlen = 0;\n    strData += '';\n    while (i < strData.length) {\n        c1 = strData.charCodeAt(i) & 0xFF;\n        seqlen = 0;\n        // https://en.wikipedia.org/wiki/UTF-8#Codepage_layout\n        if (c1 <= 0xBF) {\n            c1 = (c1 & 0x7F);\n            seqlen = 1;\n        }\n        else if (c1 <= 0xDF) {\n            c1 = (c1 & 0x1F);\n            seqlen = 2;\n        }\n        else if (c1 <= 0xEF) {\n            c1 = (c1 & 0x0F);\n            seqlen = 3;\n        }\n        else {\n            c1 = (c1 & 0x07);\n            seqlen = 4;\n        }\n        for (var ai = 1; ai < seqlen; ++ai) {\n            c1 = ((c1 << 0x06) | (strData.charCodeAt(ai + i) & 0x3F));\n        }\n        if (seqlen === 4) {\n            c1 -= 0x10000;\n            tmpArr.push(String.fromCharCode(0xD800 | ((c1 >> 10) & 0x3FF)));\n            tmpArr.push(String.fromCharCode(0xDC00 | (c1 & 0x3FF)));\n        }\n        else {\n            tmpArr.push(String.fromCharCode(c1));\n        }\n        i += seqlen;\n    }\n    return tmpArr.join('');\n}\nfunction base64Encode(data) {\n    // http://kevin.vanzonneveld.net\n    // +   original by: Tyler Akins (http://rumkin.com)\n    // +   improved by: Bayron Guevara\n    // +   improved by: Thunder.m\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // +   bugfixed by: Pellentesque Malesuada\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // -    depends on: this.utf8Encode\n    // *     example 1: this.base64Encode('Kevin van Zonneveld')\n    // *     returns 1: 'S2V2aW4gdmFuIFpvbm5ldmVsZA=='\n    // mozilla has this native\n    // - but breaks in 2.0.0.12!\n    // if (typeof this.window['atob'] == 'function') {\n    //    return atob(data)\n    // }\n    var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n    var o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0, enc = '', tmp_arr = [];\n    if (!data) {\n        return data;\n    }\n    data = utf8Encode(data + '');\n    do {\n        // pack three octets into four hexets\n        o1 = data.charCodeAt(i++);\n        o2 = data.charCodeAt(i++);\n        o3 = data.charCodeAt(i++);\n        bits = (o1 << 16) | (o2 << 8) | o3;\n        h1 = (bits >> 18) & 0x3f;\n        h2 = (bits >> 12) & 0x3f;\n        h3 = (bits >> 6) & 0x3f;\n        h4 = bits & 0x3f;\n        // use hexets to index into b64, and append result to encoded string\n        tmp_arr[ac++] =\n            b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\n    } while (i < data.length);\n    enc = tmp_arr.join('');\n    switch (data.length % 3) {\n        case 1:\n            enc = enc.slice(0, -2) + '==';\n            break;\n        case 2:\n            enc = enc.slice(0, -1) + '=';\n            break;\n    }\n    return enc;\n}\nfunction base64Decode(data) {\n    // http://kevin.vanzonneveld.net\n    // +   original by: Tyler Akins (http://rumkin.com)\n    // +   improved by: Thunder.m\n    // +      input by: Aman Gupta\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // +   bugfixed by: Onno Marsman\n    // +   bugfixed by: Pellentesque Malesuada\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // +      input by: Brett Zamir (http://brett-zamir.me)\n    // +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // *     example 1: base64_decode('S2V2aW4gdmFuIFpvbm5ldmVsZA==')\n    // *     returns 1: 'Kevin van Zonneveld'\n    // mozilla has this native\n    // - but breaks in 2.0.0.12!\n    // if (typeof this.window['atob'] == 'function') {\n    //    return atob(data)\n    // }\n    var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n    var o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0, dec = '', tmp_arr = [];\n    if (!data) {\n        return data;\n    }\n    data += '';\n    do { // unpack four hexets into three octets using index points in b64\n        h1 = b64.indexOf(data.charAt(i++));\n        h2 = b64.indexOf(data.charAt(i++));\n        h3 = b64.indexOf(data.charAt(i++));\n        h4 = b64.indexOf(data.charAt(i++));\n        bits = h1 << 18 | h2 << 12 | h3 << 6 | h4;\n        o1 = bits >> 16 & 0xff;\n        o2 = bits >> 8 & 0xff;\n        o3 = bits & 0xff;\n        if (h3 === 64) {\n            tmp_arr[ac++] = String.fromCharCode(o1);\n        }\n        else if (h4 === 64) {\n            tmp_arr[ac++] = String.fromCharCode(o1, o2);\n        }\n        else {\n            tmp_arr[ac++] = String.fromCharCode(o1, o2, o3);\n        }\n    } while (i < data.length);\n    dec = tmp_arr.join('');\n    return utf8Decode(dec);\n}\nexport function urlSafeBase64Encode(v) {\n    v = base64Encode(v);\n    // 参考 https://tools.ietf.org/html/rfc4648#section-5\n    return v.replace(/\\//g, '_').replace(/\\+/g, '-');\n}\nexport function urlSafeBase64Decode(v) {\n    v = v.replace(/_/g, '/').replace(/-/g, '+');\n    return base64Decode(v);\n}\n//# sourceMappingURL=base64.js.map","var _a;\n/** 上传区域 */\nexport var region = {\n    z0: 'z0',\n    z1: 'z1',\n    z2: 'z2',\n    na0: 'na0',\n    as0: 'as0',\n    cnEast2: 'cn-east-2'\n};\n/** 上传区域对应的 host */\nexport var regionUphostMap = (_a = {},\n    _a[region.z0] = {\n        srcUphost: ['up.qiniup.com'],\n        cdnUphost: ['upload.qiniup.com']\n    },\n    _a[region.z1] = {\n        srcUphost: ['up-z1.qiniup.com'],\n        cdnUphost: ['upload-z1.qiniup.com']\n    },\n    _a[region.z2] = {\n        srcUphost: ['up-z2.qiniup.com'],\n        cdnUphost: ['upload-z2.qiniup.com']\n    },\n    _a[region.na0] = {\n        srcUphost: ['up-na0.qiniup.com'],\n        cdnUphost: ['upload-na0.qiniup.com']\n    },\n    _a[region.as0] = {\n        srcUphost: ['up-as0.qiniup.com'],\n        cdnUphost: ['upload-as0.qiniup.com']\n    },\n    _a[region.cnEast2] = {\n        srcUphost: ['up-cn-east-2.qiniup.com'],\n        cdnUphost: ['upload-cn-east-2.qiniup.com']\n    },\n    _a);\n//# sourceMappingURL=region.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport SparkMD5 from 'spark-md5';\nimport { QiniuErrorName, QiniuError, QiniuRequestError, QiniuNetworkError } from '../errors';\nimport { urlSafeBase64Decode } from './base64';\nexport var MB = Math.pow(1024, 2);\n// 文件分块\nexport function getChunks(file, blockSize) {\n    var chunkByteSize = blockSize * MB; // 转换为字节\n    // 如果 chunkByteSize 比文件大，则直接取文件的大小\n    if (chunkByteSize > file.size) {\n        chunkByteSize = file.size;\n    }\n    else {\n        // 因为最多 10000 chunk，所以如果 chunkSize 不符合则把每片 chunk 大小扩大两倍\n        while (file.size > chunkByteSize * 10000) {\n            chunkByteSize *= 2;\n        }\n    }\n    var chunks = [];\n    var count = Math.ceil(file.size / chunkByteSize);\n    for (var i = 0; i < count; i++) {\n        var chunk = file.slice(chunkByteSize * i, i === count - 1 ? file.size : chunkByteSize * (i + 1));\n        chunks.push(chunk);\n    }\n    return chunks;\n}\nexport function isMetaDataValid(params) {\n    return Object.keys(params).every(function (key) { return key.indexOf('x-qn-meta-') === 0; });\n}\nexport function isCustomVarsValid(params) {\n    return Object.keys(params).every(function (key) { return key.indexOf('x:') === 0; });\n}\nexport function sum(list) {\n    return list.reduce(function (data, loaded) { return data + loaded; }, 0);\n}\nexport function setLocalFileInfo(localKey, info, logger) {\n    try {\n        localStorage.setItem(localKey, JSON.stringify(info));\n    }\n    catch (err) {\n        logger.warn(new QiniuError(QiniuErrorName.WriteCacheFailed, \"setLocalFileInfo failed: \" + localKey));\n    }\n}\nexport function createLocalKey(name, key, size) {\n    var localKey = key == null ? '_' : \"_key_\" + key + \"_\";\n    return \"qiniu_js_sdk_upload_file_name_\" + name + localKey + \"size_\" + size;\n}\nexport function removeLocalFileInfo(localKey, logger) {\n    try {\n        localStorage.removeItem(localKey);\n    }\n    catch (err) {\n        logger.warn(new QiniuError(QiniuErrorName.RemoveCacheFailed, \"removeLocalFileInfo failed. key: \" + localKey));\n    }\n}\nexport function getLocalFileInfo(localKey, logger) {\n    var localInfoString = null;\n    try {\n        localInfoString = localStorage.getItem(localKey);\n    }\n    catch (_a) {\n        logger.warn(new QiniuError(QiniuErrorName.ReadCacheFailed, \"getLocalFileInfo failed. key: \" + localKey));\n    }\n    if (localInfoString == null) {\n        return null;\n    }\n    var localInfo = null;\n    try {\n        localInfo = JSON.parse(localInfoString);\n    }\n    catch (_b) {\n        // 本地信息已被破坏，直接删除\n        removeLocalFileInfo(localKey, logger);\n        logger.warn(new QiniuError(QiniuErrorName.InvalidCacheData, \"getLocalFileInfo failed to parse. key: \" + localKey));\n    }\n    return localInfo;\n}\nexport function getAuthHeaders(token) {\n    var auth = 'UpToken ' + token;\n    return { Authorization: auth };\n}\nexport function getHeadersForChunkUpload(token) {\n    var header = getAuthHeaders(token);\n    return __assign({ 'content-type': 'application/octet-stream' }, header);\n}\nexport function getHeadersForMkFile(token) {\n    var header = getAuthHeaders(token);\n    return __assign({ 'content-type': 'application/json' }, header);\n}\nexport function createXHR() {\n    if (window.XMLHttpRequest) {\n        return new XMLHttpRequest();\n    }\n    if (window.ActiveXObject) {\n        return new window.ActiveXObject('Microsoft.XMLHTTP');\n    }\n    throw new QiniuError(QiniuErrorName.NotAvailableXMLHttpRequest, 'the current environment does not support.');\n}\nexport function computeMd5(data) {\n    return __awaiter(this, void 0, void 0, function () {\n        var buffer, spark;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, readAsArrayBuffer(data)];\n                case 1:\n                    buffer = _a.sent();\n                    spark = new SparkMD5.ArrayBuffer();\n                    spark.append(buffer);\n                    return [2 /*return*/, spark.end()];\n            }\n        });\n    });\n}\nexport function readAsArrayBuffer(data) {\n    return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        // evt 类型目前存在问题 https://github.com/Microsoft/TypeScript/issues/4163\n        reader.onload = function (evt) {\n            if (evt.target) {\n                var body = evt.target.result;\n                resolve(body);\n            }\n            else {\n                reject(new QiniuError(QiniuErrorName.InvalidProgressEventTarget, 'progress event target is undefined'));\n            }\n        };\n        reader.onerror = function () {\n            reject(new QiniuError(QiniuErrorName.FileReaderReadFailed, 'fileReader read failed'));\n        };\n        reader.readAsArrayBuffer(data);\n    });\n}\nexport function request(url, options) {\n    return new Promise(function (resolve, reject) {\n        var xhr = createXHR();\n        xhr.open(options.method, url);\n        if (options.onCreate) {\n            options.onCreate(xhr);\n        }\n        if (options.headers) {\n            var headers_1 = options.headers;\n            Object.keys(headers_1).forEach(function (k) {\n                xhr.setRequestHeader(k, headers_1[k]);\n            });\n        }\n        xhr.upload.addEventListener('progress', function (evt) {\n            if (evt.lengthComputable && options.onProgress) {\n                options.onProgress({\n                    loaded: evt.loaded,\n                    total: evt.total\n                });\n            }\n        });\n        xhr.onreadystatechange = function () {\n            var responseText = xhr.responseText;\n            if (xhr.readyState !== 4) {\n                return;\n            }\n            var reqId = xhr.getResponseHeader('x-reqId') || '';\n            if (xhr.status === 0) {\n                // 发生 0 基本都是网络错误，常见的比如跨域、断网、host 解析失败、系统拦截等等\n                reject(new QiniuNetworkError('network error.', reqId));\n                return;\n            }\n            if (xhr.status !== 200) {\n                var message = \"xhr request failed, code: \" + xhr.status;\n                if (responseText) {\n                    message += \" response: \" + responseText;\n                }\n                var data = void 0;\n                try {\n                    data = JSON.parse(responseText);\n                }\n                catch (_a) {\n                    // 无需处理该错误、可能拿到非 json 格式的响应是预期的\n                }\n                reject(new QiniuRequestError(xhr.status, reqId, message, data));\n                return;\n            }\n            try {\n                resolve({\n                    data: JSON.parse(responseText),\n                    reqId: reqId\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        };\n        xhr.send(options.body);\n    });\n}\nexport function getPortFromUrl(url) {\n    if (url && url.match) {\n        var groups = url.match(/(^https?)/);\n        if (!groups) {\n            return '';\n        }\n        var type = groups[1];\n        groups = url.match(/^https?:\\/\\/([^:^/]*):(\\d*)/);\n        if (groups) {\n            return groups[2];\n        }\n        if (type === 'http') {\n            return '80';\n        }\n        return '443';\n    }\n    return '';\n}\nexport function getDomainFromUrl(url) {\n    if (url && url.match) {\n        var groups = url.match(/^https?:\\/\\/([^:^/]*)/);\n        return groups ? groups[1] : '';\n    }\n    return '';\n}\nexport function getPutPolicy(token) {\n    if (!token)\n        throw new QiniuError(QiniuErrorName.InvalidToken, 'invalid token.');\n    var segments = token.split(':');\n    if (segments.length === 1)\n        throw new QiniuError(QiniuErrorName.InvalidToken, 'invalid token segments.');\n    // token 构造的差异参考：https://github.com/qbox/product/blob/master/kodo/auths/UpToken.md#admin-uptoken-authorization\n    var assessKey = segments.length > 3 ? segments[1] : segments[0];\n    if (!assessKey)\n        throw new QiniuError(QiniuErrorName.InvalidToken, 'missing assess key field.');\n    var putPolicy = null;\n    try {\n        putPolicy = JSON.parse(urlSafeBase64Decode(segments[segments.length - 1]));\n    }\n    catch (error) {\n        throw new QiniuError(QiniuErrorName.InvalidToken, 'token parse failed.');\n    }\n    if (putPolicy == null) {\n        throw new QiniuError(QiniuErrorName.InvalidToken, 'putPolicy is null.');\n    }\n    if (putPolicy.scope == null) {\n        throw new QiniuError(QiniuErrorName.InvalidToken, 'scope field is null.');\n    }\n    var bucketName = putPolicy.scope.split(':')[0];\n    if (!bucketName) {\n        throw new QiniuError(QiniuErrorName.InvalidToken, 'resolve bucketName failed.');\n    }\n    return { assessKey: assessKey, bucketName: bucketName, scope: putPolicy.scope };\n}\nexport function createObjectURL(file) {\n    var URL = window.URL || window.webkitURL || window.mozURL;\n    // FIXME:  需要 revokeObjectURL\n    return URL.createObjectURL(file);\n}\n//# sourceMappingURL=helper.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { stringify } from 'querystring';\nimport { normalizeUploadConfig } from '../utils';\nimport * as utils from '../utils';\nexport function getUpHosts(accessKey, bucketName, protocol) {\n    return __awaiter(this, void 0, void 0, function () {\n        var params, url;\n        return __generator(this, function (_a) {\n            params = stringify({ ak: accessKey, bucket: bucketName });\n            url = protocol + \"://api.qiniu.com/v2/query?\" + params;\n            return [2 /*return*/, utils.request(url, { method: 'GET' })];\n        });\n    });\n}\n/**\n * @param bucket 空间名\n * @param key 目标文件名\n * @param uploadInfo 上传信息\n */\nfunction getBaseUrl(bucket, key, uploadInfo) {\n    var url = uploadInfo.url, id = uploadInfo.id;\n    return url + \"/buckets/\" + bucket + \"/objects/\" + (key != null ? utils.urlSafeBase64Encode(key) : '~') + \"/uploads/\" + id;\n}\n/**\n * @param token 上传鉴权凭证\n * @param bucket 上传空间\n * @param key 目标文件名\n * @param uploadUrl 上传地址\n */\nexport function initUploadParts(token, bucket, key, uploadUrl) {\n    var url = uploadUrl + \"/buckets/\" + bucket + \"/objects/\" + (key != null ? utils.urlSafeBase64Encode(key) : '~') + \"/uploads\";\n    return utils.request(url, {\n        method: 'POST',\n        headers: utils.getAuthHeaders(token)\n    });\n}\n/**\n * @param token 上传鉴权凭证\n * @param index 当前 chunk 的索引\n * @param uploadInfo 上传信息\n * @param options 请求参数\n */\nexport function uploadChunk(token, key, index, uploadInfo, options) {\n    var bucket = utils.getPutPolicy(token).bucketName;\n    var url = getBaseUrl(bucket, key, uploadInfo) + (\"/\" + index);\n    var headers = utils.getHeadersForChunkUpload(token);\n    if (options.md5)\n        headers['Content-MD5'] = options.md5;\n    return utils.request(url, __assign(__assign({}, options), { method: 'PUT', headers: headers }));\n}\n/**\n * @param token 上传鉴权凭证\n * @param key 目标文件名\n * @param uploadInfo 上传信息\n * @param options 请求参数\n */\nexport function uploadComplete(token, key, uploadInfo, options) {\n    var bucket = utils.getPutPolicy(token).bucketName;\n    var url = getBaseUrl(bucket, key, uploadInfo);\n    return utils.request(url, __assign(__assign({}, options), { method: 'POST', headers: utils.getHeadersForMkFile(token) }));\n}\n/**\n * @param token 上传鉴权凭证\n * @param key 目标文件名\n * @param uploadInfo 上传信息\n */\nexport function deleteUploadedChunks(token, key, uploadinfo) {\n    var bucket = utils.getPutPolicy(token).bucketName;\n    var url = getBaseUrl(bucket, key, uploadinfo);\n    return utils.request(url, {\n        method: 'DELETE',\n        headers: utils.getAuthHeaders(token)\n    });\n}\n/**\n * @param  {string} url\n * @param  {FormData} data\n * @param  {Partial<utils.RequestOptions>} options\n * @returns Promise\n * @description 直传接口\n */\nexport function direct(url, data, options) {\n    return utils.request(url, __assign({ method: 'POST', body: data }, options));\n}\n/**\n * @param  {UploadUrlConfig} config\n * @param  {string} token\n * @returns Promise\n * @description 获取上传 url\n */\nexport function getUploadUrl(_config, token) {\n    return __awaiter(this, void 0, void 0, function () {\n        var config, protocol, putPolicy, res, hosts;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    config = normalizeUploadConfig(_config);\n                    protocol = config.upprotocol;\n                    if (config.uphost.length > 0) {\n                        return [2 /*return*/, protocol + \"://\" + config.uphost[0]];\n                    }\n                    putPolicy = utils.getPutPolicy(token);\n                    return [4 /*yield*/, getUpHosts(putPolicy.assessKey, putPolicy.bucketName, protocol)];\n                case 1:\n                    res = _a.sent();\n                    hosts = res.data.up.acc.main;\n                    return [2 /*return*/, protocol + \"://\" + hosts[0]];\n            }\n        });\n    });\n}\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { QiniuErrorName, QiniuError, QiniuRequestError } from '../errors';\nimport * as utils from '../utils';\nexport var DEFAULT_CHUNK_SIZE = 4; // 单位 MB\n// code 信息地址 https://developer.qiniu.com/kodo/3928/error-responses\nexport var FREEZE_CODE_LIST = [0, 502, 503, 504, 599]; // 将会冻结当前 host 的 code\nexport var RETRY_CODE_LIST = __spread(FREEZE_CODE_LIST, [612]); // 会进行重试的 code\nvar GB = Math.pow(1024, 3);\nvar Base = /** @class */ (function () {\n    function Base(options, handlers, hostPool, logger) {\n        this.hostPool = hostPool;\n        this.logger = logger;\n        this.aborted = false;\n        this.retryCount = 0;\n        this.xhrList = [];\n        this.config = options.config;\n        logger.info('config inited.', this.config);\n        this.putExtra = __assign({ fname: '' }, options.putExtra);\n        logger.info('putExtra inited.', this.putExtra);\n        this.key = options.key;\n        this.file = options.file;\n        this.token = options.token;\n        this.onData = handlers.onData;\n        this.onError = handlers.onError;\n        this.onComplete = handlers.onComplete;\n        try {\n            var putPolicy = utils.getPutPolicy(this.token);\n            this.bucketName = putPolicy.bucketName;\n            this.assessKey = putPolicy.assessKey;\n        }\n        catch (error) {\n            logger.error('get putPolicy from token failed.', error);\n            this.onError(error);\n        }\n    }\n    // 检查并更新 upload host\n    Base.prototype.checkAndUpdateUploadHost = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var newHost;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // 从 hostPool 中获取一个可用的 host 挂载在 this\n                        this.logger.info('get available upload host.');\n                        return [4 /*yield*/, this.hostPool.getUp(this.assessKey, this.bucketName, this.config.upprotocol)];\n                    case 1:\n                        newHost = _a.sent();\n                        if (newHost == null) {\n                            throw new QiniuError(QiniuErrorName.NotAvailableUploadHost, 'no available upload host.');\n                        }\n                        if (this.uploadHost != null && this.uploadHost.host !== newHost.host) {\n                            this.logger.warn(\"host switches from \" + this.uploadHost.host + \" to \" + newHost.host + \".\");\n                        }\n                        else {\n                            this.logger.info(\"use host \" + newHost.host + \".\");\n                        }\n                        this.uploadHost = newHost;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    // 检查并解冻当前的 host\n    Base.prototype.checkAndUnfreezeHost = function () {\n        this.logger.info('check unfreeze host.');\n        if (this.uploadHost != null && this.uploadHost.isFrozen()) {\n            this.logger.warn(this.uploadHost.host + \" will be unfrozen.\");\n            this.uploadHost.unfreeze();\n        }\n    };\n    // 检查并更新冻结当前的 host\n    Base.prototype.checkAndFreezeHost = function (error) {\n        this.logger.info('check freeze host.');\n        if (error instanceof QiniuRequestError && this.uploadHost != null) {\n            if (FREEZE_CODE_LIST.includes(error.code)) {\n                this.logger.warn(this.uploadHost.host + \" will be temporarily frozen.\");\n                this.uploadHost.freeze();\n            }\n        }\n    };\n    Base.prototype.handleError = function (error) {\n        this.logger.error(error.message);\n        this.onError(error);\n    };\n    /**\n     * @returns Promise 返回结果与上传最终状态无关，状态信息请通过 [Subscriber] 获取。\n     * @description 上传文件，状态信息请通过 [Subscriber] 获取。\n     */\n    Base.prototype.putFile = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var result, err_1, notReachRetryCount, needRetry;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.aborted = false;\n                        if (!this.putExtra.fname) {\n                            this.logger.info('use file.name as fname.');\n                            this.putExtra.fname = this.file.name;\n                        }\n                        if (this.file.size > 10000 * GB) {\n                            this.handleError(new QiniuError(QiniuErrorName.InvalidFile, 'file size exceed maximum value 10000G'));\n                            return [2 /*return*/];\n                        }\n                        if (this.putExtra.customVars) {\n                            if (!utils.isCustomVarsValid(this.putExtra.customVars)) {\n                                this.handleError(new QiniuError(QiniuErrorName.InvalidCustomVars, \n                                // FIXME: width => with\n                                'customVars key should start width x:'));\n                                return [2 /*return*/];\n                            }\n                        }\n                        if (this.putExtra.metadata) {\n                            if (!utils.isMetaDataValid(this.putExtra.metadata)) {\n                                this.handleError(new QiniuError(QiniuErrorName.InvalidMetadata, 'metadata key should start with x-qn-meta-'));\n                                return [2 /*return*/];\n                            }\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 4, , 5]);\n                        this.uploadAt = new Date().getTime();\n                        return [4 /*yield*/, this.checkAndUpdateUploadHost()];\n                    case 2:\n                        _a.sent();\n                        return [4 /*yield*/, this.run()];\n                    case 3:\n                        result = _a.sent();\n                        this.onComplete(result.data);\n                        this.checkAndUnfreezeHost();\n                        this.sendLog(result.reqId, 200);\n                        return [2 /*return*/];\n                    case 4:\n                        err_1 = _a.sent();\n                        if (this.aborted) {\n                            this.logger.warn('upload is aborted.');\n                            this.sendLog('', -2);\n                            return [2 /*return*/];\n                        }\n                        this.clear();\n                        this.logger.error(err_1);\n                        if (err_1 instanceof QiniuRequestError) {\n                            this.sendLog(err_1.reqId, err_1.code);\n                            // 检查并冻结当前的 host\n                            this.checkAndFreezeHost(err_1);\n                            notReachRetryCount = ++this.retryCount <= this.config.retryCount;\n                            needRetry = RETRY_CODE_LIST.includes(err_1.code);\n                            // 以下条件满足其中之一则会进行重新上传：\n                            // 1. 满足 needRetry 的条件且 retryCount 不为 0\n                            // 2. uploadId 无效时在 resume 里会清除本地数据，并且这里触发重新上传\n                            if (needRetry && notReachRetryCount) {\n                                this.logger.warn(\"error auto retry: \" + this.retryCount + \"/\" + this.config.retryCount + \".\");\n                                this.putFile();\n                                return [2 /*return*/];\n                            }\n                        }\n                        this.onError(err_1);\n                        return [3 /*break*/, 5];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Base.prototype.clear = function () {\n        this.xhrList.forEach(function (xhr) {\n            xhr.onreadystatechange = null;\n            xhr.abort();\n        });\n        this.xhrList = [];\n        this.logger.info('cleanup uploading xhr.');\n    };\n    Base.prototype.stop = function () {\n        this.logger.info('aborted.');\n        this.clear();\n        this.aborted = true;\n    };\n    Base.prototype.addXhr = function (xhr) {\n        this.xhrList.push(xhr);\n    };\n    Base.prototype.sendLog = function (reqId, code) {\n        var _a, _b;\n        this.logger.report({\n            code: code,\n            reqId: reqId,\n            remoteIp: '',\n            upType: 'jssdk-h5',\n            size: this.file.size,\n            time: Math.floor(this.uploadAt / 1000),\n            port: utils.getPortFromUrl((_a = this.uploadHost) === null || _a === void 0 ? void 0 : _a.getUrl()),\n            host: utils.getDomainFromUrl((_b = this.uploadHost) === null || _b === void 0 ? void 0 : _b.getUrl()),\n            bytesSent: this.progress ? this.progress.total.loaded : 0,\n            duration: Math.floor((new Date().getTime() - this.uploadAt) / 1000)\n        });\n    };\n    Base.prototype.getProgressInfoItem = function (loaded, size, fromCache) {\n        return __assign({ size: size,\n            loaded: loaded, percent: loaded / size * 100 }, (fromCache == null ? {} : { fromCache: fromCache }));\n    };\n    return Base;\n}());\nexport default Base;\n//# sourceMappingURL=base.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { uploadChunk, uploadComplete, initUploadParts } from '../api';\nimport { QiniuError, QiniuErrorName, QiniuRequestError } from '../errors';\nimport * as utils from '../utils';\nimport Base from './base';\n/** 是否为正整数 */\nfunction isPositiveInteger(n) {\n    var re = /^[1-9]\\d*$/;\n    return re.test(String(n));\n}\nvar Resume = /** @class */ (function (_super) {\n    __extends(Resume, _super);\n    function Resume() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @returns  {Promise<ResponseSuccess<any>>}\n     * @description 实现了 Base 的 run 接口，处理具体的分片上传事务，并抛出过程中的异常。\n     */\n    Resume.prototype.run = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var pool, mkFileResponse, localKey, uploadChunks, error_1;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.logger.info('start run Resume.');\n                        if (!this.config.chunkSize || !isPositiveInteger(this.config.chunkSize)) {\n                            throw new QiniuError(QiniuErrorName.InvalidChunkSize, 'chunkSize must be a positive integer');\n                        }\n                        if (this.config.chunkSize > 1024) {\n                            throw new QiniuError(QiniuErrorName.InvalidChunkSize, 'chunkSize maximum value is 1024');\n                        }\n                        return [4 /*yield*/, this.initBeforeUploadChunks()];\n                    case 1:\n                        _a.sent();\n                        pool = new utils.Pool(function (chunkInfo) { return __awaiter(_this, void 0, void 0, function () {\n                            return __generator(this, function (_a) {\n                                switch (_a.label) {\n                                    case 0:\n                                        if (this.aborted) {\n                                            pool.abort();\n                                            throw new Error('pool is aborted');\n                                        }\n                                        return [4 /*yield*/, this.uploadChunk(chunkInfo)];\n                                    case 1:\n                                        _a.sent();\n                                        return [2 /*return*/];\n                                }\n                            });\n                        }); }, this.config.concurrentRequestLimit);\n                        mkFileResponse = null;\n                        localKey = this.getLocalKey();\n                        uploadChunks = this.chunks.map(function (chunk, index) { return pool.enqueue({ chunk: chunk, index: index }); });\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 5, , 6]);\n                        return [4 /*yield*/, Promise.all(uploadChunks)];\n                    case 3:\n                        _a.sent();\n                        return [4 /*yield*/, this.mkFileReq()];\n                    case 4:\n                        mkFileResponse = _a.sent();\n                        return [3 /*break*/, 6];\n                    case 5:\n                        error_1 = _a.sent();\n                        // uploadId 无效，上传参数有误（多由于本地存储信息的 uploadId 失效）\n                        if (error_1 instanceof QiniuRequestError && (error_1.code === 612 || error_1.code === 400)) {\n                            utils.removeLocalFileInfo(localKey, this.logger);\n                        }\n                        throw error_1;\n                    case 6:\n                        // 上传成功，清理本地缓存数据\n                        utils.removeLocalFileInfo(localKey, this.logger);\n                        return [2 /*return*/, mkFileResponse];\n                }\n            });\n        });\n    };\n    Resume.prototype.uploadChunk = function (chunkInfo) {\n        return __awaiter(this, void 0, void 0, function () {\n            var index, chunk, cachedInfo, shouldCheckMD5, reuseSaved, md5, onProgress, requestOptions, response;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        index = chunkInfo.index, chunk = chunkInfo.chunk;\n                        cachedInfo = this.cachedUploadedList[index];\n                        this.logger.info(\"upload part \" + index + \", cache:\", cachedInfo);\n                        shouldCheckMD5 = this.config.checkByMD5;\n                        reuseSaved = function () {\n                            _this.usedCacheList[index] = true;\n                            _this.updateChunkProgress(chunk.size, index);\n                            _this.uploadedList[index] = cachedInfo;\n                            _this.updateLocalCache();\n                        };\n                        // FIXME: 至少判断一下 size\n                        if (cachedInfo && !shouldCheckMD5) {\n                            reuseSaved();\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, utils.computeMd5(chunk)];\n                    case 1:\n                        md5 = _a.sent();\n                        this.logger.info('computed part md5.', md5);\n                        if (cachedInfo && md5 === cachedInfo.md5) {\n                            reuseSaved();\n                            return [2 /*return*/];\n                        }\n                        // 没有使用缓存设置标记为 false\n                        this.usedCacheList[index] = false;\n                        onProgress = function (data) {\n                            _this.updateChunkProgress(data.loaded, index);\n                        };\n                        requestOptions = {\n                            body: chunk,\n                            md5: this.config.checkByServer ? md5 : undefined,\n                            onProgress: onProgress,\n                            onCreate: function (xhr) { return _this.addXhr(xhr); }\n                        };\n                        this.logger.info(\"part \" + index + \" start uploading.\");\n                        return [4 /*yield*/, uploadChunk(this.token, this.key, chunkInfo.index + 1, this.getUploadInfo(), requestOptions)];\n                    case 2:\n                        response = _a.sent();\n                        this.logger.info(\"part \" + index + \" upload completed.\");\n                        // 在某些浏览器环境下，xhr 的 progress 事件无法被触发，progress 为 null，这里在每次分片上传完成后都手动更新下 progress\n                        onProgress({\n                            loaded: chunk.size,\n                            total: chunk.size\n                        });\n                        this.uploadedList[index] = {\n                            etag: response.data.etag,\n                            md5: response.data.md5,\n                            size: chunk.size\n                        };\n                        this.updateLocalCache();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Resume.prototype.mkFileReq = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, result;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        data = __assign(__assign(__assign({ parts: this.uploadedList.map(function (value, index) { return ({\n                                etag: value.etag,\n                                // 接口要求 index 需要从 1 开始，所以需要整体 + 1\n                                partNumber: index + 1\n                            }); }), fname: this.putExtra.fname }, this.putExtra.mimeType && { mimeType: this.putExtra.mimeType }), this.putExtra.customVars && { customVars: this.putExtra.customVars }), this.putExtra.metadata && { metadata: this.putExtra.metadata });\n                        this.logger.info('parts upload completed, make file.', data);\n                        return [4 /*yield*/, uploadComplete(this.token, this.key, this.getUploadInfo(), {\n                                onCreate: function (xhr) { return _this.addXhr(xhr); },\n                                body: JSON.stringify(data)\n                            })];\n                    case 1:\n                        result = _a.sent();\n                        this.logger.info('finish Resume Progress.');\n                        this.updateMkFileProgress(1);\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    Resume.prototype.initBeforeUploadChunks = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var cachedInfo, res, infoMessage;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.uploadedList = [];\n                        this.usedCacheList = [];\n                        cachedInfo = utils.getLocalFileInfo(this.getLocalKey(), this.logger);\n                        if (!!cachedInfo) return [3 /*break*/, 2];\n                        this.logger.info('init upload parts from api.');\n                        return [4 /*yield*/, initUploadParts(this.token, this.bucketName, this.key, this.uploadHost.getUrl())];\n                    case 1:\n                        res = _a.sent();\n                        this.logger.info(\"initd upload parts of id: \" + res.data.uploadId + \".\");\n                        this.uploadId = res.data.uploadId;\n                        this.cachedUploadedList = [];\n                        return [3 /*break*/, 3];\n                    case 2:\n                        infoMessage = [\n                            'resume upload parts from local cache,',\n                            \"total \" + cachedInfo.data.length + \" part,\",\n                            \"id is \" + cachedInfo.id + \".\"\n                        ];\n                        this.logger.info(infoMessage.join(' '));\n                        this.cachedUploadedList = cachedInfo.data;\n                        this.uploadId = cachedInfo.id;\n                        _a.label = 3;\n                    case 3:\n                        this.chunks = utils.getChunks(this.file, this.config.chunkSize);\n                        this.loaded = {\n                            mkFileProgress: 0,\n                            chunks: this.chunks.map(function (_) { return 0; })\n                        };\n                        this.notifyResumeProgress();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Resume.prototype.getUploadInfo = function () {\n        return {\n            id: this.uploadId,\n            url: this.uploadHost.getUrl()\n        };\n    };\n    Resume.prototype.getLocalKey = function () {\n        return utils.createLocalKey(this.file.name, this.key, this.file.size);\n    };\n    Resume.prototype.updateLocalCache = function () {\n        utils.setLocalFileInfo(this.getLocalKey(), {\n            id: this.uploadId,\n            data: this.uploadedList\n        }, this.logger);\n    };\n    Resume.prototype.updateChunkProgress = function (loaded, index) {\n        this.loaded.chunks[index] = loaded;\n        this.notifyResumeProgress();\n    };\n    Resume.prototype.updateMkFileProgress = function (progress) {\n        this.loaded.mkFileProgress = progress;\n        this.notifyResumeProgress();\n    };\n    Resume.prototype.notifyResumeProgress = function () {\n        var _this = this;\n        this.progress = {\n            total: this.getProgressInfoItem(utils.sum(this.loaded.chunks) + this.loaded.mkFileProgress, \n            // FIXME: 不准确的 fileSize\n            this.file.size + 1 // 防止在 complete 未调用的时候进度显示 100%\n            ),\n            chunks: this.chunks.map(function (chunk, index) {\n                var fromCache = _this.usedCacheList[index];\n                return _this.getProgressInfoItem(_this.loaded.chunks[index], chunk.size, fromCache);\n            }),\n            uploadInfo: {\n                id: this.uploadId,\n                url: this.uploadHost.getUrl()\n            }\n        };\n        this.onData(this.progress);\n    };\n    return Resume;\n}(Base));\nexport default Resume;\n//# sourceMappingURL=resume.js.map","/* eslint-disable no-bitwise */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { MB } from './helper';\n/**\n * 以下 class 实现参考\n * https://github.com/Stuk/jszip/blob/d4702a70834bd953d4c2d0bc155fad795076631a/lib/crc32.js\n * 该实现主要针对大文件优化、对计算的值进行了 `>>> 0` 运算（为与服务端保持一致）\n */\nvar CRC32 = /** @class */ (function () {\n    function CRC32() {\n        this.crc = -1;\n        this.table = this.makeTable();\n    }\n    CRC32.prototype.makeTable = function () {\n        var table = new Array();\n        for (var i = 0; i < 256; i++) {\n            var t = i;\n            for (var j = 0; j < 8; j++) {\n                if (t & 1) {\n                    // IEEE 标准\n                    t = (t >>> 1) ^ 0xEDB88320;\n                }\n                else {\n                    t >>>= 1;\n                }\n            }\n            table[i] = t;\n        }\n        return table;\n    };\n    CRC32.prototype.append = function (data) {\n        var crc = this.crc;\n        for (var offset = 0; offset < data.byteLength; offset++) {\n            crc = (crc >>> 8) ^ this.table[(crc ^ data[offset]) & 0xFF];\n        }\n        this.crc = crc;\n    };\n    CRC32.prototype.compute = function () {\n        return (this.crc ^ -1) >>> 0;\n    };\n    CRC32.prototype.readAsUint8Array = function (file) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(typeof file.arrayBuffer === 'function')) return [3 /*break*/, 2];\n                        _a = Uint8Array.bind;\n                        return [4 /*yield*/, file.arrayBuffer()];\n                    case 1: return [2 /*return*/, new (_a.apply(Uint8Array, [void 0, _b.sent()]))()];\n                    case 2: return [2 /*return*/, new Promise(function (resolve, reject) {\n                            var reader = new FileReader();\n                            reader.onload = function () {\n                                if (reader.result == null) {\n                                    reject();\n                                    return;\n                                }\n                                if (typeof reader.result === 'string') {\n                                    reject();\n                                    return;\n                                }\n                                resolve(new Uint8Array(reader.result));\n                            };\n                            reader.readAsArrayBuffer(file);\n                        })];\n                }\n            });\n        });\n    };\n    CRC32.prototype.file = function (file) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, count, index, start, end, chuck;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(file.size <= MB)) return [3 /*break*/, 2];\n                        _a = this.append;\n                        return [4 /*yield*/, this.readAsUint8Array(file)];\n                    case 1:\n                        _a.apply(this, [_b.sent()]);\n                        return [2 /*return*/, this.compute()];\n                    case 2:\n                        count = Math.ceil(file.size / MB);\n                        index = 0;\n                        _b.label = 3;\n                    case 3:\n                        if (!(index < count)) return [3 /*break*/, 6];\n                        start = index * MB;\n                        end = index === (count - 1) ? file.size : start + MB;\n                        return [4 /*yield*/, this.readAsUint8Array(file.slice(start, end))];\n                    case 4:\n                        chuck = _b.sent();\n                        this.append(new Uint8Array(chuck));\n                        _b.label = 5;\n                    case 5:\n                        index++;\n                        return [3 /*break*/, 3];\n                    case 6: return [2 /*return*/, this.compute()];\n                }\n            });\n        });\n    };\n    CRC32.file = function (file) {\n        var crc = new CRC32();\n        return crc.file(file);\n    };\n    return CRC32;\n}());\nexport { CRC32 };\n//# sourceMappingURL=crc32.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { CRC32 } from '../utils/crc32';\nimport { direct } from '../api';\nimport Base from './base';\nvar Direct = /** @class */ (function (_super) {\n    __extends(Direct, _super);\n    function Direct() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Direct.prototype.run = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var formData, crcSign, customVars_1, result;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.logger.info('start run Direct.');\n                        formData = new FormData();\n                        formData.append('file', this.file);\n                        formData.append('token', this.token);\n                        if (this.key != null) {\n                            formData.append('key', this.key);\n                        }\n                        formData.append('fname', this.putExtra.fname);\n                        if (!this.config.checkByServer) return [3 /*break*/, 2];\n                        return [4 /*yield*/, CRC32.file(this.file)];\n                    case 1:\n                        crcSign = _a.sent();\n                        formData.append('crc32', crcSign.toString());\n                        _a.label = 2;\n                    case 2:\n                        if (this.putExtra.customVars) {\n                            this.logger.info('init customVars.');\n                            customVars_1 = this.putExtra.customVars;\n                            Object.keys(customVars_1).forEach(function (key) { return formData.append(key, customVars_1[key].toString()); });\n                            this.logger.info('customVars inited.');\n                        }\n                        this.logger.info('formData inited.');\n                        return [4 /*yield*/, direct(this.uploadHost.getUrl(), formData, {\n                                onProgress: function (data) {\n                                    _this.updateDirectProgress(data.loaded, data.total);\n                                },\n                                onCreate: function (xhr) { return _this.addXhr(xhr); }\n                            })];\n                    case 3:\n                        result = _a.sent();\n                        this.logger.info('Direct progress finish.');\n                        this.finishDirectProgress();\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    Direct.prototype.updateDirectProgress = function (loaded, total) {\n        // 当请求未完成时可能进度会达到100，所以total + 1来防止这种情况出现\n        this.progress = { total: this.getProgressInfoItem(loaded, total + 1) };\n        this.onData(this.progress);\n    };\n    Direct.prototype.finishDirectProgress = function () {\n        // 在某些浏览器环境下，xhr 的 progress 事件无法被触发，progress 为 null，这里 fake 下\n        if (!this.progress) {\n            this.logger.warn('progress is null.');\n            this.progress = { total: this.getProgressInfoItem(this.file.size, this.file.size) };\n            this.onData(this.progress);\n            return;\n        }\n        var total = this.progress.total;\n        this.progress = { total: this.getProgressInfoItem(total.loaded + 1, total.size) };\n        this.onData(this.progress);\n    };\n    return Direct;\n}(Base));\nexport default Direct;\n//# sourceMappingURL=direct.js.map","import { createXHR, getAuthHeaders } from '../utils';\n/**\n * @param  {string} token 上传使用的 token\n * @param  {V3LogInfo} data 上报的统计数据\n * @param  {number} retry 重试的次数，默认值 3\n * @description v3 版本的日志上传接口，参考文档 https://github.com/qbox/product/blob/master/kodo/uplog.md#%E7%89%88%E6%9C%AC-3。\n */\nexport function reportV3(token, data, retry) {\n    if (retry === void 0) { retry = 3; }\n    var xhr = createXHR();\n    xhr.open('POST', 'https://uplog.qbox.me/log/3');\n    xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    xhr.setRequestHeader('Authorization', getAuthHeaders(token).Authorization);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4 && xhr.status !== 200 && retry > 0) {\n            reportV3(token, data, retry - 1);\n        }\n    };\n    // 顺序参考：https://github.com/qbox/product/blob/master/kodo/uplog.md#%E7%89%88%E6%9C%AC-3\n    var stringifyData = [\n        data.code || '',\n        data.reqId || '',\n        data.host || '',\n        data.remoteIp || '',\n        data.port || '',\n        data.duration || '',\n        data.time || '',\n        data.bytesSent || '',\n        data.upType || '',\n        data.size || ''\n    ].join(',');\n    xhr.send(stringifyData);\n}\n//# sourceMappingURL=report-v3.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { reportV3 } from './report-v3';\nvar Logger = /** @class */ (function () {\n    function Logger(token, disableReport, level, prefix) {\n        if (disableReport === void 0) { disableReport = true; }\n        if (level === void 0) { level = 'OFF'; }\n        if (prefix === void 0) { prefix = 'UPLOAD'; }\n        this.token = token;\n        this.disableReport = disableReport;\n        this.level = level;\n        this.prefix = prefix;\n        // 为每个类分配一个 id\n        // 用以区分不同的上传任务\n        this.id = ++Logger.id;\n    }\n    Logger.prototype.getPrintPrefix = function (level) {\n        return \"Qiniu-JS-SDK [\" + level + \"][\" + this.prefix + \"#\" + this.id + \"]:\";\n    };\n    /**\n     * @param  {V3LogInfo} data 上报的数据。\n     * @param  {boolean} retry 重试次数，可选，默认为 3。\n     * @description 向服务端上报统计信息。\n     */\n    Logger.prototype.report = function (data, retry) {\n        if (this.disableReport)\n            return;\n        try {\n            reportV3(this.token, data, retry);\n        }\n        catch (error) {\n            this.warn(error);\n        }\n    };\n    /**\n     * @param  {unknown[]} ...args\n     * @description 输出 info 级别的调试信息。\n     */\n    Logger.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var allowLevel = ['INFO'];\n        if (allowLevel.includes(this.level)) {\n            // eslint-disable-next-line no-console\n            console.log.apply(console, __spread([this.getPrintPrefix('INFO')], args));\n        }\n    };\n    /**\n     * @param  {unknown[]} ...args\n     * @description 输出 warn 级别的调试信息。\n     */\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var allowLevel = ['INFO', 'WARN'];\n        if (allowLevel.includes(this.level)) {\n            // eslint-disable-next-line no-console\n            console.warn.apply(console, __spread([this.getPrintPrefix('WARN')], args));\n        }\n    };\n    /**\n     * @param  {unknown[]} ...args\n     * @description 输出 error 级别的调试信息。\n     */\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var allowLevel = ['INFO', 'WARN', 'ERROR'];\n        if (allowLevel.includes(this.level)) {\n            // eslint-disable-next-line no-console\n            console.error.apply(console, __spread([this.getPrintPrefix('ERROR')], args));\n        }\n    };\n    Logger.id = 0;\n    return Logger;\n}());\nexport default Logger;\n//# sourceMappingURL=index.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { getUpHosts } from '../api';\n/**\n  * @description 解冻时间，key 是 host，value 为解冻时间\n  */\nvar unfreezeTimeMap = new Map();\nvar Host = /** @class */ (function () {\n    function Host(host, protocol) {\n        this.host = host;\n        this.protocol = protocol;\n    }\n    /**\n     * @description 当前 host 是否为冻结状态\n     */\n    Host.prototype.isFrozen = function () {\n        var currentTime = new Date().getTime();\n        var unfreezeTime = unfreezeTimeMap.get(this.host);\n        return unfreezeTime != null && unfreezeTime >= currentTime;\n    };\n    /**\n     * @param  {number} time 单位秒，默认 20s\n     * @description 冻结该 host 对象，该 host 将在指定时间内不可用\n     */\n    Host.prototype.freeze = function (time) {\n        if (time === void 0) { time = 20; }\n        var unfreezeTime = new Date().getTime() + (time * 1000);\n        unfreezeTimeMap.set(this.host, unfreezeTime);\n    };\n    /**\n     * @description 解冻该 host\n     */\n    Host.prototype.unfreeze = function () {\n        unfreezeTimeMap[\"delete\"](this.host);\n    };\n    /**\n     * @description 获取当前 host 的完整 url\n     */\n    Host.prototype.getUrl = function () {\n        return this.protocol + \"://\" + this.host;\n    };\n    /**\n     * @description 获取解冻时间\n     */\n    Host.prototype.getUnfreezeTime = function () {\n        return unfreezeTimeMap.get(this.host);\n    };\n    return Host;\n}());\nexport { Host };\nvar HostPool = /** @class */ (function () {\n    /**\n     * @param  {string[]} initHosts\n     * @description 如果在构造时传入 initHosts，则该 host 池始终使用传入的 initHosts 做为可用的数据\n     */\n    function HostPool(initHosts) {\n        if (initHosts === void 0) { initHosts = []; }\n        this.initHosts = initHosts;\n        /**\n         * @description 缓存的 host 表，以 bucket 和 accessKey 作为 key\n         */\n        this.cachedHostsMap = new Map();\n    }\n    /**\n     * @param  {string} accessKey\n     * @param  {string} bucketName\n     * @param  {string[]} hosts\n     * @param  {InternalConfig['upprotocol']} protocol\n     * @returns  {void}\n     * @description 注册可用 host\n     */\n    HostPool.prototype.register = function (accessKey, bucketName, hosts, protocol) {\n        this.cachedHostsMap.set(accessKey + \"@\" + bucketName, hosts.map(function (host) { return new Host(host, protocol); }));\n    };\n    /**\n     * @param  {string} accessKey\n     * @param  {string} bucketName\n     * @param  {InternalConfig['upprotocol']} protocol\n     * @returns  {Promise<void>}\n     * @description 刷新最新的 host 数据，如果用户在构造时该类时传入了 host 或者已经存在缓存则不会发起请求\n     */\n    HostPool.prototype.refresh = function (accessKey, bucketName, protocol) {\n        var _a, _b, _c, _d;\n        return __awaiter(this, void 0, void 0, function () {\n            var cachedHostList, response, stashHosts;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        cachedHostList = this.cachedHostsMap.get(accessKey + \"@\" + bucketName) || [];\n                        if (cachedHostList.length > 0)\n                            return [2 /*return*/];\n                        if (this.initHosts.length > 0) {\n                            this.register(accessKey, bucketName, this.initHosts, protocol);\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, getUpHosts(accessKey, bucketName, protocol)];\n                    case 1:\n                        response = _e.sent();\n                        if ((response === null || response === void 0 ? void 0 : response.data) != null) {\n                            stashHosts = __spread((((_b = (_a = response.data.up) === null || _a === void 0 ? void 0 : _a.acc) === null || _b === void 0 ? void 0 : _b.main) || []), (((_d = (_c = response.data.up) === null || _c === void 0 ? void 0 : _c.acc) === null || _d === void 0 ? void 0 : _d.backup) || []));\n                            this.register(accessKey, bucketName, stashHosts, protocol);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * @param  {string} accessKey\n     * @param  {string} bucketName\n     * @param  {InternalConfig['upprotocol']} protocol\n     * @returns  {Promise<Host | null>}\n     * @description 获取一个可用的上传 Host，排除已冻结的\n     */\n    HostPool.prototype.getUp = function (accessKey, bucketName, protocol) {\n        return __awaiter(this, void 0, void 0, function () {\n            var cachedHostList, availableHostList, priorityQueue;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.refresh(accessKey, bucketName, protocol)];\n                    case 1:\n                        _a.sent();\n                        cachedHostList = this.cachedHostsMap.get(accessKey + \"@\" + bucketName) || [];\n                        if (cachedHostList.length === 0)\n                            return [2 /*return*/, null];\n                        availableHostList = cachedHostList.filter(function (host) { return !host.isFrozen(); });\n                        if (availableHostList.length > 0)\n                            return [2 /*return*/, availableHostList[0]\n                                // 无可用的，去取离解冻最近的 host\n                            ];\n                        priorityQueue = cachedHostList\n                            .slice().sort(function (hostA, hostB) { return (hostA.getUnfreezeTime() || 0) - (hostB.getUnfreezeTime() || 0); });\n                        return [2 /*return*/, priorityQueue[0]];\n                }\n            });\n        });\n    };\n    return HostPool;\n}());\nexport { HostPool };\n//# sourceMappingURL=hosts.js.map","import Resume from './resume';\nimport Direct from './direct';\nimport Logger from '../logger';\nimport { Observable, MB, normalizeUploadConfig } from '../utils';\nimport { HostPool } from './hosts';\nexport * from './base';\nexport * from './resume';\nexport function createUploadManager(options, handlers, hostPool, logger) {\n    if (options.config && options.config.forceDirect) {\n        logger.info('ues forceDirect mode.');\n        return new Direct(options, handlers, hostPool, logger);\n    }\n    if (options.file.size > 4 * MB) {\n        logger.info('file size over 4M, use Resume.');\n        return new Resume(options, handlers, hostPool, logger);\n    }\n    logger.info('file size less or equal than 4M, use Direct.');\n    return new Direct(options, handlers, hostPool, logger);\n}\n/**\n * @param file 上传文件\n * @param key 目标文件名\n * @param token 上传凭证\n * @param putExtra 上传文件的相关资源信息配置\n * @param config 上传任务的配置\n * @returns 返回用于上传任务的可观察对象\n */\nexport default function upload(file, key, token, putExtra, config) {\n    // 为每个任务创建单独的 Logger\n    var logger = new Logger(token, config === null || config === void 0 ? void 0 : config.disableStatisticsReport, config === null || config === void 0 ? void 0 : config.debugLogLevel, file.name);\n    var options = {\n        file: file,\n        key: key,\n        token: token,\n        putExtra: putExtra,\n        config: normalizeUploadConfig(config, logger)\n    };\n    // 创建 host 池\n    var hostPool = new HostPool(options.config.uphost);\n    return new Observable(function (observer) {\n        var manager = createUploadManager(options, {\n            onData: function (data) { return observer.next(data); },\n            onError: function (err) { return observer.error(err); },\n            onComplete: function (res) { return observer.complete(res); }\n        }, hostPool, logger);\n        manager.putFile();\n        return manager.stop.bind(manager);\n    });\n}\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { regionUphostMap } from '../config';\nimport { DEFAULT_CHUNK_SIZE } from '../upload';\nexport function normalizeUploadConfig(config, logger) {\n    var _a = __assign({}, config), upprotocol = _a.upprotocol, uphost = _a.uphost, otherConfig = __rest(_a, [\"upprotocol\", \"uphost\"]);\n    var normalizeConfig = __assign({ uphost: [], retryCount: 3, checkByMD5: false, forceDirect: false, useCdnDomain: true, checkByServer: false, concurrentRequestLimit: 3, chunkSize: DEFAULT_CHUNK_SIZE, upprotocol: 'https', debugLogLevel: 'OFF', disableStatisticsReport: false }, otherConfig);\n    // 兼容原来的 http: https: 的写法\n    if (upprotocol) {\n        normalizeConfig.upprotocol = upprotocol\n            .replace(/:$/, '');\n    }\n    var hostList = [];\n    if (logger && (config === null || config === void 0 ? void 0 : config.uphost) != null && (config === null || config === void 0 ? void 0 : config.region) != null) {\n        logger.warn('do not use both the uphost and region config.');\n    }\n    // 如果同时指定了 uphost 参数，添加到可用 host 列表\n    if (uphost) {\n        if (Array.isArray(uphost)) {\n            hostList.push.apply(hostList, __spread(uphost));\n        }\n        else {\n            hostList.push(uphost);\n        }\n        // 否则如果用户传了 region，添加指定 region 的 host 到可用 host 列表\n    }\n    else if (normalizeConfig === null || normalizeConfig === void 0 ? void 0 : normalizeConfig.region) {\n        var hostMap = regionUphostMap[normalizeConfig === null || normalizeConfig === void 0 ? void 0 : normalizeConfig.region];\n        if (normalizeConfig.useCdnDomain) {\n            hostList.push.apply(hostList, __spread(hostMap.cdnUphost));\n        }\n        else {\n            hostList.push.apply(hostList, __spread(hostMap.srcUphost));\n        }\n    }\n    return __assign(__assign({}, normalizeConfig), { uphost: hostList.filter(Boolean) });\n}\n//# sourceMappingURL=config.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { QiniuErrorName, QiniuError } from '../errors';\nimport { createObjectURL } from './helper';\nvar mimeTypes = {\n    PNG: 'image/png',\n    JPEG: 'image/jpeg',\n    WEBP: 'image/webp',\n    BMP: 'image/bmp'\n};\nvar maxSteps = 4;\nvar scaleFactor = Math.log(2);\nvar supportMimeTypes = Object.keys(mimeTypes).map(function (type) { return mimeTypes[type]; });\nvar defaultType = mimeTypes.JPEG;\nfunction isSupportedType(type) {\n    return supportMimeTypes.includes(type);\n}\nvar Compress = /** @class */ (function () {\n    function Compress(file, config) {\n        this.file = file;\n        this.config = config;\n        this.config = __assign({ quality: 0.92, noCompressIfLarger: false }, this.config);\n    }\n    Compress.prototype.process = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var srcDimension, originImage, canvas, scale, scaleCanvas, distBlob;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.outputType = this.file.type;\n                        srcDimension = {};\n                        if (!isSupportedType(this.file.type)) {\n                            throw new QiniuError(QiniuErrorName.UnsupportedFileType, \"unsupported file type: \" + this.file.type);\n                        }\n                        return [4 /*yield*/, this.getOriginImage()];\n                    case 1:\n                        originImage = _a.sent();\n                        return [4 /*yield*/, this.getCanvas(originImage)];\n                    case 2:\n                        canvas = _a.sent();\n                        scale = 1;\n                        if (this.config.maxWidth) {\n                            scale = Math.min(1, this.config.maxWidth / canvas.width);\n                        }\n                        if (this.config.maxHeight) {\n                            scale = Math.min(1, scale, this.config.maxHeight / canvas.height);\n                        }\n                        srcDimension.width = canvas.width;\n                        srcDimension.height = canvas.height;\n                        return [4 /*yield*/, this.doScale(canvas, scale)];\n                    case 3:\n                        scaleCanvas = _a.sent();\n                        distBlob = this.toBlob(scaleCanvas);\n                        if (distBlob.size > this.file.size && this.config.noCompressIfLarger) {\n                            return [2 /*return*/, {\n                                    dist: this.file,\n                                    width: srcDimension.width,\n                                    height: srcDimension.height\n                                }];\n                        }\n                        return [2 /*return*/, {\n                                dist: distBlob,\n                                width: scaleCanvas.width,\n                                height: scaleCanvas.height\n                            }];\n                }\n            });\n        });\n    };\n    Compress.prototype.clear = function (ctx, width, height) {\n        // jpeg 没有 alpha 通道，透明区间会被填充成黑色，这里把透明区间填充为白色\n        if (this.outputType === defaultType) {\n            ctx.fillStyle = '#fff';\n            ctx.fillRect(0, 0, width, height);\n        }\n        else {\n            ctx.clearRect(0, 0, width, height);\n        }\n    };\n    /** 通过 file 初始化 image 对象 */\n    Compress.prototype.getOriginImage = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var url = createObjectURL(_this.file);\n            var img = new Image();\n            img.onload = function () {\n                resolve(img);\n            };\n            img.onerror = function () {\n                reject('image load error');\n            };\n            img.src = url;\n        });\n    };\n    Compress.prototype.getCanvas = function (img) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var canvas = document.createElement('canvas');\n            var context = canvas.getContext('2d');\n            if (!context) {\n                reject(new QiniuError(QiniuErrorName.GetCanvasContextFailed, 'context is null'));\n                return;\n            }\n            var width = img.width, height = img.height;\n            canvas.height = height;\n            canvas.width = width;\n            _this.clear(context, width, height);\n            context.drawImage(img, 0, 0);\n            resolve(canvas);\n        });\n    };\n    Compress.prototype.doScale = function (source, scale) {\n        return __awaiter(this, void 0, void 0, function () {\n            var sctx, steps, factor, mirror, mctx, width, height, originWidth, originHeight, src, context, i, dw, dh, canvas, data;\n            return __generator(this, function (_a) {\n                if (scale === 1) {\n                    return [2 /*return*/, source];\n                }\n                sctx = source.getContext('2d');\n                steps = Math.min(maxSteps, Math.ceil((1 / scale) / scaleFactor));\n                factor = Math.pow(scale, (1 / steps));\n                mirror = document.createElement('canvas');\n                mctx = mirror.getContext('2d');\n                width = source.width, height = source.height;\n                originWidth = width;\n                originHeight = height;\n                mirror.width = width;\n                mirror.height = height;\n                if (!mctx || !sctx) {\n                    throw new QiniuError(QiniuErrorName.GetCanvasContextFailed, \"mctx or sctx can't be null\");\n                }\n                for (i = 0; i < steps; i++) {\n                    dw = width * factor | 0 // eslint-disable-line no-bitwise\n                    ;\n                    dh = height * factor | 0 // eslint-disable-line no-bitwise\n                    ;\n                    // 到最后一步的时候 dw, dh 用目标缩放尺寸，否则会出现最后尺寸偏小的情况\n                    if (i === steps - 1) {\n                        dw = originWidth * scale;\n                        dh = originHeight * scale;\n                    }\n                    if (i % 2 === 0) {\n                        src = source;\n                        context = mctx;\n                    }\n                    else {\n                        src = mirror;\n                        context = sctx;\n                    }\n                    // 每次画前都清空，避免图像重叠\n                    this.clear(context, width, height);\n                    context.drawImage(src, 0, 0, width, height, 0, 0, dw, dh);\n                    width = dw;\n                    height = dh;\n                }\n                canvas = src === source ? mirror : source;\n                data = context.getImageData(0, 0, width, height);\n                // resize\n                canvas.width = width;\n                canvas.height = height;\n                // store image data\n                context.putImageData(data, 0, 0);\n                return [2 /*return*/, canvas];\n            });\n        });\n    };\n    /** 这里把 base64 字符串转为 blob 对象 */\n    Compress.prototype.toBlob = function (result) {\n        var dataURL = result.toDataURL(this.outputType, this.config.quality);\n        var buffer = atob(dataURL.split(',')[1]).split('').map(function (char) { return char.charCodeAt(0); });\n        var blob = new Blob([new Uint8Array(buffer)], { type: this.outputType });\n        return blob;\n    };\n    return Compress;\n}());\nvar compressImage = function (file, options) { return new Compress(file, options).process(); };\nexport default compressImage;\n//# sourceMappingURL=compress.js.map","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, unref as _unref, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-13982f72\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"preview\"\n}\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = {\n  key: 1,\n  class: \"preview\"\n}\n\nimport useQiniuUpload from '@/hooks/useQiniuUpload'\nimport { UploadChangeParam, UploadFile } from 'ant-design-vue'\nimport { UploadRequestOption } from 'ant-design-vue/lib/vc-upload/interface'\nimport { ref, PropType, onMounted } from 'vue'\nimport * as qiniu from 'qiniu-js'\nimport { PlusOutlined } from '@ant-design/icons-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'UploadImage',\n  props: {\n  initFileList: {\n    type: Array as PropType<string[]>,\n    require: false\n  }\n},\n  emits: [\"change\"],\n  setup(__props, { emit }: { emit: ((event: 'change', url: string) => void), expose: any, slots: any, attrs: any }) {\n\nconst props = __props\n\n\n\nonMounted(() => {\n  if (props.initFileList?.length) {\n    fileList.value = props.initFileList.map(s => ({\n      fileName: s,\n      uid: s,\n      name: s,\n      url: s,\n    }))\n  }\n})\n\nconst { getToken } = useQiniuUpload()\n\n\n\nconst fileList = ref<UploadFile<any>[]>([])\n\nasync function customRequest(options: UploadRequestOption<any>) {\n  const { file, onSuccess, onProgress, onError } = options\n  const fileKey = `/shot/${(file as File).name}`\n  const token = await getToken()\n  const observable = qiniu.upload(file as File, fileKey, token)\n  observable.subscribe({\n    next: (res: any) => {\n      const { percent } = (res?.total || {}) as Record<string, number>\n      onProgress?.({\n        percent\n      })\n    },\n    error: (err: any) => {\n      onError?.(err)\n    },\n    complete: (res: Record<string, string>) => {\n      const { hash, key } = res\n      const name = (file as File).name\n      const imageUrl = `https://static.aside.fun/${key}`\n\n      onSuccess?.(imageUrl)\n      fileList.value = [{\n        fileName: name,\n        uid: hash,\n        name,\n        url: imageUrl\n      }]\n      emit('change', imageUrl)\n    }\n  })\n}\n\nfunction handleChange(info: UploadChangeParam<UploadFile<any>>) {\n  if (info.file.status !== 'uploading') {\n    fileList.value = info.fileList\n  }\n}\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Upload = _resolveComponent(\"Upload\")!\n\n  return (_openBlock(), _createBlock(_component_Upload, {\n    onChange: handleChange,\n    \"custom-request\": customRequest,\n    \"file-list\": fileList.value,\n    \"max-count\": 1\n  }, {\n    itemRender: _withCtx(() => []),\n    default: _withCtx(() => [\n      (fileList.value.length)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createElementVNode(\"img\", {\n              src: fileList.value[0]?.url,\n              draggable: \"false\"\n            }, null, 8, _hoisted_2)\n          ]))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n            _createVNode(_unref(PlusOutlined))\n          ]))\n    ]),\n    _: 1\n  }, 8, [\"file-list\"]))\n}\n}\n\n})","import script from \"./UploadImage.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./UploadImage.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./UploadImage.vue?vue&type=style&index=0&id=13982f72&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/ken/workspace/PPTist/node_modules/.pnpm/vue-loader@16.8.3_5vqgdkn543z7gobmtemdwwisxa/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-13982f72\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"wrapper\" }\nconst _hoisted_2 = { class: \"left\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"创建新团队\", -1)\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"subtitle\",\n  style: { marginBottom: '36px' }\n}, \"与团队成员一同协作\", -1)\nconst _hoisted_5 = { class: \"form\" }\nconst _hoisted_6 = { class: \"item\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"团队名称\", -1)\nconst _hoisted_8 = { class: \"box\" }\nconst _hoisted_9 = { class: \"item\" }\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"团队描述（可选）\", -1)\nconst _hoisted_11 = { class: \"box\" }\nconst _hoisted_12 = { class: \"item\" }\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title\" }, \"LOGO（可选）\", -1)\nconst _hoisted_14 = { class: \"box\" }\nconst _hoisted_15 = { class: \"buttons\" }\nconst _hoisted_16 = /*#__PURE__*/_createTextVNode(\"创建团队\")\nconst _hoisted_17 = /*#__PURE__*/_createTextVNode(\"取消\")\n\nimport { ref, watch } from 'vue'\nimport UploadImage from '@/components/UploadImage.vue'\nimport { CreateTeamPayload } from '@/apis/team'\nimport { message } from 'ant-design-vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CreateTeamModal',\n  props: {\n  visible: {\n    type: Boolean,\n    require: true\n  }\n},\n  emits: [\"close\", \"ok\"],\n  setup(__props, { emit }: { emit: ({\n  (event: 'close'): void\n  (event: 'ok', options: CreateTeamPayload): void\n}), expose: any, slots: any, attrs: any }) {\n\nconst props = __props\n\n\n\n\n\nconst name = ref('')\nconst description = ref('')\nconst logoUrl = ref('')\n\nwatch([\n  () => props.visible\n], () => {\n  name.value = ''\n  description.value = ''\n  logoUrl.value = ''\n})\n\nfunction handleCreateTeam() {\n  if (!name.value) {\n    void message.warning('请输入团队名称')\n    return\n  }\n  emit('ok', {\n    name: name.value,\n    description: description.value,\n    logoUrl: logoUrl.value\n  })\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Input = _resolveComponent(\"Input\")!\n  const _component_TextArea = _resolveComponent(\"TextArea\")!\n  const _component_Button = _resolveComponent(\"Button\")!\n  const _component_Modal = _resolveComponent(\"Modal\")!\n\n  return (_openBlock(), _createBlock(_component_Modal, {\n    visible: props.visible,\n    centered: \"\",\n    footer: null,\n    width: 550,\n    class: \"create-team-modal\",\n    closable: false\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _hoisted_3,\n          _hoisted_4,\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\"div\", _hoisted_6, [\n              _hoisted_7,\n              _createElementVNode(\"div\", _hoisted_8, [\n                _createVNode(_component_Input, {\n                  class: \"input\",\n                  placeholder: \"请输入团队名称\",\n                  value: name.value,\n                  \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((name).value = $event))\n                }, null, 8, [\"value\"])\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_9, [\n              _hoisted_10,\n              _createElementVNode(\"div\", _hoisted_11, [\n                _createVNode(_component_TextArea, {\n                  class: \"input textarea\",\n                  placeholder: \"请输入团队描述\",\n                  value: description.value,\n                  \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((description).value = $event))\n                }, null, 8, [\"value\"])\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_12, [\n              _hoisted_13,\n              _createElementVNode(\"div\", _hoisted_14, [\n                _createVNode(UploadImage, {\n                  onChange: _cache[2] || (_cache[2] = url => logoUrl.value = url),\n                  \"init-file-list\": logoUrl.value ? [logoUrl.value] : undefined\n                }, null, 8, [\"init-file-list\"])\n              ])\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_15, [\n            _createVNode(_component_Button, {\n              type: \"primary\",\n              class: \"primary-btn-large\",\n              onClick: _cache[3] || (_cache[3] = ($event: any) => (handleCreateTeam()))\n            }, {\n              default: _withCtx(() => [\n                _hoisted_16\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_Button, {\n              class: \"primary-btn-large\",\n              onClick: _cache[4] || (_cache[4] = ($event: any) => (emit('close')))\n            }, {\n              default: _withCtx(() => [\n                _hoisted_17\n              ]),\n              _: 1\n            })\n          ])\n        ])\n      ])\n    ]),\n    _: 1\n  }, 8, [\"visible\"]))\n}\n}\n\n})","import script from \"./CreateTeamModal.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CreateTeamModal.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./CreateTeamModal.vue?vue&type=style&index=0&id=68054392&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, withCtx as _withCtx, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"sidebar\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"menus\"\n}\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"icon\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"divider\"\n}\nconst _hoisted_6 = {\n  key: 1,\n  class: \"menu\"\n}\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"avatar\" }, null, -1)\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"avatar\" }, null, -1)\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"avatar\" }, null, -1)\n\nimport { ref, onMounted } from 'vue'\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport { PlusOutlined } from '@ant-design/icons-vue'\nimport { storeToRefs } from 'pinia'\nimport { useDashboardStore } from '@/store'\nimport CreateTeamModal from '../modal/CreateTeamModal.vue'\nimport { createTeam, CreateTeamPayload, getTeams } from '@/apis/team'\nimport { message } from 'ant-design-vue'\nimport { getActiveMenuItem, MenuItem } from '@/store/dashboard'\nimport router from '@/views/router'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\n\n\nconst createTeamModalVisible = ref(false)\n\nconst { sidebarKey, menuItems, activeMenuItem, activeHeaderBarMenuKey } = storeToRefs(useDashboardStore())\n\nconst teamMenuItems = ref<MenuItem[]>([])\nconst loading = ref(true)\n\nfunction genMenuItems() {\n  menuItems.value = {\n    teamMenuItems: teamMenuItems.value,\n    tools: [{\n      title: '新建团队',\n      icon: PlusOutlined,\n      onClick: () => createTeamModalVisible.value = true,\n      key: 'new',\n      type: 'button'\n    }]\n  }\n\n  sidebarKey.value = teamMenuItems.value[0].key\n  activeMenuItem.value = teamMenuItems.value[0]\n  router.replace({\n    path: `/team/${teamMenuItems.value[0].key}`\n  })\n}\n\nfunction handleMenuKeyChange(key: string) {\n  const menu = getActiveMenuItem(key, menuItems.value) || null\n  if (menu?.type === 'team') {\n    router.push({\n      path: `/${activeHeaderBarMenuKey.value}/${menu.key}`\n    })\n  }\n  if (menu?.type === 'menu') {\n    router.push({\n      path: '/home'\n    })\n  }\n  sidebarKey.value = key\n  activeMenuItem.value = menu\n}\n\nfunction getMenuItemClass(key: string) {\n  return key === sidebarKey.value ? 'menu-item active' : 'menu-item'\n}\n\nasync function handleCreateTeam(payload: CreateTeamPayload) {\n  const res = await createTeam(payload)\n  if (res) {\n    void message.success('创建成功')\n    createTeamModalVisible.value = false\n    void fetchUserTeams()\n  }\n}\n\nasync function fetchUserTeams() {\n  loading.value = true\n  const teams = await getTeams()\n  teamMenuItems.value = teams.map(t => ({\n    title: t.name,\n    imageUrl: t.logo,\n    key: t.id,\n    type: 'team'\n  }))\n  genMenuItems()\n  loading.value = false\n}\n\nasync function initSidebarData() {\n  await fetchUserTeams()\n}\n\nonMounted(() => {\n  void initSidebarData()\n  sidebarKey.value = 'home'\n})\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Avatar = _resolveComponent(\"Avatar\")!\n  const _component_Tooltip = _resolveComponent(\"Tooltip\")!\n  const _component_Skeleton = _resolveComponent(\"Skeleton\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (!loading.value)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(menuItems), (val, key) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: key,\n                class: \"menu-container\"\n              }, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(val, (item) => {\n                  return (_openBlock(), _createBlock(_component_Tooltip, {\n                    key: item.key,\n                    title: item.title,\n                    placement: \"right\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", {\n                        class: _normalizeClass(getMenuItemClass(item.key)),\n                        onClick: ($event: any) => (item.onClick ? item.onClick() : handleMenuKeyChange(item.key))\n                      }, [\n                        _createElementVNode(\"div\", _hoisted_4, [\n                          (item.icon)\n                            ? (_openBlock(), _createBlock(_resolveDynamicComponent(item.icon), { key: 0 }))\n                            : _createCommentVNode(\"\", true),\n                          (item.imageUrl)\n                            ? (_openBlock(), _createBlock(_component_Avatar, {\n                                key: 1,\n                                size: 16,\n                                src: item.imageUrl,\n                                shape: \"circle\"\n                              }, null, 8, [\"src\"]))\n                            : _createCommentVNode(\"\", true)\n                        ]),\n                        _createElementVNode(\"div\", {\n                          class: \"title\",\n                          style: _normalizeStyle(item.parentNode ? { fontWeight: 400 } : {})\n                        }, _toDisplayString(item.title), 5)\n                      ], 10, _hoisted_3)\n                    ]),\n                    _: 2\n                  }, 1032, [\"title\"]))\n                }), 128)),\n                (key !== 'tools' && val.length)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5))\n                  : _createCommentVNode(\"\", true)\n              ]))\n            }), 128))\n          ]))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(Array(3).fill(null), (_, key) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: key,\n                class: \"fake-data\"\n              }, [\n                _hoisted_7,\n                _createVNode(_component_Skeleton, {\n                  width: `${key * 20 + 60}px`,\n                  height: \"20px\"\n                }, null, 8, [\"width\"])\n              ]))\n            }), 128)),\n            _hoisted_8,\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(Array(1).fill(null), (_, key) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: key,\n                class: \"fake-data\"\n              }, [\n                _createVNode(_component_Skeleton, {\n                  class: \"avatar\",\n                  circle: \"\"\n                }),\n                _createVNode(_component_Skeleton, {\n                  width: \"140px\",\n                  height: \"20px\"\n                })\n              ]))\n            }), 128)),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(Array(2).fill(null), (_, key) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: key,\n                class: \"fake-data\"\n              }, [\n                _hoisted_9,\n                _createVNode(_component_Skeleton, {\n                  width: \"140px\",\n                  height: \"20px\"\n                })\n              ]))\n            }), 128)),\n            _hoisted_10,\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(Array(1).fill(null), (_, key) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: key,\n                class: \"fake-data\"\n              }, [\n                _createVNode(_component_Skeleton, {\n                  class: \"avatar\",\n                  circle: \"\"\n                }),\n                _createVNode(_component_Skeleton, {\n                  width: \"140px\",\n                  height: \"20px\"\n                })\n              ]))\n            }), 128)),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(Array(2).fill(null), (_, key) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: key,\n                class: \"fake-data\"\n              }, [\n                _hoisted_11,\n                _createVNode(_component_Skeleton, {\n                  width: \"140px\",\n                  height: \"20px\"\n                })\n              ]))\n            }), 128))\n          ]))\n    ]),\n    _createVNode(CreateTeamModal, {\n      visible: createTeamModalVisible.value,\n      onClose: _cache[0] || (_cache[0] = ($event: any) => (createTeamModalVisible.value = false)),\n      onOk: handleCreateTeam\n    }, null, 8, [\"visible\"])\n  ], 64))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=79fcc884&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"header-bar\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"left-side\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"logo-bar\" }, [\n    /*#__PURE__*/_createElementVNode(\"img\", {\n      class: \"logo\",\n      src: \"https://static.aside.fun/upload/shot-logo.svg\",\n      draggable: false\n    })\n  ])\n], -1)\nconst _hoisted_3 = { class: \"right-side\" }\nconst _hoisted_4 = { class: \"headerbar-menu-container\" }\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = { class: \"icon\" }\nconst _hoisted_7 = { style: { flexShrink: 0 } }\nconst _hoisted_8 = { class: \"userinfo\" }\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"设置\")\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"退出登录\")\n\nimport { useDashboardStore } from '@/store'\nimport { sdk } from '@/utils/authing'\nimport { storeToRefs } from 'pinia'\nimport { ref } from 'vue'\nimport { SearchOutlined } from '@ant-design/icons-vue'\nimport router from '@/views/router'\nimport { useRoute } from 'vue-router'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'DashboardHeaderBar',\n  emits: [\"search\"],\n  setup(__props, { emit }: { emit: ({\n  (event: 'search', val: string): void\n}), expose: any, slots: any, attrs: any }) {\n\nconst route = useRoute()\n\nconst searchVal = ref('')\n\n\n\nconst dashboardStore = useDashboardStore()\nconst { user, headerBarMenuItems, activeHeaderBarMenuKey } = storeToRefs(dashboardStore)\n\nfunction getHeaderBarMenuItemClass(key: string) {\n  return key !== activeHeaderBarMenuKey.value ? 'headerbar-menu-item' : 'headerbar-menu-item active'\n}\n\nfunction handleSwitchHeaderBarItem(key: string) {\n  const { teamId } = route.params as Record<string, string>\n  router.push({\n    path: `/${key}/${teamId}`\n  })\n}\n\nfunction logout() {\n  sdk.logoutWithRedirect({\n    redirectUri: process.env.NODE_ENV !== 'development' ? 'https://aside.fun/login' : 'http://localhost:8080/login',\n  }).then(() => {\n    localStorage.clear()\n  })\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Input = _resolveComponent(\"Input\")!\n  const _component_Avatar = _resolveComponent(\"Avatar\")!\n  const _component_MenuItem = _resolveComponent(\"MenuItem\")!\n  const _component_MenuDivider = _resolveComponent(\"MenuDivider\")!\n  const _component_Menu = _resolveComponent(\"Menu\")!\n  const _component_Dropdown = _resolveComponent(\"Dropdown\")!\n\n  return (_openBlock(), _createElementBlock(\"header\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(headerBarMenuItems), (item) => {\n          return (_openBlock(), _createElementBlock(\"a\", {\n            class: _normalizeClass(getHeaderBarMenuItemClass(item.key)),\n            key: item.key,\n            onClick: ($event: any) => (handleSwitchHeaderBarItem(item.key))\n          }, [\n            _createElementVNode(\"span\", _hoisted_6, [\n              (item.icon)\n                ? (_openBlock(), _createBlock(_resolveDynamicComponent(item.icon), { key: 0 }))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _createElementVNode(\"span\", null, _toDisplayString(item.name), 1)\n          ], 10, _hoisted_5))\n        }), 128))\n      ]),\n      _createVNode(_component_Input, {\n        placeholder: \"搜索功能或者幻灯片内容 (⌘ + K)\",\n        class: \"cover-radius input search-input\",\n        value: searchVal.value,\n        \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((searchVal).value = $event)),\n        onChange: _cache[1] || (_cache[1] = ($event: any) => (emit('search', searchVal.value)))\n      }, {\n        prefix: _withCtx(() => [\n          _createVNode(_unref(SearchOutlined))\n        ]),\n        _: 1\n      }, 8, [\"value\"]),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createVNode(_component_Dropdown, null, {\n          overlay: _withCtx(() => [\n            _createVNode(_component_Menu, { class: \"user-dropdown\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_MenuItem, { class: \"disabled-menu\" }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", _hoisted_8, [\n                      _createVNode(_component_Avatar, {\n                        size: 36,\n                        src: _unref(user)?.picture\n                      }, null, 8, [\"src\"]),\n                      _createElementVNode(\"span\", null, _toDisplayString(_unref(user)?.name || _unref(user)?.nickname || '匿名用户'), 1)\n                    ])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_MenuDivider),\n                _createVNode(_component_MenuItem, null, {\n                  default: _withCtx(() => [\n                    _hoisted_9\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_MenuItem, {\n                  onClick: _cache[2] || (_cache[2] = ($event: any) => (logout()))\n                }, {\n                  default: _withCtx(() => [\n                    _hoisted_10\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_component_Avatar, {\n              size: 36,\n              src: _unref(user)?.picture\n            }, null, 8, [\"src\"])\n          ]),\n          _: 1\n        })\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./DashboardHeaderBar.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./DashboardHeaderBar.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./DashboardHeaderBar.vue?vue&type=style&index=0&id=45c7401c&lang=scss&scope=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, resolveComponent as _resolveComponent, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-698dbf04\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"dashboard\" }\nconst _hoisted_2 = { class: \"right-side\" }\n\nimport Sidebar from '@/views/components/dashboard/Sidebar/index.vue'\nimport DashboardHeaderBar from '../components/dashboard/DashboardHeaderBar.vue'\nimport { onBeforeMount } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nonBeforeMount(() => {\n  if (window.history.state?.token) {\n    localStorage.setItem('token', window.history.state.token)\n  }\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_view = _resolveComponent(\"router-view\")!\n  const _component_SkeletonTheme = _resolveComponent(\"SkeletonTheme\")!\n\n  return (_openBlock(), _createBlock(_component_SkeletonTheme, {\n    color: \"#eef5ee\",\n    highlight: \"#f7fcf7\",\n    duration: 2\n  }, {\n    default: _withCtx(() => [\n      _createVNode(DashboardHeaderBar),\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(Sidebar),\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createVNode(_component_router_view)\n        ])\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=698dbf04&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/ken/workspace/PPTist/node_modules/.pnpm/vue-loader@16.8.3_5vqgdkn543z7gobmtemdwwisxa/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-698dbf04\"]])\n\nexport default __exports__","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n"],"sourceRoot":""}